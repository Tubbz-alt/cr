<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff webrev/src/main/java/org/openjdk/skara/webrev/Webrev.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>webrev/src/main/java/org/openjdk/skara/webrev/Webrev.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 90         public Builder branch(String branch) {
 91             this.branch = branch;
 92             return this;
 93         }
 94 
 95         public Builder issue(String issue) {
 96             this.issue = issue;
 97             return this;
 98         }
 99 
100         public Builder version(String version) {
101             this.version = version;
102             return this;
103         }
104 
105         public void generate(Hash tailEnd) throws IOException {
106             generate(tailEnd, null);
107         }
108 
109         public void generate(Hash tailEnd, Hash head) throws IOException {
<span class="line-modified">110             if (!Files.exists(output)) {</span>
<span class="line-removed">111                 Files.createDirectory(output);</span>
<span class="line-removed">112             }</span>
113 
114             copyResource(ANCNAV_HTML);
115             copyResource(ANCNAV_JS);
116             copyResource(CSS);
117             copyResource(ICON);
118 
119             var diff = head == null ? repository.diff(tailEnd) : repository.diff(tailEnd, head);
120             var patchFile = output.resolve(Path.of(title).getFileName().toString() + &quot;.patch&quot;);
121             var patches = diff.patches();
122 
123             var modified = new ArrayList&lt;Integer&gt;();
124             for (var i = 0; i &lt; patches.size(); i++) {
125                 var patch = patches.get(i);
126                 if (patch.status().isModified() || patch.status().isRenamed() || patch.status().isCopied()) {
127                     modified.add(i);
128                 }
129             }
130 
131             var navigations = new LinkedList&lt;Navigation&gt;();
132             for (var i = 0; i &lt; modified.size(); i++) {
</pre>
</td>
<td>
<hr />
<pre>
 90         public Builder branch(String branch) {
 91             this.branch = branch;
 92             return this;
 93         }
 94 
 95         public Builder issue(String issue) {
 96             this.issue = issue;
 97             return this;
 98         }
 99 
100         public Builder version(String version) {
101             this.version = version;
102             return this;
103         }
104 
105         public void generate(Hash tailEnd) throws IOException {
106             generate(tailEnd, null);
107         }
108 
109         public void generate(Hash tailEnd, Hash head) throws IOException {
<span class="line-modified">110             Files.createDirectories(output);</span>


111 
112             copyResource(ANCNAV_HTML);
113             copyResource(ANCNAV_JS);
114             copyResource(CSS);
115             copyResource(ICON);
116 
117             var diff = head == null ? repository.diff(tailEnd) : repository.diff(tailEnd, head);
118             var patchFile = output.resolve(Path.of(title).getFileName().toString() + &quot;.patch&quot;);
119             var patches = diff.patches();
120 
121             var modified = new ArrayList&lt;Integer&gt;();
122             for (var i = 0; i &lt; patches.size(); i++) {
123                 var patch = patches.get(i);
124                 if (patch.status().isModified() || patch.status().isRenamed() || patch.status().isCopied()) {
125                     modified.add(i);
126                 }
127             }
128 
129             var navigations = new LinkedList&lt;Navigation&gt;();
130             for (var i = 0; i &lt; modified.size(); i++) {
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>