<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff forge/src/main/java/org/openjdk/skara/forge/github/GitHubPullRequest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../gitlab/GitLabMergeRequest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>forge/src/main/java/org/openjdk/skara/forge/github/GitHubPullRequest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
404     }
405 
406     @Override
407     public URI changeUrl() {
408         return URIBuilder.base(webUrl()).appendPath(&quot;/files&quot;).build();
409     }
410 
411     @Override
412     public URI changeUrl(Hash base) {
413         return URIBuilder.base(webUrl()).appendPath(&quot;/files/&quot; + base.abbreviate() + &quot;..&quot; + headHash().abbreviate()).build();
414     }
415 
416     @Override
417     public boolean isDraft() {
418         return json.get(&quot;draft&quot;).asBoolean();
419     }
420 
421     @Override
422     public void setState(State state) {
423         request.patch(&quot;pulls/&quot; + json.get(&quot;number&quot;).toString())
<span class="line-modified">424                .body(&quot;state&quot;, state == State.CLOSED ? &quot;closed&quot; : &quot;open&quot;)</span>
425                .execute();
426     }
427 
428     @Override
429     public void addLabel(String label) {
430         var query = JSON.object().put(&quot;labels&quot;, JSON.array().add(label));
431         request.post(&quot;issues/&quot; + json.get(&quot;number&quot;).toString() + &quot;/labels&quot;)
432                .body(query)
433                .execute();
434     }
435 
436     @Override
437     public void removeLabel(String label) {
438         request.delete(&quot;issues/&quot; + json.get(&quot;number&quot;).toString() + &quot;/labels/&quot; + label)
439                .onError(r -&gt; {
440                    // The GitHub API explicitly states that 404 is the response for deleting labels currently not set
441                    if (r.statusCode() == 404) {
442                        return JSONValue.fromNull();
443                    }
444                    throw new RuntimeException(&quot;Invalid response&quot;);
</pre>
</td>
<td>
<hr />
<pre>
404     }
405 
406     @Override
407     public URI changeUrl() {
408         return URIBuilder.base(webUrl()).appendPath(&quot;/files&quot;).build();
409     }
410 
411     @Override
412     public URI changeUrl(Hash base) {
413         return URIBuilder.base(webUrl()).appendPath(&quot;/files/&quot; + base.abbreviate() + &quot;..&quot; + headHash().abbreviate()).build();
414     }
415 
416     @Override
417     public boolean isDraft() {
418         return json.get(&quot;draft&quot;).asBoolean();
419     }
420 
421     @Override
422     public void setState(State state) {
423         request.patch(&quot;pulls/&quot; + json.get(&quot;number&quot;).toString())
<span class="line-modified">424                .body(&quot;state&quot;, state != State.OPEN ? &quot;closed&quot; : &quot;open&quot;)</span>
425                .execute();
426     }
427 
428     @Override
429     public void addLabel(String label) {
430         var query = JSON.object().put(&quot;labels&quot;, JSON.array().add(label));
431         request.post(&quot;issues/&quot; + json.get(&quot;number&quot;).toString() + &quot;/labels&quot;)
432                .body(query)
433                .execute();
434     }
435 
436     @Override
437     public void removeLabel(String label) {
438         request.delete(&quot;issues/&quot; + json.get(&quot;number&quot;).toString() + &quot;/labels/&quot; + label)
439                .onError(r -&gt; {
440                    // The GitHub API explicitly states that 404 is the response for deleting labels currently not set
441                    if (r.statusCode() == 404) {
442                        return JSONValue.fromNull();
443                    }
444                    throw new RuntimeException(&quot;Invalid response&quot;);
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../gitlab/GitLabMergeRequest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>