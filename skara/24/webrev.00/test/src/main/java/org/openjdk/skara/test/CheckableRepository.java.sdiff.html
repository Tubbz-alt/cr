<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/src/main/java/org/openjdk/skara/test/CheckableRepository.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../bots/notify/src/test/java/org/openjdk/skara/bots/notify/UpdaterTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/src/main/java/org/openjdk/skara/test/CheckableRepository.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 79         return repo;
 80     }
 81 
 82     public static Repository init(Path path, VCS vcs) throws IOException {
 83         return init(path, vcs, Path.of(&quot;appendable.txt&quot;));
 84     }
 85 
 86     public static Hash appendAndCommit(Repository repo) throws IOException {
 87         return appendAndCommit(repo, &quot;This is a new line&quot;);
 88     }
 89 
 90     public static Hash appendAndCommit(Repository repo, String body) throws IOException {
 91         return appendAndCommit(repo, body, &quot;Append commit&quot;);
 92     }
 93 
 94     public static Hash appendAndCommit(Repository repo, String body, String message) throws IOException {
 95         return appendAndCommit(repo, body, message, &quot;testauthor&quot;, &quot;ta@none.none&quot;);
 96     }
 97 
 98     public static Hash appendAndCommit(Repository repo, String body, String message, String authorName, String authorEmail) throws IOException {





 99         var file = checkableFile(repo.root());
100         try (var output = Files.newBufferedWriter(file, StandardOpenOption.APPEND)) {
101             output.append(body);
102             output.append(&quot;\n&quot;);
103         }
104         repo.add(file);
105 
<span class="line-modified">106         return repo.commit(message, authorName, authorEmail);</span>
107     }
108 
109     public static Hash replaceAndCommit(Repository repo, String body) throws IOException {
110         return replaceAndCommit(repo, body, &quot;Replace commit&quot;, &quot;testauthor&quot;, &quot;ta@none.none&quot;);
111     }
112 
113     public static Hash replaceAndCommit(Repository repo, String body, String message, String authorName, String authorEmail) throws IOException {
114         var file = checkableFile(repo.root());
115         try (var output = Files.newBufferedWriter(file)) {
116             output.append(markerLine);
117             output.append(body);
118             output.append(&quot;\n&quot;);
119         }
120         repo.add(file);
121 
122         return repo.commit(message, authorName, authorEmail);
123     }
124 
125     public static boolean hasBeenEdited(Repository repo) throws IOException {
126         var file = checkableFile(repo.root());
</pre>
</td>
<td>
<hr />
<pre>
 79         return repo;
 80     }
 81 
 82     public static Repository init(Path path, VCS vcs) throws IOException {
 83         return init(path, vcs, Path.of(&quot;appendable.txt&quot;));
 84     }
 85 
 86     public static Hash appendAndCommit(Repository repo) throws IOException {
 87         return appendAndCommit(repo, &quot;This is a new line&quot;);
 88     }
 89 
 90     public static Hash appendAndCommit(Repository repo, String body) throws IOException {
 91         return appendAndCommit(repo, body, &quot;Append commit&quot;);
 92     }
 93 
 94     public static Hash appendAndCommit(Repository repo, String body, String message) throws IOException {
 95         return appendAndCommit(repo, body, message, &quot;testauthor&quot;, &quot;ta@none.none&quot;);
 96     }
 97 
 98     public static Hash appendAndCommit(Repository repo, String body, String message, String authorName, String authorEmail) throws IOException {
<span class="line-added"> 99         return appendAndCommit(repo, body, message, authorName, authorEmail, authorName, authorEmail);</span>
<span class="line-added">100     }</span>
<span class="line-added">101 </span>
<span class="line-added">102     public static Hash appendAndCommit(Repository repo, String body, String message, String authorName, String authorEmail,</span>
<span class="line-added">103                                        String committerName, String committerEmail) throws IOException {</span>
104         var file = checkableFile(repo.root());
105         try (var output = Files.newBufferedWriter(file, StandardOpenOption.APPEND)) {
106             output.append(body);
107             output.append(&quot;\n&quot;);
108         }
109         repo.add(file);
110 
<span class="line-modified">111         return repo.commit(message, authorName, authorEmail, committerName, committerEmail);</span>
112     }
113 
114     public static Hash replaceAndCommit(Repository repo, String body) throws IOException {
115         return replaceAndCommit(repo, body, &quot;Replace commit&quot;, &quot;testauthor&quot;, &quot;ta@none.none&quot;);
116     }
117 
118     public static Hash replaceAndCommit(Repository repo, String body, String message, String authorName, String authorEmail) throws IOException {
119         var file = checkableFile(repo.root());
120         try (var output = Files.newBufferedWriter(file)) {
121             output.append(markerLine);
122             output.append(body);
123             output.append(&quot;\n&quot;);
124         }
125         repo.add(file);
126 
127         return repo.commit(message, authorName, authorEmail);
128     }
129 
130     public static boolean hasBeenEdited(Repository repo) throws IOException {
131         var file = checkableFile(repo.root());
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../bots/notify/src/test/java/org/openjdk/skara/bots/notify/UpdaterTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>