<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff process/src/main/java/org/openjdk/skara/process/Process.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Execution.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/org/openjdk/skara/process/ProcessTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>process/src/main/java/org/openjdk/skara/process/Process.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 51         private final List&lt;ProcessBuilderSetup&gt; processBuilderSetups = new LinkedList&lt;&gt;();
 52         private Duration timeout;
 53 
 54         Description(Process.OutputOption outputOption, String... command) {
 55             this.outputOption = outputOption;
 56             timeout = Duration.ofHours(6);
 57 
 58             var setup = new ProcessBuilderSetup(command);
 59             processBuilderSetups.add(setup);
 60         }
 61 
 62         private ProcessBuilderSetup getCurrentProcessBuilderSetup() {
 63             return processBuilderSetups.get(processBuilderSetups.size() - 1);
 64         }
 65 
 66         public Description environ(String key, String value) {
 67             getCurrentProcessBuilderSetup().environment.put(key, value);
 68             return this;
 69         }
 70 
<span class="line-removed"> 71         public Description pipe(String... command) {</span>
<span class="line-removed"> 72             var setup = new ProcessBuilderSetup(command);</span>
<span class="line-removed"> 73             processBuilderSetups.add(setup);</span>
<span class="line-removed"> 74             return this;</span>
<span class="line-removed"> 75         }</span>
<span class="line-removed"> 76 </span>
 77         public Description timeout(Duration timeout) {
 78             this.timeout = timeout;
 79             return this;
 80         }
 81 
 82         public Description workdir(Path workdir) {
 83             getCurrentProcessBuilderSetup().workdir = workdir;
 84             return this;
 85         }
 86 
 87         public Description workdir(String workdir) {
 88             getCurrentProcessBuilderSetup().workdir = Path.of(workdir);
 89             return this;
 90         }
 91 
 92         public Execution execute() {
 93             var processBuilders = processBuilderSetups.stream()
 94                                                       .map(setup -&gt; {
 95                                                           var builder = new ProcessBuilder(setup.command.toArray(new String[0]));
 96                                                           builder.environment().putAll(setup.environment);
</pre>
</td>
<td>
<hr />
<pre>
 51         private final List&lt;ProcessBuilderSetup&gt; processBuilderSetups = new LinkedList&lt;&gt;();
 52         private Duration timeout;
 53 
 54         Description(Process.OutputOption outputOption, String... command) {
 55             this.outputOption = outputOption;
 56             timeout = Duration.ofHours(6);
 57 
 58             var setup = new ProcessBuilderSetup(command);
 59             processBuilderSetups.add(setup);
 60         }
 61 
 62         private ProcessBuilderSetup getCurrentProcessBuilderSetup() {
 63             return processBuilderSetups.get(processBuilderSetups.size() - 1);
 64         }
 65 
 66         public Description environ(String key, String value) {
 67             getCurrentProcessBuilderSetup().environment.put(key, value);
 68             return this;
 69         }
 70 






 71         public Description timeout(Duration timeout) {
 72             this.timeout = timeout;
 73             return this;
 74         }
 75 
 76         public Description workdir(Path workdir) {
 77             getCurrentProcessBuilderSetup().workdir = workdir;
 78             return this;
 79         }
 80 
 81         public Description workdir(String workdir) {
 82             getCurrentProcessBuilderSetup().workdir = Path.of(workdir);
 83             return this;
 84         }
 85 
 86         public Execution execute() {
 87             var processBuilders = processBuilderSetups.stream()
 88                                                       .map(setup -&gt; {
 89                                                           var builder = new ProcessBuilder(setup.command.toArray(new String[0]));
 90                                                           builder.environment().putAll(setup.environment);
</pre>
</td>
</tr>
</table>
<center><a href="Execution.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/org/openjdk/skara/process/ProcessTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>