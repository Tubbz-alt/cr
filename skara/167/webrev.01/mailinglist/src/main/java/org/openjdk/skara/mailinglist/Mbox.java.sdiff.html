<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff mailinglist/src/main/java/org/openjdk/skara/mailinglist/Mbox.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../email/src/main/java/org/openjdk/skara/email/SMTP.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="mboxfile/MboxFileList.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>mailinglist/src/main/java/org/openjdk/skara/mailinglist/Mbox.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
112         var mboxString = new StringWriter();
113         var mboxMail = new PrintWriter(mboxString);
114 
115         mboxMail.println();
116         mboxMail.println(&quot;From &quot; + mail.sender().address() + &quot;  &quot; + mail.date().format(ctimeFormat));
117         mboxMail.println(&quot;From: &quot; + MimeText.encode(mail.author().toObfuscatedString()));
118         if (!mail.author().equals(mail.sender())) {
119             mboxMail.println(&quot;Sender: &quot; + MimeText.encode(mail.sender().toObfuscatedString()));
120         }
121         if (!mail.recipients().isEmpty()) {
122             mboxMail.println(&quot;To: &quot; + mail.recipients().stream()
123                                           .map(EmailAddress::toString)
124                                           .map(MimeText::encode)
125                                           .collect(Collectors.joining(&quot;, &quot;)));
126         }
127         mboxMail.println(&quot;Date: &quot; + mail.date().format(DateTimeFormatter.RFC_1123_DATE_TIME));
128         mboxMail.println(&quot;Subject: &quot; + MimeText.encode(mail.subject()));
129         mboxMail.println(&quot;Message-Id: &quot; + mail.id());
130         mail.headers().forEach(header -&gt; mboxMail.println(header + &quot;: &quot; + MimeText.encode(mail.headerValue(header))));
131         mboxMail.println();
<span class="line-modified">132         mboxMail.println(encodeFromStrings(MimeText.encode(mail.body())));</span>
133 
134         return mboxString.toString();
135     }
136 }
</pre>
</td>
<td>
<hr />
<pre>
112         var mboxString = new StringWriter();
113         var mboxMail = new PrintWriter(mboxString);
114 
115         mboxMail.println();
116         mboxMail.println(&quot;From &quot; + mail.sender().address() + &quot;  &quot; + mail.date().format(ctimeFormat));
117         mboxMail.println(&quot;From: &quot; + MimeText.encode(mail.author().toObfuscatedString()));
118         if (!mail.author().equals(mail.sender())) {
119             mboxMail.println(&quot;Sender: &quot; + MimeText.encode(mail.sender().toObfuscatedString()));
120         }
121         if (!mail.recipients().isEmpty()) {
122             mboxMail.println(&quot;To: &quot; + mail.recipients().stream()
123                                           .map(EmailAddress::toString)
124                                           .map(MimeText::encode)
125                                           .collect(Collectors.joining(&quot;, &quot;)));
126         }
127         mboxMail.println(&quot;Date: &quot; + mail.date().format(DateTimeFormatter.RFC_1123_DATE_TIME));
128         mboxMail.println(&quot;Subject: &quot; + MimeText.encode(mail.subject()));
129         mboxMail.println(&quot;Message-Id: &quot; + mail.id());
130         mail.headers().forEach(header -&gt; mboxMail.println(header + &quot;: &quot; + MimeText.encode(mail.headerValue(header))));
131         mboxMail.println();
<span class="line-modified">132         mboxMail.println(encodeFromStrings(mail.body()));</span>
133 
134         return mboxString.toString();
135     }
136 }
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../email/src/main/java/org/openjdk/skara/email/SMTP.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="mboxfile/MboxFileList.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>