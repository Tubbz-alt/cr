<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/src/main/java/org/openjdk/skara/test/TestPullRequest.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../forge/src/main/java/org/openjdk/skara/forge/gitlab/GitLabMergeRequest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/src/main/java/org/openjdk/skara/test/TestPullRequest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
116     public ReviewComment addReviewCommentReply(ReviewComment parent, String body) {
117         if (parent.parent().isPresent()) {
118             throw new RuntimeException(&quot;Can only reply to top-level review comments&quot;);
119         }
120         var comment = new ReviewComment(parent, parent.threadId(), parent.hash(), parent.path(), parent.line(), String.valueOf(data.reviewComments.size()), body, user, ZonedDateTime.now(), ZonedDateTime.now());
121         data.reviewComments.add(comment);
122         data.lastUpdate = ZonedDateTime.now();
123         return comment;
124     }
125 
126     @Override
127     public List&lt;ReviewComment&gt; reviewComments() {
128         return new ArrayList&lt;&gt;(data.reviewComments);
129     }
130 
131     @Override
132     public Hash headHash() {
133         return data.headHash;
134     }
135 





136     @Override
137     public String sourceRef() {
138         return sourceRef;
139     }
140 





141     @Override
142     public String targetRef() {
143         return targetRef;
144     }
145 
146     @Override
147     public Hash targetHash() {
148         return repository.branchHash(targetRef);
149     }
150 
151     @Override
152     public Map&lt;String, Check&gt; checks(Hash hash) {
153         return data.checks.stream()
154                 .filter(check -&gt; check.hash().equals(hash))
155                 .collect(Collectors.toMap(Check::name, Function.identity()));
156     }
157 
158     @Override
159     public void createCheck(Check check) {
160         var existing = data.checks.stream()
</pre>
</td>
<td>
<hr />
<pre>
116     public ReviewComment addReviewCommentReply(ReviewComment parent, String body) {
117         if (parent.parent().isPresent()) {
118             throw new RuntimeException(&quot;Can only reply to top-level review comments&quot;);
119         }
120         var comment = new ReviewComment(parent, parent.threadId(), parent.hash(), parent.path(), parent.line(), String.valueOf(data.reviewComments.size()), body, user, ZonedDateTime.now(), ZonedDateTime.now());
121         data.reviewComments.add(comment);
122         data.lastUpdate = ZonedDateTime.now();
123         return comment;
124     }
125 
126     @Override
127     public List&lt;ReviewComment&gt; reviewComments() {
128         return new ArrayList&lt;&gt;(data.reviewComments);
129     }
130 
131     @Override
132     public Hash headHash() {
133         return data.headHash;
134     }
135 
<span class="line-added">136     @Override</span>
<span class="line-added">137     public String fetchRef() {</span>
<span class="line-added">138         return sourceRef;</span>
<span class="line-added">139     }</span>
<span class="line-added">140 </span>
141     @Override
142     public String sourceRef() {
143         return sourceRef;
144     }
145 
<span class="line-added">146     @Override</span>
<span class="line-added">147     public HostedRepository sourceRepository() {</span>
<span class="line-added">148         return repository;</span>
<span class="line-added">149     }</span>
<span class="line-added">150 </span>
151     @Override
152     public String targetRef() {
153         return targetRef;
154     }
155 
156     @Override
157     public Hash targetHash() {
158         return repository.branchHash(targetRef);
159     }
160 
161     @Override
162     public Map&lt;String, Check&gt; checks(Hash hash) {
163         return data.checks.stream()
164                 .filter(check -&gt; check.hash().equals(hash))
165                 .collect(Collectors.toMap(Check::name, Function.identity()));
166     }
167 
168     @Override
169     public void createCheck(Check check) {
170         var existing = data.checks.stream()
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../forge/src/main/java/org/openjdk/skara/forge/gitlab/GitLabMergeRequest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>