<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="CommandWorkItem.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
263 
264     private String getStatusMessage(List&lt;Review&gt; reviews, PullRequestCheckIssueVisitor visitor) {
265         var progressBody = new StringBuilder();
266         progressBody.append(&quot;## Progress\n&quot;);
267         progressBody.append(getChecksList(visitor));
268 
269         var issue = Issue.fromString(pr.title());
270         if (issueProject != null &amp;&amp; issue.isPresent()) {
271             progressBody.append(&quot;\n\n## Issue\n&quot;);
272             var iss = issueProject.issue(issue.get().id());
273             if (iss.isPresent()) {
274                 progressBody.append(&quot;[&quot;);
275                 progressBody.append(iss.get().id());
276                 progressBody.append(&quot;](&quot;);
277                 progressBody.append(iss.get().webUrl());
278                 progressBody.append(&quot;): &quot;);
279                 progressBody.append(iss.get().title());
280                 progressBody.append(&quot;\n&quot;);
281             } else {
282                 progressBody.append(&quot;⚠️ Failed to retrieve information on issue `&quot;);
<span class="line-modified">283                 progressBody.append(issue.get().toString());</span>
284                 progressBody.append(&quot;`.\n&quot;);
285             }
286         }
287 
288         getReviewersList(reviews).ifPresent(reviewers -&gt; {
289             progressBody.append(&quot;\n\n## Approvers\n&quot;);
290             progressBody.append(reviewers);
291         });
292 
293         return progressBody.toString();
294     }
295 
296     private String updateStatusMessage(String message) {
297         var description = pr.body();
298         var markerIndex = description.lastIndexOf(progressMarker);
299 
300         if (markerIndex &gt;= 0 &amp;&amp; description.substring(markerIndex).equals(message)) {
301             log.info(&quot;Progress already up to date&quot;);
302             return description;
303         }
</pre>
</td>
<td>
<hr />
<pre>
263 
264     private String getStatusMessage(List&lt;Review&gt; reviews, PullRequestCheckIssueVisitor visitor) {
265         var progressBody = new StringBuilder();
266         progressBody.append(&quot;## Progress\n&quot;);
267         progressBody.append(getChecksList(visitor));
268 
269         var issue = Issue.fromString(pr.title());
270         if (issueProject != null &amp;&amp; issue.isPresent()) {
271             progressBody.append(&quot;\n\n## Issue\n&quot;);
272             var iss = issueProject.issue(issue.get().id());
273             if (iss.isPresent()) {
274                 progressBody.append(&quot;[&quot;);
275                 progressBody.append(iss.get().id());
276                 progressBody.append(&quot;](&quot;);
277                 progressBody.append(iss.get().webUrl());
278                 progressBody.append(&quot;): &quot;);
279                 progressBody.append(iss.get().title());
280                 progressBody.append(&quot;\n&quot;);
281             } else {
282                 progressBody.append(&quot;⚠️ Failed to retrieve information on issue `&quot;);
<span class="line-modified">283                 progressBody.append(issue.get().id());</span>
284                 progressBody.append(&quot;`.\n&quot;);
285             }
286         }
287 
288         getReviewersList(reviews).ifPresent(reviewers -&gt; {
289             progressBody.append(&quot;\n\n## Approvers\n&quot;);
290             progressBody.append(reviewers);
291         });
292 
293         return progressBody.toString();
294     }
295 
296     private String updateStatusMessage(String message) {
297         var description = pr.body();
298         var markerIndex = description.lastIndexOf(progressMarker);
299 
300         if (markerIndex &gt;= 0 &amp;&amp; description.substring(markerIndex).equals(message)) {
301             log.info(&quot;Progress already up to date&quot;);
302             return description;
303         }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="CommandWorkItem.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>