<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff test/src/main/java/org/openjdk/skara/test/TestHostedRepository.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="TestHost.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../vcs/src/main/java/org/openjdk/skara/vcs/Repository.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>test/src/main/java/org/openjdk/skara/test/TestHostedRepository.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 36,11 ***</span>
      private final TestHost host;
      private final String projectName;
      private final Repository localRepository;
      private final Pattern pullRequestPattern;
  
<span class="line-modified">!     TestHostedRepository(TestHost host, String projectName, Repository localRepository) {</span>
          this.host = host;
          this.projectName = projectName;
          this.localRepository = localRepository;
          pullRequestPattern = Pattern.compile(getUrl().toString() + &quot;/pr/&quot; + &quot;(\\d+)&quot;);
      }
<span class="line-new-header">--- 36,11 ---</span>
      private final TestHost host;
      private final String projectName;
      private final Repository localRepository;
      private final Pattern pullRequestPattern;
  
<span class="line-modified">!     public TestHostedRepository(TestHost host, String projectName, Repository localRepository) {</span>
          this.host = host;
          this.projectName = projectName;
          this.localRepository = localRepository;
          pullRequestPattern = Pattern.compile(getUrl().toString() + &quot;/pr/&quot; + &quot;(\\d+)&quot;);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 87,11 ***</span>
  
      @Override
      public URI getUrl() {
          try {
              // We need a URL without a trailing slash
<span class="line-modified">!             return new URI(localRepository.root().getParent().toUri().toString() + &quot;hosted.git&quot;);</span>
          } catch (IOException | URISyntaxException e) {
              throw new RuntimeException(e);
          }
      }
  
<span class="line-new-header">--- 87,12 ---</span>
  
      @Override
      public URI getUrl() {
          try {
              // We need a URL without a trailing slash
<span class="line-modified">!             var fileName = localRepository.root().getFileName().toString();</span>
<span class="line-added">+             return new URI(localRepository.root().getParent().toUri().toString() + fileName);</span>
          } catch (IOException | URISyntaxException e) {
              throw new RuntimeException(e);
          }
      }
  
</pre>
<center><a href="TestHost.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../vcs/src/main/java/org/openjdk/skara/vcs/Repository.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>