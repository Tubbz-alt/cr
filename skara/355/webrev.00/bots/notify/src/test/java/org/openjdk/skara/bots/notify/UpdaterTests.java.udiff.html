<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff bots/notify/src/test/java/org/openjdk/skara/bots/notify/UpdaterTests.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../bridgekeeper/src/test/java/org/openjdk/skara/bots/bridgekeeper/PullRequestCloserBotTests.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../tester/src/test/java/org/openjdk/skara/bots/tester/InMemoryPullRequest.java.udiff.html" target="_top">next &gt;</a></center>    <h2>bots/notify/src/test/java/org/openjdk/skara/bots/notify/UpdaterTests.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -41,10 +41,11 @@</span>
  import java.util.*;
  import java.util.regex.Pattern;
  import java.util.stream.Collectors;
  
  import static org.junit.jupiter.api.Assertions.*;
<span class="udiff-line-added">+ import static org.openjdk.skara.issuetracker.Issue.State.*;</span>
  
  class UpdaterTests {
      private List&lt;Path&gt; findJsonFiles(Path folder, String partialName) throws IOException {
          return Files.walk(folder)
                      .filter(path -&gt; path.toString().endsWith(&quot;.json&quot;))
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1204,19 +1205,21 @@</span>
              TestBotRunner.runPeriodicItems(notifyBot);
  
              // The fixVersion should not have been updated
              var updatedIssue = issueProject.issue(issue.id()).orElseThrow();
              assertEquals(Set.of(&quot;13.0.1&quot;), fixVersions(updatedIssue));
<span class="udiff-line-added">+             assertEquals(OPEN, updatedIssue.state());</span>
  
              // There should be a link
              var links = updatedIssue.links();
              assertEquals(1, links.size());
              var link = links.get(0);
              var backport = link.issue().orElseThrow();
  
              // The backport issue should have a correct fixVersion
              assertEquals(Set.of(&quot;12.0.2&quot;), fixVersions(backport));
<span class="udiff-line-added">+             assertEquals(RESOLVED, backport.state());</span>
  
              // Custom properties should also propagate
              assertEquals(&quot;1&quot;, backport.properties().get(&quot;priority&quot;).asString());
          }
      }
</pre>
<center><a href="../../../../../../../../../bridgekeeper/src/test/java/org/openjdk/skara/bots/bridgekeeper/PullRequestCloserBotTests.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../tester/src/test/java/org/openjdk/skara/bots/tester/InMemoryPullRequest.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>