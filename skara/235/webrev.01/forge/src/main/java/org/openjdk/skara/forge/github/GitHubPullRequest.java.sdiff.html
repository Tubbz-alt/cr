<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff forge/src/main/java/org/openjdk/skara/forge/github/GitHubPullRequest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>forge/src/main/java/org/openjdk/skara/forge/github/GitHubPullRequest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
322                                         checkBuilder.complete(false, completedAt);
323                                         break;
324                                     default:
325                                         throw new IllegalStateException(&quot;Unexpected conclusion: &quot; + conclusion);
326                                 }
327                             }
328                             if (c.contains(&quot;external_id&quot;)) {
329                                 checkBuilder.metadata(c.get(&quot;external_id&quot;).asString());
330                             }
331                             if (c.contains(&quot;output&quot;)) {
332                                 var output = c.get(&quot;output&quot;).asObject();
333                                 if (output.contains(&quot;title&quot;)) {
334                                     checkBuilder.title(output.get(&quot;title&quot;).asString());
335                                 }
336                                 if (output.contains(&quot;summary&quot;)) {
337                                     checkBuilder.summary(output.get(&quot;summary&quot;).asString());
338                                 }
339                             }
340 
341                             return checkBuilder.build();
<span class="line-modified">342                         }));</span>
343     }
344 
345     @Override
346     public void createCheck(Check check) {
347         // update and create are currently identical operations, both do an HTTP
348         // POST to the /repos/:owner/:repo/check-runs endpoint. There is an additional
349         // endpoint explicitly for updating check-runs, but that is not currently used.
350         updateCheck(check);
351     }
352 
353     @Override
354     public void updateCheck(Check check) {
355         var completedQuery = JSON.object();
356         completedQuery.put(&quot;name&quot;, check.name());
357         completedQuery.put(&quot;head_branch&quot;, json.get(&quot;head&quot;).get(&quot;ref&quot;));
358         completedQuery.put(&quot;head_sha&quot;, check.hash().hex());
359 
360         if (check.title().isPresent() &amp;&amp; check.summary().isPresent()) {
361             var outputQuery = JSON.object();
362             outputQuery.put(&quot;title&quot;, check.title().get());
</pre>
</td>
<td>
<hr />
<pre>
322                                         checkBuilder.complete(false, completedAt);
323                                         break;
324                                     default:
325                                         throw new IllegalStateException(&quot;Unexpected conclusion: &quot; + conclusion);
326                                 }
327                             }
328                             if (c.contains(&quot;external_id&quot;)) {
329                                 checkBuilder.metadata(c.get(&quot;external_id&quot;).asString());
330                             }
331                             if (c.contains(&quot;output&quot;)) {
332                                 var output = c.get(&quot;output&quot;).asObject();
333                                 if (output.contains(&quot;title&quot;)) {
334                                     checkBuilder.title(output.get(&quot;title&quot;).asString());
335                                 }
336                                 if (output.contains(&quot;summary&quot;)) {
337                                     checkBuilder.summary(output.get(&quot;summary&quot;).asString());
338                                 }
339                             }
340 
341                             return checkBuilder.build();
<span class="line-modified">342                         }, (a, b) -&gt; b));</span>
343     }
344 
345     @Override
346     public void createCheck(Check check) {
347         // update and create are currently identical operations, both do an HTTP
348         // POST to the /repos/:owner/:repo/check-runs endpoint. There is an additional
349         // endpoint explicitly for updating check-runs, but that is not currently used.
350         updateCheck(check);
351     }
352 
353     @Override
354     public void updateCheck(Check check) {
355         var completedQuery = JSON.object();
356         completedQuery.put(&quot;name&quot;, check.name());
357         completedQuery.put(&quot;head_branch&quot;, json.get(&quot;head&quot;).get(&quot;ref&quot;));
358         completedQuery.put(&quot;head_sha&quot;, check.hash().hex());
359 
360         if (check.title().isPresent() &amp;&amp; check.summary().isPresent()) {
361             var outputQuery = JSON.object();
362             outputQuery.put(&quot;title&quot;, check.title().get());
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>