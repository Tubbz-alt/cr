<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff cli/src/main/java/org/openjdk/skara/cli/GitPr.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>cli/src/main/java/org/openjdk/skara/cli/GitPr.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1012,11 ***</span>
              var pr = getPullRequest(uri, repo, host, id);
              var integrateComment = pr.addComment(&quot;/integrate&quot;);
  
              var seenIntegrateComment = false;
              var expected = &quot;&lt;!-- Jmerge command reply message (&quot; + integrateComment.id() + &quot;) --&gt;&quot;;
<span class="line-modified">!             for (var i = 0; i &lt; 20; i++) {</span>
                  var comments = pr.comments();
                  for (var comment : comments) {
                      if (!seenIntegrateComment) {
                          if (comment.id().equals(integrateComment.id())) {
                              seenIntegrateComment = true;
<span class="line-new-header">--- 1012,11 ---</span>
              var pr = getPullRequest(uri, repo, host, id);
              var integrateComment = pr.addComment(&quot;/integrate&quot;);
  
              var seenIntegrateComment = false;
              var expected = &quot;&lt;!-- Jmerge command reply message (&quot; + integrateComment.id() + &quot;) --&gt;&quot;;
<span class="line-modified">!             for (var i = 0; i &lt; 90; i++) {</span>
                  var comments = pr.comments();
                  for (var comment : comments) {
                      if (!seenIntegrateComment) {
                          if (comment.id().equals(integrateComment.id())) {
                              seenIntegrateComment = true;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1031,11 ***</span>
                              System.exit(0);
                          }
                      }
                  }
  
<span class="line-modified">!                 Thread.sleep(1000);</span>
              }
  
              System.err.println(&quot;error: timed out waiting for response to /integrate command&quot;);
              System.exit(1);
          } else if (action.equals(&quot;test&quot;)) {
<span class="line-new-header">--- 1031,11 ---</span>
                              System.exit(0);
                          }
                      }
                  }
  
<span class="line-modified">!                 Thread.sleep(2000);</span>
              }
  
              System.err.println(&quot;error: timed out waiting for response to /integrate command&quot;);
              System.exit(1);
          } else if (action.equals(&quot;test&quot;)) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1043,11 ***</span>
              var pr = getPullRequest(uri, repo, host, id);
              var head = pr.headHash();
              var testComment = pr.addComment(&quot;/test&quot;);
  
              var seenTestComment = false;
<span class="line-modified">!             for (var i = 0; i &lt; 20; i++) {</span>
                  var comments = pr.comments();
                  for (var comment : comments) {
                      if (!seenTestComment) {
                          if (comment.id().equals(testComment.id())) {
                              seenTestComment = true;
<span class="line-new-header">--- 1043,11 ---</span>
              var pr = getPullRequest(uri, repo, host, id);
              var head = pr.headHash();
              var testComment = pr.addComment(&quot;/test&quot;);
  
              var seenTestComment = false;
<span class="line-modified">!             for (var i = 0; i &lt; 90; i++) {</span>
                  var comments = pr.comments();
                  for (var comment : comments) {
                      if (!seenTestComment) {
                          if (comment.id().equals(testComment.id())) {
                              seenTestComment = true;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1077,11 ***</span>
                              System.exit(0);
                          }
                      }
                  }
  
<span class="line-modified">!                 Thread.sleep(1000);</span>
              }
  
          } else if (action.equals(&quot;approve&quot;)) {
              var id = arguments.at(1).isPresent() ? arguments.at(1).asString() : null;
              if (id == null) {
<span class="line-new-header">--- 1077,11 ---</span>
                              System.exit(0);
                          }
                      }
                  }
  
<span class="line-modified">!                 Thread.sleep(2000);</span>
              }
  
          } else if (action.equals(&quot;approve&quot;)) {
              var id = arguments.at(1).isPresent() ? arguments.at(1).asString() : null;
              if (id == null) {
</pre>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>