<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff skara.py</title>
    <link rel="stylesheet" href="style.css" />
  </head>
<body>
<center><a href="cli/src/main/java/org/openjdk/skara/cli/GitFork.java.sdiff.html" target="_top">&lt; prev</a> <a href="index.html" target="_top">index</a> next &gt;</center>    <h2>skara.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  8 # This code is distributed in the hope that it will be useful, but WITHOUT
  9 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 11 # version 2 for more details (a copy is included in the LICENSE file that
 12 # accompanied this code).
 13 #
 14 # You should have received a copy of the GNU General Public License version
 15 # 2 along with this work; if not, write to the Free Software Foundation,
 16 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 #
 18 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 # or visit www.oracle.com if you need additional information or have any
 20 # questions.
 21 
 22 import mercurial
 23 import os.path
 24 import subprocess
 25 import sys
 26 import shutil
 27 


 28 cmdtable = {}
 29 if hasattr(mercurial, &#39;registrar&#39;) and hasattr(mercurial.registrar, &#39;command&#39;):
 30     command = mercurial.registrar.command(cmdtable)
 31 elif hasattr(mercurial.cmdutil, &#39;command&#39;):
 32     command = mercurial.cmdutil.command(cmdtable)
 33 else:
 34     def command(name, options, synopsis):
 35         def decorator(func):
 36             cmdtable[name] = func, list(options), synopsis
 37             return func
 38         return decorator
 39 
 40 def _skara(ui, args, **opts):
 41     for k in opts:
 42         if opts[k] == True:
 43             args.append(&#39;--&#39; + k.replace(&#39;_&#39;, &#39;-&#39;))
 44         elif opts[k] != &#39;&#39; and opts[k] != False:
 45             args.append(&#39;--&#39; + k)
 46             args.append(opts[k])
 47     skara = os.path.dirname(os.path.realpath(__file__))
</pre>
<hr />
<pre>
135     (&#39;&#39;, &#39;sponsor&#39;, False, &#39;Show sponsor (if present)&#39;),
136     (&#39;&#39;, &#39;author&#39;, False, &#39;Show author&#39;),
137     (&#39;&#39;, &#39;contributors&#39;, False, &#39;Show contributors&#39;)
138 ]
139 @command(&#39;info&#39;, info_opts, &#39;hg info&#39;)
140 def info(ui, repo, rev, **opts):
141     _skara(ui, [&#39;info&#39;, &#39;--mercurial&#39;, rev], **opts)
142 
143 pr_opts = [
144     (&#39;u&#39;, &#39;username&#39;, &#39;&#39;, &#39;Username on host&#39;),
145     (&#39;r&#39;, &#39;remote&#39;, &#39;&#39;, &#39;Name of remote, defaults to &quot;origin&quot;&#39;),
146     (&#39;b&#39;, &#39;branch&#39;, &#39;&#39;, &#39;Name of target branch, defaults to &quot;master&quot;&#39;),
147     (&#39;&#39;,  &#39;authors&#39;, &#39;&#39;, &#39;Comma separated list of authors&#39;),
148     (&#39;&#39;,  &#39;assignees&#39;, &#39;&#39;, &#39;Comma separated list of assignees&#39;),
149     (&#39;&#39;,  &#39;labels&#39;, &#39;&#39;, &#39;Comma separated list of labels&#39;),
150     (&#39;&#39;,  &#39;columns&#39;, &#39;&#39;, &#39;Comma separated list of columns to show&#39;),
151     (&#39;&#39;, &#39;no-decoration&#39;, False, &#39;Do not prefix lines with any decoration&#39;)
152 ]
153 @command(&#39;pr&#39;, info_opts, &#39;hg pr &lt;list|fetch|show|checkout|apply|integrate|approve|create|close|update&gt;&#39;)
154 def pr(ui, repo, action, **opts):
<span class="line-modified">155     _skara(ui, [&#39;pr&#39;, &#39;--mercurial&#39;, action], **opts)</span>
</pre>
</td>
<td>
<hr />
<pre>
  8 # This code is distributed in the hope that it will be useful, but WITHOUT
  9 # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 10 # FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 11 # version 2 for more details (a copy is included in the LICENSE file that
 12 # accompanied this code).
 13 #
 14 # You should have received a copy of the GNU General Public License version
 15 # 2 along with this work; if not, write to the Free Software Foundation,
 16 # Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 17 #
 18 # Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 19 # or visit www.oracle.com if you need additional information or have any
 20 # questions.
 21 
 22 import mercurial
 23 import os.path
 24 import subprocess
 25 import sys
 26 import shutil
 27 
<span class="line-added"> 28 testedwith = &#39;4.9.2&#39;</span>
<span class="line-added"> 29 </span>
 30 cmdtable = {}
 31 if hasattr(mercurial, &#39;registrar&#39;) and hasattr(mercurial.registrar, &#39;command&#39;):
 32     command = mercurial.registrar.command(cmdtable)
 33 elif hasattr(mercurial.cmdutil, &#39;command&#39;):
 34     command = mercurial.cmdutil.command(cmdtable)
 35 else:
 36     def command(name, options, synopsis):
 37         def decorator(func):
 38             cmdtable[name] = func, list(options), synopsis
 39             return func
 40         return decorator
 41 
 42 def _skara(ui, args, **opts):
 43     for k in opts:
 44         if opts[k] == True:
 45             args.append(&#39;--&#39; + k.replace(&#39;_&#39;, &#39;-&#39;))
 46         elif opts[k] != &#39;&#39; and opts[k] != False:
 47             args.append(&#39;--&#39; + k)
 48             args.append(opts[k])
 49     skara = os.path.dirname(os.path.realpath(__file__))
</pre>
<hr />
<pre>
137     (&#39;&#39;, &#39;sponsor&#39;, False, &#39;Show sponsor (if present)&#39;),
138     (&#39;&#39;, &#39;author&#39;, False, &#39;Show author&#39;),
139     (&#39;&#39;, &#39;contributors&#39;, False, &#39;Show contributors&#39;)
140 ]
141 @command(&#39;info&#39;, info_opts, &#39;hg info&#39;)
142 def info(ui, repo, rev, **opts):
143     _skara(ui, [&#39;info&#39;, &#39;--mercurial&#39;, rev], **opts)
144 
145 pr_opts = [
146     (&#39;u&#39;, &#39;username&#39;, &#39;&#39;, &#39;Username on host&#39;),
147     (&#39;r&#39;, &#39;remote&#39;, &#39;&#39;, &#39;Name of remote, defaults to &quot;origin&quot;&#39;),
148     (&#39;b&#39;, &#39;branch&#39;, &#39;&#39;, &#39;Name of target branch, defaults to &quot;master&quot;&#39;),
149     (&#39;&#39;,  &#39;authors&#39;, &#39;&#39;, &#39;Comma separated list of authors&#39;),
150     (&#39;&#39;,  &#39;assignees&#39;, &#39;&#39;, &#39;Comma separated list of assignees&#39;),
151     (&#39;&#39;,  &#39;labels&#39;, &#39;&#39;, &#39;Comma separated list of labels&#39;),
152     (&#39;&#39;,  &#39;columns&#39;, &#39;&#39;, &#39;Comma separated list of columns to show&#39;),
153     (&#39;&#39;, &#39;no-decoration&#39;, False, &#39;Do not prefix lines with any decoration&#39;)
154 ]
155 @command(&#39;pr&#39;, info_opts, &#39;hg pr &lt;list|fetch|show|checkout|apply|integrate|approve|create|close|update&gt;&#39;)
156 def pr(ui, repo, action, **opts):
<span class="line-modified">157     _skara(ui, [&#39;pr&#39;, &#39;--mercurial&#39;, action], **opts)</span>
</pre>
</td>
</tr>
</table>
<center><a href="cli/src/main/java/org/openjdk/skara/cli/GitFork.java.sdiff.html" target="_top">&lt; prev</a> <a href="index.html" target="_top">index</a> next &gt;</center>  </body>
</html>