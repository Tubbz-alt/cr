diff a/forge/src/main/java/org/openjdk/skara/forge/github/GitHubHost.java b/forge/src/main/java/org/openjdk/skara/forge/github/GitHubHost.java
--- a/forge/src/main/java/org/openjdk/skara/forge/github/GitHubHost.java
+++ b/forge/src/main/java/org/openjdk/skara/forge/github/GitHubHost.java
@@ -55,11 +55,11 @@
                 .appendSubDomain("api")
                 .setPath("/")
                 .build();
 
         request = new RestRequest(baseApi, () -> Arrays.asList(
-                "Authorization", "token " + getInstallationToken(),
+                "Authorization", "token " + getInstallationToken().orElseThrow(),
                 "Accept", "application/vnd.github.machine-man-preview+json",
                 "Accept", "application/vnd.github.antiope-preview+json"));
     }
 
     public GitHubHost(URI uri, Credential pat, Pattern webUriPattern, String webUriReplacement) {
@@ -73,11 +73,11 @@
                                 .appendSubDomain("api")
                                 .setPath("/")
                                 .build();
 
         request = new RestRequest(baseApi, () -> Arrays.asList(
-                "Authorization", "token " + pat.password()));
+                "Authorization", "token " + getInstallationToken().orElseThrow()));
     }
 
     GitHubHost(URI uri, Pattern webUriPattern, String webUriReplacement) {
         this.uri = uri;
         this.webUriPattern = webUriPattern;
@@ -112,16 +112,20 @@
 
         }
         return URIBuilder.base(matcher.replaceAll(webUriReplacement)).build();
     }
 
-    String getInstallationToken() {
+    Optional<String> getInstallationToken() {
         if (application != null) {
-            return application.getInstallationToken();
-        } else {
-            return pat.password();
+            return Optional.of(application.getInstallationToken());
         }
+
+        if (pat != null) {
+            return Optional.of(pat.password());
+        }
+
+        return Optional.empty();
     }
 
     private String getFullName(String userName) {
         var details = user(userName);
         return details.fullName();
