<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff vcs/src/main/resources/ext.py</title>
    <link rel="stylesheet" href="../../../../style.css" />
  </head>
<body>
<center><a href="../java/org/openjdk/skara/vcs/hg/HgRepository.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../test/java/org/openjdk/skara/vcs/RepositoryTests.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>vcs/src/main/resources/ext.py</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
256         for filename in removed:
257             writeln(filename)
258 
259 def pretxnclose(ui, repo, **kwargs):
260     start = revsingle(repo, kwargs[&#39;node&#39;])
261     end = revsingle(repo, kwargs[&#39;node_last&#39;])
262     __dump(repo, start.rev(), end.rev() + 1)
263 
264 @command(&#39;dump&#39;, [],  &#39;hg dump&#39;)
265 def dump(ui, repo, **opts):
266     __dump(repo, 0, len(repo))
267 
268 @command(&#39;metadata&#39;, [],  &#39;hg metadata&#39;)
269 def dump(ui, repo, revs=None, **opts):
270     if revs == None:
271         revs = &quot;0:tip&quot;
272 
273     for r in revrange(repo, [revs]):
274         ctx = repo[r]
275         __dump_metadata(ctx)














</pre>
</td>
<td>
<hr />
<pre>
256         for filename in removed:
257             writeln(filename)
258 
259 def pretxnclose(ui, repo, **kwargs):
260     start = revsingle(repo, kwargs[&#39;node&#39;])
261     end = revsingle(repo, kwargs[&#39;node_last&#39;])
262     __dump(repo, start.rev(), end.rev() + 1)
263 
264 @command(&#39;dump&#39;, [],  &#39;hg dump&#39;)
265 def dump(ui, repo, **opts):
266     __dump(repo, 0, len(repo))
267 
268 @command(&#39;metadata&#39;, [],  &#39;hg metadata&#39;)
269 def dump(ui, repo, revs=None, **opts):
270     if revs == None:
271         revs = &quot;0:tip&quot;
272 
273     for r in revrange(repo, [revs]):
274         ctx = repo[r]
275         __dump_metadata(ctx)
<span class="line-added">276 </span>
<span class="line-added">277 @command(&#39;ls-tree&#39;, [],  &#39;hg ls-tree&#39;)</span>
<span class="line-added">278 def ls_tree(ui, repo, rev, **opts):</span>
<span class="line-added">279     nullHash = &#39;0&#39; * 40</span>
<span class="line-added">280     ctx = revsingle(repo, rev)</span>
<span class="line-added">281     for filename in ctx.manifest():</span>
<span class="line-added">282         fctx = ctx.filectx(filename)</span>
<span class="line-added">283         if &#39;x&#39; in fctx.flags():</span>
<span class="line-added">284             write(&#39;100755 blob &#39;)</span>
<span class="line-added">285         else:</span>
<span class="line-added">286             write(&#39;100644 blob &#39;)</span>
<span class="line-added">287         write(nullHash)</span>
<span class="line-added">288         write(&#39;\t&#39;)</span>
<span class="line-added">289         writeln(filename)</span>
</pre>
</td>
</tr>
</table>
<center><a href="../java/org/openjdk/skara/vcs/hg/HgRepository.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../index.html" target="_top">index</a> <a href="../../test/java/org/openjdk/skara/vcs/RepositoryTests.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>