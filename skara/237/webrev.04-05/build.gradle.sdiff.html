<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff build.gradle</title>
    <link rel="stylesheet" href="style.css" />
  </head>
<body>
<center>&lt; prev <a href="index.html" target="_top">index</a> <a href="buildSrc/images/src/main/java/org/openjdk/skara/gradle/images/ImagesPlugin.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>build.gradle</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
121     throw new GradleException(&quot;Unexpected operating system: &quot; + os)
122 }
123 
124 def getCPU() {
125     def cpu = System.getProperty(&#39;os.arch&#39;).toLowerCase()
126     if (cpu.startsWith(&#39;amd64&#39;) || cpu.startsWith(&#39;x86_64&#39;) || cpu.startsWith(&#39;x64&#39;)) {
127         return &#39;x64&#39;
128     }
129     if (cpu.startsWith(&#39;x86&#39;) || cpu.startsWith(&#39;i386&#39;)) {
130         return &#39;x86&#39;
131     }
132     if (cpu.startsWith(&#39;sparc&#39;)) {
133         return &#39;sparc&#39;
134     }
135     if (cpu.startsWith(&#39;ppc&#39;)) {
136         return &#39;ppc&#39;
137     }
138     if (cpu.startsWith(&#39;arm&#39;)) {
139         return &#39;arm&#39;
140     }
<span class="line-modified">141     throw new GradleException(&quot;Unexpected operating system: &quot; + cpu)</span>



142 }
143 
144 task local(type: Copy) {
145     doFirst {
146         delete project.buildDir
147     }
148 
149     def os = getOS()
150     def cpu = getCPU()
151 
152     if (os in [&#39;linux&#39;, &#39;macos&#39;, &#39;windows&#39;] &amp;&amp; cpu == &#39;x64&#39;) {
153         def target = os.substring(0, 1).toUpperCase() + os.substring(1) +
154                      cpu.substring(0, 1).toUpperCase() + cpu.substring(1)
155         dependsOn &#39;:cli:image&#39; + target
156     } else {
157         dependsOn &#39;:cli:imageLocal&#39;
158     }
159 
160     from zipTree(file(project.rootDir.toString() +
161                       &#39;/cli/build/distributions/cli&#39; +
</pre>
</td>
<td>
<hr />
<pre>
121     throw new GradleException(&quot;Unexpected operating system: &quot; + os)
122 }
123 
124 def getCPU() {
125     def cpu = System.getProperty(&#39;os.arch&#39;).toLowerCase()
126     if (cpu.startsWith(&#39;amd64&#39;) || cpu.startsWith(&#39;x86_64&#39;) || cpu.startsWith(&#39;x64&#39;)) {
127         return &#39;x64&#39;
128     }
129     if (cpu.startsWith(&#39;x86&#39;) || cpu.startsWith(&#39;i386&#39;)) {
130         return &#39;x86&#39;
131     }
132     if (cpu.startsWith(&#39;sparc&#39;)) {
133         return &#39;sparc&#39;
134     }
135     if (cpu.startsWith(&#39;ppc&#39;)) {
136         return &#39;ppc&#39;
137     }
138     if (cpu.startsWith(&#39;arm&#39;)) {
139         return &#39;arm&#39;
140     }
<span class="line-modified">141     if (cpu.startsWith(&#39;aarch64&#39;)) {</span>
<span class="line-added">142         return &#39;aarch64&#39;;</span>
<span class="line-added">143     }</span>
<span class="line-added">144     throw new GradleException(&quot;Unexpected CPU: &quot; + cpu)</span>
145 }
146 
147 task local(type: Copy) {
148     doFirst {
149         delete project.buildDir
150     }
151 
152     def os = getOS()
153     def cpu = getCPU()
154 
155     if (os in [&#39;linux&#39;, &#39;macos&#39;, &#39;windows&#39;] &amp;&amp; cpu == &#39;x64&#39;) {
156         def target = os.substring(0, 1).toUpperCase() + os.substring(1) +
157                      cpu.substring(0, 1).toUpperCase() + cpu.substring(1)
158         dependsOn &#39;:cli:image&#39; + target
159     } else {
160         dependsOn &#39;:cli:imageLocal&#39;
161     }
162 
163     from zipTree(file(project.rootDir.toString() +
164                       &#39;/cli/build/distributions/cli&#39; +
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="index.html" target="_top">index</a> <a href="buildSrc/images/src/main/java/org/openjdk/skara/gradle/images/ImagesPlugin.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>