<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>bots/pr/src/main/java/org/openjdk/skara/bots/pr/CheckRun.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
346         }
347     }
348 
349     private Optional&lt;Comment&gt; findComment(List&lt;Comment&gt; comments, String marker) {
350         var self = pr.repository().forge().currentUser();
351         return comments.stream()
352                        .filter(comment -&gt; comment.author().equals(self))
353                        .filter(comment -&gt; comment.body().contains(marker))
354                        .findAny();
355     }
356 
357     private String getMergeReadyComment(String commitMessage, List&lt;Review&gt; reviews, boolean rebasePossible) {
358         var message = new StringBuilder();
359         message.append(&quot;@&quot;);
360         message.append(pr.author().userName());
361         message.append(&quot; This change now passes all automated pre-integration checks. When the change also &quot;);
362         message.append(&quot;fulfills all [project specific requirements](https://github.com/&quot;);
363         message.append(pr.repository().name());
364         message.append(&quot;/blob/&quot;);
365         message.append(pr.targetRef());
<span class="line-modified">366         message.append(&quot;CONTRIBUTING.md), type `/integrate` in a new comment to proceed. After integration, &quot;);</span>
367         message.append(&quot;the commit message will be:\n&quot;);
368         message.append(&quot;```\n&quot;);
369         message.append(commitMessage);
370         message.append(&quot;\n```\n&quot;);
371 
372         message.append(&quot;- If you would like to add a summary, use the `/summary` command.\n&quot;);
373         message.append(&quot;- To credit additional contributors, use the `/contributor` command.\n&quot;);
374         message.append(&quot;- To add additional solved issues, use the `/solves` command.\n&quot;);
375 
376         var divergingCommits = prInstance.divergingCommits();
377         if (divergingCommits.size() &gt; 0) {
378             message.append(&quot;\n&quot;);
379             message.append(&quot;Since the source branch of this PR was last updated there &quot;);
380             if (divergingCommits.size() == 1) {
381                 message.append(&quot;has been 1 commit &quot;);
382             } else {
383                 message.append(&quot;have been &quot;);
384                 message.append(divergingCommits.size());
385                 message.append(&quot; commits &quot;);
386             }
</pre>
</td>
<td>
<hr />
<pre>
346         }
347     }
348 
349     private Optional&lt;Comment&gt; findComment(List&lt;Comment&gt; comments, String marker) {
350         var self = pr.repository().forge().currentUser();
351         return comments.stream()
352                        .filter(comment -&gt; comment.author().equals(self))
353                        .filter(comment -&gt; comment.body().contains(marker))
354                        .findAny();
355     }
356 
357     private String getMergeReadyComment(String commitMessage, List&lt;Review&gt; reviews, boolean rebasePossible) {
358         var message = new StringBuilder();
359         message.append(&quot;@&quot;);
360         message.append(pr.author().userName());
361         message.append(&quot; This change now passes all automated pre-integration checks. When the change also &quot;);
362         message.append(&quot;fulfills all [project specific requirements](https://github.com/&quot;);
363         message.append(pr.repository().name());
364         message.append(&quot;/blob/&quot;);
365         message.append(pr.targetRef());
<span class="line-modified">366         message.append(&quot;/CONTRIBUTING.md), type `/integrate` in a new comment to proceed. After integration, &quot;);</span>
367         message.append(&quot;the commit message will be:\n&quot;);
368         message.append(&quot;```\n&quot;);
369         message.append(commitMessage);
370         message.append(&quot;\n```\n&quot;);
371 
372         message.append(&quot;- If you would like to add a summary, use the `/summary` command.\n&quot;);
373         message.append(&quot;- To credit additional contributors, use the `/contributor` command.\n&quot;);
374         message.append(&quot;- To add additional solved issues, use the `/solves` command.\n&quot;);
375 
376         var divergingCommits = prInstance.divergingCommits();
377         if (divergingCommits.size() &gt; 0) {
378             message.append(&quot;\n&quot;);
379             message.append(&quot;Since the source branch of this PR was last updated there &quot;);
380             if (divergingCommits.size() == 1) {
381                 message.append(&quot;has been 1 commit &quot;);
382             } else {
383                 message.append(&quot;have been &quot;);
384                 message.append(divergingCommits.size());
385                 message.append(&quot; commits &quot;);
386             }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>