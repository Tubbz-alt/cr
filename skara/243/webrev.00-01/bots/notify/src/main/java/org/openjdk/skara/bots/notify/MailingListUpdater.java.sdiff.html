<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/notify/src/main/java/org/openjdk/skara/bots/notify/MailingListUpdater.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>bots/notify/src/main/java/org/openjdk/skara/bots/notify/MailingListUpdater.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
315     @Override
316     public void handleNewBranch(HostedRepository repository, List&lt;Commit&gt; commits, Branch parent, Branch branch) {
317         var writer = new StringWriter();
318         var printer = new PrintWriter(writer);
319 
320         if (commits.size() &gt; 0) {
321             printer.println(&quot;The following commits are unique to the &quot; + branch.name() + &quot; branch&quot;);
322             printer.println(&quot;========================================================&quot;);
323             for (var commit : commits) {
324                 printer.print(commit.hash().abbreviate());
325                 if (commit.message().size() &gt; 0) {
326                     printer.print(&quot;: &quot; + commit.message().get(0));
327                 }
328                 printer.println();
329             }
330         } else {
331             printer.println(&quot;The new branch &quot; + branch.name() + &quot; is currently identical to the &quot; + parent.name() + &quot; branch.&quot;);
332         }
333 
334         var subject = newBranchSubject(repository, commits, parent, branch);
<span class="line-modified">335         var lastCommit = commits.get(commits.size() - 1);</span>
336 
337         var email = Email.create(subject, writer.toString())
338                          .sender(sender)
<span class="line-modified">339                          .author(commitToAuthor(lastCommit))</span>
340                          .recipient(recipient)
341                          .headers(headers)
342                          .build();
343         list.post(email);
344     }
345 }
</pre>
</td>
<td>
<hr />
<pre>
315     @Override
316     public void handleNewBranch(HostedRepository repository, List&lt;Commit&gt; commits, Branch parent, Branch branch) {
317         var writer = new StringWriter();
318         var printer = new PrintWriter(writer);
319 
320         if (commits.size() &gt; 0) {
321             printer.println(&quot;The following commits are unique to the &quot; + branch.name() + &quot; branch&quot;);
322             printer.println(&quot;========================================================&quot;);
323             for (var commit : commits) {
324                 printer.print(commit.hash().abbreviate());
325                 if (commit.message().size() &gt; 0) {
326                     printer.print(&quot;: &quot; + commit.message().get(0));
327                 }
328                 printer.println();
329             }
330         } else {
331             printer.println(&quot;The new branch &quot; + branch.name() + &quot; is currently identical to the &quot; + parent.name() + &quot; branch.&quot;);
332         }
333 
334         var subject = newBranchSubject(repository, commits, parent, branch);
<span class="line-modified">335         var finalAuthor = commits.size() &gt; 0 ? commitToAuthor(commits.get(commits.size() - 1)) : sender;</span>
336 
337         var email = Email.create(subject, writer.toString())
338                          .sender(sender)
<span class="line-modified">339                          .author(finalAuthor)</span>
340                          .recipient(recipient)
341                          .headers(headers)
342                          .build();
343         list.post(email);
344     }
345 }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>