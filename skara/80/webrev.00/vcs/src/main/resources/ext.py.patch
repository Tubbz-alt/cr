diff a/vcs/src/main/resources/ext.py b/vcs/src/main/resources/ext.py
--- a/vcs/src/main/resources/ext.py
+++ b/vcs/src/main/resources/ext.py
@@ -63,11 +63,11 @@
     if mercurial.util.version().startswith("5"):
         return mercurial.match.exact(files, badfn)
     else:
         return mercurial.match.exact(root, cwd, files, badfn)
 
-def _diff_git_raw(repo, ctx1, ctx2, modified, added, removed):
+def _diff_git_raw(repo, ctx1, ctx2, modified, added, removed, showPatch):
     nullHash = '0' * 40
     removed_copy = set(removed)
 
     for path in added:
         fctx = ctx2.filectx(path)
@@ -98,16 +98,17 @@
                 writeln(':{} {} {} {} {}{}\t{}\t{}'.format(mode(parent), mode(fctx), nullHash, nullHash, operation, score, old_path, path))
         elif path in removed_copy:
             fctx = ctx1.filectx(path)
             writeln(':{} 000000 {} {} D\t{}'.format(mode(fctx), nullHash, nullHash, path))
 
-    writeln('')
+    if showPatch:
+        writeln('')
 
-    match = _match_exact(repo.root, repo.getcwd(), list(modified) + list(added) + list(removed_copy))
-    opts = mercurial.mdiff.diffopts(git=True, nodates=True, context=0, showfunc=True)
-    for d in mercurial.patch.diff(repo, ctx1.node(), ctx2.node(), match=match, opts=opts):
-        sys.stdout.write(d)
+        match = _match_exact(repo.root, repo.getcwd(), list(modified) + list(added) + list(removed_copy))
+        opts = mercurial.mdiff.diffopts(git=True, nodates=True, context=0, showfunc=True)
+        for d in mercurial.patch.diff(repo, ctx1.node(), ctx2.node(), match=match, opts=opts):
+            sys.stdout.write(d)
 
 def really_differs(repo, p1, p2, ctx, files):
     # workaround bug in hg (present since forever):
     # `hg status` can, for merge commits, report a file as modififed between one parent
     # and the merge even though it isn't. `hg diff` works correctly, so remove any "modified"
@@ -146,11 +147,11 @@
     revrange = mercurial.scmutil.revrange
 else:
     revsingle = mercurial.cmdutil.revsingle
     revrange = mercurial.cmdutil.revrange
 
-@command('diff-git-raw', [], 'hg diff-git-raw rev1 [rev2]')
+@command('diff-git-raw', [('', 'patch', False, '')], 'hg diff-git-raw rev1 [rev2]')
 def diff_git_raw(ui, repo, rev1, rev2=None, **opts):
     ctx1 = revsingle(repo, rev1)
 
     if rev2 != None:
         ctx2 = revsingle(repo, rev2)
@@ -158,11 +159,11 @@
     else:
         ctx2 = mercurial.context.workingctx(repo)
         status = repo.status(ctx1)
 
     modified, added, removed = [set(l) for l in status[:3]]
-    _diff_git_raw(repo, ctx1, ctx2, modified, added, removed)
+    _diff_git_raw(repo, ctx1, ctx2, modified, added, removed, opts['patch'])
 
 @command('log-git', [('', 'reverse', False, ''), ('l', 'limit', -1, '')],  'hg log-git <revisions>')
 def log_git(ui, repo, revs=None, **opts):
     if len(repo) == 0:
         return
@@ -181,11 +182,11 @@
         __dump_metadata(ctx)
         parents = ctx.parents()
 
         if len(parents) == 1:
             modified, added, removed = [set(l) for l in repo.status(parents[0], ctx)[:3]]
-            _diff_git_raw(repo, parents[0], ctx, modified, added, removed)
+            _diff_git_raw(repo, parents[0], ctx, modified, added, removed, True)
         else:
             p1 = parents[0]
             p2 = parents[1]
 
             modified_p1, added_p1, removed_p1 = [set(l) for l in repo.status(p1, ctx)[:3]]
@@ -203,13 +204,13 @@
             combined_modified_p1 = really_differs(repo, p1, p2, ctx, combined_modified_p1)
             combined_added_p1 = really_differs(repo, p1, p2, ctx, combined_added_p1)
             combined_modified_p2 = really_differs(repo, p1, p2, ctx, combined_modified_p2)
             combined_added_p2 = really_differs(repo, p1, p2, ctx, combined_added_p2)
 
-            _diff_git_raw(repo, p1, ctx, combined_modified_p1, combined_added_p1, removed_both)
+            _diff_git_raw(repo, p1, ctx, combined_modified_p1, combined_added_p1, removed_both, True)
             writeln('#@!_-=&')
-            _diff_git_raw(repo, p2, ctx, combined_modified_p2, combined_added_p2, removed_both)
+            _diff_git_raw(repo, p2, ctx, combined_modified_p2, combined_added_p2, removed_both, True)
 
         i += 1
         if i == limit:
             break
 
