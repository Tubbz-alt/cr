<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff buildSrc/images/src/main/java/org/openjdk/skara/gradle/images/LaunchersTask.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ImagesPlugin.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="LinkTask.java.udiff.html" target="_top">next &gt;</a></center>    <h2>buildSrc/images/src/main/java/org/openjdk/skara/gradle/images/LaunchersTask.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -33,31 +33,36 @@</span>
  import java.nio.file.*;
  import java.nio.file.attribute.PosixFilePermissions;
  import java.util.Comparator;
  
  public class LaunchersTask extends DefaultTask {
<span class="udiff-line-modified-removed">-     private Path toDir;</span>
<span class="udiff-line-modified-removed">-     private String os;</span>
<span class="udiff-line-modified-added">+     private Property&lt;Path&gt; toDir;</span>
<span class="udiff-line-modified-added">+     private Property&lt;String&gt; os;</span>
      private MapProperty&lt;String, String&gt; launchers;
      private ListProperty&lt;String&gt; options;
  
      @Inject
      public LaunchersTask(ObjectFactory factory) {
<span class="udiff-line-modified-removed">-         this.launchers = factory.mapProperty(String.class, String.class);</span>
<span class="udiff-line-modified-added">+         toDir = factory.property(Path.class);</span>
<span class="udiff-line-added">+         os = factory.property(String.class);</span>
<span class="udiff-line-added">+         launchers = factory.mapProperty(String.class, String.class);</span>
          options = factory.listProperty(String.class);
      }
  
<span class="udiff-line-modified-removed">-     void setOptions(ListProperty&lt;String&gt; options) {</span>
<span class="udiff-line-modified-removed">-         this.options.set(options);</span>
<span class="udiff-line-modified-added">+     @Input</span>
<span class="udiff-line-modified-added">+     ListProperty&lt;String&gt; getOptions() {</span>
<span class="udiff-line-added">+         return options;</span>
      }
  
<span class="udiff-line-modified-removed">-     void setToDir(Path toDir) {</span>
<span class="udiff-line-modified-removed">-         this.toDir = toDir;</span>
<span class="udiff-line-modified-added">+     @OutputDirectory</span>
<span class="udiff-line-modified-added">+     Property&lt;Path&gt; getToDir() {</span>
<span class="udiff-line-added">+         return toDir;</span>
      }
  
<span class="udiff-line-modified-removed">-     void setOS(String os) {</span>
<span class="udiff-line-modified-removed">-         this.os = os;</span>
<span class="udiff-line-modified-added">+     @Input</span>
<span class="udiff-line-modified-added">+     Property&lt;String&gt; getOS() {</span>
<span class="udiff-line-added">+         return os;</span>
      }
  
      @Input
      MapProperty&lt;String, String&gt; getLaunchers() {
          return launchers;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -70,11 +75,11 @@</span>
                  .forEach(File::delete);
      }
  
      @TaskAction
      void generate() throws IOException {
<span class="udiff-line-modified-removed">-         var dest = toDir.resolve(os);</span>
<span class="udiff-line-modified-added">+         var dest = toDir.get().resolve(os.get());</span>
          if (Files.isDirectory(dest)) {
              clearDirectory(dest);
          }
          Files.createDirectories(dest);
          var optionString = String.join(&quot; &quot;, options.get());
</pre>
<center><a href="ImagesPlugin.java.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="LinkTask.java.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>