<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveWorkItem.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>bots/mlbridge/src/main/java/org/openjdk/skara/bots/mlbridge/ArchiveWorkItem.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 174,11 ***</span>
      private String composeReply(ZonedDateTime date, EmailAddress author, String parentBody, String body) {
          return &quot;On &quot; + date.format(DateTimeFormatter.RFC_1123_DATE_TIME) + &quot;, &quot; + author.toString() + &quot; wrote:\n&quot; +
                  &quot;\n&quot; +
                  quoteBody(parentBody) +
                  &quot;\n\n&quot; +
<span class="line-modified">!                 filterComments(body);</span>
      }
  
      private String verdictToString(Review.Verdict verdict) {
          switch (verdict) {
              case APPROVED:
<span class="line-new-header">--- 174,13 ---</span>
      private String composeReply(ZonedDateTime date, EmailAddress author, String parentBody, String body) {
          return &quot;On &quot; + date.format(DateTimeFormatter.RFC_1123_DATE_TIME) + &quot;, &quot; + author.toString() + &quot; wrote:\n&quot; +
                  &quot;\n&quot; +
                  quoteBody(parentBody) +
                  &quot;\n\n&quot; +
<span class="line-modified">!                 filterComments(body) +</span>
<span class="line-added">+                 &quot;\n\n&quot; +</span>
<span class="line-added">+                 &quot;PR: &quot; + pr.getWebUrl();</span>
      }
  
      private String verdictToString(Review.Verdict verdict) {
          switch (verdict) {
              case APPROVED:
</pre>
<hr />
<pre>
<span class="line-old-header">*** 207,11 ***</span>
  
          return &quot;On &quot; + date.format(DateTimeFormatter.RFC_1123_DATE_TIME) + &quot;, &quot; + parentAuthor.toString() + &quot; wrote:\n&quot; +
                  &quot;\n&quot; +
                  quoteBody(parentBody) +
                  &quot;\n\n&quot; +
<span class="line-modified">!                 filterComments(body.toString());</span>
      }
  
      private String composeRebaseComment(Hash lastBase, PullRequestInstance prInstance, URI fullWebrev) {
          var commitMessages = prInstance.formatCommitMessages(prInstance.baseHash(), prInstance.headHash(), this::formatCommit);
          return &quot;The pull request has been updated with a complete new set of changes (possibly due to a rebase).\n\n&quot; +
<span class="line-new-header">--- 209,13 ---</span>
  
          return &quot;On &quot; + date.format(DateTimeFormatter.RFC_1123_DATE_TIME) + &quot;, &quot; + parentAuthor.toString() + &quot; wrote:\n&quot; +
                  &quot;\n&quot; +
                  quoteBody(parentBody) +
                  &quot;\n\n&quot; +
<span class="line-modified">!                 filterComments(body.toString()) +</span>
<span class="line-added">+                 &quot;\n\n&quot; +</span>
<span class="line-added">+                 &quot;PR: &quot; + pr.getWebUrl();</span>
      }
  
      private String composeRebaseComment(Hash lastBase, PullRequestInstance prInstance, URI fullWebrev) {
          var commitMessages = prInstance.formatCommitMessages(prInstance.baseHash(), prInstance.headHash(), this::formatCommit);
          return &quot;The pull request has been updated with a complete new set of changes (possibly due to a rebase).\n\n&quot; +
</pre>
<hr />
<pre>
<span class="line-old-header">*** 245,11 ***</span>
                  prInstance.fetchCommand();
      }
  
      private String composeReadyForIntegrationComment() {
          return &quot;This PR now fulfills all the requirements for integration, and is only awaiting the final &quot; +
<span class="line-modified">!                 &quot;integration command from the author.&quot;;</span>
      }
  
      private Repository materializeArchive(Path scratchPath) {
          try {
              return Repository.materialize(scratchPath, bot.archiveRepo().getUrl(), pr.getTargetRef());
<span class="line-new-header">--- 249,13 ---</span>
                  prInstance.fetchCommand();
      }
  
      private String composeReadyForIntegrationComment() {
          return &quot;This PR now fulfills all the requirements for integration, and is only awaiting the final &quot; +
<span class="line-modified">!                 &quot;integration command from the author.&quot; +</span>
<span class="line-added">+                 &quot;\n\n&quot; +</span>
<span class="line-added">+                 &quot;PR: &quot; + pr.getWebUrl();</span>
      }
  
      private Repository materializeArchive(Path scratchPath) {
          try {
              return Repository.materialize(scratchPath, bot.archiveRepo().getUrl(), pr.getTargetRef());
</pre>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>