<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff cli/src/main/java/org/openjdk/skara/cli/GitPr.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../bots/pr/src/test/java/org/openjdk/skara/bots/pr/CheckTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../host/src/main/java/org/openjdk/skara/host/Host.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>cli/src/main/java/org/openjdk/skara/cli/GitPr.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
408             } else {
409                 body = Collections.emptyList();
410             }
411 
412             var pr = remoteRepo.createPullRequest(parentRepo, targetBranch, currentBranch.name(), title, body);
413             if (arguments.contains(&quot;assignees&quot;)) {
414                 var usernames = Arrays.asList(arguments.get(&quot;assignees&quot;).asString().split(&quot;,&quot;));
415                 var assignees = usernames.stream()
416                                          .map(host::getUserDetails)
417                                          .collect(Collectors.toList());
418                 pr.setAssignees(assignees);
419             }
420             System.out.println(pr.getWebUrl().toString());
421             Files.deleteIfExists(file);
422         } else if (action.equals(&quot;integrate&quot;) || action.equals(&quot;approve&quot;)) {
423             var pr = getPullRequest(uri, credentials, arguments.at(1));
424 
425             if (action.equals(&quot;integrate&quot;)) {
426                 pr.addComment(&quot;/integrate&quot;);
427             } else if (action.equals(&quot;approve&quot;)) {
<span class="line-modified">428                 pr.addReview(Review.Verdict.APPROVED);</span>
429             } else {
430                 throw new IllegalStateException(&quot;unexpected action: &quot; + action);
431             }
432         } else if (action.equals(&quot;list&quot;)) {
433             var remoteRepo = getHostedRepositoryFor(uri, credentials);
434             var prs = remoteRepo.getPullRequests();
435 
436             var ids = new ArrayList&lt;String&gt;();
437             var titles = new ArrayList&lt;String&gt;();
438             var authors = new ArrayList&lt;String&gt;();
439             var assignees = new ArrayList&lt;String&gt;();
440             var labels = new ArrayList&lt;String&gt;();
441 
442             var filterAuthors = arguments.contains(&quot;authors&quot;) ?
443                 new HashSet&lt;&gt;(Arrays.asList(arguments.get(&quot;authors&quot;).asString().split(&quot;,&quot;))) :
444                 Set.of();
445             var filterAssignees = arguments.contains(&quot;assignees&quot;) ?
446                 Arrays.asList(arguments.get(&quot;assignees&quot;).asString().split(&quot;,&quot;)) :
447                 Set.of();
448             var filterLabels = arguments.contains(&quot;labels&quot;) ?
</pre>
</td>
<td>
<hr />
<pre>
408             } else {
409                 body = Collections.emptyList();
410             }
411 
412             var pr = remoteRepo.createPullRequest(parentRepo, targetBranch, currentBranch.name(), title, body);
413             if (arguments.contains(&quot;assignees&quot;)) {
414                 var usernames = Arrays.asList(arguments.get(&quot;assignees&quot;).asString().split(&quot;,&quot;));
415                 var assignees = usernames.stream()
416                                          .map(host::getUserDetails)
417                                          .collect(Collectors.toList());
418                 pr.setAssignees(assignees);
419             }
420             System.out.println(pr.getWebUrl().toString());
421             Files.deleteIfExists(file);
422         } else if (action.equals(&quot;integrate&quot;) || action.equals(&quot;approve&quot;)) {
423             var pr = getPullRequest(uri, credentials, arguments.at(1));
424 
425             if (action.equals(&quot;integrate&quot;)) {
426                 pr.addComment(&quot;/integrate&quot;);
427             } else if (action.equals(&quot;approve&quot;)) {
<span class="line-modified">428                 pr.addReview(Review.Verdict.APPROVED, &quot;Looks good!&quot;);</span>
429             } else {
430                 throw new IllegalStateException(&quot;unexpected action: &quot; + action);
431             }
432         } else if (action.equals(&quot;list&quot;)) {
433             var remoteRepo = getHostedRepositoryFor(uri, credentials);
434             var prs = remoteRepo.getPullRequests();
435 
436             var ids = new ArrayList&lt;String&gt;();
437             var titles = new ArrayList&lt;String&gt;();
438             var authors = new ArrayList&lt;String&gt;();
439             var assignees = new ArrayList&lt;String&gt;();
440             var labels = new ArrayList&lt;String&gt;();
441 
442             var filterAuthors = arguments.contains(&quot;authors&quot;) ?
443                 new HashSet&lt;&gt;(Arrays.asList(arguments.get(&quot;authors&quot;).asString().split(&quot;,&quot;))) :
444                 Set.of();
445             var filterAssignees = arguments.contains(&quot;assignees&quot;) ?
446                 Arrays.asList(arguments.get(&quot;assignees&quot;).asString().split(&quot;,&quot;)) :
447                 Set.of();
448             var filterLabels = arguments.contains(&quot;labels&quot;) ?
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../bots/pr/src/test/java/org/openjdk/skara/bots/pr/CheckTests.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../host/src/main/java/org/openjdk/skara/host/Host.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>