<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff bots/mlbridge/src/test/java/org/openjdk/skara/bots/mlbridge/MailingListBridgeBotTests.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../notify/src/main/java/org/openjdk/skara/bots/notify/MailingListUpdater.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>bots/mlbridge/src/test/java/org/openjdk/skara/bots/mlbridge/MailingListBridgeBotTests.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 419             // The archive should contain a combined entry
 420             Repository.materialize(archiveFolder.path(), archive.url(), &quot;master&quot;);
 421             assertEquals(2, archiveContainsCount(archiveFolder.path(), &quot;^On.*wrote:&quot;));
 422 
 423             // As well as the mailing list
 424             var mailmanServer = MailingListServerFactory.createMailmanServer(listServer.getArchive(), listServer.getSMTP(), Duration.ZERO);
 425             var mailmanList = mailmanServer.getList(listAddress.address());
 426             var conversations = mailmanList.conversations(Duration.ofDays(1));
 427             assertEquals(1, conversations.size());
 428             var mail = conversations.get(0).first();
 429             assertEquals(&quot;RFR: This is a pull request&quot;, mail.subject());
 430             assertEquals(3, conversations.get(0).allMessages().size());
 431 
 432             var commentReply = conversations.get(0).replies(mail).get(0);
 433             assertEquals(2, commentReply.body().split(&quot;^On.*wrote:&quot;).length);
 434             assertTrue(commentReply.body().contains(&quot;Avoid combining\n\n&quot;), commentReply.body());
 435 
 436             var reviewReply = conversations.get(0).replies(mail).get(1);
 437             assertEquals(2, reviewReply.body().split(&quot;^On.*wrote:&quot;).length);
 438             assertEquals(2, reviewReply.body().split(&quot;&gt; This is now ready&quot;).length, reviewReply.body());
<span class="line-modified"> 439             assertEquals(&quot;Re: RFR: This is a pull request&quot;, reviewReply.subject());</span>
 440             assertTrue(reviewReply.body().contains(&quot;Review comment\n\n&quot;), reviewReply.body());
 441             assertTrue(reviewReply.body().contains(&quot;Another review comment&quot;), reviewReply.body());
 442 
 443             // Now reply to the first (collapsed) comment
 444             pr.addReviewCommentReply(first, &quot;I agree&quot;);
 445             TestBotRunner.runPeriodicItems(mlBot);
 446             listServer.processIncoming();
 447 
 448             // The archive should contain a new entry
 449             Repository.materialize(archiveFolder.path(), archive.url(), &quot;master&quot;);
 450             assertEquals(3, archiveContainsCount(archiveFolder.path(), &quot;^On.*wrote:&quot;));
 451 
 452             // The combined review comments should only appear unquoted once
 453             assertEquals(1, archiveContainsCount(archiveFolder.path(), &quot;^Another review comment&quot;));
 454         }
 455     }
 456 
 457     @Test
 458     void commentThreading(TestInfo testInfo) throws IOException {
 459         try (var credentials = new HostCredentials(testInfo);
</pre>
<hr />
<pre>
 532             Repository.materialize(archiveFolder.path(), archive.url(), &quot;master&quot;);
 533             assertEquals(9, archiveContainsCount(archiveFolder.path(), &quot;^On.*wrote:&quot;));
 534 
 535             // File specific comments should appear after the approval
 536             var archiveText = archiveContents(archiveFolder.path()).orElseThrow();
 537             assertTrue(archiveText.indexOf(&quot;Looks fine&quot;) &lt; archiveText.indexOf(&quot;The final review comment&quot;));
 538 
 539             // Check the mailing list
 540             var mailmanServer = MailingListServerFactory.createMailmanServer(listServer.getArchive(), listServer.getSMTP(), Duration.ZERO);
 541             var mailmanList = mailmanServer.getList(listAddress.address());
 542             var conversations = mailmanList.conversations(Duration.ofDays(1));
 543             assertEquals(1, conversations.size());
 544             var mail = conversations.get(0).first();
 545             assertEquals(&quot;RFR: This is a pull request&quot;, mail.subject());
 546             assertEquals(10, conversations.get(0).allMessages().size());
 547 
 548             // There should be four separate threads
 549             var thread1 = conversations.get(0).replies(mail).get(0);
 550             assertEquals(2, thread1.body().split(&quot;^On.*wrote:&quot;).length);
 551             assertEquals(2, thread1.body().split(&quot;&gt; This is now ready&quot;).length, thread1.body());
<span class="line-modified"> 552             assertEquals(&quot;Re: RFR: This is a pull request&quot;, thread1.subject());</span>
 553             assertTrue(thread1.body().contains(&quot;Review comment\n\n&quot;), thread1.body());
 554             assertFalse(thread1.body().contains(&quot;Another review comment&quot;), thread1.body());
 555             var thread1reply1 = conversations.get(0).replies(thread1).get(0);
 556             assertTrue(thread1reply1.body().contains(&quot;I agree&quot;));
 557             assertEquals(noreplyAddress(archive), thread1reply1.author().address());
 558             assertEquals(archive.forge().currentUser().fullName(), thread1reply1.author().fullName().orElseThrow());
 559             var thread1reply2 = conversations.get(0).replies(thread1reply1).get(0);
 560             assertTrue(thread1reply2.body().contains(&quot;Great&quot;));
 561             assertEquals(&quot;integrationreviewer1@openjdk.java.net&quot;, thread1reply2.author().address());
 562             assertEquals(&quot;Generated Reviewer 1&quot;, thread1reply2.author().fullName().orElseThrow());
 563 
 564             var thread2 = conversations.get(0).replies(mail).get(1);
 565             assertEquals(2, thread2.body().split(&quot;^On.*wrote:&quot;).length);
 566             assertEquals(2, thread2.body().split(&quot;&gt; This is now ready&quot;).length, thread2.body());
<span class="line-modified"> 567             assertEquals(&quot;Re: RFR: This is a pull request&quot;, thread2.subject());</span>
 568             assertFalse(thread2.body().contains(&quot;Review comment\n\n&quot;), thread2.body());
 569             assertTrue(thread2.body().contains(&quot;Another review comment&quot;), thread2.body());
 570             var thread2reply1 = conversations.get(0).replies(thread2).get(0);
 571             assertTrue(thread2reply1.body().contains(&quot;Sounds good&quot;));
 572             var thread2reply2 = conversations.get(0).replies(thread2reply1).get(0);
 573             assertTrue(thread2reply2.body().contains(&quot;Thanks&quot;));
 574 
 575             var replies = conversations.get(0).replies(mail);
 576             var thread3 = replies.get(2);
<span class="line-modified"> 577             assertEquals(&quot;Re: RFR: This is a pull request&quot;, thread3.subject());</span>
 578             var thread4 = replies.get(3);
<span class="line-modified"> 579             assertEquals(&quot;Re: RFR: This is a pull request&quot;, thread4.subject());</span>
 580             assertTrue(thread4.body().contains(&quot;Looks fine&quot;));
 581             assertTrue(thread4.body().contains(&quot;The final review comment&quot;));
 582             assertTrue(thread4.body().contains(&quot;Marked as reviewed by integrationreviewer1 (Reviewer)&quot;));
 583         }
 584     }
 585 
 586     @Test
 587     void commentThreadingSeparated(TestInfo testInfo) throws IOException {
 588         try (var credentials = new HostCredentials(testInfo);
 589              var tempFolder = new TemporaryDirectory();
 590              var archiveFolder = new TemporaryDirectory();
 591              var listServer = new TestMailmanServer();
 592              var webrevServer = new TestWebrevServer()) {
 593             var author = credentials.getHostedRepository();
 594             var reviewer = credentials.getHostedRepository();
 595             var archive = credentials.getHostedRepository();
 596             var listAddress = EmailAddress.parse(listServer.createList(&quot;test&quot;));
 597             var censusBuilder = credentials.getCensusBuilder()
 598                                            .addReviewer(reviewer.forge().currentUser().id())
 599                                            .addAuthor(author.forge().currentUser().id());
</pre>
<hr />
<pre>
 952                 localRepo.push(anotherHash, author.url(), &quot;edit&quot;);
 953 
 954                 // Make sure that the push registered
 955                 lastHeadHash = pr.headHash();
 956                 refreshCount = 0;
 957                 do {
 958                     pr = author.pullRequest(pr.id());
 959                     if (refreshCount++ &gt; 100) {
 960                         fail(&quot;The PR did not update after the new push&quot;);
 961                     }
 962                 } while (pr.headHash().equals(lastHeadHash));
 963 
 964                 TestBotRunner.runPeriodicItems(mlBot);
 965                 TestBotRunner.runPeriodicItems(mlBot);
 966                 listServer.processIncoming();
 967             }
 968             var updatedConversations = mailmanList.conversations(Duration.ofDays(1));
 969             assertEquals(1, updatedConversations.size());
 970             var conversation = updatedConversations.get(0);
 971             assertEquals(6, conversation.allMessages().size());
<span class="line-modified"> 972             assertEquals(&quot;Re: [Rev 01] RFR: This is a pull request&quot;, conversation.allMessages().get(1).subject());</span>
<span class="line-modified"> 973             assertEquals(&quot;Re: [Rev 01] RFR: This is a pull request&quot;, conversation.allMessages().get(2).subject(), conversation.allMessages().get(2).toString());</span>
<span class="line-modified"> 974             assertEquals(&quot;Re: [Rev 04] RFR: This is a pull request&quot;, conversation.allMessages().get(5).subject());</span>
 975         }
 976     }
 977 
 978     @Test
 979     void rebased(TestInfo testInfo) throws IOException {
 980         try (var credentials = new HostCredentials(testInfo);
 981              var tempFolder = new TemporaryDirectory();
 982              var archiveFolder = new TemporaryDirectory();
 983              var listServer = new TestMailmanServer();
 984              var webrevServer = new TestWebrevServer()) {
 985             var author = credentials.getHostedRepository();
 986             var archive = credentials.getHostedRepository();
 987             var listAddress = EmailAddress.parse(listServer.createList(&quot;test&quot;));
 988             var censusBuilder = credentials.getCensusBuilder()
 989                                            .addAuthor(author.forge().currentUser().id());
 990             var sender = EmailAddress.from(&quot;test&quot;, &quot;test@test.mail&quot;);
 991             var mlBot = MailingListBridgeBot.newBuilder()
 992                                             .from(sender)
 993                                             .repo(author)
 994                                             .archive(archive)
</pre>
<hr />
<pre>
1050 
1051             // The webrev comment should be updated
1052             var comments = pr.comments();
1053             var webrevComments = comments.stream()
1054                                          .filter(comment -&gt; comment.author().equals(author.forge().currentUser()))
1055                                          .filter(comment -&gt; comment.body().contains(&quot;webrev&quot;))
1056                                          .filter(comment -&gt; comment.body().contains(newEditHash.hex()))
1057                                          .collect(Collectors.toList());
1058             assertEquals(1, webrevComments.size());
1059 
1060             // Check that sender address is set properly
1061             var mailmanServer = MailingListServerFactory.createMailmanServer(listServer.getArchive(), listServer.getSMTP(), Duration.ZERO);
1062             var mailmanList = mailmanServer.getList(listAddress.address());
1063             var conversations = mailmanList.conversations(Duration.ofDays(1));
1064             assertEquals(1, conversations.size());
1065             for (var newMail : conversations.get(0).allMessages()) {
1066                 assertEquals(noreplyAddress(archive), newMail.author().address());
1067                 assertEquals(listAddress, newMail.sender());
1068                 assertFalse(newMail.hasHeader(&quot;PR-Head-Hash&quot;));
1069             }
<span class="line-modified">1070             assertEquals(&quot;Re: [Rev 01] RFR: This is a pull request&quot;, conversations.get(0).allMessages().get(1).subject());</span>
1071         }
1072     }
1073 
1074     @Test
1075     void incrementalAfterRebase(TestInfo testInfo) throws IOException {
1076         try (var credentials = new HostCredentials(testInfo);
1077              var tempFolder = new TemporaryDirectory();
1078              var archiveFolder = new TemporaryDirectory();
1079              var listServer = new TestMailmanServer();
1080              var webrevServer = new TestWebrevServer()) {
1081             var author = credentials.getHostedRepository();
1082             var archive = credentials.getHostedRepository();
1083             var listAddress = EmailAddress.parse(listServer.createList(&quot;test&quot;));
1084             var censusBuilder = credentials.getCensusBuilder()
1085                                            .addAuthor(author.forge().currentUser().id());
1086             var sender = EmailAddress.from(&quot;test&quot;, &quot;test@test.mail&quot;);
1087             var mlBot = MailingListBridgeBot.newBuilder()
1088                                             .from(sender)
1089                                             .repo(author)
1090                                             .archive(archive)
</pre>
</td>
<td>
<hr />
<pre>
 419             // The archive should contain a combined entry
 420             Repository.materialize(archiveFolder.path(), archive.url(), &quot;master&quot;);
 421             assertEquals(2, archiveContainsCount(archiveFolder.path(), &quot;^On.*wrote:&quot;));
 422 
 423             // As well as the mailing list
 424             var mailmanServer = MailingListServerFactory.createMailmanServer(listServer.getArchive(), listServer.getSMTP(), Duration.ZERO);
 425             var mailmanList = mailmanServer.getList(listAddress.address());
 426             var conversations = mailmanList.conversations(Duration.ofDays(1));
 427             assertEquals(1, conversations.size());
 428             var mail = conversations.get(0).first();
 429             assertEquals(&quot;RFR: This is a pull request&quot;, mail.subject());
 430             assertEquals(3, conversations.get(0).allMessages().size());
 431 
 432             var commentReply = conversations.get(0).replies(mail).get(0);
 433             assertEquals(2, commentReply.body().split(&quot;^On.*wrote:&quot;).length);
 434             assertTrue(commentReply.body().contains(&quot;Avoid combining\n\n&quot;), commentReply.body());
 435 
 436             var reviewReply = conversations.get(0).replies(mail).get(1);
 437             assertEquals(2, reviewReply.body().split(&quot;^On.*wrote:&quot;).length);
 438             assertEquals(2, reviewReply.body().split(&quot;&gt; This is now ready&quot;).length, reviewReply.body());
<span class="line-modified"> 439             assertEquals(&quot;RFR: This is a pull request&quot;, reviewReply.subject());</span>
 440             assertTrue(reviewReply.body().contains(&quot;Review comment\n\n&quot;), reviewReply.body());
 441             assertTrue(reviewReply.body().contains(&quot;Another review comment&quot;), reviewReply.body());
 442 
 443             // Now reply to the first (collapsed) comment
 444             pr.addReviewCommentReply(first, &quot;I agree&quot;);
 445             TestBotRunner.runPeriodicItems(mlBot);
 446             listServer.processIncoming();
 447 
 448             // The archive should contain a new entry
 449             Repository.materialize(archiveFolder.path(), archive.url(), &quot;master&quot;);
 450             assertEquals(3, archiveContainsCount(archiveFolder.path(), &quot;^On.*wrote:&quot;));
 451 
 452             // The combined review comments should only appear unquoted once
 453             assertEquals(1, archiveContainsCount(archiveFolder.path(), &quot;^Another review comment&quot;));
 454         }
 455     }
 456 
 457     @Test
 458     void commentThreading(TestInfo testInfo) throws IOException {
 459         try (var credentials = new HostCredentials(testInfo);
</pre>
<hr />
<pre>
 532             Repository.materialize(archiveFolder.path(), archive.url(), &quot;master&quot;);
 533             assertEquals(9, archiveContainsCount(archiveFolder.path(), &quot;^On.*wrote:&quot;));
 534 
 535             // File specific comments should appear after the approval
 536             var archiveText = archiveContents(archiveFolder.path()).orElseThrow();
 537             assertTrue(archiveText.indexOf(&quot;Looks fine&quot;) &lt; archiveText.indexOf(&quot;The final review comment&quot;));
 538 
 539             // Check the mailing list
 540             var mailmanServer = MailingListServerFactory.createMailmanServer(listServer.getArchive(), listServer.getSMTP(), Duration.ZERO);
 541             var mailmanList = mailmanServer.getList(listAddress.address());
 542             var conversations = mailmanList.conversations(Duration.ofDays(1));
 543             assertEquals(1, conversations.size());
 544             var mail = conversations.get(0).first();
 545             assertEquals(&quot;RFR: This is a pull request&quot;, mail.subject());
 546             assertEquals(10, conversations.get(0).allMessages().size());
 547 
 548             // There should be four separate threads
 549             var thread1 = conversations.get(0).replies(mail).get(0);
 550             assertEquals(2, thread1.body().split(&quot;^On.*wrote:&quot;).length);
 551             assertEquals(2, thread1.body().split(&quot;&gt; This is now ready&quot;).length, thread1.body());
<span class="line-modified"> 552             assertEquals(&quot;RFR: This is a pull request&quot;, thread1.subject());</span>
 553             assertTrue(thread1.body().contains(&quot;Review comment\n\n&quot;), thread1.body());
 554             assertFalse(thread1.body().contains(&quot;Another review comment&quot;), thread1.body());
 555             var thread1reply1 = conversations.get(0).replies(thread1).get(0);
 556             assertTrue(thread1reply1.body().contains(&quot;I agree&quot;));
 557             assertEquals(noreplyAddress(archive), thread1reply1.author().address());
 558             assertEquals(archive.forge().currentUser().fullName(), thread1reply1.author().fullName().orElseThrow());
 559             var thread1reply2 = conversations.get(0).replies(thread1reply1).get(0);
 560             assertTrue(thread1reply2.body().contains(&quot;Great&quot;));
 561             assertEquals(&quot;integrationreviewer1@openjdk.java.net&quot;, thread1reply2.author().address());
 562             assertEquals(&quot;Generated Reviewer 1&quot;, thread1reply2.author().fullName().orElseThrow());
 563 
 564             var thread2 = conversations.get(0).replies(mail).get(1);
 565             assertEquals(2, thread2.body().split(&quot;^On.*wrote:&quot;).length);
 566             assertEquals(2, thread2.body().split(&quot;&gt; This is now ready&quot;).length, thread2.body());
<span class="line-modified"> 567             assertEquals(&quot;RFR: This is a pull request&quot;, thread2.subject());</span>
 568             assertFalse(thread2.body().contains(&quot;Review comment\n\n&quot;), thread2.body());
 569             assertTrue(thread2.body().contains(&quot;Another review comment&quot;), thread2.body());
 570             var thread2reply1 = conversations.get(0).replies(thread2).get(0);
 571             assertTrue(thread2reply1.body().contains(&quot;Sounds good&quot;));
 572             var thread2reply2 = conversations.get(0).replies(thread2reply1).get(0);
 573             assertTrue(thread2reply2.body().contains(&quot;Thanks&quot;));
 574 
 575             var replies = conversations.get(0).replies(mail);
 576             var thread3 = replies.get(2);
<span class="line-modified"> 577             assertEquals(&quot;RFR: This is a pull request&quot;, thread3.subject());</span>
 578             var thread4 = replies.get(3);
<span class="line-modified"> 579             assertEquals(&quot;RFR: This is a pull request&quot;, thread4.subject());</span>
 580             assertTrue(thread4.body().contains(&quot;Looks fine&quot;));
 581             assertTrue(thread4.body().contains(&quot;The final review comment&quot;));
 582             assertTrue(thread4.body().contains(&quot;Marked as reviewed by integrationreviewer1 (Reviewer)&quot;));
 583         }
 584     }
 585 
 586     @Test
 587     void commentThreadingSeparated(TestInfo testInfo) throws IOException {
 588         try (var credentials = new HostCredentials(testInfo);
 589              var tempFolder = new TemporaryDirectory();
 590              var archiveFolder = new TemporaryDirectory();
 591              var listServer = new TestMailmanServer();
 592              var webrevServer = new TestWebrevServer()) {
 593             var author = credentials.getHostedRepository();
 594             var reviewer = credentials.getHostedRepository();
 595             var archive = credentials.getHostedRepository();
 596             var listAddress = EmailAddress.parse(listServer.createList(&quot;test&quot;));
 597             var censusBuilder = credentials.getCensusBuilder()
 598                                            .addReviewer(reviewer.forge().currentUser().id())
 599                                            .addAuthor(author.forge().currentUser().id());
</pre>
<hr />
<pre>
 952                 localRepo.push(anotherHash, author.url(), &quot;edit&quot;);
 953 
 954                 // Make sure that the push registered
 955                 lastHeadHash = pr.headHash();
 956                 refreshCount = 0;
 957                 do {
 958                     pr = author.pullRequest(pr.id());
 959                     if (refreshCount++ &gt; 100) {
 960                         fail(&quot;The PR did not update after the new push&quot;);
 961                     }
 962                 } while (pr.headHash().equals(lastHeadHash));
 963 
 964                 TestBotRunner.runPeriodicItems(mlBot);
 965                 TestBotRunner.runPeriodicItems(mlBot);
 966                 listServer.processIncoming();
 967             }
 968             var updatedConversations = mailmanList.conversations(Duration.ofDays(1));
 969             assertEquals(1, updatedConversations.size());
 970             var conversation = updatedConversations.get(0);
 971             assertEquals(6, conversation.allMessages().size());
<span class="line-modified"> 972             assertEquals(&quot;[Rev 01] RFR: This is a pull request&quot;, conversation.allMessages().get(1).subject());</span>
<span class="line-modified"> 973             assertEquals(&quot;[Rev 01] RFR: This is a pull request&quot;, conversation.allMessages().get(2).subject(), conversation.allMessages().get(2).toString());</span>
<span class="line-modified"> 974             assertEquals(&quot;[Rev 04] RFR: This is a pull request&quot;, conversation.allMessages().get(5).subject());</span>
 975         }
 976     }
 977 
 978     @Test
 979     void rebased(TestInfo testInfo) throws IOException {
 980         try (var credentials = new HostCredentials(testInfo);
 981              var tempFolder = new TemporaryDirectory();
 982              var archiveFolder = new TemporaryDirectory();
 983              var listServer = new TestMailmanServer();
 984              var webrevServer = new TestWebrevServer()) {
 985             var author = credentials.getHostedRepository();
 986             var archive = credentials.getHostedRepository();
 987             var listAddress = EmailAddress.parse(listServer.createList(&quot;test&quot;));
 988             var censusBuilder = credentials.getCensusBuilder()
 989                                            .addAuthor(author.forge().currentUser().id());
 990             var sender = EmailAddress.from(&quot;test&quot;, &quot;test@test.mail&quot;);
 991             var mlBot = MailingListBridgeBot.newBuilder()
 992                                             .from(sender)
 993                                             .repo(author)
 994                                             .archive(archive)
</pre>
<hr />
<pre>
1050 
1051             // The webrev comment should be updated
1052             var comments = pr.comments();
1053             var webrevComments = comments.stream()
1054                                          .filter(comment -&gt; comment.author().equals(author.forge().currentUser()))
1055                                          .filter(comment -&gt; comment.body().contains(&quot;webrev&quot;))
1056                                          .filter(comment -&gt; comment.body().contains(newEditHash.hex()))
1057                                          .collect(Collectors.toList());
1058             assertEquals(1, webrevComments.size());
1059 
1060             // Check that sender address is set properly
1061             var mailmanServer = MailingListServerFactory.createMailmanServer(listServer.getArchive(), listServer.getSMTP(), Duration.ZERO);
1062             var mailmanList = mailmanServer.getList(listAddress.address());
1063             var conversations = mailmanList.conversations(Duration.ofDays(1));
1064             assertEquals(1, conversations.size());
1065             for (var newMail : conversations.get(0).allMessages()) {
1066                 assertEquals(noreplyAddress(archive), newMail.author().address());
1067                 assertEquals(listAddress, newMail.sender());
1068                 assertFalse(newMail.hasHeader(&quot;PR-Head-Hash&quot;));
1069             }
<span class="line-modified">1070             assertEquals(&quot;[Rev 01] RFR: This is a pull request&quot;, conversations.get(0).allMessages().get(1).subject());</span>
1071         }
1072     }
1073 
1074     @Test
1075     void incrementalAfterRebase(TestInfo testInfo) throws IOException {
1076         try (var credentials = new HostCredentials(testInfo);
1077              var tempFolder = new TemporaryDirectory();
1078              var archiveFolder = new TemporaryDirectory();
1079              var listServer = new TestMailmanServer();
1080              var webrevServer = new TestWebrevServer()) {
1081             var author = credentials.getHostedRepository();
1082             var archive = credentials.getHostedRepository();
1083             var listAddress = EmailAddress.parse(listServer.createList(&quot;test&quot;));
1084             var censusBuilder = credentials.getCensusBuilder()
1085                                            .addAuthor(author.forge().currentUser().id());
1086             var sender = EmailAddress.from(&quot;test&quot;, &quot;test@test.mail&quot;);
1087             var mlBot = MailingListBridgeBot.newBuilder()
1088                                             .from(sender)
1089                                             .repo(author)
1090                                             .archive(archive)
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../notify/src/main/java/org/openjdk/skara/bots/notify/MailingListUpdater.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>