<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff test/src/main/java/org/openjdk/skara/test/HostCredentials.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../host/src/main/java/org/openjdk/skara/host/github/GitHubRepository.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>test/src/main/java/org/openjdk/skara/test/HostCredentials.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 50         HostedRepository getHostedRepository(Host host);
 51         String getNamespaceName();
 52         default void close() {}
 53     }
 54 
 55     private static class GitHubCredentials implements Credentials {
 56         private final JSONObject config;
 57         private final Path configDir;
 58 
 59         GitHubCredentials(JSONObject config, Path configDir) {
 60             this.config = config;
 61             this.configDir = configDir;
 62         }
 63 
 64         @Override
 65         public Host createNewHost(int userIndex) {
 66             var hostUri = URIBuilder.base(config.get(&quot;host&quot;).asString()).build();
 67             var apps = config.get(&quot;apps&quot;).asArray();
 68             var key = configDir.resolve(apps.get(userIndex).get(&quot;key&quot;).asString());
 69             return HostFactory.createGitHubHost(hostUri,

 70                                                 key.toString(),
 71                                                 apps.get(userIndex).get(&quot;id&quot;).asString(),
 72                                                 apps.get(userIndex).get(&quot;installation&quot;).asString());
 73         }
 74 
 75         @Override
 76         public HostedRepository getHostedRepository(Host host) {
 77             return host.getRepository(config.get(&quot;project&quot;).asString());
 78         }
 79 
 80         @Override
 81         public String getNamespaceName() {
 82             return config.get(&quot;namespace&quot;).asString();
 83         }
 84     }
 85 
 86     private static class GitLabCredentials implements Credentials {
 87         private final JSONObject config;
 88 
 89         GitLabCredentials(JSONObject config) {
</pre>
</td>
<td>
<hr />
<pre>
 50         HostedRepository getHostedRepository(Host host);
 51         String getNamespaceName();
 52         default void close() {}
 53     }
 54 
 55     private static class GitHubCredentials implements Credentials {
 56         private final JSONObject config;
 57         private final Path configDir;
 58 
 59         GitHubCredentials(JSONObject config, Path configDir) {
 60             this.config = config;
 61             this.configDir = configDir;
 62         }
 63 
 64         @Override
 65         public Host createNewHost(int userIndex) {
 66             var hostUri = URIBuilder.base(config.get(&quot;host&quot;).asString()).build();
 67             var apps = config.get(&quot;apps&quot;).asArray();
 68             var key = configDir.resolve(apps.get(userIndex).get(&quot;key&quot;).asString());
 69             return HostFactory.createGitHubHost(hostUri,
<span class="line-added"> 70                                                 hostUri,</span>
 71                                                 key.toString(),
 72                                                 apps.get(userIndex).get(&quot;id&quot;).asString(),
 73                                                 apps.get(userIndex).get(&quot;installation&quot;).asString());
 74         }
 75 
 76         @Override
 77         public HostedRepository getHostedRepository(Host host) {
 78             return host.getRepository(config.get(&quot;project&quot;).asString());
 79         }
 80 
 81         @Override
 82         public String getNamespaceName() {
 83             return config.get(&quot;namespace&quot;).asString();
 84         }
 85     }
 86 
 87     private static class GitLabCredentials implements Credentials {
 88         private final JSONObject config;
 89 
 90         GitLabCredentials(JSONObject config) {
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../host/src/main/java/org/openjdk/skara/host/github/GitHubRepository.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>