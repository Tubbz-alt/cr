diff a/bots/hgbridge/src/test/java/org/openjdk/skara/bots/hgbridge/BridgeBotTests.java b/bots/hgbridge/src/test/java/org/openjdk/skara/bots/hgbridge/BridgeBotTests.java
--- a/bots/hgbridge/src/test/java/org/openjdk/skara/bots/hgbridge/BridgeBotTests.java
+++ b/bots/hgbridge/src/test/java/org/openjdk/skara/bots/hgbridge/BridgeBotTests.java
@@ -29,11 +29,10 @@
 import org.openjdk.skara.vcs.Tag;
 import org.openjdk.skara.vcs.*;
 import org.openjdk.skara.vcs.openjdk.convert.*;
 
 import org.junit.jupiter.api.*;
-import org.junit.jupiter.api.condition.*;
 
 import java.io.*;
 import java.net.URI;
 import java.nio.charset.StandardCharsets;
 import java.nio.file.*;
@@ -42,11 +41,10 @@
 import java.util.*;
 import java.util.stream.Collectors;
 
 import static org.junit.jupiter.api.Assertions.*;
 
-@DisabledOnOs(OS.WINDOWS)
 @TestInstance(TestInstance.Lifecycle.PER_CLASS)
 class BridgeBotTests {
     private List<String> runHgCommand(Repository repository, String... params) throws IOException {
         List<String> finalParams = new ArrayList<>();
         finalParams.add("hg");
@@ -128,11 +126,10 @@
 
     @BeforeAll
     void setup() throws IOException {
         // Export the beginning of the jtreg repository
         sourceFolder = new TemporaryDirectory();
-        Assumptions.assumeFalse(OS.WINDOWS.isCurrentOs(), "Running on Windows -- skipping tests");
         try {
             var localRepo = Repository.materialize(sourceFolder.path(), URIBuilder.base("http://hg.openjdk.java.net/code-tools/jtreg").build(), "default");
             runHgCommand(localRepo, "strip", "-r", "b2511c725d81");
 
             // Create a lockfile in the mercurial repo, as it will overwrite the existing lock in the remote git repo
diff a/buildSrc/module/src/main/java/org/openjdk/skara/gradle/module/ModulePlugin.java b/buildSrc/module/src/main/java/org/openjdk/skara/gradle/module/ModulePlugin.java
--- a/buildSrc/module/src/main/java/org/openjdk/skara/gradle/module/ModulePlugin.java
+++ b/buildSrc/module/src/main/java/org/openjdk/skara/gradle/module/ModulePlugin.java
@@ -101,10 +101,11 @@
                         var outputDir = testSourceSet.getJava().getOutputDir().toString();
                         var classpath = testTask.getClasspath().getAsPath();
 
                         var jvmArgs = new ArrayList<String>(testTask.getJvmArgs());
                         jvmArgs.addAll(List.of(
+                                "-Djunit.jupiter.extensions.autodetection.enabled=true",
                                 "--module-path", classpath,
                                 "--add-modules", "ALL-MODULE-PATH",
                                 "--patch-module", moduleName + "=" + outputDir,
                                 "--illegal-access=deny"
                         ));
diff a/test/src/main/java/module-info.java b/test/src/main/java/module-info.java
--- a/test/src/main/java/module-info.java
+++ b/test/src/main/java/module-info.java
@@ -34,7 +34,10 @@
     requires org.openjdk.skara.proxy;
 
     requires org.junit.jupiter.api;
 
     exports org.openjdk.skara.test;
+
+    provides org.junit.jupiter.api.extension.Extension
+        with org.openjdk.skara.test.DisableAllBotsTestsOnWindows;
 }
 
diff a/test/src/main/java/org/openjdk/skara/test/DisableAllBotsTestsOnWindows.java b/test/src/main/java/org/openjdk/skara/test/DisableAllBotsTestsOnWindows.java
--- /dev/null
+++ b/test/src/main/java/org/openjdk/skara/test/DisableAllBotsTestsOnWindows.java
@@ -0,0 +1,43 @@
+/*
+ * Copyright (c) 2019, Oracle and/or its affiliates. All rights reserved.
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
+ *
+ * This code is free software; you can redistribute it and/or modify it
+ * under the terms of the GNU General Public License version 2 only, as
+ * published by the Free Software Foundation.
+ *
+ * This code is distributed in the hope that it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
+ * version 2 for more details (a copy is included in the LICENSE file that
+ * accompanied this code).
+ *
+ * You should have received a copy of the GNU General Public License version
+ * 2 along with this work; if not, write to the Free Software Foundation,
+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
+ *
+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
+ * or visit www.oracle.com if you need additional information or have any
+ * questions.
+ */
+package org.openjdk.skara.test;
+
+import static org.junit.jupiter.api.extension.ConditionEvaluationResult.disabled;
+import static org.junit.jupiter.api.extension.ConditionEvaluationResult.enabled;
+
+import org.junit.jupiter.api.condition.OS;
+import org.junit.jupiter.api.extension.ConditionEvaluationResult;
+import org.junit.jupiter.api.extension.ExecutionCondition;
+import org.junit.jupiter.api.extension.ExtensionContext;
+
+public class DisableAllBotsTestsOnWindows implements ExecutionCondition {
+    @Override
+    public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {
+        if (!OS.WINDOWS.isCurrentOs()) {
+            return enabled("Non-Windows OS");
+        }
+        var test = context.getRequiredTestClass();
+        var bots = test.getPackageName().startsWith("org.openjdk.skara.bots.");
+        return bots ? disabled("All bots tests are disabled on Windows") : enabled("Non-bots test");
+    }
+}
