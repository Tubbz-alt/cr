<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff census/src/test/java/org/openjdk/skara/census/CensusTests.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../main/java/org/openjdk/skara/census/Namespace.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>census/src/test/java/org/openjdk/skara/census/CensusTests.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 94     }
 95 
 96     @Test
 97     void testParseCensusDirectory() throws IOException {
 98         var censusDir = createCensusDirectory();
 99         var census = Census.parse(censusDir);
100 
101         var c1 = new Contributor(&quot;user1&quot;, &quot;User One&quot;);
102         var c2 = new Contributor(&quot;user2&quot;, &quot;User Two&quot;);
103         var c3 = new Contributor(&quot;user3&quot;, &quot;User Three&quot;);
104         var c4 = new Contributor(&quot;user4&quot;, &quot;User Four&quot;);
105         assertEquals(List.of(c1, c2, c3, c4), census.contributors());
106 
107         var g1 = new Group(&quot;group1&quot;, &quot;Group One&quot;, c3, List.of(c1, c2, c3));
108         assertEquals(List.of(g1), census.groups());
109 
110         var p1 = new Project(&quot;project1&quot;, &quot;Project One&quot;, g1,
111                              List.of(new Member(c1, 1)), List.of(new Member(c2, 1)), List.of(new Member(c3, 1)), List.of(new Member(c4, 1)));
112         assertEquals(List.of(p1), census.projects());
113 







114         assertEquals(1, census.version().format());
115     }
116 
117     @Test
118     void testParseSingleFile() throws IOException {
119         var contents = List.of(
120             &quot;&lt;census time=\&quot;2019-01-22T13:51:55-08:00\&quot;&gt;&quot;,
121             &quot;  &lt;person name=\&quot;user1\&quot;&gt;&quot;,
122             &quot;    &lt;full-name&gt;User One&lt;/full-name&gt;&quot;,
123             &quot;    &lt;org&gt;Org One&lt;/org&gt;&quot;,
124             &quot;  &lt;/person&gt;&quot;,
125             &quot;  &lt;person name=\&quot;user2\&quot;&gt;&quot;,
126             &quot;    &lt;full-name&gt;User Two&lt;/full-name&gt;&quot;,
127             &quot;    &lt;org&gt;Org Two&lt;/org&gt;&quot;,
128             &quot;  &lt;/person&gt;&quot;,
129             &quot;  &lt;group name=\&quot;group1\&quot;&gt;&quot;,
130             &quot;    &lt;full-name&gt;Group One&lt;/full-name&gt;&quot;,
131             &quot;    &lt;person ref=\&quot;user1\&quot; role=\&quot;lead\&quot; /&gt;&quot;,
132             &quot;    &lt;person ref=\&quot;user2\&quot; /&gt;&quot;,
133             &quot;  &lt;/group&gt;&quot;,
</pre>
</td>
<td>
<hr />
<pre>
 94     }
 95 
 96     @Test
 97     void testParseCensusDirectory() throws IOException {
 98         var censusDir = createCensusDirectory();
 99         var census = Census.parse(censusDir);
100 
101         var c1 = new Contributor(&quot;user1&quot;, &quot;User One&quot;);
102         var c2 = new Contributor(&quot;user2&quot;, &quot;User Two&quot;);
103         var c3 = new Contributor(&quot;user3&quot;, &quot;User Three&quot;);
104         var c4 = new Contributor(&quot;user4&quot;, &quot;User Four&quot;);
105         assertEquals(List.of(c1, c2, c3, c4), census.contributors());
106 
107         var g1 = new Group(&quot;group1&quot;, &quot;Group One&quot;, c3, List.of(c1, c2, c3));
108         assertEquals(List.of(g1), census.groups());
109 
110         var p1 = new Project(&quot;project1&quot;, &quot;Project One&quot;, g1,
111                              List.of(new Member(c1, 1)), List.of(new Member(c2, 1)), List.of(new Member(c3, 1)), List.of(new Member(c4, 1)));
112         assertEquals(List.of(p1), census.projects());
113 
<span class="line-added">114         var namespace = census.namespace(&quot;github.com&quot;);</span>
<span class="line-added">115         assertEquals(&quot;github.com&quot;, namespace.name());</span>
<span class="line-added">116         assertEquals(c1, namespace.get(&quot;1234567&quot;));</span>
<span class="line-added">117         assertEquals(c2, namespace.get(&quot;2345678&quot;));</span>
<span class="line-added">118         assertEquals(&quot;1234567&quot;, namespace.get(c1));</span>
<span class="line-added">119         assertEquals(&quot;2345678&quot;, namespace.get(c2));</span>
<span class="line-added">120 </span>
121         assertEquals(1, census.version().format());
122     }
123 
124     @Test
125     void testParseSingleFile() throws IOException {
126         var contents = List.of(
127             &quot;&lt;census time=\&quot;2019-01-22T13:51:55-08:00\&quot;&gt;&quot;,
128             &quot;  &lt;person name=\&quot;user1\&quot;&gt;&quot;,
129             &quot;    &lt;full-name&gt;User One&lt;/full-name&gt;&quot;,
130             &quot;    &lt;org&gt;Org One&lt;/org&gt;&quot;,
131             &quot;  &lt;/person&gt;&quot;,
132             &quot;  &lt;person name=\&quot;user2\&quot;&gt;&quot;,
133             &quot;    &lt;full-name&gt;User Two&lt;/full-name&gt;&quot;,
134             &quot;    &lt;org&gt;Org Two&lt;/org&gt;&quot;,
135             &quot;  &lt;/person&gt;&quot;,
136             &quot;  &lt;group name=\&quot;group1\&quot;&gt;&quot;,
137             &quot;    &lt;full-name&gt;Group One&lt;/full-name&gt;&quot;,
138             &quot;    &lt;person ref=\&quot;user1\&quot; role=\&quot;lead\&quot; /&gt;&quot;,
139             &quot;    &lt;person ref=\&quot;user2\&quot; /&gt;&quot;,
140             &quot;  &lt;/group&gt;&quot;,
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../main/java/org/openjdk/skara/census/Namespace.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>