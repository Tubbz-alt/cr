<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/test/java/test/javafx/scene/text/TextTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../com/sun/javafx/pgstub/StubTextLayout.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/test/java/test/javafx/scene/text/TextTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
248             root.getChildren().addAll(text);
249             stage.show();
250             tk.firePulse();
251             assertEquals(8, text.getTabSize());
252             // initial width with default 8-space tab
253             double widthT8 = text.getBoundsInLocal().getWidth();
254             text.setTabSize(1);
255             tk.firePulse();
256             // width with tab at 1 spaces
257             double widthT1 = text.getBoundsInLocal().getWidth();
258             // approximate width of a single space
259             double widthSpace = (widthT8 - widthT1) / 7;
260             assertTrue(widthSpace &gt; 0);
261             text.setTabSize(4);
262             tk.firePulse();
263             // width with tab at 4 spaces
264             double widthT4 = text.getBoundsInLocal().getWidth();
265             double expected = widthT8 - 4 * widthSpace;
266             // should be approximately 4 space-widths shorter
267             assertEquals(expected, widthT4, 0.5);


268 
269             text.tabSizeProperty().set(5);
270             assertEquals(5, text.tabSizeProperty().get());

271             tk.firePulse();
272             double widthT5 = text.getBoundsInLocal().getWidth();
273             expected = widthT8 - 3 * widthSpace;
274             assertEquals(expected, widthT5, 0.5);
275 
276             // Test clamping
277             text.tabSizeProperty().set(0);
278             assertEquals(0, text.tabSizeProperty().get());
279             assertEquals(0, text.getTabSize());
280             tk.firePulse();
281             double widthT0Clamp = text.getBoundsInLocal().getWidth();
282             // values &lt; 1 are treated as 1
283             assertEquals(widthT1, widthT0Clamp, 0.5);
284         } finally {
285             stage.hide();
286         }
287   }
288 }
</pre>
</td>
<td>
<hr />
<pre>
248             root.getChildren().addAll(text);
249             stage.show();
250             tk.firePulse();
251             assertEquals(8, text.getTabSize());
252             // initial width with default 8-space tab
253             double widthT8 = text.getBoundsInLocal().getWidth();
254             text.setTabSize(1);
255             tk.firePulse();
256             // width with tab at 1 spaces
257             double widthT1 = text.getBoundsInLocal().getWidth();
258             // approximate width of a single space
259             double widthSpace = (widthT8 - widthT1) / 7;
260             assertTrue(widthSpace &gt; 0);
261             text.setTabSize(4);
262             tk.firePulse();
263             // width with tab at 4 spaces
264             double widthT4 = text.getBoundsInLocal().getWidth();
265             double expected = widthT8 - 4 * widthSpace;
266             // should be approximately 4 space-widths shorter
267             assertEquals(expected, widthT4, 0.5);
<span class="line-added">268             assertEquals(4, text.getTabSize());</span>
<span class="line-added">269             assertEquals(4, text.tabSizeProperty().get());</span>
270 
271             text.tabSizeProperty().set(5);
272             assertEquals(5, text.tabSizeProperty().get());
<span class="line-added">273             assertEquals(5, text.getTabSize());</span>
274             tk.firePulse();
275             double widthT5 = text.getBoundsInLocal().getWidth();
276             expected = widthT8 - 3 * widthSpace;
277             assertEquals(expected, widthT5, 0.5);
278 
279             // Test clamping
280             text.tabSizeProperty().set(0);
281             assertEquals(0, text.tabSizeProperty().get());
282             assertEquals(0, text.getTabSize());
283             tk.firePulse();
284             double widthT0Clamp = text.getBoundsInLocal().getWidth();
285             // values &lt; 1 are treated as 1
286             assertEquals(widthT1, widthT0Clamp, 0.5);
287         } finally {
288             stage.hide();
289         }
290   }
291 }
</pre>
</td>
</tr>
</table>
<center><a href="../../../com/sun/javafx/pgstub/StubTextLayout.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>