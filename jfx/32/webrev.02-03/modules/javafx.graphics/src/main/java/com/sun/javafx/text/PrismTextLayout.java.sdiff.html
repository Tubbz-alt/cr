<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/java/com/sun/javafx/text/PrismTextLayout.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../docs/javafx/scene/doc-files/cssref.html.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../javafx/scene/text/Text.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/java/com/sun/javafx/text/PrismTextLayout.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 634                     rect.width = run.getWidth();
 635                     rect.height = metrics.getStrikethroughThickness();
 636                     outline.append(rect, false);
 637                 }
 638                 if (text &amp;&amp; run.getGlyphCount() &gt; 0) {
 639                     tx.restoreTransform(1, 0, 0, 1, runX, runY);
 640                     Path2D path = (Path2D)fontStrike.getOutline(run, tx);
 641                     outline.append(path, false);
 642                 }
 643             }
 644         }
 645 
 646         if (text &amp;&amp; !underline &amp;&amp; !strikethrough) {
 647             shape = outline;
 648         }
 649         return outline;
 650     }
 651 
 652     @Override
 653     public boolean setTabSize(int spaces) {
<span class="line-modified"> 654         if (spaces &lt; 1)</span>
 655             spaces = 1;

 656         if (tabSize != spaces) {
 657             tabSize = spaces;
 658             relayout();
 659             return true;
 660         }
 661         return false;
 662     }
 663 
 664     /***************************************************************************
 665      *                                                                         *
 666      *                     Text Layout Implementation                          *
 667      *                                                                         *
 668      **************************************************************************/
 669 
 670     private int getLineIndex(float y) {
 671         int index = 0;
 672         float bottom = 0;
 673         int lineCount = getLineCount();
 674         while (index &lt; lineCount) {
 675             bottom += lines[index].getBounds().getHeight() + spacing;
</pre>
</td>
<td>
<hr />
<pre>
 634                     rect.width = run.getWidth();
 635                     rect.height = metrics.getStrikethroughThickness();
 636                     outline.append(rect, false);
 637                 }
 638                 if (text &amp;&amp; run.getGlyphCount() &gt; 0) {
 639                     tx.restoreTransform(1, 0, 0, 1, runX, runY);
 640                     Path2D path = (Path2D)fontStrike.getOutline(run, tx);
 641                     outline.append(path, false);
 642                 }
 643             }
 644         }
 645 
 646         if (text &amp;&amp; !underline &amp;&amp; !strikethrough) {
 647             shape = outline;
 648         }
 649         return outline;
 650     }
 651 
 652     @Override
 653     public boolean setTabSize(int spaces) {
<span class="line-modified"> 654         if (spaces &lt; 1) {</span>
 655             spaces = 1;
<span class="line-added"> 656         }</span>
 657         if (tabSize != spaces) {
 658             tabSize = spaces;
 659             relayout();
 660             return true;
 661         }
 662         return false;
 663     }
 664 
 665     /***************************************************************************
 666      *                                                                         *
 667      *                     Text Layout Implementation                          *
 668      *                                                                         *
 669      **************************************************************************/
 670 
 671     private int getLineIndex(float y) {
 672         int index = 0;
 673         float bottom = 0;
 674         int lineCount = getLineCount();
 675         while (index &lt; lineCount) {
 676             bottom += lines[index].getBounds().getHeight() + spacing;
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../docs/javafx/scene/doc-files/cssref.html.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../javafx/scene/text/Text.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>