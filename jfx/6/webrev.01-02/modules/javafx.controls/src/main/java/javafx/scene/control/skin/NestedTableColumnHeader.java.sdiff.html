<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/skin/NestedTableColumnHeader.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TableColumnHeader.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/skin/NestedTableColumnHeader.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
150 
151     private static final EventHandler&lt;MouseEvent&gt; rectMousePressed = me -&gt; {
152         Rectangle rect = (Rectangle) me.getSource();
153         TableColumnBase column = (TableColumnBase) rect.getProperties().get(TABLE_COLUMN_KEY);
154         NestedTableColumnHeader header = (NestedTableColumnHeader) rect.getProperties().get(TABLE_COLUMN_HEADER_KEY);
155 
156         if (! header.isColumnResizingEnabled()) return;
157 
158         // column reordering takes precedence over column resizing, but sometimes the mouse dragged events
159         // can be received by both nodes, leading to less than ideal UX, hence the check here.
160         if (header.getTableHeaderRow().columnDragLock) return;
161 
162         if (me.isConsumed()) return;
163         me.consume();
164 
165         if (me.getClickCount() == 2 &amp;&amp; me.isPrimaryButtonDown()) {
166             // the user wants to resize the column such that its
167             // width is equal to the widest element in the column
168             TableHeaderRow tableHeader = header.getTableHeaderRow();
169             TableColumnHeader columnHeader = tableHeader.getColumnHeaderFor(column);
<span class="line-modified">170             if(columnHeader != null){</span>
171                 columnHeader.resizeColumnToFitContent(-1);
172             }
173         } else {
174             // rather than refer to the rect variable, we just grab
175             // it from the source to prevent a small memory leak.
176             Rectangle innerRect = (Rectangle) me.getSource();
177             double startX = header.getTableHeaderRow().sceneToLocal(innerRect.localToScene(innerRect.getBoundsInLocal())).getMinX() + 2;
178             header.dragAnchorX = me.getSceneX();
179             header.columnResizingStarted(startX);
180         }
181     };
182 
183     private static final EventHandler&lt;MouseEvent&gt; rectMouseDragged = me -&gt; {
184         Rectangle rect = (Rectangle) me.getSource();
185         TableColumnBase column = (TableColumnBase) rect.getProperties().get(TABLE_COLUMN_KEY);
186         NestedTableColumnHeader header = (NestedTableColumnHeader) rect.getProperties().get(TABLE_COLUMN_HEADER_KEY);
187 
188         if (! header.isColumnResizingEnabled()) return;
189 
190         // column reordering takes precedence over column resizing, but sometimes the mouse dragged events
</pre>
</td>
<td>
<hr />
<pre>
150 
151     private static final EventHandler&lt;MouseEvent&gt; rectMousePressed = me -&gt; {
152         Rectangle rect = (Rectangle) me.getSource();
153         TableColumnBase column = (TableColumnBase) rect.getProperties().get(TABLE_COLUMN_KEY);
154         NestedTableColumnHeader header = (NestedTableColumnHeader) rect.getProperties().get(TABLE_COLUMN_HEADER_KEY);
155 
156         if (! header.isColumnResizingEnabled()) return;
157 
158         // column reordering takes precedence over column resizing, but sometimes the mouse dragged events
159         // can be received by both nodes, leading to less than ideal UX, hence the check here.
160         if (header.getTableHeaderRow().columnDragLock) return;
161 
162         if (me.isConsumed()) return;
163         me.consume();
164 
165         if (me.getClickCount() == 2 &amp;&amp; me.isPrimaryButtonDown()) {
166             // the user wants to resize the column such that its
167             // width is equal to the widest element in the column
168             TableHeaderRow tableHeader = header.getTableHeaderRow();
169             TableColumnHeader columnHeader = tableHeader.getColumnHeaderFor(column);
<span class="line-modified">170             if (columnHeader != null) {</span>
171                 columnHeader.resizeColumnToFitContent(-1);
172             }
173         } else {
174             // rather than refer to the rect variable, we just grab
175             // it from the source to prevent a small memory leak.
176             Rectangle innerRect = (Rectangle) me.getSource();
177             double startX = header.getTableHeaderRow().sceneToLocal(innerRect.localToScene(innerRect.getBoundsInLocal())).getMinX() + 2;
178             header.dragAnchorX = me.getSceneX();
179             header.columnResizingStarted(startX);
180         }
181     };
182 
183     private static final EventHandler&lt;MouseEvent&gt; rectMouseDragged = me -&gt; {
184         Rectangle rect = (Rectangle) me.getSource();
185         TableColumnBase column = (TableColumnBase) rect.getProperties().get(TABLE_COLUMN_KEY);
186         NestedTableColumnHeader header = (NestedTableColumnHeader) rect.getProperties().get(TABLE_COLUMN_HEADER_KEY);
187 
188         if (! header.isColumnResizingEnabled()) return;
189 
190         // column reordering takes precedence over column resizing, but sometimes the mouse dragged events
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="TableColumnHeader.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>