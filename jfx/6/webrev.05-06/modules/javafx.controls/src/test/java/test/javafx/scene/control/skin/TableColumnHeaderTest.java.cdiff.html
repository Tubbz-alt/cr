<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.controls/src/test/java/test/javafx/scene/control/skin/TableColumnHeaderTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../main/java/javafx/scene/control/skin/TableColumnHeader.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.controls/src/test/java/test/javafx/scene/control/skin/TableColumnHeaderTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * This code is free software; you can redistribute it and/or modify it
   * under the terms of the GNU General Public License version 2 only, as
   * published by the Free Software Foundation.  Oracle designates this
</pre>
<hr />
<pre>
<span class="line-old-header">*** 26,17 ***</span>
  package test.javafx.scene.control.skin;
  
  import com.sun.javafx.tk.Toolkit;
  import javafx.collections.FXCollections;
  import javafx.collections.ObservableList;
<span class="line-removed">- import javafx.scene.Scene;</span>
  import javafx.scene.control.TableColumn;
  import javafx.scene.control.TableView;
  import javafx.scene.control.cell.PropertyValueFactory;
  import javafx.scene.control.skin.TableColumnHeader;
<span class="line-removed">- import javafx.scene.text.Font;</span>
<span class="line-removed">- import javafx.stage.Stage;</span>
  import org.junit.Before;
  import org.junit.After;
  import org.junit.Test;
  import test.com.sun.javafx.scene.control.infrastructure.StageLoader;
  import test.com.sun.javafx.scene.control.infrastructure.VirtualFlowTestUtils;
<span class="line-new-header">--- 26,14 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 49,18 ***</span>
  public class TableColumnHeaderTest {
  
      private TableColumnHeader firstColumnHeader;
      private TableView&lt;Person&gt; tableView;
      private StageLoader sl;
<span class="line-modified">! </span>
      @Before
<span class="line-modified">!     public void before(){</span>
          ObservableList&lt;Person&gt; model = FXCollections.observableArrayList(
<span class="line-modified">!                 new Person(&quot;Humphrey McPhee&quot;, 76),</span>
<span class="line-modified">!                 new Person(&quot;Justice Caldwell&quot;, 30),</span>
<span class="line-modified">!                 new Person(&quot;Orrin Davies&quot;, 30),</span>
<span class="line-modified">!                 new Person(&quot;Emma Wilson&quot;, 8)</span>
          );
          TableColumn&lt;Person, String&gt; column = new TableColumn&lt;&gt;(&quot;Col &quot;);
          column.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));
  
          tableView = new TableView&lt;&gt;(model);
<span class="line-new-header">--- 46,22 ---</span>
  public class TableColumnHeaderTest {
  
      private TableColumnHeader firstColumnHeader;
      private TableView&lt;Person&gt; tableView;
      private StageLoader sl;
<span class="line-modified">!     private static String NAME0 = &quot;Humphrey McPhee&quot;;</span>
<span class="line-added">+     private static String NAME1 = &quot;Justice Caldwell&quot;;</span>
<span class="line-added">+     private static String NAME2 = &quot;Orrin Davies&quot;;</span>
<span class="line-added">+     private static String NAME3 = &quot;Emma Wilson&quot;;</span>
<span class="line-added">+     </span>
      @Before
<span class="line-modified">!     public void before() {</span>
          ObservableList&lt;Person&gt; model = FXCollections.observableArrayList(
<span class="line-modified">!                 new Person(NAME0, 76),</span>
<span class="line-modified">!                 new Person(NAME1, 30),</span>
<span class="line-modified">!                 new Person(NAME2, 30),</span>
<span class="line-modified">!                 new Person(NAME3, 8)</span>
          );
          TableColumn&lt;Person, String&gt; column = new TableColumn&lt;&gt;(&quot;Col &quot;);
          column.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(&quot;firstName&quot;));
  
          tableView = new TableView&lt;&gt;(model);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 75,11 ***</span>
          column.setStyle(&quot;-fx-font: System;&quot;);
          firstColumnHeader = VirtualFlowTestUtils.getTableColumnHeader(tableView, column);
      }
  
      @After
<span class="line-modified">!     public void after(){</span>
          sl.dispose();
      }
  
      /**
       * @test
<span class="line-new-header">--- 76,11 ---</span>
          column.setStyle(&quot;-fx-font: System;&quot;);
          firstColumnHeader = VirtualFlowTestUtils.getTableColumnHeader(tableView, column);
      }
  
      @After
<span class="line-modified">!     public void after() {</span>
          sl.dispose();
      }
  
      /**
       * @test
</pre>
<hr />
<pre>
<span class="line-old-header">*** 114,11 ***</span>
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertTrue(&quot;Column width must be greater&quot;,
                  width &lt; column.getWidth());
  
          //Back to initial value
<span class="line-modified">!         tableView.getItems().get(0).setFirstName(&quot;Humphrey McPhee&quot;);</span>
  
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertEquals(&quot;Width must be equal to initial value&quot;,
                  width, column.getWidth(), 0.001);
      }
<span class="line-new-header">--- 115,11 ---</span>
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertTrue(&quot;Column width must be greater&quot;,
                  width &lt; column.getWidth());
  
          //Back to initial value
<span class="line-modified">!         tableView.getItems().get(0).setFirstName(NAME0);</span>
  
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertEquals(&quot;Width must be equal to initial value&quot;,
                  width, column.getWidth(), 0.001);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 144,14 ***</span>
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertTrue(&quot;Column width must be smaller&quot;,
                  width &gt; column.getWidth());
  
          //Back to initial value
<span class="line-modified">!         tableView.getItems().get(0).setFirstName(&quot;Humphrey McPhee&quot;);</span>
<span class="line-modified">!         tableView.getItems().get(1).setFirstName(&quot;Justice Caldwell&quot;);</span>
<span class="line-modified">!         tableView.getItems().get(2).setFirstName(&quot;Orrin Davies&quot;);</span>
<span class="line-modified">!         tableView.getItems().get(3).setFirstName(&quot;Emma Wilson&quot;);</span>
  
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertEquals(&quot;Width must be equal to initial value&quot;,
                  width, column.getWidth(), 0.001);
      }
<span class="line-new-header">--- 145,14 ---</span>
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertTrue(&quot;Column width must be smaller&quot;,
                  width &gt; column.getWidth());
  
          //Back to initial value
<span class="line-modified">!         tableView.getItems().get(0).setFirstName(NAME0);</span>
<span class="line-modified">!         tableView.getItems().get(1).setFirstName(NAME1);</span>
<span class="line-modified">!         tableView.getItems().get(2).setFirstName(NAME2);</span>
<span class="line-modified">!         tableView.getItems().get(3).setFirstName(NAME3);</span>
  
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, -1);
          assertEquals(&quot;Width must be equal to initial value&quot;,
                  width, column.getWidth(), 0.001);
      }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 199,11 ***</span>
          assertEquals(&quot;Width must be the same&quot;,
                  width, column.getWidth(), 0.001);
  
  
          //Back to initial value
<span class="line-modified">!         tableView.getItems().get(3).setFirstName(&quot;Emma Wilson&quot;);</span>
  
  
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, 3);
          assertEquals(&quot;Width must be equal to initial value&quot;,
                  width, column.getWidth(), 0.001);
<span class="line-new-header">--- 200,11 ---</span>
          assertEquals(&quot;Width must be the same&quot;,
                  width, column.getWidth(), 0.001);
  
  
          //Back to initial value
<span class="line-modified">!         tableView.getItems().get(3).setFirstName(NAME3);</span>
  
  
          TableColumnHeaderShim.resizeColumnToFitContent(firstColumnHeader, 3);
          assertEquals(&quot;Width must be equal to initial value&quot;,
                  width, column.getWidth(), 0.001);
</pre>
<center><a href="../../../../../../../main/java/javafx/scene/control/skin/TableColumnHeader.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>