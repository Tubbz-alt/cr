<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/test/java/test/javafx/stage/PopupTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../scene/layout/ResizabilityTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Popup_parentWindow_Test.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/test/java/test/javafx/stage/PopupTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
434     public void testOnAutohide() {
435         Popup p1 = new Popup();
436         p1.setAutoHide(true);
437         p1.show(stage);
438         p1.setOnAutoHide(e -&gt; {
439             done = true;
440         });
441         Rectangle rect = new Rectangle(20, 20, 50, 50);
442         p1.getContent().add(rect);
443         assertFalse(done);
444 
445         final MouseEventGenerator generator = new MouseEventGenerator();
446         SceneHelper.processMouseEvent(scene,
447                 generator.generateMouseEvent(
448                         MouseEvent.MOUSE_PRESSED, 0, 0));
449 
450         // test whether runnable ran
451         assertTrue(done);
452     }
453 
<span class="line-modified">454 </span>
<span class="line-removed">455     @Ignore (&quot;Not sure how this ever worked, or what the point is&quot;)</span>
456     @Test
457     public void testPeerListener() {
458         Popup p = new Popup();
459         p.setAutoHide(true);
460         p.show(stage);
461 
462         StubPopupStage peer = (StubPopupStage) WindowHelper.getPeer(p);
463         p.sizeToScene();
464 
465         double width = p.getWidth();
466         double height = p.getHeight();
467 
468         // test changing dimensions to same values
469         p.sizeToScene();
470         assertEquals(width, p.getWidth(), 1e-100);
471         assertEquals(height, p.getHeight(), 1e-100);
472 
473         // these methods shouldn&#39;t do anything for popups,
474         // width and height should stay the same
475         peer.close();
</pre>
</td>
<td>
<hr />
<pre>
434     public void testOnAutohide() {
435         Popup p1 = new Popup();
436         p1.setAutoHide(true);
437         p1.show(stage);
438         p1.setOnAutoHide(e -&gt; {
439             done = true;
440         });
441         Rectangle rect = new Rectangle(20, 20, 50, 50);
442         p1.getContent().add(rect);
443         assertFalse(done);
444 
445         final MouseEventGenerator generator = new MouseEventGenerator();
446         SceneHelper.processMouseEvent(scene,
447                 generator.generateMouseEvent(
448                         MouseEvent.MOUSE_PRESSED, 0, 0));
449 
450         // test whether runnable ran
451         assertTrue(done);
452     }
453 
<span class="line-modified">454     @Ignore(&quot;JDK-8234161&quot;)</span>

455     @Test
456     public void testPeerListener() {
457         Popup p = new Popup();
458         p.setAutoHide(true);
459         p.show(stage);
460 
461         StubPopupStage peer = (StubPopupStage) WindowHelper.getPeer(p);
462         p.sizeToScene();
463 
464         double width = p.getWidth();
465         double height = p.getHeight();
466 
467         // test changing dimensions to same values
468         p.sizeToScene();
469         assertEquals(width, p.getWidth(), 1e-100);
470         assertEquals(height, p.getHeight(), 1e-100);
471 
472         // these methods shouldn&#39;t do anything for popups,
473         // width and height should stay the same
474         peer.close();
</pre>
</td>
</tr>
</table>
<center><a href="../scene/layout/ResizabilityTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="Popup_parentWindow_Test.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>