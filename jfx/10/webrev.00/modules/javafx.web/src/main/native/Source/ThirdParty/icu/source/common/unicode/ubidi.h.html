<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/unicode/ubidi.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
   1 // Â© 2016 and later: Unicode, Inc. and others.
   2 // License &amp; terms of use: http://www.unicode.org/copyright.html
   3 /*
   4 ******************************************************************************
   5 *
   6 *   Copyright (C) 1999-2013, International Business Machines
   7 *   Corporation and others.  All Rights Reserved.
   8 *
   9 ******************************************************************************
  10 *   file name:  ubidi.h
  11 *   encoding:   UTF-8
  12 *   tab size:   8 (not used)
  13 *   indentation:4
  14 *
  15 *   created on: 1999jul27
  16 *   created by: Markus W. Scherer, updated by Matitiahu Allouche
  17 */
  18 
  19 #ifndef UBIDI_H
  20 #define UBIDI_H
  21 
  22 #include &quot;unicode/utypes.h&quot;
  23 #include &quot;unicode/uchar.h&quot;
  24 #include &quot;unicode/localpointer.h&quot;
  25 
  26 /**
  27  *\file
  28  * \brief C API: Bidi algorithm
  29  *
  30  * &lt;h2&gt;Bidi algorithm for ICU&lt;/h2&gt;
  31  *
  32  * This is an implementation of the Unicode Bidirectional Algorithm.
  33  * The algorithm is defined in the
  34  * &lt;a href=&quot;http://www.unicode.org/unicode/reports/tr9/&quot;&gt;Unicode Standard Annex #9&lt;/a&gt;.&lt;p&gt;
  35  *
  36  * Note: Libraries that perform a bidirectional algorithm and
  37  * reorder strings accordingly are sometimes called &quot;Storage Layout Engines&quot;.
  38  * ICU&#39;s Bidi and shaping (u_shapeArabic()) APIs can be used at the core of such
  39  * &quot;Storage Layout Engines&quot;.
  40  *
  41  * &lt;h3&gt;General remarks about the API:&lt;/h3&gt;
  42  *
  43  * In functions with an error code parameter,
  44  * the &lt;code&gt;pErrorCode&lt;/code&gt; pointer must be valid
  45  * and the value that it points to must not indicate a failure before
  46  * the function call. Otherwise, the function returns immediately.
  47  * After the function call, the value indicates success or failure.&lt;p&gt;
  48  *
  49  * The &amp;quot;limit&amp;quot; of a sequence of characters is the position just after their
  50  * last character, i.e., one more than that position.&lt;p&gt;
  51  *
  52  * Some of the API functions provide access to &amp;quot;runs&amp;quot;.
  53  * Such a &amp;quot;run&amp;quot; is defined as a sequence of characters
  54  * that are at the same embedding level
  55  * after performing the Bidi algorithm.&lt;p&gt;
  56  *
  57  * @author Markus W. Scherer
  58  * @version 1.0
  59  *
  60  *
  61  * &lt;h4&gt; Sample code for the ICU Bidi API &lt;/h4&gt;
  62  *
  63  * &lt;h5&gt;Rendering a paragraph with the ICU Bidi API&lt;/h5&gt;
  64  *
  65  * This is (hypothetical) sample code that illustrates
  66  * how the ICU Bidi API could be used to render a paragraph of text.
  67  * Rendering code depends highly on the graphics system,
  68  * therefore this sample code must make a lot of assumptions,
  69  * which may or may not match any existing graphics system&#39;s properties.
  70  *
  71  * &lt;p&gt;The basic assumptions are:&lt;/p&gt;
  72  * &lt;ul&gt;
  73  * &lt;li&gt;Rendering is done from left to right on a horizontal line.&lt;/li&gt;
  74  * &lt;li&gt;A run of single-style, unidirectional text can be rendered at once.&lt;/li&gt;
  75  * &lt;li&gt;Such a run of text is passed to the graphics system with
  76  *     characters (code units) in logical order.&lt;/li&gt;
  77  * &lt;li&gt;The line-breaking algorithm is very complicated
  78  *     and Locale-dependent -
  79  *     and therefore its implementation omitted from this sample code.&lt;/li&gt;
  80  * &lt;/ul&gt;
  81  *
  82  * &lt;pre&gt;
  83  * \code
  84  *#include &quot;unicode/ubidi.h&quot;
  85  *
  86  *typedef enum {
  87  *     styleNormal=0, styleSelected=1,
  88  *     styleBold=2, styleItalics=4,
  89  *     styleSuper=8, styleSub=16
  90  *} Style;
  91  *
  92  *typedef struct { int32_t limit; Style style; } StyleRun;
  93  *
  94  *int getTextWidth(const UChar *text, int32_t start, int32_t limit,
  95  *                  const StyleRun *styleRuns, int styleRunCount);
  96  *
  97  * // set *pLimit and *pStyleRunLimit for a line
  98  * // from text[start] and from styleRuns[styleRunStart]
  99  * // using ubidi_getLogicalRun(para, ...)
 100  *void getLineBreak(const UChar *text, int32_t start, int32_t *pLimit,
 101  *                  UBiDi *para,
 102  *                  const StyleRun *styleRuns, int styleRunStart, int *pStyleRunLimit,
 103  *                  int *pLineWidth);
 104  *
 105  * // render runs on a line sequentially, always from left to right
 106  *
 107  * // prepare rendering a new line
 108  * void startLine(UBiDiDirection textDirection, int lineWidth);
 109  *
 110  * // render a run of text and advance to the right by the run width
 111  * // the text[start..limit-1] is always in logical order
 112  * void renderRun(const UChar *text, int32_t start, int32_t limit,
 113  *               UBiDiDirection textDirection, Style style);
 114  *
 115  * // We could compute a cross-product
 116  * // from the style runs with the directional runs
 117  * // and then reorder it.
 118  * // Instead, here we iterate over each run type
 119  * // and render the intersections -
 120  * // with shortcuts in simple (and common) cases.
 121  * // renderParagraph() is the main function.
 122  *
 123  * // render a directional run with
 124  * // (possibly) multiple style runs intersecting with it
 125  * void renderDirectionalRun(const UChar *text,
 126  *                           int32_t start, int32_t limit,
 127  *                           UBiDiDirection direction,
 128  *                           const StyleRun *styleRuns, int styleRunCount) {
 129  *     int i;
 130  *
 131  *     // iterate over style runs
 132  *     if(direction==UBIDI_LTR) {
 133  *         int styleLimit;
 134  *
 135  *         for(i=0; i&lt;styleRunCount; ++i) {
 136  *             styleLimit=styleRun[i].limit;
 137  *             if(start&lt;styleLimit) {
 138  *                 if(styleLimit&gt;limit) { styleLimit=limit; }
 139  *                 renderRun(text, start, styleLimit,
 140  *                           direction, styleRun[i].style);
 141  *                 if(styleLimit==limit) { break; }
 142  *                 start=styleLimit;
 143  *             }
 144  *         }
 145  *     } else {
 146  *         int styleStart;
 147  *
 148  *         for(i=styleRunCount-1; i&gt;=0; --i) {
 149  *             if(i&gt;0) {
 150  *                 styleStart=styleRun[i-1].limit;
 151  *             } else {
 152  *                 styleStart=0;
 153  *             }
 154  *             if(limit&gt;=styleStart) {
 155  *                 if(styleStart&lt;start) { styleStart=start; }
 156  *                 renderRun(text, styleStart, limit,
 157  *                           direction, styleRun[i].style);
 158  *                 if(styleStart==start) { break; }
 159  *                 limit=styleStart;
 160  *             }
 161  *         }
 162  *     }
 163  * }
 164  *
 165  * // the line object represents text[start..limit-1]
 166  * void renderLine(UBiDi *line, const UChar *text,
 167  *                 int32_t start, int32_t limit,
 168  *                 const StyleRun *styleRuns, int styleRunCount) {
 169  *     UBiDiDirection direction=ubidi_getDirection(line);
 170  *     if(direction!=UBIDI_MIXED) {
 171  *         // unidirectional
 172  *         if(styleRunCount&lt;=1) {
 173  *             renderRun(text, start, limit, direction, styleRuns[0].style);
 174  *         } else {
 175  *             renderDirectionalRun(text, start, limit,
 176  *                                  direction, styleRuns, styleRunCount);
 177  *         }
 178  *     } else {
 179  *         // mixed-directional
 180  *         int32_t count, i, length;
 181  *         UBiDiLevel level;
 182  *
 183  *         count=ubidi_countRuns(para, pErrorCode);
 184  *         if(U_SUCCESS(*pErrorCode)) {
 185  *             if(styleRunCount&lt;=1) {
 186  *                 Style style=styleRuns[0].style;
 187  *
 188  *                 // iterate over directional runs
 189  *                for(i=0; i&lt;count; ++i) {
 190  *                    direction=ubidi_getVisualRun(para, i, &amp;start, &amp;length);
 191  *                     renderRun(text, start, start+length, direction, style);
 192  *                }
 193  *             } else {
 194  *                 int32_t j;
 195  *
 196  *                 // iterate over both directional and style runs
 197  *                 for(i=0; i&lt;count; ++i) {
 198  *                     direction=ubidi_getVisualRun(line, i, &amp;start, &amp;length);
 199  *                     renderDirectionalRun(text, start, start+length,
 200  *                                          direction, styleRuns, styleRunCount);
 201  *                 }
 202  *             }
 203  *         }
 204  *     }
 205  * }
 206  *
 207  *void renderParagraph(const UChar *text, int32_t length,
 208  *                     UBiDiDirection textDirection,
 209  *                      const StyleRun *styleRuns, int styleRunCount,
 210  *                      int lineWidth,
 211  *                      UErrorCode *pErrorCode) {
 212  *     UBiDi *para;
 213  *
 214  *     if(pErrorCode==NULL || U_FAILURE(*pErrorCode) || length&lt;=0) {
 215  *         return;
 216  *     }
 217  *
 218  *     para=ubidi_openSized(length, 0, pErrorCode);
 219  *     if(para==NULL) { return; }
 220  *
 221  *     ubidi_setPara(para, text, length,
 222  *                   textDirection ? UBIDI_DEFAULT_RTL : UBIDI_DEFAULT_LTR,
 223  *                   NULL, pErrorCode);
 224  *     if(U_SUCCESS(*pErrorCode)) {
 225  *         UBiDiLevel paraLevel=1&amp;ubidi_getParaLevel(para);
 226  *         StyleRun styleRun={ length, styleNormal };
 227  *         int width;
 228  *
 229  *         if(styleRuns==NULL || styleRunCount&lt;=0) {
 230  *            styleRunCount=1;
 231  *             styleRuns=&amp;styleRun;
 232  *         }
 233  *
 234  *        // assume styleRuns[styleRunCount-1].limit&gt;=length
 235  *
 236  *         width=getTextWidth(text, 0, length, styleRuns, styleRunCount);
 237  *         if(width&lt;=lineWidth) {
 238  *             // everything fits onto one line
 239  *
 240  *            // prepare rendering a new line from either left or right
 241  *             startLine(paraLevel, width);
 242  *
 243  *             renderLine(para, text, 0, length,
 244  *                        styleRuns, styleRunCount);
 245  *         } else {
 246  *             UBiDi *line;
 247  *
 248  *             // we need to render several lines
 249  *             line=ubidi_openSized(length, 0, pErrorCode);
 250  *             if(line!=NULL) {
 251  *                 int32_t start=0, limit;
 252  *                 int styleRunStart=0, styleRunLimit;
 253  *
 254  *                 for(;;) {
 255  *                     limit=length;
 256  *                     styleRunLimit=styleRunCount;
 257  *                     getLineBreak(text, start, &amp;limit, para,
 258  *                                  styleRuns, styleRunStart, &amp;styleRunLimit,
 259  *                                 &amp;width);
 260  *                     ubidi_setLine(para, start, limit, line, pErrorCode);
 261  *                     if(U_SUCCESS(*pErrorCode)) {
 262  *                         // prepare rendering a new line
 263  *                         // from either left or right
 264  *                         startLine(paraLevel, width);
 265  *
 266  *                         renderLine(line, text, start, limit,
 267  *                                    styleRuns+styleRunStart,
 268  *                                    styleRunLimit-styleRunStart);
 269  *                     }
 270  *                     if(limit==length) { break; }
 271  *                     start=limit;
 272  *                     styleRunStart=styleRunLimit-1;
 273  *                     if(start&gt;=styleRuns[styleRunStart].limit) {
 274  *                         ++styleRunStart;
 275  *                     }
 276  *                 }
 277  *
 278  *                 ubidi_close(line);
 279  *             }
 280  *        }
 281  *    }
 282  *
 283  *     ubidi_close(para);
 284  *}
 285  *\endcode
 286  * &lt;/pre&gt;
 287  */
 288 
 289 /*DOCXX_TAG*/
 290 /*@{*/
 291 
 292 /**
 293  * UBiDiLevel is the type of the level values in this
 294  * Bidi implementation.
 295  * It holds an embedding level and indicates the visual direction
 296  * by its bit&amp;nbsp;0 (even/odd value).&lt;p&gt;
 297  *
 298  * It can also hold non-level values for the
 299  * &lt;code&gt;paraLevel&lt;/code&gt; and &lt;code&gt;embeddingLevels&lt;/code&gt;
 300  * arguments of &lt;code&gt;ubidi_setPara()&lt;/code&gt;; there:
 301  * &lt;ul&gt;
 302  * &lt;li&gt;bit&amp;nbsp;7 of an &lt;code&gt;embeddingLevels[]&lt;/code&gt;
 303  * value indicates whether the using application is
 304  * specifying the level of a character to &lt;i&gt;override&lt;/i&gt; whatever the
 305  * Bidi implementation would resolve it to.&lt;/li&gt;
 306  * &lt;li&gt;&lt;code&gt;paraLevel&lt;/code&gt; can be set to the
 307  * pseudo-level values &lt;code&gt;UBIDI_DEFAULT_LTR&lt;/code&gt;
 308  * and &lt;code&gt;UBIDI_DEFAULT_RTL&lt;/code&gt;.&lt;/li&gt;
 309  * &lt;/ul&gt;
 310  *
 311  * @see ubidi_setPara
 312  *
 313  * &lt;p&gt;The related constants are not real, valid level values.
 314  * &lt;code&gt;UBIDI_DEFAULT_XXX&lt;/code&gt; can be used to specify
 315  * a default for the paragraph level for
 316  * when the &lt;code&gt;ubidi_setPara()&lt;/code&gt; function
 317  * shall determine it but there is no
 318  * strongly typed character in the input.&lt;p&gt;
 319  *
 320  * Note that the value for &lt;code&gt;UBIDI_DEFAULT_LTR&lt;/code&gt; is even
 321  * and the one for &lt;code&gt;UBIDI_DEFAULT_RTL&lt;/code&gt; is odd,
 322  * just like with normal LTR and RTL level values -
 323  * these special values are designed that way. Also, the implementation
 324  * assumes that UBIDI_MAX_EXPLICIT_LEVEL is odd.
 325  *
 326  * Note: The numeric values of the related constants will not change:
 327  * They are tied to the use of 7-bit byte values (plus the override bit)
 328  * and of the UBiDiLevel=uint8_t data type in this API.
 329  *
 330  * @see UBIDI_DEFAULT_LTR
 331  * @see UBIDI_DEFAULT_RTL
 332  * @see UBIDI_LEVEL_OVERRIDE
 333  * @see UBIDI_MAX_EXPLICIT_LEVEL
 334  * @stable ICU 2.0
 335  */
 336 typedef uint8_t UBiDiLevel;
 337 
 338 /** Paragraph level setting.&lt;p&gt;
 339  *
 340  * Constant indicating that the base direction depends on the first strong
 341  * directional character in the text according to the Unicode Bidirectional
 342  * Algorithm. If no strong directional character is present,
 343  * then set the paragraph level to 0 (left-to-right).&lt;p&gt;
 344  *
 345  * If this value is used in conjunction with reordering modes
 346  * &lt;code&gt;UBIDI_REORDER_INVERSE_LIKE_DIRECT&lt;/code&gt; or
 347  * &lt;code&gt;UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL&lt;/code&gt;, the text to reorder
 348  * is assumed to be visual LTR, and the text after reordering is required
 349  * to be the corresponding logical string with appropriate contextual
 350  * direction. The direction of the result string will be RTL if either
 351  * the righmost or leftmost strong character of the source text is RTL
 352  * or Arabic Letter, the direction will be LTR otherwise.&lt;p&gt;
 353  *
 354  * If reordering option &lt;code&gt;UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; is set, an RLM may
 355  * be added at the beginning of the result string to ensure round trip
 356  * (that the result string, when reordered back to visual, will produce
 357  * the original source text).
 358  * @see UBIDI_REORDER_INVERSE_LIKE_DIRECT
 359  * @see UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL
 360  * @stable ICU 2.0
 361  */
 362 #define UBIDI_DEFAULT_LTR 0xfe
 363 
 364 /** Paragraph level setting.&lt;p&gt;
 365  *
 366  * Constant indicating that the base direction depends on the first strong
 367  * directional character in the text according to the Unicode Bidirectional
 368  * Algorithm. If no strong directional character is present,
 369  * then set the paragraph level to 1 (right-to-left).&lt;p&gt;
 370  *
 371  * If this value is used in conjunction with reordering modes
 372  * &lt;code&gt;UBIDI_REORDER_INVERSE_LIKE_DIRECT&lt;/code&gt; or
 373  * &lt;code&gt;UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL&lt;/code&gt;, the text to reorder
 374  * is assumed to be visual LTR, and the text after reordering is required
 375  * to be the corresponding logical string with appropriate contextual
 376  * direction. The direction of the result string will be RTL if either
 377  * the righmost or leftmost strong character of the source text is RTL
 378  * or Arabic Letter, or if the text contains no strong character;
 379  * the direction will be LTR otherwise.&lt;p&gt;
 380  *
 381  * If reordering option &lt;code&gt;UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; is set, an RLM may
 382  * be added at the beginning of the result string to ensure round trip
 383  * (that the result string, when reordered back to visual, will produce
 384  * the original source text).
 385  * @see UBIDI_REORDER_INVERSE_LIKE_DIRECT
 386  * @see UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL
 387  * @stable ICU 2.0
 388  */
 389 #define UBIDI_DEFAULT_RTL 0xff
 390 
 391 /**
 392  * Maximum explicit embedding level.
 393  * Same as the max_depth value in the
 394  * &lt;a href=&quot;http://www.unicode.org/reports/tr9/#BD2&quot;&gt;Unicode Bidirectional Algorithm&lt;/a&gt;.
 395  * (The maximum resolved level can be up to &lt;code&gt;UBIDI_MAX_EXPLICIT_LEVEL+1&lt;/code&gt;).
 396  * @stable ICU 2.0
 397  */
 398 #define UBIDI_MAX_EXPLICIT_LEVEL 125
 399 
 400 /** Bit flag for level input.
 401  *  Overrides directional properties.
 402  * @stable ICU 2.0
 403  */
 404 #define UBIDI_LEVEL_OVERRIDE 0x80
 405 
 406 /**
 407  * Special value which can be returned by the mapping functions when a logical
 408  * index has no corresponding visual index or vice-versa. This may happen
 409  * for the logical-to-visual mapping of a Bidi control when option
 410  * &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt; is specified. This can also happen
 411  * for the visual-to-logical mapping of a Bidi mark (LRM or RLM) inserted
 412  * by option &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;.
 413  * @see ubidi_getVisualIndex
 414  * @see ubidi_getVisualMap
 415  * @see ubidi_getLogicalIndex
 416  * @see ubidi_getLogicalMap
 417  * @stable ICU 3.6
 418  */
 419 #define UBIDI_MAP_NOWHERE   (-1)
 420 
 421 /**
 422  * &lt;code&gt;UBiDiDirection&lt;/code&gt; values indicate the text direction.
 423  * @stable ICU 2.0
 424  */
 425 enum UBiDiDirection {
 426   /** Left-to-right text. This is a 0 value.
 427    * &lt;ul&gt;
 428    * &lt;li&gt;As return value for &lt;code&gt;ubidi_getDirection()&lt;/code&gt;, it means
 429    *     that the source string contains no right-to-left characters, or
 430    *     that the source string is empty and the paragraph level is even.
 431    * &lt;li&gt; As return value for &lt;code&gt;ubidi_getBaseDirection()&lt;/code&gt;, it
 432    *      means that the first strong character of the source string has
 433    *      a left-to-right direction.
 434    * &lt;/ul&gt;
 435    * @stable ICU 2.0
 436    */
 437   UBIDI_LTR,
 438   /** Right-to-left text. This is a 1 value.
 439    * &lt;ul&gt;
 440    * &lt;li&gt;As return value for &lt;code&gt;ubidi_getDirection()&lt;/code&gt;, it means
 441    *     that the source string contains no left-to-right characters, or
 442    *     that the source string is empty and the paragraph level is odd.
 443    * &lt;li&gt; As return value for &lt;code&gt;ubidi_getBaseDirection()&lt;/code&gt;, it
 444    *      means that the first strong character of the source string has
 445    *      a right-to-left direction.
 446    * &lt;/ul&gt;
 447    * @stable ICU 2.0
 448    */
 449   UBIDI_RTL,
 450   /** Mixed-directional text.
 451    * &lt;p&gt;As return value for &lt;code&gt;ubidi_getDirection()&lt;/code&gt;, it means
 452    *    that the source string contains both left-to-right and
 453    *    right-to-left characters.
 454    * @stable ICU 2.0
 455    */
 456   UBIDI_MIXED,
 457   /** No strongly directional text.
 458    * &lt;p&gt;As return value for &lt;code&gt;ubidi_getBaseDirection()&lt;/code&gt;, it means
 459    *    that the source string is missing or empty, or contains neither left-to-right
 460    *    nor right-to-left characters.
 461    * @stable ICU 4.6
 462    */
 463   UBIDI_NEUTRAL
 464 };
 465 
 466 /** @stable ICU 2.0 */
 467 typedef enum UBiDiDirection UBiDiDirection;
 468 
 469 /**
 470  * Forward declaration of the &lt;code&gt;UBiDi&lt;/code&gt; structure for the declaration of
 471  * the API functions. Its fields are implementation-specific.&lt;p&gt;
 472  * This structure holds information about a paragraph (or multiple paragraphs)
 473  * of text with Bidi-algorithm-related details, or about one line of
 474  * such a paragraph.&lt;p&gt;
 475  * Reordering can be done on a line, or on one or more paragraphs which are
 476  * then interpreted each as one single line.
 477  * @stable ICU 2.0
 478  */
 479 struct UBiDi;
 480 
 481 /** @stable ICU 2.0 */
 482 typedef struct UBiDi UBiDi;
 483 
 484 /**
 485  * Allocate a &lt;code&gt;UBiDi&lt;/code&gt; structure.
 486  * Such an object is initially empty. It is assigned
 487  * the Bidi properties of a piece of text containing one or more paragraphs
 488  * by &lt;code&gt;ubidi_setPara()&lt;/code&gt;
 489  * or the Bidi properties of a line within a paragraph by
 490  * &lt;code&gt;ubidi_setLine()&lt;/code&gt;.&lt;p&gt;
 491  * This object can be reused for as long as it is not deallocated
 492  * by calling &lt;code&gt;ubidi_close()&lt;/code&gt;.&lt;p&gt;
 493  * &lt;code&gt;ubidi_setPara()&lt;/code&gt; and &lt;code&gt;ubidi_setLine()&lt;/code&gt; will allocate
 494  * additional memory for internal structures as necessary.
 495  *
 496  * @return An empty &lt;code&gt;UBiDi&lt;/code&gt; object.
 497  * @stable ICU 2.0
 498  */
 499 U_STABLE UBiDi * U_EXPORT2
 500 ubidi_open(void);
 501 
 502 /**
 503  * Allocate a &lt;code&gt;UBiDi&lt;/code&gt; structure with preallocated memory
 504  * for internal structures.
 505  * This function provides a &lt;code&gt;UBiDi&lt;/code&gt; object like &lt;code&gt;ubidi_open()&lt;/code&gt;
 506  * with no arguments, but it also preallocates memory for internal structures
 507  * according to the sizings supplied by the caller.&lt;p&gt;
 508  * Subsequent functions will not allocate any more memory, and are thus
 509  * guaranteed not to fail because of lack of memory.&lt;p&gt;
 510  * The preallocation can be limited to some of the internal memory
 511  * by setting some values to 0 here. That means that if, e.g.,
 512  * &lt;code&gt;maxRunCount&lt;/code&gt; cannot be reasonably predetermined and should not
 513  * be set to &lt;code&gt;maxLength&lt;/code&gt; (the only failproof value) to avoid
 514  * wasting memory, then &lt;code&gt;maxRunCount&lt;/code&gt; could be set to 0 here
 515  * and the internal structures that are associated with it will be allocated
 516  * on demand, just like with &lt;code&gt;ubidi_open()&lt;/code&gt;.
 517  *
 518  * @param maxLength is the maximum text or line length that internal memory
 519  *        will be preallocated for. An attempt to associate this object with a
 520  *        longer text will fail, unless this value is 0, which leaves the allocation
 521  *        up to the implementation.
 522  *
 523  * @param maxRunCount is the maximum anticipated number of same-level runs
 524  *        that internal memory will be preallocated for. An attempt to access
 525  *        visual runs on an object that was not preallocated for as many runs
 526  *        as the text was actually resolved to will fail,
 527  *        unless this value is 0, which leaves the allocation up to the implementation.&lt;br&gt;&lt;br&gt;
 528  *        The number of runs depends on the actual text and maybe anywhere between
 529  *        1 and &lt;code&gt;maxLength&lt;/code&gt;. It is typically small.
 530  *
 531  * @param pErrorCode must be a valid pointer to an error code value.
 532  *
 533  * @return An empty &lt;code&gt;UBiDi&lt;/code&gt; object with preallocated memory.
 534  * @stable ICU 2.0
 535  */
 536 U_STABLE UBiDi * U_EXPORT2
 537 ubidi_openSized(int32_t maxLength, int32_t maxRunCount, UErrorCode *pErrorCode);
 538 
 539 /**
 540  * &lt;code&gt;ubidi_close()&lt;/code&gt; must be called to free the memory
 541  * associated with a UBiDi object.&lt;p&gt;
 542  *
 543  * &lt;strong&gt;Important: &lt;/strong&gt;
 544  * A parent &lt;code&gt;UBiDi&lt;/code&gt; object must not be destroyed or reused if
 545  * it still has children.
 546  * If a &lt;code&gt;UBiDi&lt;/code&gt; object has become the &lt;i&gt;child&lt;/i&gt;
 547  * of another one (its &lt;i&gt;parent&lt;/i&gt;) by calling
 548  * &lt;code&gt;ubidi_setLine()&lt;/code&gt;, then the child object must
 549  * be destroyed (closed) or reused (by calling
 550  * &lt;code&gt;ubidi_setPara()&lt;/code&gt; or &lt;code&gt;ubidi_setLine()&lt;/code&gt;)
 551  * before the parent object.
 552  *
 553  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 554  *
 555  * @see ubidi_setPara
 556  * @see ubidi_setLine
 557  * @stable ICU 2.0
 558  */
 559 U_STABLE void U_EXPORT2
 560 ubidi_close(UBiDi *pBiDi);
 561 
 562 #if U_SHOW_CPLUSPLUS_API
 563 
 564 U_NAMESPACE_BEGIN
 565 
 566 /**
 567  * \class LocalUBiDiPointer
 568  * &quot;Smart pointer&quot; class, closes a UBiDi via ubidi_close().
 569  * For most methods see the LocalPointerBase base class.
 570  *
 571  * @see LocalPointerBase
 572  * @see LocalPointer
 573  * @stable ICU 4.4
 574  */
 575 U_DEFINE_LOCAL_OPEN_POINTER(LocalUBiDiPointer, UBiDi, ubidi_close);
 576 
 577 U_NAMESPACE_END
 578 
 579 #endif
 580 
 581 /**
 582  * Modify the operation of the Bidi algorithm such that it
 583  * approximates an &quot;inverse Bidi&quot; algorithm. This function
 584  * must be called before &lt;code&gt;ubidi_setPara()&lt;/code&gt;.
 585  *
 586  * &lt;p&gt;The normal operation of the Bidi algorithm as described
 587  * in the Unicode Technical Report is to take text stored in logical
 588  * (keyboard, typing) order and to determine the reordering of it for visual
 589  * rendering.
 590  * Some legacy systems store text in visual order, and for operations
 591  * with standard, Unicode-based algorithms, the text needs to be transformed
 592  * to logical order. This is effectively the inverse algorithm of the
 593  * described Bidi algorithm. Note that there is no standard algorithm for
 594  * this &quot;inverse Bidi&quot; and that the current implementation provides only an
 595  * approximation of &quot;inverse Bidi&quot;.&lt;/p&gt;
 596  *
 597  * &lt;p&gt;With &lt;code&gt;isInverse&lt;/code&gt; set to &lt;code&gt;TRUE&lt;/code&gt;,
 598  * this function changes the behavior of some of the subsequent functions
 599  * in a way that they can be used for the inverse Bidi algorithm.
 600  * Specifically, runs of text with numeric characters will be treated in a
 601  * special way and may need to be surrounded with LRM characters when they are
 602  * written in reordered sequence.&lt;/p&gt;
 603  *
 604  * &lt;p&gt;Output runs should be retrieved using &lt;code&gt;ubidi_getVisualRun()&lt;/code&gt;.
 605  * Since the actual input for &quot;inverse Bidi&quot; is visually ordered text and
 606  * &lt;code&gt;ubidi_getVisualRun()&lt;/code&gt; gets the reordered runs, these are actually
 607  * the runs of the logically ordered output.&lt;/p&gt;
 608  *
 609  * &lt;p&gt;Calling this function with argument &lt;code&gt;isInverse&lt;/code&gt; set to
 610  * &lt;code&gt;TRUE&lt;/code&gt; is equivalent to calling
 611  * &lt;code&gt;ubidi_setReorderingMode&lt;/code&gt; with argument
 612  * &lt;code&gt;reorderingMode&lt;/code&gt;
 613  * set to &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;.&lt;br&gt;
 614  * Calling this function with argument &lt;code&gt;isInverse&lt;/code&gt; set to
 615  * &lt;code&gt;FALSE&lt;/code&gt; is equivalent to calling
 616  * &lt;code&gt;ubidi_setReorderingMode&lt;/code&gt; with argument
 617  * &lt;code&gt;reorderingMode&lt;/code&gt;
 618  * set to &lt;code&gt;#UBIDI_REORDER_DEFAULT&lt;/code&gt;.
 619  *
 620  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 621  *
 622  * @param isInverse specifies &quot;forward&quot; or &quot;inverse&quot; Bidi operation.
 623  *
 624  * @see ubidi_setPara
 625  * @see ubidi_writeReordered
 626  * @see ubidi_setReorderingMode
 627  * @stable ICU 2.0
 628  */
 629 U_STABLE void U_EXPORT2
 630 ubidi_setInverse(UBiDi *pBiDi, UBool isInverse);
 631 
 632 /**
 633  * Is this Bidi object set to perform the inverse Bidi algorithm?
 634  * &lt;p&gt;Note: calling this function after setting the reordering mode with
 635  * &lt;code&gt;ubidi_setReorderingMode&lt;/code&gt; will return &lt;code&gt;TRUE&lt;/code&gt; if the
 636  * reordering mode was set to &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;,
 637  * &lt;code&gt;FALSE&lt;/code&gt; for all other values.&lt;/p&gt;
 638  *
 639  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 640  * @return TRUE if the Bidi object is set to perform the inverse Bidi algorithm
 641  * by handling numbers as L.
 642  *
 643  * @see ubidi_setInverse
 644  * @see ubidi_setReorderingMode
 645  * @stable ICU 2.0
 646  */
 647 
 648 U_STABLE UBool U_EXPORT2
 649 ubidi_isInverse(UBiDi *pBiDi);
 650 
 651 /**
 652  * Specify whether block separators must be allocated level zero,
 653  * so that successive paragraphs will progress from left to right.
 654  * This function must be called before &lt;code&gt;ubidi_setPara()&lt;/code&gt;.
 655  * Paragraph separators (B) may appear in the text.  Setting them to level zero
 656  * means that all paragraph separators (including one possibly appearing
 657  * in the last text position) are kept in the reordered text after the text
 658  * that they follow in the source text.
 659  * When this feature is not enabled, a paragraph separator at the last
 660  * position of the text before reordering will go to the first position
 661  * of the reordered text when the paragraph level is odd.
 662  *
 663  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 664  *
 665  * @param orderParagraphsLTR specifies whether paragraph separators (B) must
 666  * receive level 0, so that successive paragraphs progress from left to right.
 667  *
 668  * @see ubidi_setPara
 669  * @stable ICU 3.4
 670  */
 671 U_STABLE void U_EXPORT2
 672 ubidi_orderParagraphsLTR(UBiDi *pBiDi, UBool orderParagraphsLTR);
 673 
 674 /**
 675  * Is this Bidi object set to allocate level 0 to block separators so that
 676  * successive paragraphs progress from left to right?
 677  *
 678  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 679  * @return TRUE if the Bidi object is set to allocate level 0 to block
 680  *         separators.
 681  *
 682  * @see ubidi_orderParagraphsLTR
 683  * @stable ICU 3.4
 684  */
 685 U_STABLE UBool U_EXPORT2
 686 ubidi_isOrderParagraphsLTR(UBiDi *pBiDi);
 687 
 688 /**
 689  * &lt;code&gt;UBiDiReorderingMode&lt;/code&gt; values indicate which variant of the Bidi
 690  * algorithm to use.
 691  *
 692  * @see ubidi_setReorderingMode
 693  * @stable ICU 3.6
 694  */
 695 typedef enum UBiDiReorderingMode {
 696     /** Regular Logical to Visual Bidi algorithm according to Unicode.
 697       * This is a 0 value.
 698       * @stable ICU 3.6 */
 699     UBIDI_REORDER_DEFAULT = 0,
 700     /** Logical to Visual algorithm which handles numbers in a way which
 701       * mimics the behavior of Windows XP.
 702       * @stable ICU 3.6 */
 703     UBIDI_REORDER_NUMBERS_SPECIAL,
 704     /** Logical to Visual algorithm grouping numbers with adjacent R characters
 705       * (reversible algorithm).
 706       * @stable ICU 3.6 */
 707     UBIDI_REORDER_GROUP_NUMBERS_WITH_R,
 708     /** Reorder runs only to transform a Logical LTR string to the Logical RTL
 709       * string with the same display, or vice-versa.&lt;br&gt;
 710       * If this mode is set together with option
 711       * &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;, some Bidi controls in the source
 712       * text may be removed and other controls may be added to produce the
 713       * minimum combination which has the required display.
 714       * @stable ICU 3.6 */
 715     UBIDI_REORDER_RUNS_ONLY,
 716     /** Visual to Logical algorithm which handles numbers like L
 717       * (same algorithm as selected by &lt;code&gt;ubidi_setInverse(TRUE)&lt;/code&gt;.
 718       * @see ubidi_setInverse
 719       * @stable ICU 3.6 */
 720     UBIDI_REORDER_INVERSE_NUMBERS_AS_L,
 721     /** Visual to Logical algorithm equivalent to the regular Logical to Visual
 722       * algorithm.
 723       * @stable ICU 3.6 */
 724     UBIDI_REORDER_INVERSE_LIKE_DIRECT,
 725     /** Inverse Bidi (Visual to Logical) algorithm for the
 726       * &lt;code&gt;UBIDI_REORDER_NUMBERS_SPECIAL&lt;/code&gt; Bidi algorithm.
 727       * @stable ICU 3.6 */
 728     UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL,
 729 #ifndef U_HIDE_DEPRECATED_API
 730     /**
 731      * Number of values for reordering mode.
 732      * @deprecated ICU 58 The numeric value may change over time, see ICU ticket #12420.
 733      */
 734     UBIDI_REORDER_COUNT
 735 #endif  // U_HIDE_DEPRECATED_API
 736 } UBiDiReorderingMode;
 737 
 738 /**
 739  * Modify the operation of the Bidi algorithm such that it implements some
 740  * variant to the basic Bidi algorithm or approximates an &quot;inverse Bidi&quot;
 741  * algorithm, depending on different values of the &quot;reordering mode&quot;.
 742  * This function must be called before &lt;code&gt;ubidi_setPara()&lt;/code&gt;, and stays
 743  * in effect until called again with a different argument.
 744  *
 745  * &lt;p&gt;The normal operation of the Bidi algorithm as described
 746  * in the Unicode Standard Annex #9 is to take text stored in logical
 747  * (keyboard, typing) order and to determine how to reorder it for visual
 748  * rendering.&lt;/p&gt;
 749  *
 750  * &lt;p&gt;With the reordering mode set to a value other than
 751  * &lt;code&gt;#UBIDI_REORDER_DEFAULT&lt;/code&gt;, this function changes the behavior of
 752  * some of the subsequent functions in a way such that they implement an
 753  * inverse Bidi algorithm or some other algorithm variants.&lt;/p&gt;
 754  *
 755  * &lt;p&gt;Some legacy systems store text in visual order, and for operations
 756  * with standard, Unicode-based algorithms, the text needs to be transformed
 757  * into logical order. This is effectively the inverse algorithm of the
 758  * described Bidi algorithm. Note that there is no standard algorithm for
 759  * this &quot;inverse Bidi&quot;, so a number of variants are implemented here.&lt;/p&gt;
 760  *
 761  * &lt;p&gt;In other cases, it may be desirable to emulate some variant of the
 762  * Logical to Visual algorithm (e.g. one used in MS Windows), or perform a
 763  * Logical to Logical transformation.&lt;/p&gt;
 764  *
 765  * &lt;ul&gt;
 766  * &lt;li&gt;When the reordering mode is set to &lt;code&gt;#UBIDI_REORDER_DEFAULT&lt;/code&gt;,
 767  * the standard Bidi Logical to Visual algorithm is applied.&lt;/li&gt;
 768  *
 769  * &lt;li&gt;When the reordering mode is set to
 770  * &lt;code&gt;#UBIDI_REORDER_NUMBERS_SPECIAL&lt;/code&gt;,
 771  * the algorithm used to perform Bidi transformations when calling
 772  * &lt;code&gt;ubidi_setPara&lt;/code&gt; should approximate the algorithm used in
 773  * Microsoft Windows XP rather than strictly conform to the Unicode Bidi
 774  * algorithm.
 775  * &lt;br&gt;
 776  * The differences between the basic algorithm and the algorithm addressed
 777  * by this option are as follows:
 778  * &lt;ul&gt;
 779  *   &lt;li&gt;Within text at an even embedding level, the sequence &quot;123AB&quot;
 780  *   (where AB represent R or AL letters) is transformed to &quot;123BA&quot; by the
 781  *   Unicode algorithm and to &quot;BA123&quot; by the Windows algorithm.&lt;/li&gt;
 782  *   &lt;li&gt;Arabic-Indic numbers (AN) are handled by the Windows algorithm just
 783  *   like regular numbers (EN).&lt;/li&gt;
 784  * &lt;/ul&gt;&lt;/li&gt;
 785  *
 786  * &lt;li&gt;When the reordering mode is set to
 787  * &lt;code&gt;#UBIDI_REORDER_GROUP_NUMBERS_WITH_R&lt;/code&gt;,
 788  * numbers located between LTR text and RTL text are associated with the RTL
 789  * text. For instance, an LTR paragraph with content &quot;abc 123 DEF&quot; (where
 790  * upper case letters represent RTL characters) will be transformed to
 791  * &quot;abc FED 123&quot; (and not &quot;abc 123 FED&quot;), &quot;DEF 123 abc&quot; will be transformed
 792  * to &quot;123 FED abc&quot; and &quot;123 FED abc&quot; will be transformed to &quot;DEF 123 abc&quot;.
 793  * This makes the algorithm reversible and makes it useful when round trip
 794  * (from visual to logical and back to visual) must be achieved without
 795  * adding LRM characters. However, this is a variation from the standard
 796  * Unicode Bidi algorithm.&lt;br&gt;
 797  * The source text should not contain Bidi control characters other than LRM
 798  * or RLM.&lt;/li&gt;
 799  *
 800  * &lt;li&gt;When the reordering mode is set to
 801  * &lt;code&gt;#UBIDI_REORDER_RUNS_ONLY&lt;/code&gt;,
 802  * a &quot;Logical to Logical&quot; transformation must be performed:
 803  * &lt;ul&gt;
 804  * &lt;li&gt;If the default text level of the source text (argument &lt;code&gt;paraLevel&lt;/code&gt;
 805  * in &lt;code&gt;ubidi_setPara&lt;/code&gt;) is even, the source text will be handled as
 806  * LTR logical text and will be transformed to the RTL logical text which has
 807  * the same LTR visual display.&lt;/li&gt;
 808  * &lt;li&gt;If the default level of the source text is odd, the source text
 809  * will be handled as RTL logical text and will be transformed to the
 810  * LTR logical text which has the same LTR visual display.&lt;/li&gt;
 811  * &lt;/ul&gt;
 812  * This mode may be needed when logical text which is basically Arabic or
 813  * Hebrew, with possible included numbers or phrases in English, has to be
 814  * displayed as if it had an even embedding level (this can happen if the
 815  * displaying application treats all text as if it was basically LTR).
 816  * &lt;br&gt;
 817  * This mode may also be needed in the reverse case, when logical text which is
 818  * basically English, with possible included phrases in Arabic or Hebrew, has to
 819  * be displayed as if it had an odd embedding level.
 820  * &lt;br&gt;
 821  * Both cases could be handled by adding LRE or RLE at the head of the text,
 822  * if the display subsystem supports these formatting controls. If it does not,
 823  * the problem may be handled by transforming the source text in this mode
 824  * before displaying it, so that it will be displayed properly.&lt;br&gt;
 825  * The source text should not contain Bidi control characters other than LRM
 826  * or RLM.&lt;/li&gt;
 827  *
 828  * &lt;li&gt;When the reordering mode is set to
 829  * &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;, an &quot;inverse Bidi&quot; algorithm
 830  * is applied.
 831  * Runs of text with numeric characters will be treated like LTR letters and
 832  * may need to be surrounded with LRM characters when they are written in
 833  * reordered sequence (the option &lt;code&gt;#UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt; can
 834  * be used with function &lt;code&gt;ubidi_writeReordered&lt;/code&gt; to this end. This
 835  * mode is equivalent to calling &lt;code&gt;ubidi_setInverse()&lt;/code&gt; with
 836  * argument &lt;code&gt;isInverse&lt;/code&gt; set to &lt;code&gt;TRUE&lt;/code&gt;.&lt;/li&gt;
 837  *
 838  * &lt;li&gt;When the reordering mode is set to
 839  * &lt;code&gt;#UBIDI_REORDER_INVERSE_LIKE_DIRECT&lt;/code&gt;, the &quot;direct&quot; Logical to Visual
 840  * Bidi algorithm is used as an approximation of an &quot;inverse Bidi&quot; algorithm.
 841  * This mode is similar to mode &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;
 842  * but is closer to the regular Bidi algorithm.
 843  * &lt;br&gt;
 844  * For example, an LTR paragraph with the content &quot;FED 123 456 CBA&quot; (where
 845  * upper case represents RTL characters) will be transformed to
 846  * &quot;ABC 456 123 DEF&quot;, as opposed to &quot;DEF 123 456 ABC&quot;
 847  * with mode &lt;code&gt;UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;.&lt;br&gt;
 848  * When used in conjunction with option
 849  * &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;, this mode generally
 850  * adds Bidi marks to the output significantly more sparingly than mode
 851  * &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt; with option
 852  * &lt;code&gt;#UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt; in calls to
 853  * &lt;code&gt;ubidi_writeReordered&lt;/code&gt;.&lt;/li&gt;
 854  *
 855  * &lt;li&gt;When the reordering mode is set to
 856  * &lt;code&gt;#UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL&lt;/code&gt;, the Logical to Visual
 857  * Bidi algorithm used in Windows XP is used as an approximation of an &quot;inverse Bidi&quot; algorithm.
 858  * &lt;br&gt;
 859  * For example, an LTR paragraph with the content &quot;abc FED123&quot; (where
 860  * upper case represents RTL characters) will be transformed to &quot;abc 123DEF.&quot;&lt;/li&gt;
 861  * &lt;/ul&gt;
 862  *
 863  * &lt;p&gt;In all the reordering modes specifying an &quot;inverse Bidi&quot; algorithm
 864  * (i.e. those with a name starting with &lt;code&gt;UBIDI_REORDER_INVERSE&lt;/code&gt;),
 865  * output runs should be retrieved using
 866  * &lt;code&gt;ubidi_getVisualRun()&lt;/code&gt;, and the output text with
 867  * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;. The caller should keep in mind that in
 868  * &quot;inverse Bidi&quot; modes the input is actually visually ordered text and
 869  * reordered output returned by &lt;code&gt;ubidi_getVisualRun()&lt;/code&gt; or
 870  * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; are actually runs or character string
 871  * of logically ordered output.&lt;br&gt;
 872  * For all the &quot;inverse Bidi&quot; modes, the source text should not contain
 873  * Bidi control characters other than LRM or RLM.&lt;/p&gt;
 874  *
 875  * &lt;p&gt;Note that option &lt;code&gt;#UBIDI_OUTPUT_REVERSE&lt;/code&gt; of
 876  * &lt;code&gt;ubidi_writeReordered&lt;/code&gt; has no useful meaning and should not be
 877  * used in conjunction with any value of the reordering mode specifying
 878  * &quot;inverse Bidi&quot; or with value &lt;code&gt;UBIDI_REORDER_RUNS_ONLY&lt;/code&gt;.
 879  *
 880  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 881  * @param reorderingMode specifies the required variant of the Bidi algorithm.
 882  *
 883  * @see UBiDiReorderingMode
 884  * @see ubidi_setInverse
 885  * @see ubidi_setPara
 886  * @see ubidi_writeReordered
 887  * @stable ICU 3.6
 888  */
 889 U_STABLE void U_EXPORT2
 890 ubidi_setReorderingMode(UBiDi *pBiDi, UBiDiReorderingMode reorderingMode);
 891 
 892 /**
 893  * What is the requested reordering mode for a given Bidi object?
 894  *
 895  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
 896  * @return the current reordering mode of the Bidi object
 897  * @see ubidi_setReorderingMode
 898  * @stable ICU 3.6
 899  */
 900 U_STABLE UBiDiReorderingMode U_EXPORT2
 901 ubidi_getReorderingMode(UBiDi *pBiDi);
 902 
 903 /**
 904  * &lt;code&gt;UBiDiReorderingOption&lt;/code&gt; values indicate which options are
 905  * specified to affect the Bidi algorithm.
 906  *
 907  * @see ubidi_setReorderingOptions
 908  * @stable ICU 3.6
 909  */
 910 typedef enum UBiDiReorderingOption {
 911     /**
 912      * option value for &lt;code&gt;ubidi_setReorderingOptions&lt;/code&gt;:
 913      * disable all the options which can be set with this function
 914      * @see ubidi_setReorderingOptions
 915      * @stable ICU 3.6
 916      */
 917     UBIDI_OPTION_DEFAULT = 0,
 918 
 919     /**
 920      * option bit for &lt;code&gt;ubidi_setReorderingOptions&lt;/code&gt;:
 921      * insert Bidi marks (LRM or RLM) when needed to ensure correct result of
 922      * a reordering to a Logical order
 923      *
 924      * &lt;p&gt;This option must be set or reset before calling
 925      * &lt;code&gt;ubidi_setPara&lt;/code&gt;.&lt;/p&gt;
 926      *
 927      * &lt;p&gt;This option is significant only with reordering modes which generate
 928      * a result with Logical order, specifically:&lt;/p&gt;
 929      * &lt;ul&gt;
 930      *   &lt;li&gt;&lt;code&gt;#UBIDI_REORDER_RUNS_ONLY&lt;/code&gt;&lt;/li&gt;
 931      *   &lt;li&gt;&lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;&lt;/li&gt;
 932      *   &lt;li&gt;&lt;code&gt;#UBIDI_REORDER_INVERSE_LIKE_DIRECT&lt;/code&gt;&lt;/li&gt;
 933      *   &lt;li&gt;&lt;code&gt;#UBIDI_REORDER_INVERSE_FOR_NUMBERS_SPECIAL&lt;/code&gt;&lt;/li&gt;
 934      * &lt;/ul&gt;
 935      *
 936      * &lt;p&gt;If this option is set in conjunction with reordering mode
 937      * &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt; or with calling
 938      * &lt;code&gt;ubidi_setInverse(TRUE)&lt;/code&gt;, it implies
 939      * option &lt;code&gt;#UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;
 940      * in calls to function &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;.&lt;/p&gt;
 941      *
 942      * &lt;p&gt;For other reordering modes, a minimum number of LRM or RLM characters
 943      * will be added to the source text after reordering it so as to ensure
 944      * round trip, i.e. when applying the inverse reordering mode on the
 945      * resulting logical text with removal of Bidi marks
 946      * (option &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt; set before calling
 947      * &lt;code&gt;ubidi_setPara()&lt;/code&gt; or option &lt;code&gt;#UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt;
 948      * in &lt;code&gt;ubidi_writeReordered&lt;/code&gt;), the result will be identical to the
 949      * source text in the first transformation.
 950      *
 951      * &lt;p&gt;This option will be ignored if specified together with option
 952      * &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;. It inhibits option
 953      * &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt; in calls to function
 954      * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; and it implies option
 955      * &lt;code&gt;#UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt; in calls to function
 956      * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; if the reordering mode is
 957      * &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt;.&lt;/p&gt;
 958      *
 959      * @see ubidi_setReorderingMode
 960      * @see ubidi_setReorderingOptions
 961      * @stable ICU 3.6
 962      */
 963     UBIDI_OPTION_INSERT_MARKS = 1,
 964 
 965     /**
 966      * option bit for &lt;code&gt;ubidi_setReorderingOptions&lt;/code&gt;:
 967      * remove Bidi control characters
 968      *
 969      * &lt;p&gt;This option must be set or reset before calling
 970      * &lt;code&gt;ubidi_setPara&lt;/code&gt;.&lt;/p&gt;
 971      *
 972      * &lt;p&gt;This option nullifies option &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;.
 973      * It inhibits option &lt;code&gt;#UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt; in calls
 974      * to function &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; and it implies option
 975      * &lt;code&gt;#UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt; in calls to that function.&lt;/p&gt;
 976      *
 977      * @see ubidi_setReorderingMode
 978      * @see ubidi_setReorderingOptions
 979      * @stable ICU 3.6
 980      */
 981     UBIDI_OPTION_REMOVE_CONTROLS = 2,
 982 
 983     /**
 984      * option bit for &lt;code&gt;ubidi_setReorderingOptions&lt;/code&gt;:
 985      * process the output as part of a stream to be continued
 986      *
 987      * &lt;p&gt;This option must be set or reset before calling
 988      * &lt;code&gt;ubidi_setPara&lt;/code&gt;.&lt;/p&gt;
 989      *
 990      * &lt;p&gt;This option specifies that the caller is interested in processing large
 991      * text object in parts.
 992      * The results of the successive calls are expected to be concatenated by the
 993      * caller. Only the call for the last part will have this option bit off.&lt;/p&gt;
 994      *
 995      * &lt;p&gt;When this option bit is on, &lt;code&gt;ubidi_setPara()&lt;/code&gt; may process
 996      * less than the full source text in order to truncate the text at a meaningful
 997      * boundary. The caller should call &lt;code&gt;ubidi_getProcessedLength()&lt;/code&gt;
 998      * immediately after calling &lt;code&gt;ubidi_setPara()&lt;/code&gt; in order to
 999      * determine how much of the source text has been processed.
1000      * Source text beyond that length should be resubmitted in following calls to
1001      * &lt;code&gt;ubidi_setPara&lt;/code&gt;. The processed length may be less than
1002      * the length of the source text if a character preceding the last character of
1003      * the source text constitutes a reasonable boundary (like a block separator)
1004      * for text to be continued.&lt;br&gt;
1005      * If the last character of the source text constitutes a reasonable
1006      * boundary, the whole text will be processed at once.&lt;br&gt;
1007      * If nowhere in the source text there exists
1008      * such a reasonable boundary, the processed length will be zero.&lt;br&gt;
1009      * The caller should check for such an occurrence and do one of the following:
1010      * &lt;ul&gt;&lt;li&gt;submit a larger amount of text with a better chance to include
1011      *         a reasonable boundary.&lt;/li&gt;
1012      *     &lt;li&gt;resubmit the same text after turning off option
1013      *         &lt;code&gt;UBIDI_OPTION_STREAMING&lt;/code&gt;.&lt;/li&gt;&lt;/ul&gt;
1014      * In all cases, this option should be turned off before processing the last
1015      * part of the text.&lt;/p&gt;
1016      *
1017      * &lt;p&gt;When the &lt;code&gt;UBIDI_OPTION_STREAMING&lt;/code&gt; option is used,
1018      * it is recommended to call &lt;code&gt;ubidi_orderParagraphsLTR()&lt;/code&gt; with
1019      * argument &lt;code&gt;orderParagraphsLTR&lt;/code&gt; set to &lt;code&gt;TRUE&lt;/code&gt; before
1020      * calling &lt;code&gt;ubidi_setPara&lt;/code&gt; so that later paragraphs may be
1021      * concatenated to previous paragraphs on the right.&lt;/p&gt;
1022      *
1023      * @see ubidi_setReorderingMode
1024      * @see ubidi_setReorderingOptions
1025      * @see ubidi_getProcessedLength
1026      * @see ubidi_orderParagraphsLTR
1027      * @stable ICU 3.6
1028      */
1029     UBIDI_OPTION_STREAMING = 4
1030 } UBiDiReorderingOption;
1031 
1032 /**
1033  * Specify which of the reordering options
1034  * should be applied during Bidi transformations.
1035  *
1036  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
1037  * @param reorderingOptions is a combination of zero or more of the following
1038  * options:
1039  * &lt;code&gt;#UBIDI_OPTION_DEFAULT&lt;/code&gt;, &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;,
1040  * &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;, &lt;code&gt;#UBIDI_OPTION_STREAMING&lt;/code&gt;.
1041  *
1042  * @see ubidi_getReorderingOptions
1043  * @stable ICU 3.6
1044  */
1045 U_STABLE void U_EXPORT2
1046 ubidi_setReorderingOptions(UBiDi *pBiDi, uint32_t reorderingOptions);
1047 
1048 /**
1049  * What are the reordering options applied to a given Bidi object?
1050  *
1051  * @param pBiDi is a &lt;code&gt;UBiDi&lt;/code&gt; object.
1052  * @return the current reordering options of the Bidi object
1053  * @see ubidi_setReorderingOptions
1054  * @stable ICU 3.6
1055  */
1056 U_STABLE uint32_t U_EXPORT2
1057 ubidi_getReorderingOptions(UBiDi *pBiDi);
1058 
1059 /**
1060  * Set the context before a call to ubidi_setPara().&lt;p&gt;
1061  *
1062  * ubidi_setPara() computes the left-right directionality for a given piece
1063  * of text which is supplied as one of its arguments. Sometimes this piece
1064  * of text (the &quot;main text&quot;) should be considered in context, because text
1065  * appearing before (&quot;prologue&quot;) and/or after (&quot;epilogue&quot;) the main text
1066  * may affect the result of this computation.&lt;p&gt;
1067  *
1068  * This function specifies the prologue and/or the epilogue for the next
1069  * call to ubidi_setPara(). The characters specified as prologue and
1070  * epilogue should not be modified by the calling program until the call
1071  * to ubidi_setPara() has returned. If successive calls to ubidi_setPara()
1072  * all need specification of a context, ubidi_setContext() must be called
1073  * before each call to ubidi_setPara(). In other words, a context is not
1074  * &quot;remembered&quot; after the following successful call to ubidi_setPara().&lt;p&gt;
1075  *
1076  * If a call to ubidi_setPara() specifies UBIDI_DEFAULT_LTR or
1077  * UBIDI_DEFAULT_RTL as paraLevel and is preceded by a call to
1078  * ubidi_setContext() which specifies a prologue, the paragraph level will
1079  * be computed taking in consideration the text in the prologue.&lt;p&gt;
1080  *
1081  * When ubidi_setPara() is called without a previous call to
1082  * ubidi_setContext, the main text is handled as if preceded and followed
1083  * by strong directional characters at the current paragraph level.
1084  * Calling ubidi_setContext() with specification of a prologue will change
1085  * this behavior by handling the main text as if preceded by the last
1086  * strong character appearing in the prologue, if any.
1087  * Calling ubidi_setContext() with specification of an epilogue will change
1088  * the behavior of ubidi_setPara() by handling the main text as if followed
1089  * by the first strong character or digit appearing in the epilogue, if any.&lt;p&gt;
1090  *
1091  * Note 1: if &lt;code&gt;ubidi_setContext&lt;/code&gt; is called repeatedly without
1092  *         calling &lt;code&gt;ubidi_setPara&lt;/code&gt;, the earlier calls have no effect,
1093  *         only the last call will be remembered for the next call to
1094  *         &lt;code&gt;ubidi_setPara&lt;/code&gt;.&lt;p&gt;
1095  *
1096  * Note 2: calling &lt;code&gt;ubidi_setContext(pBiDi, NULL, 0, NULL, 0, &amp;errorCode)&lt;/code&gt;
1097  *         cancels any previous setting of non-empty prologue or epilogue.
1098  *         The next call to &lt;code&gt;ubidi_setPara()&lt;/code&gt; will process no
1099  *         prologue or epilogue.&lt;p&gt;
1100  *
1101  * Note 3: users must be aware that even after setting the context
1102  *         before a call to ubidi_setPara() to perform e.g. a logical to visual
1103  *         transformation, the resulting string may not be identical to what it
1104  *         would have been if all the text, including prologue and epilogue, had
1105  *         been processed together.&lt;br&gt;
1106  * Example (upper case letters represent RTL characters):&lt;br&gt;
1107  * &amp;nbsp;&amp;nbsp;prologue = &quot;&lt;code&gt;abc DE&lt;/code&gt;&quot;&lt;br&gt;
1108  * &amp;nbsp;&amp;nbsp;epilogue = none&lt;br&gt;
1109  * &amp;nbsp;&amp;nbsp;main text = &quot;&lt;code&gt;FGH xyz&lt;/code&gt;&quot;&lt;br&gt;
1110  * &amp;nbsp;&amp;nbsp;paraLevel = UBIDI_LTR&lt;br&gt;
1111  * &amp;nbsp;&amp;nbsp;display without prologue = &quot;&lt;code&gt;HGF xyz&lt;/code&gt;&quot;
1112  *             (&quot;HGF&quot; is adjacent to &quot;xyz&quot;)&lt;br&gt;
1113  * &amp;nbsp;&amp;nbsp;display with prologue = &quot;&lt;code&gt;abc HGFED xyz&lt;/code&gt;&quot;
1114  *             (&quot;HGF&quot; is not adjacent to &quot;xyz&quot;)&lt;br&gt;
1115  *
1116  * @param pBiDi is a paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
1117  *
1118  * @param prologue is a pointer to the text which precedes the text that
1119  *        will be specified in a coming call to ubidi_setPara().
1120  *        If there is no prologue to consider, then &lt;code&gt;proLength&lt;/code&gt;
1121  *        must be zero and this pointer can be NULL.
1122  *
1123  * @param proLength is the length of the prologue; if &lt;code&gt;proLength==-1&lt;/code&gt;
1124  *        then the prologue must be zero-terminated.
1125  *        Otherwise proLength must be &gt;= 0. If &lt;code&gt;proLength==0&lt;/code&gt;, it means
1126  *        that there is no prologue to consider.
1127  *
1128  * @param epilogue is a pointer to the text which follows the text that
1129  *        will be specified in a coming call to ubidi_setPara().
1130  *        If there is no epilogue to consider, then &lt;code&gt;epiLength&lt;/code&gt;
1131  *        must be zero and this pointer can be NULL.
1132  *
1133  * @param epiLength is the length of the epilogue; if &lt;code&gt;epiLength==-1&lt;/code&gt;
1134  *        then the epilogue must be zero-terminated.
1135  *        Otherwise epiLength must be &gt;= 0. If &lt;code&gt;epiLength==0&lt;/code&gt;, it means
1136  *        that there is no epilogue to consider.
1137  *
1138  * @param pErrorCode must be a valid pointer to an error code value.
1139  *
1140  * @see ubidi_setPara
1141  * @stable ICU 4.8
1142  */
1143 U_STABLE void U_EXPORT2
1144 ubidi_setContext(UBiDi *pBiDi,
1145                  const UChar *prologue, int32_t proLength,
1146                  const UChar *epilogue, int32_t epiLength,
1147                  UErrorCode *pErrorCode);
1148 
1149 /**
1150  * Perform the Unicode Bidi algorithm. It is defined in the
1151  * &lt;a href=&quot;http://www.unicode.org/unicode/reports/tr9/&quot;&gt;Unicode Standard Annex #9&lt;/a&gt;,
1152  * version 13,
1153  * also described in The Unicode Standard, Version 4.0 .&lt;p&gt;
1154  *
1155  * This function takes a piece of plain text containing one or more paragraphs,
1156  * with or without externally specified embedding levels from &lt;i&gt;styled&lt;/i&gt;
1157  * text and computes the left-right-directionality of each character.&lt;p&gt;
1158  *
1159  * If the entire text is all of the same directionality, then
1160  * the function may not perform all the steps described by the algorithm,
1161  * i.e., some levels may not be the same as if all steps were performed.
1162  * This is not relevant for unidirectional text.&lt;br&gt;
1163  * For example, in pure LTR text with numbers the numbers would get
1164  * a resolved level of 2 higher than the surrounding text according to
1165  * the algorithm. This implementation may set all resolved levels to
1166  * the same value in such a case.&lt;p&gt;
1167  *
1168  * The text can be composed of multiple paragraphs. Occurrence of a block
1169  * separator in the text terminates a paragraph, and whatever comes next starts
1170  * a new paragraph. The exception to this rule is when a Carriage Return (CR)
1171  * is followed by a Line Feed (LF). Both CR and LF are block separators, but
1172  * in that case, the pair of characters is considered as terminating the
1173  * preceding paragraph, and a new paragraph will be started by a character
1174  * coming after the LF.
1175  *
1176  * @param pBiDi A &lt;code&gt;UBiDi&lt;/code&gt; object allocated with &lt;code&gt;ubidi_open()&lt;/code&gt;
1177  *        which will be set to contain the reordering information,
1178  *        especially the resolved levels for all the characters in &lt;code&gt;text&lt;/code&gt;.
1179  *
1180  * @param text is a pointer to the text that the Bidi algorithm will be performed on.
1181  *        This pointer is stored in the UBiDi object and can be retrieved
1182  *        with &lt;code&gt;ubidi_getText()&lt;/code&gt;.&lt;br&gt;
1183  *        &lt;strong&gt;Note:&lt;/strong&gt; the text must be (at least) &lt;code&gt;length&lt;/code&gt; long.
1184  *
1185  * @param length is the length of the text; if &lt;code&gt;length==-1&lt;/code&gt; then
1186  *        the text must be zero-terminated.
1187  *
1188  * @param paraLevel specifies the default level for the text;
1189  *        it is typically 0 (LTR) or 1 (RTL).
1190  *        If the function shall determine the paragraph level from the text,
1191  *        then &lt;code&gt;paraLevel&lt;/code&gt; can be set to
1192  *        either &lt;code&gt;#UBIDI_DEFAULT_LTR&lt;/code&gt;
1193  *        or &lt;code&gt;#UBIDI_DEFAULT_RTL&lt;/code&gt;; if the text contains multiple
1194  *        paragraphs, the paragraph level shall be determined separately for
1195  *        each paragraph; if a paragraph does not include any strongly typed
1196  *        character, then the desired default is used (0 for LTR or 1 for RTL).
1197  *        Any other value between 0 and &lt;code&gt;#UBIDI_MAX_EXPLICIT_LEVEL&lt;/code&gt;
1198  *        is also valid, with odd levels indicating RTL.
1199  *
1200  * @param embeddingLevels (in) may be used to preset the embedding and override levels,
1201  *        ignoring characters like LRE and PDF in the text.
1202  *        A level overrides the directional property of its corresponding
1203  *        (same index) character if the level has the
1204  *        &lt;code&gt;#UBIDI_LEVEL_OVERRIDE&lt;/code&gt; bit set.&lt;br&gt;&lt;br&gt;
1205  *        Aside from that bit, it must be
1206  *        &lt;code&gt;paraLevel&lt;=embeddingLevels[]&lt;=UBIDI_MAX_EXPLICIT_LEVEL&lt;/code&gt;,
1207  *        except that level 0 is always allowed.
1208  *        Level 0 for a paragraph separator prevents reordering of paragraphs;
1209  *        this only works reliably if &lt;code&gt;#UBIDI_LEVEL_OVERRIDE&lt;/code&gt;
1210  *        is also set for paragraph separators.
1211  *        Level 0 for other characters is treated as a wildcard
1212  *        and is lifted up to the resolved level of the surrounding paragraph.&lt;br&gt;&lt;br&gt;
1213  *        &lt;strong&gt;Caution: &lt;/strong&gt;A copy of this pointer, not of the levels,
1214  *        will be stored in the &lt;code&gt;UBiDi&lt;/code&gt; object;
1215  *        the &lt;code&gt;embeddingLevels&lt;/code&gt; array must not be
1216  *        deallocated before the &lt;code&gt;UBiDi&lt;/code&gt; structure is destroyed or reused,
1217  *        and the &lt;code&gt;embeddingLevels&lt;/code&gt;
1218  *        should not be modified to avoid unexpected results on subsequent Bidi operations.
1219  *        However, the &lt;code&gt;ubidi_setPara()&lt;/code&gt; and
1220  *        &lt;code&gt;ubidi_setLine()&lt;/code&gt; functions may modify some or all of the levels.&lt;br&gt;&lt;br&gt;
1221  *        After the &lt;code&gt;UBiDi&lt;/code&gt; object is reused or destroyed, the caller
1222  *        must take care of the deallocation of the &lt;code&gt;embeddingLevels&lt;/code&gt; array.&lt;br&gt;&lt;br&gt;
1223  *        &lt;strong&gt;Note:&lt;/strong&gt; the &lt;code&gt;embeddingLevels&lt;/code&gt; array must be
1224  *        at least &lt;code&gt;length&lt;/code&gt; long.
1225  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1226  *        value is not necessary.
1227  *
1228  * @param pErrorCode must be a valid pointer to an error code value.
1229  * @stable ICU 2.0
1230  */
1231 U_STABLE void U_EXPORT2
1232 ubidi_setPara(UBiDi *pBiDi, const UChar *text, int32_t length,
1233               UBiDiLevel paraLevel, UBiDiLevel *embeddingLevels,
1234               UErrorCode *pErrorCode);
1235 
1236 /**
1237  * &lt;code&gt;ubidi_setLine()&lt;/code&gt; sets a &lt;code&gt;UBiDi&lt;/code&gt; to
1238  * contain the reordering information, especially the resolved levels,
1239  * for all the characters in a line of text. This line of text is
1240  * specified by referring to a &lt;code&gt;UBiDi&lt;/code&gt; object representing
1241  * this information for a piece of text containing one or more paragraphs,
1242  * and by specifying a range of indexes in this text.&lt;p&gt;
1243  * In the new line object, the indexes will range from 0 to &lt;code&gt;limit-start-1&lt;/code&gt;.&lt;p&gt;
1244  *
1245  * This is used after calling &lt;code&gt;ubidi_setPara()&lt;/code&gt;
1246  * for a piece of text, and after line-breaking on that text.
1247  * It is not necessary if each paragraph is treated as a single line.&lt;p&gt;
1248  *
1249  * After line-breaking, rules (L1) and (L2) for the treatment of
1250  * trailing WS and for reordering are performed on
1251  * a &lt;code&gt;UBiDi&lt;/code&gt; object that represents a line.&lt;p&gt;
1252  *
1253  * &lt;strong&gt;Important: &lt;/strong&gt;&lt;code&gt;pLineBiDi&lt;/code&gt; shares data with
1254  * &lt;code&gt;pParaBiDi&lt;/code&gt;.
1255  * You must destroy or reuse &lt;code&gt;pLineBiDi&lt;/code&gt; before &lt;code&gt;pParaBiDi&lt;/code&gt;.
1256  * In other words, you must destroy or reuse the &lt;code&gt;UBiDi&lt;/code&gt; object for a line
1257  * before the object for its parent paragraph.&lt;p&gt;
1258  *
1259  * The text pointer that was stored in &lt;code&gt;pParaBiDi&lt;/code&gt; is also copied,
1260  * and &lt;code&gt;start&lt;/code&gt; is added to it so that it points to the beginning of the
1261  * line for this object.
1262  *
1263  * @param pParaBiDi is the parent paragraph object. It must have been set
1264  * by a successful call to ubidi_setPara.
1265  *
1266  * @param start is the line&#39;s first index into the text.
1267  *
1268  * @param limit is just behind the line&#39;s last index into the text
1269  *        (its last index +1).&lt;br&gt;
1270  *        It must be &lt;code&gt;0&lt;=start&lt;limit&lt;=&lt;/code&gt;containing paragraph limit.
1271  *        If the specified line crosses a paragraph boundary, the function
1272  *        will terminate with error code U_ILLEGAL_ARGUMENT_ERROR.
1273  *
1274  * @param pLineBiDi is the object that will now represent a line of the text.
1275  *
1276  * @param pErrorCode must be a valid pointer to an error code value.
1277  *
1278  * @see ubidi_setPara
1279  * @see ubidi_getProcessedLength
1280  * @stable ICU 2.0
1281  */
1282 U_STABLE void U_EXPORT2
1283 ubidi_setLine(const UBiDi *pParaBiDi,
1284               int32_t start, int32_t limit,
1285               UBiDi *pLineBiDi,
1286               UErrorCode *pErrorCode);
1287 
1288 /**
1289  * Get the directionality of the text.
1290  *
1291  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1292  *
1293  * @return a value of &lt;code&gt;UBIDI_LTR&lt;/code&gt;, &lt;code&gt;UBIDI_RTL&lt;/code&gt;
1294  *         or &lt;code&gt;UBIDI_MIXED&lt;/code&gt;
1295  *         that indicates if the entire text
1296  *         represented by this object is unidirectional,
1297  *         and which direction, or if it is mixed-directional.
1298  * Note -  The value &lt;code&gt;UBIDI_NEUTRAL&lt;/code&gt; is never returned from this method.
1299  *
1300  * @see UBiDiDirection
1301  * @stable ICU 2.0
1302  */
1303 U_STABLE UBiDiDirection U_EXPORT2
1304 ubidi_getDirection(const UBiDi *pBiDi);
1305 
1306 /**
1307  * Gets the base direction of the text provided according
1308  * to the Unicode Bidirectional Algorithm. The base direction
1309  * is derived from the first character in the string with bidirectional
1310  * character type L, R, or AL. If the first such character has type L,
1311  * &lt;code&gt;UBIDI_LTR&lt;/code&gt; is returned. If the first such character has
1312  * type R or AL, &lt;code&gt;UBIDI_RTL&lt;/code&gt; is returned. If the string does
1313  * not contain any character of these types, then
1314  * &lt;code&gt;UBIDI_NEUTRAL&lt;/code&gt; is returned.
1315  *
1316  * This is a lightweight function for use when only the base direction
1317  * is needed and no further bidi processing of the text is needed.
1318  *
1319  * @param text is a pointer to the text whose base
1320  *             direction is needed.
1321  * Note: the text must be (at least) @c length long.
1322  *
1323  * @param length is the length of the text;
1324  *               if &lt;code&gt;length==-1&lt;/code&gt; then the text
1325  *               must be zero-terminated.
1326  *
1327  * @return  &lt;code&gt;UBIDI_LTR&lt;/code&gt;, &lt;code&gt;UBIDI_RTL&lt;/code&gt;,
1328  *          &lt;code&gt;UBIDI_NEUTRAL&lt;/code&gt;
1329  *
1330  * @see UBiDiDirection
1331  * @stable ICU 4.6
1332  */
1333 U_STABLE UBiDiDirection U_EXPORT2
1334 ubidi_getBaseDirection(const UChar *text,  int32_t length );
1335 
1336 /**
1337  * Get the pointer to the text.
1338  *
1339  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1340  *
1341  * @return The pointer to the text that the UBiDi object was created for.
1342  *
1343  * @see ubidi_setPara
1344  * @see ubidi_setLine
1345  * @stable ICU 2.0
1346  */
1347 U_STABLE const UChar * U_EXPORT2
1348 ubidi_getText(const UBiDi *pBiDi);
1349 
1350 /**
1351  * Get the length of the text.
1352  *
1353  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1354  *
1355  * @return The length of the text that the UBiDi object was created for.
1356  * @stable ICU 2.0
1357  */
1358 U_STABLE int32_t U_EXPORT2
1359 ubidi_getLength(const UBiDi *pBiDi);
1360 
1361 /**
1362  * Get the paragraph level of the text.
1363  *
1364  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1365  *
1366  * @return The paragraph level. If there are multiple paragraphs, their
1367  *         level may vary if the required paraLevel is UBIDI_DEFAULT_LTR or
1368  *         UBIDI_DEFAULT_RTL.  In that case, the level of the first paragraph
1369  *         is returned.
1370  *
1371  * @see UBiDiLevel
1372  * @see ubidi_getParagraph
1373  * @see ubidi_getParagraphByIndex
1374  * @stable ICU 2.0
1375  */
1376 U_STABLE UBiDiLevel U_EXPORT2
1377 ubidi_getParaLevel(const UBiDi *pBiDi);
1378 
1379 /**
1380  * Get the number of paragraphs.
1381  *
1382  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1383  *
1384  * @return The number of paragraphs.
1385  * @stable ICU 3.4
1386  */
1387 U_STABLE int32_t U_EXPORT2
1388 ubidi_countParagraphs(UBiDi *pBiDi);
1389 
1390 /**
1391  * Get a paragraph, given a position within the text.
1392  * This function returns information about a paragraph.&lt;br&gt;
1393  * Note: if the paragraph index is known, it is more efficient to
1394  * retrieve the paragraph information using ubidi_getParagraphByIndex().&lt;p&gt;
1395  *
1396  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1397  *
1398  * @param charIndex is the index of a character within the text, in the
1399  *        range &lt;code&gt;[0..ubidi_getProcessedLength(pBiDi)-1]&lt;/code&gt;.
1400  *
1401  * @param pParaStart will receive the index of the first character of the
1402  *        paragraph in the text.
1403  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1404  *        value is not necessary.
1405  *
1406  * @param pParaLimit will receive the limit of the paragraph.
1407  *        The l-value that you point to here may be the
1408  *        same expression (variable) as the one for
1409  *        &lt;code&gt;charIndex&lt;/code&gt;.
1410  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1411  *        value is not necessary.
1412  *
1413  * @param pParaLevel will receive the level of the paragraph.
1414  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1415  *        value is not necessary.
1416  *
1417  * @param pErrorCode must be a valid pointer to an error code value.
1418  *
1419  * @return The index of the paragraph containing the specified position.
1420  *
1421  * @see ubidi_getProcessedLength
1422  * @stable ICU 3.4
1423  */
1424 U_STABLE int32_t U_EXPORT2
1425 ubidi_getParagraph(const UBiDi *pBiDi, int32_t charIndex, int32_t *pParaStart,
1426                    int32_t *pParaLimit, UBiDiLevel *pParaLevel,
1427                    UErrorCode *pErrorCode);
1428 
1429 /**
1430  * Get a paragraph, given the index of this paragraph.
1431  *
1432  * This function returns information about a paragraph.&lt;p&gt;
1433  *
1434  * @param pBiDi is the paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
1435  *
1436  * @param paraIndex is the number of the paragraph, in the
1437  *        range &lt;code&gt;[0..ubidi_countParagraphs(pBiDi)-1]&lt;/code&gt;.
1438  *
1439  * @param pParaStart will receive the index of the first character of the
1440  *        paragraph in the text.
1441  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1442  *        value is not necessary.
1443  *
1444  * @param pParaLimit will receive the limit of the paragraph.
1445  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1446  *        value is not necessary.
1447  *
1448  * @param pParaLevel will receive the level of the paragraph.
1449  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1450  *        value is not necessary.
1451  *
1452  * @param pErrorCode must be a valid pointer to an error code value.
1453  *
1454  * @stable ICU 3.4
1455  */
1456 U_STABLE void U_EXPORT2
1457 ubidi_getParagraphByIndex(const UBiDi *pBiDi, int32_t paraIndex,
1458                           int32_t *pParaStart, int32_t *pParaLimit,
1459                           UBiDiLevel *pParaLevel, UErrorCode *pErrorCode);
1460 
1461 /**
1462  * Get the level for one character.
1463  *
1464  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1465  *
1466  * @param charIndex the index of a character. It must be in the range
1467  *         [0..ubidi_getProcessedLength(pBiDi)].
1468  *
1469  * @return The level for the character at charIndex (0 if charIndex is not
1470  *         in the valid range).
1471  *
1472  * @see UBiDiLevel
1473  * @see ubidi_getProcessedLength
1474  * @stable ICU 2.0
1475  */
1476 U_STABLE UBiDiLevel U_EXPORT2
1477 ubidi_getLevelAt(const UBiDi *pBiDi, int32_t charIndex);
1478 
1479 /**
1480  * Get an array of levels for each character.&lt;p&gt;
1481  *
1482  * Note that this function may allocate memory under some
1483  * circumstances, unlike &lt;code&gt;ubidi_getLevelAt()&lt;/code&gt;.
1484  *
1485  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object, whose
1486  *        text length must be strictly positive.
1487  *
1488  * @param pErrorCode must be a valid pointer to an error code value.
1489  *
1490  * @return The levels array for the text,
1491  *         or &lt;code&gt;NULL&lt;/code&gt; if an error occurs.
1492  *
1493  * @see UBiDiLevel
1494  * @see ubidi_getProcessedLength
1495  * @stable ICU 2.0
1496  */
1497 U_STABLE const UBiDiLevel * U_EXPORT2
1498 ubidi_getLevels(UBiDi *pBiDi, UErrorCode *pErrorCode);
1499 
1500 /**
1501  * Get a logical run.
1502  * This function returns information about a run and is used
1503  * to retrieve runs in logical order.&lt;p&gt;
1504  * This is especially useful for line-breaking on a paragraph.
1505  *
1506  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1507  *
1508  * @param logicalPosition is a logical position within the source text.
1509  *
1510  * @param pLogicalLimit will receive the limit of the corresponding run.
1511  *        The l-value that you point to here may be the
1512  *        same expression (variable) as the one for
1513  *        &lt;code&gt;logicalPosition&lt;/code&gt;.
1514  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1515  *        value is not necessary.
1516  *
1517  * @param pLevel will receive the level of the corresponding run.
1518  *        This pointer can be &lt;code&gt;NULL&lt;/code&gt; if this
1519  *        value is not necessary.
1520  *
1521  * @see ubidi_getProcessedLength
1522  * @stable ICU 2.0
1523  */
1524 U_STABLE void U_EXPORT2
1525 ubidi_getLogicalRun(const UBiDi *pBiDi, int32_t logicalPosition,
1526                     int32_t *pLogicalLimit, UBiDiLevel *pLevel);
1527 
1528 /**
1529  * Get the number of runs.
1530  * This function may invoke the actual reordering on the
1531  * &lt;code&gt;UBiDi&lt;/code&gt; object, after &lt;code&gt;ubidi_setPara()&lt;/code&gt;
1532  * may have resolved only the levels of the text. Therefore,
1533  * &lt;code&gt;ubidi_countRuns()&lt;/code&gt; may have to allocate memory,
1534  * and may fail doing so.
1535  *
1536  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1537  *
1538  * @param pErrorCode must be a valid pointer to an error code value.
1539  *
1540  * @return The number of runs.
1541  * @stable ICU 2.0
1542  */
1543 U_STABLE int32_t U_EXPORT2
1544 ubidi_countRuns(UBiDi *pBiDi, UErrorCode *pErrorCode);
1545 
1546 /**
1547  * Get one run&#39;s logical start, length, and directionality,
1548  * which can be 0 for LTR or 1 for RTL.
1549  * In an RTL run, the character at the logical start is
1550  * visually on the right of the displayed run.
1551  * The length is the number of characters in the run.&lt;p&gt;
1552  * &lt;code&gt;ubidi_countRuns()&lt;/code&gt; should be called
1553  * before the runs are retrieved.
1554  *
1555  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1556  *
1557  * @param runIndex is the number of the run in visual order, in the
1558  *        range &lt;code&gt;[0..ubidi_countRuns(pBiDi)-1]&lt;/code&gt;.
1559  *
1560  * @param pLogicalStart is the first logical character index in the text.
1561  *        The pointer may be &lt;code&gt;NULL&lt;/code&gt; if this index is not needed.
1562  *
1563  * @param pLength is the number of characters (at least one) in the run.
1564  *        The pointer may be &lt;code&gt;NULL&lt;/code&gt; if this is not needed.
1565  *
1566  * @return the directionality of the run,
1567  *         &lt;code&gt;UBIDI_LTR==0&lt;/code&gt; or &lt;code&gt;UBIDI_RTL==1&lt;/code&gt;,
1568  *         never &lt;code&gt;UBIDI_MIXED&lt;/code&gt;,
1569  *         never &lt;code&gt;UBIDI_NEUTRAL&lt;/code&gt;.
1570  *
1571  * @see ubidi_countRuns
1572  *
1573  * Example:
1574  * &lt;pre&gt;
1575  * \code
1576  * int32_t i, count=ubidi_countRuns(pBiDi),
1577  *         logicalStart, visualIndex=0, length;
1578  * for(i=0; i&lt;count; ++i) {
1579  *    if(UBIDI_LTR==ubidi_getVisualRun(pBiDi, i, &amp;logicalStart, &amp;length)) {
1580  *         do { // LTR
1581  *             show_char(text[logicalStart++], visualIndex++);
1582  *         } while(--length&gt;0);
1583  *     } else {
1584  *         logicalStart+=length;  // logicalLimit
1585  *         do { // RTL
1586  *             show_char(text[--logicalStart], visualIndex++);
1587  *         } while(--length&gt;0);
1588  *     }
1589  * }
1590  *\endcode
1591  * &lt;/pre&gt;
1592  *
1593  * Note that in right-to-left runs, code like this places
1594  * second surrogates before first ones (which is generally a bad idea)
1595  * and combining characters before base characters.
1596  * &lt;p&gt;
1597  * Use of &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;, optionally with the
1598  * &lt;code&gt;#UBIDI_KEEP_BASE_COMBINING&lt;/code&gt; option, can be considered in order
1599  * to avoid these issues.
1600  * @stable ICU 2.0
1601  */
1602 U_STABLE UBiDiDirection U_EXPORT2
1603 ubidi_getVisualRun(UBiDi *pBiDi, int32_t runIndex,
1604                    int32_t *pLogicalStart, int32_t *pLength);
1605 
1606 /**
1607  * Get the visual position from a logical text position.
1608  * If such a mapping is used many times on the same
1609  * &lt;code&gt;UBiDi&lt;/code&gt; object, then calling
1610  * &lt;code&gt;ubidi_getLogicalMap()&lt;/code&gt; is more efficient.&lt;p&gt;
1611  *
1612  * The value returned may be &lt;code&gt;#UBIDI_MAP_NOWHERE&lt;/code&gt; if there is no
1613  * visual position because the corresponding text character is a Bidi control
1614  * removed from output by the option &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;.
1615  * &lt;p&gt;
1616  * When the visual output is altered by using options of
1617  * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; such as &lt;code&gt;UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;,
1618  * &lt;code&gt;UBIDI_KEEP_BASE_COMBINING&lt;/code&gt;, &lt;code&gt;UBIDI_OUTPUT_REVERSE&lt;/code&gt;,
1619  * &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt;, the visual position returned may not
1620  * be correct. It is advised to use, when possible, reordering options
1621  * such as &lt;code&gt;UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; and &lt;code&gt;UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;.
1622  * &lt;p&gt;
1623  * Note that in right-to-left runs, this mapping places
1624  * second surrogates before first ones (which is generally a bad idea)
1625  * and combining characters before base characters.
1626  * Use of &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;, optionally with the
1627  * &lt;code&gt;#UBIDI_KEEP_BASE_COMBINING&lt;/code&gt; option can be considered instead
1628  * of using the mapping, in order to avoid these issues.
1629  *
1630  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1631  *
1632  * @param logicalIndex is the index of a character in the text.
1633  *
1634  * @param pErrorCode must be a valid pointer to an error code value.
1635  *
1636  * @return The visual position of this character.
1637  *
1638  * @see ubidi_getLogicalMap
1639  * @see ubidi_getLogicalIndex
1640  * @see ubidi_getProcessedLength
1641  * @stable ICU 2.0
1642  */
1643 U_STABLE int32_t U_EXPORT2
1644 ubidi_getVisualIndex(UBiDi *pBiDi, int32_t logicalIndex, UErrorCode *pErrorCode);
1645 
1646 /**
1647  * Get the logical text position from a visual position.
1648  * If such a mapping is used many times on the same
1649  * &lt;code&gt;UBiDi&lt;/code&gt; object, then calling
1650  * &lt;code&gt;ubidi_getVisualMap()&lt;/code&gt; is more efficient.&lt;p&gt;
1651  *
1652  * The value returned may be &lt;code&gt;#UBIDI_MAP_NOWHERE&lt;/code&gt; if there is no
1653  * logical position because the corresponding text character is a Bidi mark
1654  * inserted in the output by option &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;.
1655  * &lt;p&gt;
1656  * This is the inverse function to &lt;code&gt;ubidi_getVisualIndex()&lt;/code&gt;.
1657  * &lt;p&gt;
1658  * When the visual output is altered by using options of
1659  * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; such as &lt;code&gt;UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;,
1660  * &lt;code&gt;UBIDI_KEEP_BASE_COMBINING&lt;/code&gt;, &lt;code&gt;UBIDI_OUTPUT_REVERSE&lt;/code&gt;,
1661  * &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt;, the logical position returned may not
1662  * be correct. It is advised to use, when possible, reordering options
1663  * such as &lt;code&gt;UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; and &lt;code&gt;UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;.
1664  *
1665  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1666  *
1667  * @param visualIndex is the visual position of a character.
1668  *
1669  * @param pErrorCode must be a valid pointer to an error code value.
1670  *
1671  * @return The index of this character in the text.
1672  *
1673  * @see ubidi_getVisualMap
1674  * @see ubidi_getVisualIndex
1675  * @see ubidi_getResultLength
1676  * @stable ICU 2.0
1677  */
1678 U_STABLE int32_t U_EXPORT2
1679 ubidi_getLogicalIndex(UBiDi *pBiDi, int32_t visualIndex, UErrorCode *pErrorCode);
1680 
1681 /**
1682  * Get a logical-to-visual index map (array) for the characters in the UBiDi
1683  * (paragraph or line) object.
1684  * &lt;p&gt;
1685  * Some values in the map may be &lt;code&gt;#UBIDI_MAP_NOWHERE&lt;/code&gt; if the
1686  * corresponding text characters are Bidi controls removed from the visual
1687  * output by the option &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;.
1688  * &lt;p&gt;
1689  * When the visual output is altered by using options of
1690  * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; such as &lt;code&gt;UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;,
1691  * &lt;code&gt;UBIDI_KEEP_BASE_COMBINING&lt;/code&gt;, &lt;code&gt;UBIDI_OUTPUT_REVERSE&lt;/code&gt;,
1692  * &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt;, the visual positions returned may not
1693  * be correct. It is advised to use, when possible, reordering options
1694  * such as &lt;code&gt;UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; and &lt;code&gt;UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;.
1695  * &lt;p&gt;
1696  * Note that in right-to-left runs, this mapping places
1697  * second surrogates before first ones (which is generally a bad idea)
1698  * and combining characters before base characters.
1699  * Use of &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;, optionally with the
1700  * &lt;code&gt;#UBIDI_KEEP_BASE_COMBINING&lt;/code&gt; option can be considered instead
1701  * of using the mapping, in order to avoid these issues.
1702  *
1703  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1704  *
1705  * @param indexMap is a pointer to an array of &lt;code&gt;ubidi_getProcessedLength()&lt;/code&gt;
1706  *        indexes which will reflect the reordering of the characters.
1707  *        If option &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; is set, the number
1708  *        of elements allocated in &lt;code&gt;indexMap&lt;/code&gt; must be no less than
1709  *        &lt;code&gt;ubidi_getResultLength()&lt;/code&gt;.
1710  *        The array does not need to be initialized.&lt;br&gt;&lt;br&gt;
1711  *        The index map will result in &lt;code&gt;indexMap[logicalIndex]==visualIndex&lt;/code&gt;.
1712  *
1713  * @param pErrorCode must be a valid pointer to an error code value.
1714  *
1715  * @see ubidi_getVisualMap
1716  * @see ubidi_getVisualIndex
1717  * @see ubidi_getProcessedLength
1718  * @see ubidi_getResultLength
1719  * @stable ICU 2.0
1720  */
1721 U_STABLE void U_EXPORT2
1722 ubidi_getLogicalMap(UBiDi *pBiDi, int32_t *indexMap, UErrorCode *pErrorCode);
1723 
1724 /**
1725  * Get a visual-to-logical index map (array) for the characters in the UBiDi
1726  * (paragraph or line) object.
1727  * &lt;p&gt;
1728  * Some values in the map may be &lt;code&gt;#UBIDI_MAP_NOWHERE&lt;/code&gt; if the
1729  * corresponding text characters are Bidi marks inserted in the visual output
1730  * by the option &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;.
1731  * &lt;p&gt;
1732  * When the visual output is altered by using options of
1733  * &lt;code&gt;ubidi_writeReordered()&lt;/code&gt; such as &lt;code&gt;UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;,
1734  * &lt;code&gt;UBIDI_KEEP_BASE_COMBINING&lt;/code&gt;, &lt;code&gt;UBIDI_OUTPUT_REVERSE&lt;/code&gt;,
1735  * &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt;, the logical positions returned may not
1736  * be correct. It is advised to use, when possible, reordering options
1737  * such as &lt;code&gt;UBIDI_OPTION_INSERT_MARKS&lt;/code&gt; and &lt;code&gt;UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt;.
1738  *
1739  * @param pBiDi is the paragraph or line &lt;code&gt;UBiDi&lt;/code&gt; object.
1740  *
1741  * @param indexMap is a pointer to an array of &lt;code&gt;ubidi_getResultLength()&lt;/code&gt;
1742  *        indexes which will reflect the reordering of the characters.
1743  *        If option &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt; is set, the number
1744  *        of elements allocated in &lt;code&gt;indexMap&lt;/code&gt; must be no less than
1745  *        &lt;code&gt;ubidi_getProcessedLength()&lt;/code&gt;.
1746  *        The array does not need to be initialized.&lt;br&gt;&lt;br&gt;
1747  *        The index map will result in &lt;code&gt;indexMap[visualIndex]==logicalIndex&lt;/code&gt;.
1748  *
1749  * @param pErrorCode must be a valid pointer to an error code value.
1750  *
1751  * @see ubidi_getLogicalMap
1752  * @see ubidi_getLogicalIndex
1753  * @see ubidi_getProcessedLength
1754  * @see ubidi_getResultLength
1755  * @stable ICU 2.0
1756  */
1757 U_STABLE void U_EXPORT2
1758 ubidi_getVisualMap(UBiDi *pBiDi, int32_t *indexMap, UErrorCode *pErrorCode);
1759 
1760 /**
1761  * This is a convenience function that does not use a UBiDi object.
1762  * It is intended to be used for when an application has determined the levels
1763  * of objects (character sequences) and just needs to have them reordered (L2).
1764  * This is equivalent to using &lt;code&gt;ubidi_getLogicalMap()&lt;/code&gt; on a
1765  * &lt;code&gt;UBiDi&lt;/code&gt; object.
1766  *
1767  * @param levels is an array with &lt;code&gt;length&lt;/code&gt; levels that have been determined by
1768  *        the application.
1769  *
1770  * @param length is the number of levels in the array, or, semantically,
1771  *        the number of objects to be reordered.
1772  *        It must be &lt;code&gt;length&gt;0&lt;/code&gt;.
1773  *
1774  * @param indexMap is a pointer to an array of &lt;code&gt;length&lt;/code&gt;
1775  *        indexes which will reflect the reordering of the characters.
1776  *        The array does not need to be initialized.&lt;p&gt;
1777  *        The index map will result in &lt;code&gt;indexMap[logicalIndex]==visualIndex&lt;/code&gt;.
1778  * @stable ICU 2.0
1779  */
1780 U_STABLE void U_EXPORT2
1781 ubidi_reorderLogical(const UBiDiLevel *levels, int32_t length, int32_t *indexMap);
1782 
1783 /**
1784  * This is a convenience function that does not use a UBiDi object.
1785  * It is intended to be used for when an application has determined the levels
1786  * of objects (character sequences) and just needs to have them reordered (L2).
1787  * This is equivalent to using &lt;code&gt;ubidi_getVisualMap()&lt;/code&gt; on a
1788  * &lt;code&gt;UBiDi&lt;/code&gt; object.
1789  *
1790  * @param levels is an array with &lt;code&gt;length&lt;/code&gt; levels that have been determined by
1791  *        the application.
1792  *
1793  * @param length is the number of levels in the array, or, semantically,
1794  *        the number of objects to be reordered.
1795  *        It must be &lt;code&gt;length&gt;0&lt;/code&gt;.
1796  *
1797  * @param indexMap is a pointer to an array of &lt;code&gt;length&lt;/code&gt;
1798  *        indexes which will reflect the reordering of the characters.
1799  *        The array does not need to be initialized.&lt;p&gt;
1800  *        The index map will result in &lt;code&gt;indexMap[visualIndex]==logicalIndex&lt;/code&gt;.
1801  * @stable ICU 2.0
1802  */
1803 U_STABLE void U_EXPORT2
1804 ubidi_reorderVisual(const UBiDiLevel *levels, int32_t length, int32_t *indexMap);
1805 
1806 /**
1807  * Invert an index map.
1808  * The index mapping of the first map is inverted and written to
1809  * the second one.
1810  *
1811  * @param srcMap is an array with &lt;code&gt;length&lt;/code&gt; elements
1812  *        which defines the original mapping from a source array containing
1813  *        &lt;code&gt;length&lt;/code&gt; elements to a destination array.
1814  *        Some elements of the source array may have no mapping in the
1815  *        destination array. In that case, their value will be
1816  *        the special value &lt;code&gt;UBIDI_MAP_NOWHERE&lt;/code&gt;.
1817  *        All elements must be &gt;=0 or equal to &lt;code&gt;UBIDI_MAP_NOWHERE&lt;/code&gt;.
1818  *        Some elements may have a value &gt;= &lt;code&gt;length&lt;/code&gt;, if the
1819  *        destination array has more elements than the source array.
1820  *        There must be no duplicate indexes (two or more elements with the
1821  *        same value except &lt;code&gt;UBIDI_MAP_NOWHERE&lt;/code&gt;).
1822  *
1823  * @param destMap is an array with a number of elements equal to 1 + the highest
1824  *        value in &lt;code&gt;srcMap&lt;/code&gt;.
1825  *        &lt;code&gt;destMap&lt;/code&gt; will be filled with the inverse mapping.
1826  *        If element with index i in &lt;code&gt;srcMap&lt;/code&gt; has a value k different
1827  *        from &lt;code&gt;UBIDI_MAP_NOWHERE&lt;/code&gt;, this means that element i of
1828  *        the source array maps to element k in the destination array.
1829  *        The inverse map will have value i in its k-th element.
1830  *        For all elements of the destination array which do not map to
1831  *        an element in the source array, the corresponding element in the
1832  *        inverse map will have a value equal to &lt;code&gt;UBIDI_MAP_NOWHERE&lt;/code&gt;.
1833  *
1834  * @param length is the length of each array.
1835  * @see UBIDI_MAP_NOWHERE
1836  * @stable ICU 2.0
1837  */
1838 U_STABLE void U_EXPORT2
1839 ubidi_invertMap(const int32_t *srcMap, int32_t *destMap, int32_t length);
1840 
1841 /** option flags for ubidi_writeReordered() */
1842 
1843 /**
1844  * option bit for ubidi_writeReordered():
1845  * keep combining characters after their base characters in RTL runs
1846  *
1847  * @see ubidi_writeReordered
1848  * @stable ICU 2.0
1849  */
1850 #define UBIDI_KEEP_BASE_COMBINING       1
1851 
1852 /**
1853  * option bit for ubidi_writeReordered():
1854  * replace characters with the &quot;mirrored&quot; property in RTL runs
1855  * by their mirror-image mappings
1856  *
1857  * @see ubidi_writeReordered
1858  * @stable ICU 2.0
1859  */
1860 #define UBIDI_DO_MIRRORING              2
1861 
1862 /**
1863  * option bit for ubidi_writeReordered():
1864  * surround the run with LRMs if necessary;
1865  * this is part of the approximate &quot;inverse Bidi&quot; algorithm
1866  *
1867  * &lt;p&gt;This option does not imply corresponding adjustment of the index
1868  * mappings.&lt;/p&gt;
1869  *
1870  * @see ubidi_setInverse
1871  * @see ubidi_writeReordered
1872  * @stable ICU 2.0
1873  */
1874 #define UBIDI_INSERT_LRM_FOR_NUMERIC    4
1875 
1876 /**
1877  * option bit for ubidi_writeReordered():
1878  * remove Bidi control characters
1879  * (this does not affect #UBIDI_INSERT_LRM_FOR_NUMERIC)
1880  *
1881  * &lt;p&gt;This option does not imply corresponding adjustment of the index
1882  * mappings.&lt;/p&gt;
1883  *
1884  * @see ubidi_writeReordered
1885  * @stable ICU 2.0
1886  */
1887 #define UBIDI_REMOVE_BIDI_CONTROLS      8
1888 
1889 /**
1890  * option bit for ubidi_writeReordered():
1891  * write the output in reverse order
1892  *
1893  * &lt;p&gt;This has the same effect as calling &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;
1894  * first without this option, and then calling
1895  * &lt;code&gt;ubidi_writeReverse()&lt;/code&gt; without mirroring.
1896  * Doing this in the same step is faster and avoids a temporary buffer.
1897  * An example for using this option is output to a character terminal that
1898  * is designed for RTL scripts and stores text in reverse order.&lt;/p&gt;
1899  *
1900  * @see ubidi_writeReordered
1901  * @stable ICU 2.0
1902  */
1903 #define UBIDI_OUTPUT_REVERSE            16
1904 
1905 /**
1906  * Get the length of the source text processed by the last call to
1907  * &lt;code&gt;ubidi_setPara()&lt;/code&gt;. This length may be different from the length
1908  * of the source text if option &lt;code&gt;#UBIDI_OPTION_STREAMING&lt;/code&gt;
1909  * has been set.
1910  * &lt;br&gt;
1911  * Note that whenever the length of the text affects the execution or the
1912  * result of a function, it is the processed length which must be considered,
1913  * except for &lt;code&gt;ubidi_setPara&lt;/code&gt; (which receives unprocessed source
1914  * text) and &lt;code&gt;ubidi_getLength&lt;/code&gt; (which returns the original length
1915  * of the source text).&lt;br&gt;
1916  * In particular, the processed length is the one to consider in the following
1917  * cases:
1918  * &lt;ul&gt;
1919  * &lt;li&gt;maximum value of the &lt;code&gt;limit&lt;/code&gt; argument of
1920  * &lt;code&gt;ubidi_setLine&lt;/code&gt;&lt;/li&gt;
1921  * &lt;li&gt;maximum value of the &lt;code&gt;charIndex&lt;/code&gt; argument of
1922  * &lt;code&gt;ubidi_getParagraph&lt;/code&gt;&lt;/li&gt;
1923  * &lt;li&gt;maximum value of the &lt;code&gt;charIndex&lt;/code&gt; argument of
1924  * &lt;code&gt;ubidi_getLevelAt&lt;/code&gt;&lt;/li&gt;
1925  * &lt;li&gt;number of elements in the array returned by &lt;code&gt;ubidi_getLevels&lt;/code&gt;&lt;/li&gt;
1926  * &lt;li&gt;maximum value of the &lt;code&gt;logicalStart&lt;/code&gt; argument of
1927  * &lt;code&gt;ubidi_getLogicalRun&lt;/code&gt;&lt;/li&gt;
1928  * &lt;li&gt;maximum value of the &lt;code&gt;logicalIndex&lt;/code&gt; argument of
1929  * &lt;code&gt;ubidi_getVisualIndex&lt;/code&gt;&lt;/li&gt;
1930  * &lt;li&gt;number of elements filled in the &lt;code&gt;*indexMap&lt;/code&gt; argument of
1931  * &lt;code&gt;ubidi_getLogicalMap&lt;/code&gt;&lt;/li&gt;
1932  * &lt;li&gt;length of text processed by &lt;code&gt;ubidi_writeReordered&lt;/code&gt;&lt;/li&gt;
1933  * &lt;/ul&gt;
1934  *
1935  * @param pBiDi is the paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
1936  *
1937  * @return The length of the part of the source text processed by
1938  *         the last call to &lt;code&gt;ubidi_setPara&lt;/code&gt;.
1939  * @see ubidi_setPara
1940  * @see UBIDI_OPTION_STREAMING
1941  * @stable ICU 3.6
1942  */
1943 U_STABLE int32_t U_EXPORT2
1944 ubidi_getProcessedLength(const UBiDi *pBiDi);
1945 
1946 /**
1947  * Get the length of the reordered text resulting from the last call to
1948  * &lt;code&gt;ubidi_setPara()&lt;/code&gt;. This length may be different from the length
1949  * of the source text if option &lt;code&gt;#UBIDI_OPTION_INSERT_MARKS&lt;/code&gt;
1950  * or option &lt;code&gt;#UBIDI_OPTION_REMOVE_CONTROLS&lt;/code&gt; has been set.
1951  * &lt;br&gt;
1952  * This resulting length is the one to consider in the following cases:
1953  * &lt;ul&gt;
1954  * &lt;li&gt;maximum value of the &lt;code&gt;visualIndex&lt;/code&gt; argument of
1955  * &lt;code&gt;ubidi_getLogicalIndex&lt;/code&gt;&lt;/li&gt;
1956  * &lt;li&gt;number of elements of the &lt;code&gt;*indexMap&lt;/code&gt; argument of
1957  * &lt;code&gt;ubidi_getVisualMap&lt;/code&gt;&lt;/li&gt;
1958  * &lt;/ul&gt;
1959  * Note that this length stays identical to the source text length if
1960  * Bidi marks are inserted or removed using option bits of
1961  * &lt;code&gt;ubidi_writeReordered&lt;/code&gt;, or if option
1962  * &lt;code&gt;#UBIDI_REORDER_INVERSE_NUMBERS_AS_L&lt;/code&gt; has been set.
1963  *
1964  * @param pBiDi is the paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
1965  *
1966  * @return The length of the reordered text resulting from
1967  *         the last call to &lt;code&gt;ubidi_setPara&lt;/code&gt;.
1968  * @see ubidi_setPara
1969  * @see UBIDI_OPTION_INSERT_MARKS
1970  * @see UBIDI_OPTION_REMOVE_CONTROLS
1971  * @stable ICU 3.6
1972  */
1973 U_STABLE int32_t U_EXPORT2
1974 ubidi_getResultLength(const UBiDi *pBiDi);
1975 
1976 U_CDECL_BEGIN
1977 
1978 #ifndef U_HIDE_DEPRECATED_API
1979 /**
1980  * Value returned by &lt;code&gt;UBiDiClassCallback&lt;/code&gt; callbacks when
1981  * there is no need to override the standard Bidi class for a given code point.
1982  *
1983  * This constant is deprecated; use u_getIntPropertyMaxValue(UCHAR_BIDI_CLASS)+1 instead.
1984  *
1985  * @see UBiDiClassCallback
1986  * @deprecated ICU 58 The numeric value may change over time, see ICU ticket #12420.
1987  */
1988 #define U_BIDI_CLASS_DEFAULT  U_CHAR_DIRECTION_COUNT
1989 #endif  // U_HIDE_DEPRECATED_API
1990 
1991 /**
1992  * Callback type declaration for overriding default Bidi class values with
1993  * custom ones.
1994  * &lt;p&gt;Usually, the function pointer will be propagated to a &lt;code&gt;UBiDi&lt;/code&gt;
1995  * object by calling the &lt;code&gt;ubidi_setClassCallback()&lt;/code&gt; function;
1996  * then the callback will be invoked by the UBA implementation any time the
1997  * class of a character is to be determined.&lt;/p&gt;
1998  *
1999  * @param context is a pointer to the callback private data.
2000  *
2001  * @param c       is the code point to get a Bidi class for.
2002  *
2003  * @return The directional property / Bidi class for the given code point
2004  *         &lt;code&gt;c&lt;/code&gt; if the default class has been overridden, or
2005  *         &lt;code&gt;u_getIntPropertyMaxValue(UCHAR_BIDI_CLASS)+1&lt;/code&gt;
2006  *         if the standard Bidi class value for &lt;code&gt;c&lt;/code&gt; is to be used.
2007  * @see ubidi_setClassCallback
2008  * @see ubidi_getClassCallback
2009  * @stable ICU 3.6
2010  */
2011 typedef UCharDirection U_CALLCONV
2012 UBiDiClassCallback(const void *context, UChar32 c);
2013 
2014 U_CDECL_END
2015 
2016 /**
2017  * Retrieve the Bidi class for a given code point.
2018  * &lt;p&gt;If a &lt;code&gt;#UBiDiClassCallback&lt;/code&gt; callback is defined and returns a
2019  * value other than &lt;code&gt;u_getIntPropertyMaxValue(UCHAR_BIDI_CLASS)+1&lt;/code&gt;,
2020  * that value is used; otherwise the default class determination mechanism is invoked.&lt;/p&gt;
2021  *
2022  * @param pBiDi is the paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
2023  *
2024  * @param c     is the code point whose Bidi class must be retrieved.
2025  *
2026  * @return The Bidi class for character &lt;code&gt;c&lt;/code&gt; based
2027  *         on the given &lt;code&gt;pBiDi&lt;/code&gt; instance.
2028  * @see UBiDiClassCallback
2029  * @stable ICU 3.6
2030  */
2031 U_STABLE UCharDirection U_EXPORT2
2032 ubidi_getCustomizedClass(UBiDi *pBiDi, UChar32 c);
2033 
2034 /**
2035  * Set the callback function and callback data used by the UBA
2036  * implementation for Bidi class determination.
2037  * &lt;p&gt;This may be useful for assigning Bidi classes to PUA characters, or
2038  * for special application needs. For instance, an application may want to
2039  * handle all spaces like L or R characters (according to the base direction)
2040  * when creating the visual ordering of logical lines which are part of a report
2041  * organized in columns: there should not be interaction between adjacent
2042  * cells.&lt;p&gt;
2043  *
2044  * @param pBiDi is the paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
2045  *
2046  * @param newFn is the new callback function pointer.
2047  *
2048  * @param newContext is the new callback context pointer. This can be NULL.
2049  *
2050  * @param oldFn fillin: Returns the old callback function pointer. This can be
2051  *                      NULL.
2052  *
2053  * @param oldContext fillin: Returns the old callback&#39;s context. This can be
2054  *                           NULL.
2055  *
2056  * @param pErrorCode must be a valid pointer to an error code value.
2057  *
2058  * @see ubidi_getClassCallback
2059  * @stable ICU 3.6
2060  */
2061 U_STABLE void U_EXPORT2
2062 ubidi_setClassCallback(UBiDi *pBiDi, UBiDiClassCallback *newFn,
2063                        const void *newContext, UBiDiClassCallback **oldFn,
2064                        const void **oldContext, UErrorCode *pErrorCode);
2065 
2066 /**
2067  * Get the current callback function used for Bidi class determination.
2068  *
2069  * @param pBiDi is the paragraph &lt;code&gt;UBiDi&lt;/code&gt; object.
2070  *
2071  * @param fn fillin: Returns the callback function pointer.
2072  *
2073  * @param context fillin: Returns the callback&#39;s private context.
2074  *
2075  * @see ubidi_setClassCallback
2076  * @stable ICU 3.6
2077  */
2078 U_STABLE void U_EXPORT2
2079 ubidi_getClassCallback(UBiDi *pBiDi, UBiDiClassCallback **fn, const void **context);
2080 
2081 /**
2082  * Take a &lt;code&gt;UBiDi&lt;/code&gt; object containing the reordering
2083  * information for a piece of text (one or more paragraphs) set by
2084  * &lt;code&gt;ubidi_setPara()&lt;/code&gt; or for a line of text set by
2085  * &lt;code&gt;ubidi_setLine()&lt;/code&gt; and write a reordered string to the
2086  * destination buffer.
2087  *
2088  * This function preserves the integrity of characters with multiple
2089  * code units and (optionally) combining characters.
2090  * Characters in RTL runs can be replaced by mirror-image characters
2091  * in the destination buffer. Note that &quot;real&quot; mirroring has
2092  * to be done in a rendering engine by glyph selection
2093  * and that for many &quot;mirrored&quot; characters there are no
2094  * Unicode characters as mirror-image equivalents.
2095  * There are also options to insert or remove Bidi control
2096  * characters; see the description of the &lt;code&gt;destSize&lt;/code&gt;
2097  * and &lt;code&gt;options&lt;/code&gt; parameters and of the option bit flags.
2098  *
2099  * @param pBiDi A pointer to a &lt;code&gt;UBiDi&lt;/code&gt; object that
2100  *              is set by &lt;code&gt;ubidi_setPara()&lt;/code&gt; or
2101  *              &lt;code&gt;ubidi_setLine()&lt;/code&gt; and contains the reordering
2102  *              information for the text that it was defined for,
2103  *              as well as a pointer to that text.&lt;br&gt;&lt;br&gt;
2104  *              The text was aliased (only the pointer was stored
2105  *              without copying the contents) and must not have been modified
2106  *              since the &lt;code&gt;ubidi_setPara()&lt;/code&gt; call.
2107  *
2108  * @param dest A pointer to where the reordered text is to be copied.
2109  *             The source text and &lt;code&gt;dest[destSize]&lt;/code&gt;
2110  *             must not overlap.
2111  *
2112  * @param destSize The size of the &lt;code&gt;dest&lt;/code&gt; buffer,
2113  *                 in number of UChars.
2114  *                 If the &lt;code&gt;UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;
2115  *                 option is set, then the destination length could be
2116  *                 as large as
2117  *                 &lt;code&gt;ubidi_getLength(pBiDi)+2*ubidi_countRuns(pBiDi)&lt;/code&gt;.
2118  *                 If the &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt; option
2119  *                 is set, then the destination length may be less than
2120  *                 &lt;code&gt;ubidi_getLength(pBiDi)&lt;/code&gt;.
2121  *                 If none of these options is set, then the destination length
2122  *                 will be exactly &lt;code&gt;ubidi_getProcessedLength(pBiDi)&lt;/code&gt;.
2123  *
2124  * @param options A bit set of options for the reordering that control
2125  *                how the reordered text is written.
2126  *                The options include mirroring the characters on a code
2127  *                point basis and inserting LRM characters, which is used
2128  *                especially for transforming visually stored text
2129  *                to logically stored text (although this is still an
2130  *                imperfect implementation of an &quot;inverse Bidi&quot; algorithm
2131  *                because it uses the &quot;forward Bidi&quot; algorithm at its core).
2132  *                The available options are:
2133  *                &lt;code&gt;#UBIDI_DO_MIRRORING&lt;/code&gt;,
2134  *                &lt;code&gt;#UBIDI_INSERT_LRM_FOR_NUMERIC&lt;/code&gt;,
2135  *                &lt;code&gt;#UBIDI_KEEP_BASE_COMBINING&lt;/code&gt;,
2136  *                &lt;code&gt;#UBIDI_OUTPUT_REVERSE&lt;/code&gt;,
2137  *                &lt;code&gt;#UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt;
2138  *
2139  * @param pErrorCode must be a valid pointer to an error code value.
2140  *
2141  * @return The length of the output string.
2142  *
2143  * @see ubidi_getProcessedLength
2144  * @stable ICU 2.0
2145  */
2146 U_STABLE int32_t U_EXPORT2
2147 ubidi_writeReordered(UBiDi *pBiDi,
2148                      UChar *dest, int32_t destSize,
2149                      uint16_t options,
2150                      UErrorCode *pErrorCode);
2151 
2152 /**
2153  * Reverse a Right-To-Left run of Unicode text.
2154  *
2155  * This function preserves the integrity of characters with multiple
2156  * code units and (optionally) combining characters.
2157  * Characters can be replaced by mirror-image characters
2158  * in the destination buffer. Note that &quot;real&quot; mirroring has
2159  * to be done in a rendering engine by glyph selection
2160  * and that for many &quot;mirrored&quot; characters there are no
2161  * Unicode characters as mirror-image equivalents.
2162  * There are also options to insert or remove Bidi control
2163  * characters.
2164  *
2165  * This function is the implementation for reversing RTL runs as part
2166  * of &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;. For detailed descriptions
2167  * of the parameters, see there.
2168  * Since no Bidi controls are inserted here, the output string length
2169  * will never exceed &lt;code&gt;srcLength&lt;/code&gt;.
2170  *
2171  * @see ubidi_writeReordered
2172  *
2173  * @param src A pointer to the RTL run text.
2174  *
2175  * @param srcLength The length of the RTL run.
2176  *
2177  * @param dest A pointer to where the reordered text is to be copied.
2178  *             &lt;code&gt;src[srcLength]&lt;/code&gt; and &lt;code&gt;dest[destSize]&lt;/code&gt;
2179  *             must not overlap.
2180  *
2181  * @param destSize The size of the &lt;code&gt;dest&lt;/code&gt; buffer,
2182  *                 in number of UChars.
2183  *                 If the &lt;code&gt;UBIDI_REMOVE_BIDI_CONTROLS&lt;/code&gt; option
2184  *                 is set, then the destination length may be less than
2185  *                 &lt;code&gt;srcLength&lt;/code&gt;.
2186  *                 If this option is not set, then the destination length
2187  *                 will be exactly &lt;code&gt;srcLength&lt;/code&gt;.
2188  *
2189  * @param options A bit set of options for the reordering that control
2190  *                how the reordered text is written.
2191  *                See the &lt;code&gt;options&lt;/code&gt; parameter in &lt;code&gt;ubidi_writeReordered()&lt;/code&gt;.
2192  *
2193  * @param pErrorCode must be a valid pointer to an error code value.
2194  *
2195  * @return The length of the output string.
2196  * @stable ICU 2.0
2197  */
2198 U_STABLE int32_t U_EXPORT2
2199 ubidi_writeReverse(const UChar *src, int32_t srcLength,
2200                    UChar *dest, int32_t destSize,
2201                    uint16_t options,
2202                    UErrorCode *pErrorCode);
2203 
2204 /*#define BIDI_SAMPLE_CODE*/
2205 /*@}*/
2206 
2207 #endif
    </pre>
  </body>
</html>