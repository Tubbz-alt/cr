<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/quantityformatter.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="quantityformatter.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="rbnf.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/quantityformatter.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 10 
 11 #ifndef __QUANTITY_FORMATTER_H__
 12 #define __QUANTITY_FORMATTER_H__
 13 
 14 #include &quot;unicode/utypes.h&quot;
 15 #include &quot;unicode/uobject.h&quot;
 16 
 17 #if !UCONFIG_NO_FORMATTING
 18 
 19 #include &quot;standardplural.h&quot;
 20 
 21 U_NAMESPACE_BEGIN
 22 
 23 class SimpleFormatter;
 24 class UnicodeString;
 25 class PluralRules;
 26 class NumberFormat;
 27 class Formattable;
 28 class FieldPosition;
 29 






 30 /**
 31  * A plural aware formatter that is good for expressing a single quantity and
 32  * a unit.
 33  * &lt;p&gt;
 34  * First use the add() methods to add a pattern for each plural variant.
 35  * There must be a pattern for the &quot;other&quot; variant.
 36  * Then use the format() method.
 37  * &lt;p&gt;
 38  * Concurrent calls only to const methods on a QuantityFormatter object are
 39  * safe, but concurrent const and non-const method calls on a QuantityFormatter
 40  * object are not safe and require synchronization.
 41  *
 42  */
 43 class U_I18N_API QuantityFormatter : public UMemory {
 44 public:
 45     /**
 46      * Default constructor.
 47      */
 48     QuantityFormatter();
 49 
</pre>
<hr />
<pre>
 94      * At least the &quot;other&quot; variant must be added to this object for this
 95      * method to work.
 96      *
 97      * @param number the single number.
 98      * @param fmt formats the number
 99      * @param rules computes the plural variant to use.
100      * @param appendTo result appended here.
101      * @param status any error returned here.
102      * @return appendTo
103      */
104     UnicodeString &amp;format(
105             const Formattable &amp;number,
106             const NumberFormat &amp;fmt,
107             const PluralRules &amp;rules,
108             UnicodeString &amp;appendTo,
109             FieldPosition &amp;pos,
110             UErrorCode &amp;status) const;
111 
112     /**
113      * Selects the standard plural form for the number/formatter/rules.

114      */
115     static StandardPlural::Form selectPlural(
116             const Formattable &amp;number,
117             const NumberFormat &amp;fmt,
118             const PluralRules &amp;rules,
119             UnicodeString &amp;formattedNumber,
120             FieldPosition &amp;pos,
121             UErrorCode &amp;status);
122 





















123     /**
124      * Formats the pattern with the value and adjusts the FieldPosition.

125      */
126     static UnicodeString &amp;format(
127             const SimpleFormatter &amp;pattern,
128             const UnicodeString &amp;value,
129             UnicodeString &amp;appendTo,
130             FieldPosition &amp;pos,
131             UErrorCode &amp;status);
132 
133 private:
134     SimpleFormatter *formatters[StandardPlural::COUNT];
135 };
136 
137 U_NAMESPACE_END
138 
139 #endif
140 
141 #endif
</pre>
</td>
<td>
<hr />
<pre>
 10 
 11 #ifndef __QUANTITY_FORMATTER_H__
 12 #define __QUANTITY_FORMATTER_H__
 13 
 14 #include &quot;unicode/utypes.h&quot;
 15 #include &quot;unicode/uobject.h&quot;
 16 
 17 #if !UCONFIG_NO_FORMATTING
 18 
 19 #include &quot;standardplural.h&quot;
 20 
 21 U_NAMESPACE_BEGIN
 22 
 23 class SimpleFormatter;
 24 class UnicodeString;
 25 class PluralRules;
 26 class NumberFormat;
 27 class Formattable;
 28 class FieldPosition;
 29 
<span class="line-added"> 30 namespace number {</span>
<span class="line-added"> 31 namespace impl {</span>
<span class="line-added"> 32 class NumberStringBuilder;</span>
<span class="line-added"> 33 }</span>
<span class="line-added"> 34 }</span>
<span class="line-added"> 35 </span>
 36 /**
 37  * A plural aware formatter that is good for expressing a single quantity and
 38  * a unit.
 39  * &lt;p&gt;
 40  * First use the add() methods to add a pattern for each plural variant.
 41  * There must be a pattern for the &quot;other&quot; variant.
 42  * Then use the format() method.
 43  * &lt;p&gt;
 44  * Concurrent calls only to const methods on a QuantityFormatter object are
 45  * safe, but concurrent const and non-const method calls on a QuantityFormatter
 46  * object are not safe and require synchronization.
 47  *
 48  */
 49 class U_I18N_API QuantityFormatter : public UMemory {
 50 public:
 51     /**
 52      * Default constructor.
 53      */
 54     QuantityFormatter();
 55 
</pre>
<hr />
<pre>
100      * At least the &quot;other&quot; variant must be added to this object for this
101      * method to work.
102      *
103      * @param number the single number.
104      * @param fmt formats the number
105      * @param rules computes the plural variant to use.
106      * @param appendTo result appended here.
107      * @param status any error returned here.
108      * @return appendTo
109      */
110     UnicodeString &amp;format(
111             const Formattable &amp;number,
112             const NumberFormat &amp;fmt,
113             const PluralRules &amp;rules,
114             UnicodeString &amp;appendTo,
115             FieldPosition &amp;pos,
116             UErrorCode &amp;status) const;
117 
118     /**
119      * Selects the standard plural form for the number/formatter/rules.
<span class="line-added">120      * TODO(13591): Remove this method.</span>
121      */
122     static StandardPlural::Form selectPlural(
123             const Formattable &amp;number,
124             const NumberFormat &amp;fmt,
125             const PluralRules &amp;rules,
126             UnicodeString &amp;formattedNumber,
127             FieldPosition &amp;pos,
128             UErrorCode &amp;status);
129 
<span class="line-added">130     /**</span>
<span class="line-added">131      * Formats a quantity and selects its plural form. The output is appended</span>
<span class="line-added">132      * to a NumberStringBuilder in order to retain field information.</span>
<span class="line-added">133      *</span>
<span class="line-added">134      * @param quantity The number to format.</span>
<span class="line-added">135      * @param fmt The formatter to use to format the number.</span>
<span class="line-added">136      * @param rules The rules to use to select the plural form of the</span>
<span class="line-added">137      *              formatted number.</span>
<span class="line-added">138      * @param output Where to append the result of the format operation.</span>
<span class="line-added">139      * @param pluralForm Output variable populated with the plural form of the</span>
<span class="line-added">140      *                   formatted number.</span>
<span class="line-added">141      * @param status Set if an error occurs.</span>
<span class="line-added">142      */</span>
<span class="line-added">143     static void formatAndSelect(</span>
<span class="line-added">144             double quantity,</span>
<span class="line-added">145             const NumberFormat&amp; fmt,</span>
<span class="line-added">146             const PluralRules&amp; rules,</span>
<span class="line-added">147             number::impl::NumberStringBuilder&amp; output,</span>
<span class="line-added">148             StandardPlural::Form&amp; pluralForm,</span>
<span class="line-added">149             UErrorCode&amp; status);</span>
<span class="line-added">150 </span>
151     /**
152      * Formats the pattern with the value and adjusts the FieldPosition.
<span class="line-added">153      * TODO: Remove?</span>
154      */
155     static UnicodeString &amp;format(
156             const SimpleFormatter &amp;pattern,
157             const UnicodeString &amp;value,
158             UnicodeString &amp;appendTo,
159             FieldPosition &amp;pos,
160             UErrorCode &amp;status);
161 
162 private:
163     SimpleFormatter *formatters[StandardPlural::COUNT];
164 };
165 
166 U_NAMESPACE_END
167 
168 #endif
169 
170 #endif
</pre>
</td>
</tr>
</table>
<center><a href="quantityformatter.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="rbnf.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>