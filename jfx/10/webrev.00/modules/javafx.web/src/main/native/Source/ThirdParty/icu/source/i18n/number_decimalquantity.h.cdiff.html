<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/number_decimalquantity.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="number_decimalquantity.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="number_decimfmtprops.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/number_decimalquantity.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 51,47 ***</span>
  
      /** Move assignment */
      DecimalQuantity &amp;operator=(DecimalQuantity&amp;&amp; src) U_NOEXCEPT;
  
      /**
<span class="line-modified">!      * Sets the minimum and maximum integer digits that this {@link DecimalQuantity} should generate.</span>
       * This method does not perform rounding.
       *
       * @param minInt The minimum number of integer digits.
<span class="line-removed">-      * @param maxInt The maximum number of integer digits.</span>
       */
<span class="line-modified">!     void setIntegerLength(int32_t minInt, int32_t maxInt);</span>
  
      /**
<span class="line-modified">!      * Sets the minimum and maximum fraction digits that this {@link DecimalQuantity} should generate.</span>
       * This method does not perform rounding.
       *
       * @param minFrac The minimum number of fraction digits.
<span class="line-removed">-      * @param maxFrac The maximum number of fraction digits.</span>
       */
<span class="line-modified">!     void setFractionLength(int32_t minFrac, int32_t maxFrac);</span>
  
      /**
       * Rounds the number to a specified interval, such as 0.05.
       *
       * &lt;p&gt;If rounding to a power of ten, use the more efficient {@link #roundToMagnitude} instead.
       *
       * @param roundingIncrement The increment to which to round.
<span class="line-modified">!      * @param mathContext The {@link RoundingMode} to use if rounding is necessary.</span>
       */
      void roundToIncrement(double roundingIncrement, RoundingMode roundingMode,
<span class="line-modified">!                           int32_t maxFrac, UErrorCode&amp; status);</span>
  
      /** Removes all fraction digits. */
      void truncate();
  
      /**
       * Rounds the number to a specified magnitude (power of ten).
       *
       * @param roundingMagnitude The power of ten to which to round. For example, a value of -2 will
       *     round to 2 decimal places.
<span class="line-modified">!      * @param mathContext The {@link RoundingMode} to use if rounding is necessary.</span>
       */
      void roundToMagnitude(int32_t magnitude, RoundingMode roundingMode, UErrorCode&amp; status);
  
      /**
       * Rounds the number to an infinite number of decimal points. This has no effect except for
<span class="line-new-header">--- 51,62 ---</span>
  
      /** Move assignment */
      DecimalQuantity &amp;operator=(DecimalQuantity&amp;&amp; src) U_NOEXCEPT;
  
      /**
<span class="line-modified">!      * Sets the minimum integer digits that this {@link DecimalQuantity} should generate.</span>
       * This method does not perform rounding.
       *
       * @param minInt The minimum number of integer digits.
       */
<span class="line-modified">!     void setMinInteger(int32_t minInt);</span>
  
      /**
<span class="line-modified">!      * Sets the minimum fraction digits that this {@link DecimalQuantity} should generate.</span>
       * This method does not perform rounding.
       *
       * @param minFrac The minimum number of fraction digits.
       */
<span class="line-modified">!     void setMinFraction(int32_t minFrac);</span>
<span class="line-added">+ </span>
<span class="line-added">+     /**</span>
<span class="line-added">+      * Truncates digits from the upper magnitude of the number in order to satisfy the</span>
<span class="line-added">+      * specified maximum number of integer digits.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param maxInt The maximum number of integer digits.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void applyMaxInteger(int32_t maxInt);</span>
  
      /**
       * Rounds the number to a specified interval, such as 0.05.
       *
       * &lt;p&gt;If rounding to a power of ten, use the more efficient {@link #roundToMagnitude} instead.
       *
       * @param roundingIncrement The increment to which to round.
<span class="line-modified">!      * @param roundingMode The {@link RoundingMode} to use if rounding is necessary.</span>
       */
      void roundToIncrement(double roundingIncrement, RoundingMode roundingMode,
<span class="line-modified">!                           UErrorCode&amp; status);</span>
  
      /** Removes all fraction digits. */
      void truncate();
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Rounds the number to the nearest multiple of 5 at the specified magnitude.</span>
<span class="line-added">+      * For example, when magnitude == -2, this performs rounding to the nearest 0.05.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * @param magnitude The magnitude at which the digit should become either 0 or 5.</span>
<span class="line-added">+      * @param roundingMode Rounding strategy.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void roundToNickel(int32_t magnitude, RoundingMode roundingMode, UErrorCode&amp; status);</span>
<span class="line-added">+ </span>
      /**
       * Rounds the number to a specified magnitude (power of ten).
       *
       * @param roundingMagnitude The power of ten to which to round. For example, a value of -2 will
       *     round to 2 decimal places.
<span class="line-modified">!      * @param roundingMode The {@link RoundingMode} to use if rounding is necessary.</span>
       */
      void roundToMagnitude(int32_t magnitude, RoundingMode roundingMode, UErrorCode&amp; status);
  
      /**
       * Rounds the number to an infinite number of decimal points. This has no effect except for
</pre>
<hr />
<pre>
<span class="line-old-header">*** 258,11 ***</span>
  
      /** Visible for testing */
      inline bool isUsingBytes() { return usingBytes; }
  
      /** Visible for testing */
<span class="line-modified">!     inline bool isExplicitExactDouble() { return explicitExactDouble; };</span>
  
      bool operator==(const DecimalQuantity&amp; other) const;
  
      inline bool operator!=(const DecimalQuantity&amp; other) const {
          return !(*this == other);
<span class="line-new-header">--- 273,11 ---</span>
  
      /** Visible for testing */
      inline bool isUsingBytes() { return usingBytes; }
  
      /** Visible for testing */
<span class="line-modified">!     inline bool isExplicitExactDouble() { return explicitExactDouble; }</span>
  
      bool operator==(const DecimalQuantity&amp; other) const;
  
      inline bool operator!=(const DecimalQuantity&amp; other) const {
          return !(*this == other);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 325,40 ***</span>
       * The change in magnitude relative to the original double. Used when we need to re-compute the
       * BCD for an exact double representation.
       */
      int32_t origDelta;
  
<span class="line-modified">!     // Four positions: left optional &#39;(&#39;, left required &#39;[&#39;, right required &#39;]&#39;, right optional &#39;)&#39;.</span>
<span class="line-modified">!     // These four positions determine which digits are displayed in the output string.  They do NOT</span>
<span class="line-modified">!     // affect rounding.  These positions are internal-only and can be specified only by the public</span>
<span class="line-removed">-     // endpoints like setFractionLength, setIntegerLength, and setSignificantDigits, among others.</span>
<span class="line-removed">-     //</span>
<span class="line-removed">-     //   * Digits between lReqPos and rReqPos are in the &quot;required zone&quot; and are always displayed.</span>
<span class="line-removed">-     //   * Digits between lOptPos and rOptPos but outside the required zone are in the &quot;optional zone&quot;</span>
<span class="line-removed">-     //     and are displayed unless they are trailing off the left or right edge of the number and</span>
<span class="line-removed">-     //     have a numerical value of zero.  In order to be &quot;trailing&quot;, the digits need to be beyond</span>
<span class="line-removed">-     //     the decimal point in their respective directions.</span>
<span class="line-removed">-     //   * Digits outside of the &quot;optional zone&quot; are never displayed.</span>
<span class="line-removed">-     //</span>
<span class="line-removed">-     // See the table below for illustrative examples.</span>
<span class="line-removed">-     //</span>
<span class="line-removed">-     // +---------+---------+---------+---------+------------+------------------------+--------------+</span>
<span class="line-removed">-     // | lOptPos | lReqPos | rReqPos | rOptPos |   number   |        positions       | en-US string |</span>
<span class="line-removed">-     // +---------+---------+---------+---------+------------+------------------------+--------------+</span>
<span class="line-removed">-     // |    5    |    2    |   -1    |   -5    |   1234.567 |     ( 12[34.5]67  )    |   1,234.567  |</span>
<span class="line-removed">-     // |    3    |    2    |   -1    |   -5    |   1234.567 |      1(2[34.5]67  )    |     234.567  |</span>
<span class="line-removed">-     // |    3    |    2    |   -1    |   -2    |   1234.567 |      1(2[34.5]6)7      |     234.56   |</span>
<span class="line-removed">-     // |    6    |    4    |    2    |   -5    | 123456789. |  123(45[67]89.     )   | 456,789.     |</span>
<span class="line-removed">-     // |    6    |    4    |    2    |    1    | 123456789. |     123(45[67]8)9.     | 456,780.     |</span>
<span class="line-removed">-     // |   -1    |   -1    |   -3    |   -4    | 0.123456   |     0.1([23]4)56       |        .0234 |</span>
<span class="line-removed">-     // |    6    |    4    |   -2    |   -2    |     12.3   |     (  [  12.3 ])      |    0012.30   |</span>
<span class="line-removed">-     // +---------+---------+---------+---------+------------+------------------------+--------------+</span>
<span class="line-removed">-     //</span>
<span class="line-removed">-     int32_t lOptPos = INT32_MAX;</span>
      int32_t lReqPos = 0;
      int32_t rReqPos = 0;
<span class="line-removed">-     int32_t rOptPos = INT32_MIN;</span>
  
      /**
       * The BCD of the 16 digits of the number represented by this object. Every 4 bits of the long map
       * to one digit. For example, the number &quot;12345&quot; in BCD is &quot;0x12345&quot;.
       *
<span class="line-new-header">--- 340,15 ---</span>
       * The change in magnitude relative to the original double. Used when we need to re-compute the
       * BCD for an exact double representation.
       */
      int32_t origDelta;
  
<span class="line-modified">!     // Positions to keep track of leading and trailing zeros.</span>
<span class="line-modified">!     // lReqPos is the magnitude of the first required leading zero.</span>
<span class="line-modified">!     // rReqPos is the magnitude of the last required trailing zero.</span>
      int32_t lReqPos = 0;
      int32_t rReqPos = 0;
  
      /**
       * The BCD of the 16 digits of the number represented by this object. Every 4 bits of the long map
       * to one digit. For example, the number &quot;12345&quot; in BCD is &quot;0x12345&quot;.
       *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 380,10 ***</span>
<span class="line-new-header">--- 370,12 ---</span>
       * backed by a double that was explicitly converted via convertToAccurateDouble; false otherwise.
       * Used for testing.
       */
      bool explicitExactDouble = false;
  
<span class="line-added">+     void roundToMagnitude(int32_t magnitude, RoundingMode roundingMode, bool nickel, UErrorCode&amp; status);</span>
<span class="line-added">+ </span>
      /**
       * Returns a single digit from the BCD list. No internal state is changed by calling this method.
       *
       * @param position The position of the digit to pop, counted in BCD units from the least
       *     significant digit. If outside the range supported by the implementation, zero is returned.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 408,12 ***</span>
<span class="line-new-header">--- 400,26 ---</span>
       *
       * @param numDigits The number of zeros to add.
       */
      void shiftLeft(int32_t numDigits);
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Directly removes digits from the end of the BCD list.</span>
<span class="line-added">+      * Updates the scale and precision.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * CAUTION: it is the caller&#39;s responsibility to call {@link #compact} after this method.</span>
<span class="line-added">+      */</span>
      void shiftRight(int32_t numDigits);
  
<span class="line-added">+     /**</span>
<span class="line-added">+      * Directly removes digits from the front of the BCD list.</span>
<span class="line-added">+      * Updates precision.</span>
<span class="line-added">+      *</span>
<span class="line-added">+      * CAUTION: it is the caller&#39;s responsibility to call {@link #compact} after this method.</span>
<span class="line-added">+      */</span>
<span class="line-added">+     void popFromLeft(int32_t numDigits);</span>
<span class="line-added">+ </span>
      /**
       * Sets the internal representation to zero. Clears any values stored in scale, precision,
       * hasDouble, origDouble, origDelta, and BCD data.
       */
      void setBcdToZero();
</pre>
<center><a href="number_decimalquantity.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="number_decimfmtprops.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>