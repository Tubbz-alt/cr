<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/ucnv_u32.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ucnv_u16.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ucnv_u8.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/ucnv_u32.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 226,11 ***</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ 0, 0, (char)0xfe, (char)0xff };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
<span class="line-new-header">--- 226,11 ---</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ 0, 0, (char)0xfeu, (char)0xffu };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 329,11 ***</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ 0, 0, (char)0xfe, (char)0xff };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
<span class="line-new-header">--- 329,11 ---</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ 0, 0, (char)0xfeu, (char)0xffu };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 704,11 ***</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ (char)0xff, (char)0xfe, 0, 0 };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
<span class="line-new-header">--- 704,11 ---</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ (char)0xffu, (char)0xfeu, 0, 0 };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 815,11 ***</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ (char)0xff, (char)0xfe, 0, 0 };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
<span class="line-new-header">--- 815,11 ---</span>
          return;
      }
  
      /* write the BOM if necessary */
      if(args-&gt;converter-&gt;fromUnicodeStatus==UCNV_NEED_TO_WRITE_BOM) {
<span class="line-modified">!         static const char bom[]={ (char)0xffu, (char)0xfeu, 0, 0 };</span>
          ucnv_fromUWriteBytes(args-&gt;converter,
                               bom, 4,
                               &amp;args-&gt;target, args-&gt;targetLimit,
                               &amp;args-&gt;offsets, -1,
                               err);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1041,11 ***</span>
      (void)pArgs;
      (void)pErrorCode;
      _UTF32Reset(cnv, UCNV_RESET_BOTH);
  }
  
<span class="line-modified">! static const char utf32BOM[8]={ 0, 0, (char)0xfe, (char)0xff,    (char)0xff, (char)0xfe, 0, 0 };</span>
  
  static void U_CALLCONV
  _UTF32ToUnicodeWithOffsets(UConverterToUnicodeArgs *pArgs,
                             UErrorCode *pErrorCode) {
      UConverter *cnv=pArgs-&gt;converter;
<span class="line-new-header">--- 1041,11 ---</span>
      (void)pArgs;
      (void)pErrorCode;
      _UTF32Reset(cnv, UCNV_RESET_BOTH);
  }
  
<span class="line-modified">! static const char utf32BOM[8]={ 0, 0, (char)0xfeu, (char)0xffu, (char)0xffu, (char)0xfeu, 0, 0 };</span>
  
  static void U_CALLCONV
  _UTF32ToUnicodeWithOffsets(UConverterToUnicodeArgs *pArgs,
                             UErrorCode *pErrorCode) {
      UConverter *cnv=pArgs-&gt;converter;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1069,11 ***</span>
          switch(state) {
          case 0:
              b=*source;
              if(b==0) {
                  state=1; /* could be 00 00 FE FF */
<span class="line-modified">!             } else if(b==(char)0xff) {</span>
                  state=5; /* could be FF FE 00 00 */
              } else {
                  state=8; /* default to UTF-32BE */
                  continue;
              }
<span class="line-new-header">--- 1069,11 ---</span>
          switch(state) {
          case 0:
              b=*source;
              if(b==0) {
                  state=1; /* could be 00 00 FE FF */
<span class="line-modified">!             } else if(b==(char)0xffu) {</span>
                  state=5; /* could be FF FE 00 00 */
              } else {
                  state=8; /* default to UTF-32BE */
                  continue;
              }
</pre>
<center><a href="ucnv_u16.cpp.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ucnv_u8.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>