<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/unicode/translit.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="timezone.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="tzfmt.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/unicode/translit.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -29,11 +29,10 @@</span>
  
  U_NAMESPACE_BEGIN
  
  class UnicodeFilter;
  class UnicodeSet;
<span class="udiff-line-removed">- class CompoundTransliterator;</span>
  class TransliteratorParser;
  class NormalizationTransliterator;
  class TransliteratorIDParser;
  
  /**
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -75,12 +74,11 @@</span>
   * &lt;p&gt;The simplest way to perform transliteration is all at once, on a
   * string of existing text.  This is referred to as &lt;em&gt;batch&lt;/em&gt;
   * transliteration.  For example, given a string &lt;code&gt;input&lt;/code&gt;
   * and a transliterator &lt;code&gt;t&lt;/code&gt;, the call
   *
<span class="udiff-line-modified-removed">-  * \htmlonly&lt;blockquote&gt;\endhtmlonly&lt;code&gt;String result = t.transliterate(input);</span>
<span class="udiff-line-removed">-  * &lt;/code&gt;\htmlonly&lt;/blockquote&gt;\endhtmlonly</span>
<span class="udiff-line-modified-added">+  *     String result = t.transliterate(input);</span>
   *
   * will transliterate it and return the result.  Other methods allow
   * the client to specify a substring to be transliterated and to use
   * {@link Replaceable } objects instead of strings, in order to
   * preserve out-of-band information (such as text styles).
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -96,26 +94,24 @@</span>
   * stores the text.  As text is inserted, as much as possible is
   * transliterated on the fly.  This means a GUI that displays the
   * contents of the buffer may show text being modified as each new
   * character arrives.
   *
<span class="udiff-line-modified-removed">-  * &lt;p&gt;Consider the simple &lt;code&gt;RuleBasedTransliterator&lt;/code&gt;:</span>
<span class="udiff-line-modified-removed">-  *</span>
<span class="udiff-line-modified-removed">-  * \htmlonly&lt;blockquote&gt;\endhtmlonly&lt;code&gt;</span>
<span class="udiff-line-modified-removed">-  * th&amp;gt;{theta}&lt;br&gt;</span>
<span class="udiff-line-modified-removed">-  * t&amp;gt;{tau}</span>
<span class="udiff-line-removed">-  * &lt;/code&gt;\htmlonly&lt;/blockquote&gt;\endhtmlonly</span>
<span class="udiff-line-modified-added">+  * &lt;p&gt;Consider the simple rule-based Transliterator:</span>
<span class="udiff-line-modified-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-modified-added">+  *     th&gt;{theta}</span>
<span class="udiff-line-modified-added">+  *     t&gt;{tau}</span>
<span class="udiff-line-modified-added">+  * &lt;/pre&gt;</span>
   *
   * When the user types &#39;t&#39;, nothing will happen, since the
   * transliterator is waiting to see if the next character is &#39;h&#39;.  To
   * remedy this, we introduce the notion of a cursor, marked by a &#39;|&#39;
   * in the output string:
<span class="udiff-line-modified-removed">-  *</span>
<span class="udiff-line-modified-removed">-  * \htmlonly&lt;blockquote&gt;\endhtmlonly&lt;code&gt;</span>
<span class="udiff-line-modified-removed">-  * t&amp;gt;|{tau}&lt;br&gt;</span>
<span class="udiff-line-modified-removed">-  * {tau}h&amp;gt;{theta}</span>
<span class="udiff-line-removed">-  * &lt;/code&gt;\htmlonly&lt;/blockquote&gt;\endhtmlonly</span>
<span class="udiff-line-modified-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-modified-added">+  *     t&gt;|{tau}</span>
<span class="udiff-line-modified-added">+  *     {tau}h&gt;{theta}</span>
<span class="udiff-line-modified-added">+  * &lt;/pre&gt;</span>
   *
   * Now when the user types &#39;t&#39;, tau appears, and if the next character
   * is &#39;h&#39;, the tau changes to a theta.  This is accomplished by
   * maintaining a cursor position (independent of the insertion point,
   * and invisible in the GUI) across calls to
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -133,11 +129,11 @@</span>
   * the committed index; that&#39;s the &lt;code&gt;CURSOR&lt;/code&gt;).  The
   * &lt;code&gt;CURSOR&lt;/code&gt; index, described above, marks the point at
   * which the transliterator last stopped, either because it reached
   * the end, or because it required more characters to disambiguate
   * between possible inputs.  The &lt;code&gt;CURSOR&lt;/code&gt; can also be
<span class="udiff-line-modified-removed">-  * explicitly set by rules in a &lt;code&gt;RuleBasedTransliterator&lt;/code&gt;.</span>
<span class="udiff-line-modified-added">+  * explicitly set by rules in a rule-based Transliterator.</span>
   * Any characters before the &lt;code&gt;CURSOR&lt;/code&gt; index are frozen;
   * future keyboard transliteration calls within this input sequence
   * will not change them.  New text is inserted at the
   * &lt;code&gt;LIMIT&lt;/code&gt; index, which marks the end of the substring that
   * the transliterator looks at.
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -235,10 +231,259 @@</span>
   * &lt;code&gt;Replaceable&lt;/code&gt; and the &lt;code&gt;transliterate()&lt;/code&gt;
   * method taking a &lt;code&gt;String&lt;/code&gt; and &lt;code&gt;StringBuffer&lt;/code&gt;
   * if the performance of these methods can be improved over the
   * performance obtained by the default implementations in this class.
   *
<span class="udiff-line-added">+  * &lt;p&gt;&lt;b&gt;Rule syntax&lt;/b&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;A set of rules determines how to perform translations.</span>
<span class="udiff-line-added">+  * Rules within a rule set are separated by semicolons (&#39;;&#39;).</span>
<span class="udiff-line-added">+  * To include a literal semicolon, prefix it with a backslash (&#39;\&#39;).</span>
<span class="udiff-line-added">+  * Unicode Pattern_White_Space is ignored.</span>
<span class="udiff-line-added">+  * If the first non-blank character on a line is &#39;#&#39;,</span>
<span class="udiff-line-added">+  * the entire line is ignored as a comment.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Each set of rules consists of two groups, one forward, and one</span>
<span class="udiff-line-added">+  * reverse. This is a convention that is not enforced; rules for one</span>
<span class="udiff-line-added">+  * direction may be omitted, with the result that translations in</span>
<span class="udiff-line-added">+  * that direction will not modify the source text. In addition,</span>
<span class="udiff-line-added">+  * bidirectional forward-reverse rules may be specified for</span>
<span class="udiff-line-added">+  * symmetrical transformations.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Note: Another description of the Transliterator rule syntax is available in</span>
<span class="udiff-line-added">+  * &lt;a href=&quot;https://www.unicode.org/reports/tr35/tr35-general.html#Transform_Rules_Syntax&quot;&gt;section</span>
<span class="udiff-line-added">+  * Transform Rules Syntax of UTS #35: Unicode LDML&lt;/a&gt;.</span>
<span class="udiff-line-added">+  * The rules are shown there using arrow symbols ← and → and ↔.</span>
<span class="udiff-line-added">+  * ICU supports both those and the equivalent ASCII symbols &amp;lt; and &amp;gt; and &amp;lt;&amp;gt;.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Rule statements take one of the following forms:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;dl&gt;</span>
<span class="udiff-line-added">+  *     &lt;dt&gt;&lt;code&gt;$alefmadda=\\u0622;&lt;/code&gt;&lt;/dt&gt;</span>
<span class="udiff-line-added">+  *     &lt;dd&gt;&lt;strong&gt;Variable definition.&lt;/strong&gt; The name on the</span>
<span class="udiff-line-added">+  *         left is assigned the text on the right. In this example,</span>
<span class="udiff-line-added">+  *         after this statement, instances of the left hand name,</span>
<span class="udiff-line-added">+  *         &amp;quot;&lt;code&gt;$alefmadda&lt;/code&gt;&amp;quot;, will be replaced by</span>
<span class="udiff-line-added">+  *         the Unicode character U+0622. Variable names must begin</span>
<span class="udiff-line-added">+  *         with a letter and consist only of letters, digits, and</span>
<span class="udiff-line-added">+  *         underscores. Case is significant. Duplicate names cause</span>
<span class="udiff-line-added">+  *         an exception to be thrown, that is, variables cannot be</span>
<span class="udiff-line-added">+  *         redefined. The right hand side may contain well-formed</span>
<span class="udiff-line-added">+  *         text of any length, including no text at all (&amp;quot;&lt;code&gt;$empty=;&lt;/code&gt;&amp;quot;).</span>
<span class="udiff-line-added">+  *         The right hand side may contain embedded &lt;code&gt;UnicodeSet&lt;/code&gt;</span>
<span class="udiff-line-added">+  *         patterns, for example, &amp;quot;&lt;code&gt;$softvowel=[eiyEIY]&lt;/code&gt;&amp;quot;.&lt;/dd&gt;</span>
<span class="udiff-line-added">+  *     &lt;dt&gt;&lt;code&gt;ai&amp;gt;$alefmadda;&lt;/code&gt;&lt;/dt&gt;</span>
<span class="udiff-line-added">+  *     &lt;dd&gt;&lt;strong&gt;Forward translation rule.&lt;/strong&gt; This rule</span>
<span class="udiff-line-added">+  *         states that the string on the left will be changed to the</span>
<span class="udiff-line-added">+  *         string on the right when performing forward</span>
<span class="udiff-line-added">+  *         transliteration.&lt;/dd&gt;</span>
<span class="udiff-line-added">+  *     &lt;dt&gt;&lt;code&gt;ai&amp;lt;$alefmadda;&lt;/code&gt;&lt;/dt&gt;</span>
<span class="udiff-line-added">+  *     &lt;dd&gt;&lt;strong&gt;Reverse translation rule.&lt;/strong&gt; This rule</span>
<span class="udiff-line-added">+  *         states that the string on the right will be changed to</span>
<span class="udiff-line-added">+  *         the string on the left when performing reverse</span>
<span class="udiff-line-added">+  *         transliteration.&lt;/dd&gt;</span>
<span class="udiff-line-added">+  * &lt;/dl&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;dl&gt;</span>
<span class="udiff-line-added">+  *     &lt;dt&gt;&lt;code&gt;ai&amp;lt;&amp;gt;$alefmadda;&lt;/code&gt;&lt;/dt&gt;</span>
<span class="udiff-line-added">+  *     &lt;dd&gt;&lt;strong&gt;Bidirectional translation rule.&lt;/strong&gt; This</span>
<span class="udiff-line-added">+  *         rule states that the string on the right will be changed</span>
<span class="udiff-line-added">+  *         to the string on the left when performing forward</span>
<span class="udiff-line-added">+  *         transliteration, and vice versa when performing reverse</span>
<span class="udiff-line-added">+  *         transliteration.&lt;/dd&gt;</span>
<span class="udiff-line-added">+  * &lt;/dl&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Translation rules consist of a &lt;em&gt;match pattern&lt;/em&gt; and an &lt;em&gt;output</span>
<span class="udiff-line-added">+  * string&lt;/em&gt;. The match pattern consists of literal characters,</span>
<span class="udiff-line-added">+  * optionally preceded by context, and optionally followed by</span>
<span class="udiff-line-added">+  * context. Context characters, like literal pattern characters,</span>
<span class="udiff-line-added">+  * must be matched in the text being transliterated. However, unlike</span>
<span class="udiff-line-added">+  * literal pattern characters, they are not replaced by the output</span>
<span class="udiff-line-added">+  * text. For example, the pattern &amp;quot;&lt;code&gt;abc{def}&lt;/code&gt;&amp;quot;</span>
<span class="udiff-line-added">+  * indicates the characters &amp;quot;&lt;code&gt;def&lt;/code&gt;&amp;quot; must be</span>
<span class="udiff-line-added">+  * preceded by &amp;quot;&lt;code&gt;abc&lt;/code&gt;&amp;quot; for a successful match.</span>
<span class="udiff-line-added">+  * If there is a successful match, &amp;quot;&lt;code&gt;def&lt;/code&gt;&amp;quot; will</span>
<span class="udiff-line-added">+  * be replaced, but not &amp;quot;&lt;code&gt;abc&lt;/code&gt;&amp;quot;. The final &#39;&lt;code&gt;}&lt;/code&gt;&#39;</span>
<span class="udiff-line-added">+  * is optional, so &amp;quot;&lt;code&gt;abc{def&lt;/code&gt;&amp;quot; is equivalent to</span>
<span class="udiff-line-added">+  * &amp;quot;&lt;code&gt;abc{def}&lt;/code&gt;&amp;quot;. Another example is &amp;quot;&lt;code&gt;{123}456&lt;/code&gt;&amp;quot;</span>
<span class="udiff-line-added">+  * (or &amp;quot;&lt;code&gt;123}456&lt;/code&gt;&amp;quot;) in which the literal</span>
<span class="udiff-line-added">+  * pattern &amp;quot;&lt;code&gt;123&lt;/code&gt;&amp;quot; must be followed by &amp;quot;&lt;code&gt;456&lt;/code&gt;&amp;quot;.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;The output string of a forward or reverse rule consists of</span>
<span class="udiff-line-added">+  * characters to replace the literal pattern characters. If the</span>
<span class="udiff-line-added">+  * output string contains the character &#39;&lt;code&gt;|&lt;/code&gt;&#39;, this is</span>
<span class="udiff-line-added">+  * taken to indicate the location of the &lt;em&gt;cursor&lt;/em&gt; after</span>
<span class="udiff-line-added">+  * replacement. The cursor is the point in the text at which the</span>
<span class="udiff-line-added">+  * next replacement, if any, will be applied. The cursor is usually</span>
<span class="udiff-line-added">+  * placed within the replacement text; however, it can actually be</span>
<span class="udiff-line-added">+  * placed into the precending or following context by using the</span>
<span class="udiff-line-added">+  * special character &#39;@&#39;. Examples:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-added">+  *     a {foo} z &amp;gt; | @ bar; # foo -&amp;gt; bar, move cursor before a</span>
<span class="udiff-line-added">+  *     {foo} xyz &amp;gt; bar @@|; #&amp;nbsp;foo -&amp;gt; bar, cursor between y and z</span>
<span class="udiff-line-added">+  * &lt;/pre&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;b&gt;UnicodeSet&lt;/b&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;code&gt;UnicodeSet&lt;/code&gt; patterns may appear anywhere that</span>
<span class="udiff-line-added">+  * makes sense. They may appear in variable definitions.</span>
<span class="udiff-line-added">+  * Contrariwise, &lt;code&gt;UnicodeSet&lt;/code&gt; patterns may themselves</span>
<span class="udiff-line-added">+  * contain variable references, such as &amp;quot;&lt;code&gt;$a=[a-z];$not_a=[^$a]&lt;/code&gt;&amp;quot;,</span>
<span class="udiff-line-added">+  * or &amp;quot;&lt;code&gt;$range=a-z;$ll=[$range]&lt;/code&gt;&amp;quot;.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;code&gt;UnicodeSet&lt;/code&gt; patterns may also be embedded directly</span>
<span class="udiff-line-added">+  * into rule strings. Thus, the following two rules are equivalent:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-added">+  *     $vowel=[aeiou]; $vowel&amp;gt;&#39;*&#39;; # One way to do this</span>
<span class="udiff-line-added">+  *     [aeiou]&amp;gt;&#39;*&#39;; # Another way</span>
<span class="udiff-line-added">+  * &lt;/pre&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;See {@link UnicodeSet} for more documentation and examples.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;b&gt;Segments&lt;/b&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Segments of the input string can be matched and copied to the</span>
<span class="udiff-line-added">+  * output string. This makes certain sets of rules simpler and more</span>
<span class="udiff-line-added">+  * general, and makes reordering possible. For example:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-added">+  *     ([a-z]) &amp;gt; $1 $1; # double lowercase letters</span>
<span class="udiff-line-added">+  *     ([:Lu:]) ([:Ll:]) &amp;gt; $2 $1; # reverse order of Lu-Ll pairs</span>
<span class="udiff-line-added">+  * &lt;/pre&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;The segment of the input string to be copied is delimited by</span>
<span class="udiff-line-added">+  * &amp;quot;&lt;code&gt;(&lt;/code&gt;&amp;quot; and &amp;quot;&lt;code&gt;)&lt;/code&gt;&amp;quot;. Up to</span>
<span class="udiff-line-added">+  * nine segments may be defined. Segments may not overlap. In the</span>
<span class="udiff-line-added">+  * output string, &amp;quot;&lt;code&gt;$1&lt;/code&gt;&amp;quot; through &amp;quot;&lt;code&gt;$9&lt;/code&gt;&amp;quot;</span>
<span class="udiff-line-added">+  * represent the input string segments, in left-to-right order of</span>
<span class="udiff-line-added">+  * definition.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;b&gt;Anchors&lt;/b&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Patterns can be anchored to the beginning or the end of the text. This is done with the</span>
<span class="udiff-line-added">+  * special characters &#39;&lt;code&gt;^&lt;/code&gt;&#39; and &#39;&lt;code&gt;$&lt;/code&gt;&#39;. For example:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-added">+  *   ^ a&amp;nbsp;&amp;nbsp; &amp;gt; &#39;BEG_A&#39;; &amp;nbsp;&amp;nbsp;# match &#39;a&#39; at start of text</span>
<span class="udiff-line-added">+  *   &amp;nbsp; a&amp;nbsp;&amp;nbsp; &amp;gt; &#39;A&#39;; # match other instances of &#39;a&#39;</span>
<span class="udiff-line-added">+  *   &amp;nbsp; z $ &amp;gt; &#39;END_Z&#39;; &amp;nbsp;&amp;nbsp;# match &#39;z&#39; at end of text</span>
<span class="udiff-line-added">+  *   &amp;nbsp; z&amp;nbsp;&amp;nbsp; &amp;gt; &#39;Z&#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; # match other instances of &#39;z&#39;</span>
<span class="udiff-line-added">+  * &lt;/pre&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;It is also possible to match the beginning or the end of the text using a &lt;code&gt;UnicodeSet&lt;/code&gt;.</span>
<span class="udiff-line-added">+  * This is done by including a virtual anchor character &#39;&lt;code&gt;$&lt;/code&gt;&#39; at the end of the</span>
<span class="udiff-line-added">+  * set pattern. Although this is usually the match chafacter for the end anchor, the set will</span>
<span class="udiff-line-added">+  * match either the beginning or the end of the text, depending on its placement. For</span>
<span class="udiff-line-added">+  * example:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;pre&gt;</span>
<span class="udiff-line-added">+  *   $x = [a-z$]; &amp;nbsp;&amp;nbsp;# match &#39;a&#39; through &#39;z&#39; OR anchor</span>
<span class="udiff-line-added">+  *   $x 1&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;gt; 2;&amp;nbsp;&amp;nbsp; # match &#39;1&#39; after a-z or at the start</span>
<span class="udiff-line-added">+  *   &amp;nbsp;&amp;nbsp; 3 $x &amp;gt; 4; &amp;nbsp;&amp;nbsp;# match &#39;3&#39; before a-z or at the end</span>
<span class="udiff-line-added">+  * &lt;/pre&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;b&gt;Example&lt;/b&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;The following example rules illustrate many of the features of</span>
<span class="udiff-line-added">+  * the rule language.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;table border=&quot;0&quot; cellpadding=&quot;4&quot;&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Rule 1.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;abc{def}&amp;gt;x|y&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Rule 2.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;xyz&amp;gt;r&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Rule 3.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;yz&amp;gt;q&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  * &lt;/table&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Applying these rules to the string &amp;quot;&lt;code&gt;adefabcdefz&lt;/code&gt;&amp;quot;</span>
<span class="udiff-line-added">+  * yields the following results:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;table border=&quot;0&quot; cellpadding=&quot;4&quot;&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;|adefabcdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Initial state, no rules match. Advance</span>
<span class="udiff-line-added">+  *         cursor.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;a|defabcdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Still no match. Rule 1 does not match</span>
<span class="udiff-line-added">+  *         because the preceding context is not present.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;ad|efabcdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Still no match. Keep advancing until</span>
<span class="udiff-line-added">+  *         there is a match...&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;ade|fabcdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;...&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;adef|abcdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;...&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;adefa|bcdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;...&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;adefab|cdefz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;...&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;adefabc|defz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Rule 1 matches; replace &amp;quot;&lt;code&gt;def&lt;/code&gt;&amp;quot;</span>
<span class="udiff-line-added">+  *         with &amp;quot;&lt;code&gt;xy&lt;/code&gt;&amp;quot; and back up the cursor</span>
<span class="udiff-line-added">+  *         to before the &#39;&lt;code&gt;y&lt;/code&gt;&#39;.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;adefabcx|yz&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;Although &amp;quot;&lt;code&gt;xyz&lt;/code&gt;&amp;quot; is</span>
<span class="udiff-line-added">+  *         present, rule 2 does not match because the cursor is</span>
<span class="udiff-line-added">+  *         before the &#39;&lt;code&gt;y&lt;/code&gt;&#39;, not before the &#39;&lt;code&gt;x&lt;/code&gt;&#39;.</span>
<span class="udiff-line-added">+  *         Rule 3 does match. Replace &amp;quot;&lt;code&gt;yz&lt;/code&gt;&amp;quot;</span>
<span class="udiff-line-added">+  *         with &amp;quot;&lt;code&gt;q&lt;/code&gt;&amp;quot;.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  *     &lt;tr&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top; write-space: nowrap;&quot;&gt;&lt;code&gt;adefabcxq|&lt;/code&gt;&lt;/td&gt;</span>
<span class="udiff-line-added">+  *         &lt;td style=&quot;vertical-align: top;&quot;&gt;The cursor is at the end;</span>
<span class="udiff-line-added">+  *         transliteration is complete.&lt;/td&gt;</span>
<span class="udiff-line-added">+  *     &lt;/tr&gt;</span>
<span class="udiff-line-added">+  * &lt;/table&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;The order of rules is significant. If multiple rules may match</span>
<span class="udiff-line-added">+  * at some point, the first matching rule is applied.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Forward and reverse rules may have an empty output string.</span>
<span class="udiff-line-added">+  * Otherwise, an empty left or right hand side of any statement is a</span>
<span class="udiff-line-added">+  * syntax error.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;Single quotes are used to quote any character other than a</span>
<span class="udiff-line-added">+  * digit or letter. To specify a single quote itself, inside or</span>
<span class="udiff-line-added">+  * outside of quotes, use two single quotes in a row. For example,</span>
<span class="udiff-line-added">+  * the rule &amp;quot;&lt;code&gt;&#39;&amp;gt;&#39;&amp;gt;o&#39;&#39;clock&lt;/code&gt;&amp;quot; changes the</span>
<span class="udiff-line-added">+  * string &amp;quot;&lt;code&gt;&amp;gt;&lt;/code&gt;&amp;quot; to the string &amp;quot;&lt;code&gt;o&#39;clock&lt;/code&gt;&amp;quot;.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;&lt;b&gt;Notes&lt;/b&gt;</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * &lt;p&gt;While a Transliterator is being built from rules, it checks that</span>
<span class="udiff-line-added">+  * the rules are added in proper order. For example, if the rule</span>
<span class="udiff-line-added">+  * &amp;quot;a&amp;gt;x&amp;quot; is followed by the rule &amp;quot;ab&amp;gt;y&amp;quot;,</span>
<span class="udiff-line-added">+  * then the second rule will throw an exception. The reason is that</span>
<span class="udiff-line-added">+  * the second rule can never be triggered, since the first rule</span>
<span class="udiff-line-added">+  * always matches anything it matches. In other words, the first</span>
<span class="udiff-line-added">+  * rule &lt;em&gt;masks&lt;/em&gt; the second rule.</span>
<span class="udiff-line-added">+  *</span>
   * @author Alan Liu
   * @stable ICU 2.0
   */
  class U_I18N_API Transliterator : public UObject {
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -497,13 +742,13 @@</span>
       * {@link
       * #transliterate(Replaceable&amp;, UTransPosition&amp;, const UnicodeString&amp;, UErrorCode&amp;) const }
       * for details.
       * @param text the buffer holding transliterated and
       * untransliterated text
<span class="udiff-line-modified-removed">-      * @param index an array of three integers.  See {@link #transliterate(Replaceable&amp;, UTransPosition&amp;, const UnicodeString*, UErrorCode&amp;) const }.</span>
<span class="udiff-line-modified-added">+      * @param index an array of three integers.</span>
       * @param status    Output param to filled in with a success or an error.
<span class="udiff-line-modified-removed">-      * @see #transliterate(Replaceable, int[], String)</span>
<span class="udiff-line-modified-added">+      * @see #transliterate(Replaceable&amp;, UTransPosition&amp;, const UnicodeString&amp;, UErrorCode &amp;) const</span>
       * @stable ICU 2.0
       */
      virtual void transliterate(Replaceable&amp; text, UTransPosition&amp; index,
                                 UErrorCode&amp; status) const;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -630,11 +875,11 @@</span>
  
  public:
      /**
       * Transliterate a substring of text, as specified by index, taking filters
       * into account.  This method is for subclasses that need to delegate to
<span class="udiff-line-modified-removed">-      * another transliterator, such as CompoundTransliterator.</span>
<span class="udiff-line-modified-added">+      * another transliterator.</span>
       * @param text the text to be transliterated
       * @param index the position indices
       * @param incremental if TRUE, then assume more characters may be inserted
       * at index.limit, and postpone processing to accomodate future incoming
       * characters
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -844,21 +1089,23 @@</span>
                                            UTransDirection dir,
                                            UErrorCode&amp; status);
  
      /**
       * Returns a &lt;code&gt;Transliterator&lt;/code&gt; object constructed from
<span class="udiff-line-modified-removed">-      * the given rule string.  This will be a RuleBasedTransliterator,</span>
<span class="udiff-line-modified-added">+      * the given rule string.  This will be a rule-based Transliterator,</span>
       * if the rule string contains only rules, or a
<span class="udiff-line-modified-removed">-      * CompoundTransliterator, if it contains ID blocks, or a</span>
<span class="udiff-line-modified-removed">-      * NullTransliterator, if it contains ID blocks which parse as</span>
<span class="udiff-line-modified-added">+      * compound Transliterator, if it contains ID blocks, or a</span>
<span class="udiff-line-modified-added">+      * null Transliterator, if it contains ID blocks which parse as</span>
       * empty for the given direction.
<span class="udiff-line-added">+      *</span>
       * @param ID            the id for the transliterator.
       * @param rules         rules, separated by &#39;;&#39;
       * @param dir           either FORWARD or REVERSE.
<span class="udiff-line-modified-removed">-      * @param parseError    Struct to recieve information on position</span>
<span class="udiff-line-modified-added">+      * @param parseError    Struct to receive information on position</span>
       *                      of error if an error is encountered
       * @param status        Output param set to success/failure code.
<span class="udiff-line-added">+      * @return a newly created Transliterator</span>
       * @stable ICU 2.0
       */
      static Transliterator* U_EXPORT2 createFromRules(const UnicodeString&amp; ID,
                                             const UnicodeString&amp; rules,
                                             UTransDirection dir,
</pre>
<center><a href="timezone.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="tzfmt.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>