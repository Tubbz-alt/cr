<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/rbbitblb.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="rbbitblb.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="resbund.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/rbbitblb.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  1 // © 2016 and later: Unicode, Inc. and others.
  2 // License &amp; terms of use: http://www.unicode.org/copyright.html
  3 //
  4 //  rbbitblb.h
  5 //
  6 
  7 /*
  8 **********************************************************************
  9 *   Copyright (c) 2002-2016, International Business Machines
 10 *   Corporation and others.  All Rights Reserved.
 11 **********************************************************************
 12 */
 13 
 14 #ifndef RBBITBLB_H
 15 #define RBBITBLB_H
 16 
 17 #include &quot;unicode/utypes.h&quot;



 18 #include &quot;unicode/uobject.h&quot;
 19 #include &quot;unicode/rbbi.h&quot;
 20 #include &quot;rbbirb.h&quot;
 21 #include &quot;rbbinode.h&quot;
 22 
 23 
 24 U_NAMESPACE_BEGIN
 25 
 26 class RBBIRuleScanner;
 27 class RBBIRuleBuilder;
 28 class UVector32;
 29 
 30 //
 31 //  class RBBITableBuilder is part of the RBBI rule compiler.
 32 //                         It builds the state transition table used by the RBBI runtime
 33 //                         from the expression syntax tree generated by the rule scanner.
 34 //
 35 //                         This class is part of the RBBI implementation only.
 36 //                         There is no user-visible public API here.
 37 //
</pre>
<hr />
<pre>
 49     /** Fill in the runtime state table. Sufficient memory must exist at the specified location.
 50      */
 51     void     exportTable(void *where);
 52 
 53     /**
 54      *  Find duplicate (redundant) character classes. Begin looking with categories.first.
 55      *  Duplicate, if found are returned in the categories parameter.
 56      *  This is an iterator-like function, used to identify character classes
 57      *  (state table columns) that can be eliminated.
 58      *  @param categories in/out parameter, specifies where to start looking for duplicates,
 59      *                and returns the first pair of duplicates found, if any.
 60      *  @return true if duplicate char classes were found, false otherwise.
 61      */
 62     bool     findDuplCharClassFrom(IntPair *categories);
 63 
 64     /** Remove a column from the state table. Used when two character categories
 65      *  have been found equivalent, and merged together, to eliminate the uneeded table column.
 66      */
 67     void     removeColumn(int32_t column);
 68 
<span class="line-modified"> 69     /** Check for, and remove dupicate states (table rows). */</span>
<span class="line-modified"> 70     void     removeDuplicateStates();</span>



 71 
 72     /** Build the safe reverse table from the already-constructed forward table. */
 73     void     buildSafeReverseTable(UErrorCode &amp;status);
 74 
 75     /** Return the runtime size in bytes of the built safe reverse state table. */
 76     int32_t  getSafeTableSize() const;
 77 
 78     /** Fill in the runtime safe state table. Sufficient memory must exist at the specified location.
 79      */
 80     void     exportSafeTable(void *where);
 81 
 82 
 83 private:
 84     void     calcNullable(RBBINode *n);
 85     void     calcFirstPos(RBBINode *n);
 86     void     calcLastPos(RBBINode  *n);
 87     void     calcFollowPos(RBBINode *n);
 88     void     calcChainedFollowPos(RBBINode *n);
 89     void     bofFixup();
 90     void     buildStateTable();
</pre>
<hr />
<pre>
187     UVector          *fPositions;          // Set of parse tree positions associated
188                                            //   with this state.  Unordered (it&#39;s a set).
189                                            //   UVector contents are RBBINode *
190 
191     UVector32        *fDtran;              // Transitions out of this state.
192                                            //   indexed by input character
193                                            //   contents is int index of dest state
194                                            //   in RBBITableBuilder.fDStates
195 
196     RBBIStateDescriptor(int maxInputSymbol,  UErrorCode *fStatus);
197     ~RBBIStateDescriptor();
198 
199 private:
200     RBBIStateDescriptor(const RBBIStateDescriptor &amp;other); // forbid copying of this class
201     RBBIStateDescriptor &amp;operator=(const RBBIStateDescriptor &amp;other); // forbid copying of this class
202 };
203 
204 
205 
206 U_NAMESPACE_END



207 #endif
</pre>
</td>
<td>
<hr />
<pre>
  1 // © 2016 and later: Unicode, Inc. and others.
  2 // License &amp; terms of use: http://www.unicode.org/copyright.html
  3 //
  4 //  rbbitblb.h
  5 //
  6 
  7 /*
  8 **********************************************************************
  9 *   Copyright (c) 2002-2016, International Business Machines
 10 *   Corporation and others.  All Rights Reserved.
 11 **********************************************************************
 12 */
 13 
 14 #ifndef RBBITBLB_H
 15 #define RBBITBLB_H
 16 
 17 #include &quot;unicode/utypes.h&quot;
<span class="line-added"> 18 </span>
<span class="line-added"> 19 #if !UCONFIG_NO_BREAK_ITERATION</span>
<span class="line-added"> 20 </span>
 21 #include &quot;unicode/uobject.h&quot;
 22 #include &quot;unicode/rbbi.h&quot;
 23 #include &quot;rbbirb.h&quot;
 24 #include &quot;rbbinode.h&quot;
 25 
 26 
 27 U_NAMESPACE_BEGIN
 28 
 29 class RBBIRuleScanner;
 30 class RBBIRuleBuilder;
 31 class UVector32;
 32 
 33 //
 34 //  class RBBITableBuilder is part of the RBBI rule compiler.
 35 //                         It builds the state transition table used by the RBBI runtime
 36 //                         from the expression syntax tree generated by the rule scanner.
 37 //
 38 //                         This class is part of the RBBI implementation only.
 39 //                         There is no user-visible public API here.
 40 //
</pre>
<hr />
<pre>
 52     /** Fill in the runtime state table. Sufficient memory must exist at the specified location.
 53      */
 54     void     exportTable(void *where);
 55 
 56     /**
 57      *  Find duplicate (redundant) character classes. Begin looking with categories.first.
 58      *  Duplicate, if found are returned in the categories parameter.
 59      *  This is an iterator-like function, used to identify character classes
 60      *  (state table columns) that can be eliminated.
 61      *  @param categories in/out parameter, specifies where to start looking for duplicates,
 62      *                and returns the first pair of duplicates found, if any.
 63      *  @return true if duplicate char classes were found, false otherwise.
 64      */
 65     bool     findDuplCharClassFrom(IntPair *categories);
 66 
 67     /** Remove a column from the state table. Used when two character categories
 68      *  have been found equivalent, and merged together, to eliminate the uneeded table column.
 69      */
 70     void     removeColumn(int32_t column);
 71 
<span class="line-modified"> 72     /**</span>
<span class="line-modified"> 73      * Check for, and remove dupicate states (table rows).</span>
<span class="line-added"> 74      * @return the number of states removed.</span>
<span class="line-added"> 75      */</span>
<span class="line-added"> 76     int32_t  removeDuplicateStates();</span>
 77 
 78     /** Build the safe reverse table from the already-constructed forward table. */
 79     void     buildSafeReverseTable(UErrorCode &amp;status);
 80 
 81     /** Return the runtime size in bytes of the built safe reverse state table. */
 82     int32_t  getSafeTableSize() const;
 83 
 84     /** Fill in the runtime safe state table. Sufficient memory must exist at the specified location.
 85      */
 86     void     exportSafeTable(void *where);
 87 
 88 
 89 private:
 90     void     calcNullable(RBBINode *n);
 91     void     calcFirstPos(RBBINode *n);
 92     void     calcLastPos(RBBINode  *n);
 93     void     calcFollowPos(RBBINode *n);
 94     void     calcChainedFollowPos(RBBINode *n);
 95     void     bofFixup();
 96     void     buildStateTable();
</pre>
<hr />
<pre>
193     UVector          *fPositions;          // Set of parse tree positions associated
194                                            //   with this state.  Unordered (it&#39;s a set).
195                                            //   UVector contents are RBBINode *
196 
197     UVector32        *fDtran;              // Transitions out of this state.
198                                            //   indexed by input character
199                                            //   contents is int index of dest state
200                                            //   in RBBITableBuilder.fDStates
201 
202     RBBIStateDescriptor(int maxInputSymbol,  UErrorCode *fStatus);
203     ~RBBIStateDescriptor();
204 
205 private:
206     RBBIStateDescriptor(const RBBIStateDescriptor &amp;other); // forbid copying of this class
207     RBBIStateDescriptor &amp;operator=(const RBBIStateDescriptor &amp;other); // forbid copying of this class
208 };
209 
210 
211 
212 U_NAMESPACE_END
<span class="line-added">213 </span>
<span class="line-added">214 #endif /* #if !UCONFIG_NO_BREAK_ITERATION */</span>
<span class="line-added">215 </span>
216 #endif
</pre>
</td>
</tr>
</table>
<center><a href="rbbitblb.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="resbund.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>