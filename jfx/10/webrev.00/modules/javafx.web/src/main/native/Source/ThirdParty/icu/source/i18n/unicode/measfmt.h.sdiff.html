<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/unicode/measfmt.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gender.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="measunit.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/unicode/measfmt.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 87 class DateFormat;
 88 
 89 /**
 90  * &lt;p&gt;&lt;strong&gt;IMPORTANT:&lt;/strong&gt; New users are strongly encouraged to see if
 91  * numberformatter.h fits their use case.  Although not deprecated, this header
 92  * is provided for backwards compatibility only.
 93  *
 94  * @see Format
 95  * @author Alan Liu
 96  * @stable ICU 3.0
 97  */
 98 class U_I18N_API MeasureFormat : public Format {
 99  public:
100     using Format::parseObject;
101     using Format::format;
102 
103     /**
104      * Constructor.
105      * &lt;p&gt;
106      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">107      * {@link NumberFormatter} instead of NumberFormat.</span>
108      * @stable ICU 53
109      */
110     MeasureFormat(
111             const Locale &amp;locale, UMeasureFormatWidth width, UErrorCode &amp;status);
112 
113     /**
114      * Constructor.
115      * &lt;p&gt;
116      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">117      * {@link NumberFormatter} instead of NumberFormat.</span>
118      * @stable ICU 53
119      */
120     MeasureFormat(
121             const Locale &amp;locale,
122             UMeasureFormatWidth width,
123             NumberFormat *nfToAdopt,
124             UErrorCode &amp;status);
125 
126     /**
127      * Copy constructor.
128      * @stable ICU 3.0
129      */
130     MeasureFormat(const MeasureFormat &amp;other);
131 
132     /**
133      * Assignment operator.
134      * @stable ICU 3.0
135      */
136     MeasureFormat &amp;operator=(const MeasureFormat &amp;rhs);
137 
</pre>
<hr />
<pre>
185      * @param measureCount the number of measure objects.
186      * @param appendTo formatted string appended here.
187      * @param pos the field position.
188      * @param status the error.
189      * @return appendTo reference
190      *
191      * @stable ICU 53
192      */
193     UnicodeString &amp;formatMeasures(
194             const Measure *measures,
195             int32_t measureCount,
196             UnicodeString &amp;appendTo,
197             FieldPosition &amp;pos,
198             UErrorCode &amp;status) const;
199 
200     /**
201      * Formats a single measure per unit. An example of such a
202      * formatted string is 3.5 meters per second.
203      * @param measure The measure object. In above example, 3.5 meters.
204      * @param perUnit The per unit. In above example, it is
<span class="line-modified">205      *        *MeasureUnit::createSecond(status).</span>
206      * @param appendTo formatted string appended here.
207      * @param pos the field position.
208      * @param status the error.
209      * @return appendTo reference
210      *
211      * @stable ICU 55
212      */
213     UnicodeString &amp;formatMeasurePerUnit(
214             const Measure &amp;measure,
215             const MeasureUnit &amp;perUnit,
216             UnicodeString &amp;appendTo,
217             FieldPosition &amp;pos,
218             UErrorCode &amp;status) const;
219 
220     /**
221      * Gets the display name of the specified {@link MeasureUnit} corresponding to the current
222      * locale and format width.
223      * @param unit  The unit for which to get a display name.
224      * @param status the error.
225      * @return  The display name in the locale and width specified in
<span class="line-modified">226      *          {@link MeasureFormat#getInstance}, or null if there is no display name available</span>
227      *          for the specified unit.
228      *
229      * @stable ICU 58
230      */
231     UnicodeString getUnitDisplayName(const MeasureUnit&amp; unit, UErrorCode &amp;status) const;
232 
233 
234     /**
235      * Return a formatter for CurrencyAmount objects in the given
236      * locale.
237      * &lt;p&gt;
238      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">239      * {@link NumberFormatter} instead of NumberFormat.</span>
240      * @param locale desired locale
241      * @param ec input-output error code
242      * @return a formatter object, or NULL upon error
243      * @stable ICU 3.0
244      */
245     static MeasureFormat* U_EXPORT2 createCurrencyFormat(const Locale&amp; locale,
246                                                UErrorCode&amp; ec);
247 
248     /**
249      * Return a formatter for CurrencyAmount objects in the default
250      * locale.
251      * &lt;p&gt;
252      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">253      * {@link NumberFormatter} instead of NumberFormat.</span>
254      * @param ec input-output error code
255      * @return a formatter object, or NULL upon error
256      * @stable ICU 3.0
257      */
258     static MeasureFormat* U_EXPORT2 createCurrencyFormat(UErrorCode&amp; ec);
259 
260     /**
261      * Return the class ID for this class. This is useful only for comparing to
262      * a return value from getDynamicClassID(). For example:
263      * &lt;pre&gt;
264      * .   Base* polymorphic_pointer = createPolymorphicObject();
265      * .   if (polymorphic_pointer-&gt;getDynamicClassID() ==
266      * .       erived::getStaticClassID()) ...
267      * &lt;/pre&gt;
268      * @return          The class ID for all objects of this class.
269      * @stable ICU 53
270      */
271     static UClassID U_EXPORT2 getStaticClassID(void);
272 
273     /**
</pre>
<hr />
<pre>
305     /**
306      * ICU use only.
307      * Allows subclass to change locale. Note that this method also changes
308      * the NumberFormat object. Returns TRUE if locale changed; FALSE if no
309      * change was made.
310      * @internal.
311      */
312     UBool setMeasureFormatLocale(const Locale &amp;locale, UErrorCode &amp;status);
313 
314     /**
315      * ICU use only.
316      * Let subclass change NumberFormat.
317      * @internal.
318      */
319     void adoptNumberFormat(NumberFormat *nfToAdopt, UErrorCode &amp;status);
320 
321     /**
322      * ICU use only.
323      * @internal.
324      */
<span class="line-modified">325     const NumberFormat &amp;getNumberFormat() const;</span>







326 
327     /**
328      * ICU use only.
329      * @internal.
330      */
331     const PluralRules &amp;getPluralRules() const;
332 
333     /**
334      * ICU use only.
335      * @internal.
336      */
337     Locale getLocale(UErrorCode &amp;status) const;
338 
339     /**
340      * ICU use only.
341      * @internal.
342      */
343     const char *getLocaleID(UErrorCode &amp;status) const;
344 
345 #endif /* U_HIDE_INTERNAL_API */
346 
347  private:
348     const MeasureFormatCacheData *cache;
349     const SharedNumberFormat *numberFormat;
350     const SharedPluralRules *pluralRules;
<span class="line-modified">351     UMeasureFormatWidth width;</span>
352 
353     // Declared outside of MeasureFormatSharedData because ListFormatter
354     // objects are relatively cheap to copy; therefore, they don&#39;t need to be
355     // shared across instances.
356     ListFormatter *listFormatter;
357 
<span class="line-removed">358     const SimpleFormatter *getFormatterOrNull(</span>
<span class="line-removed">359             const MeasureUnit &amp;unit, UMeasureFormatWidth width, int32_t index) const;</span>
<span class="line-removed">360 </span>
<span class="line-removed">361     const SimpleFormatter *getFormatter(</span>
<span class="line-removed">362             const MeasureUnit &amp;unit, UMeasureFormatWidth width, int32_t index,</span>
<span class="line-removed">363             UErrorCode &amp;errorCode) const;</span>
<span class="line-removed">364 </span>
<span class="line-removed">365     const SimpleFormatter *getPluralFormatter(</span>
<span class="line-removed">366             const MeasureUnit &amp;unit, UMeasureFormatWidth width, int32_t index,</span>
<span class="line-removed">367             UErrorCode &amp;errorCode) const;</span>
<span class="line-removed">368 </span>
<span class="line-removed">369     const SimpleFormatter *getPerFormatter(</span>
<span class="line-removed">370             UMeasureFormatWidth width,</span>
<span class="line-removed">371             UErrorCode &amp;status) const;</span>
<span class="line-removed">372 </span>
<span class="line-removed">373     int32_t withPerUnitAndAppend(</span>
<span class="line-removed">374         const UnicodeString &amp;formatted,</span>
<span class="line-removed">375         const MeasureUnit &amp;perUnit,</span>
<span class="line-removed">376         UnicodeString &amp;appendTo,</span>
<span class="line-removed">377         UErrorCode &amp;status) const;</span>
<span class="line-removed">378 </span>
379     UnicodeString &amp;formatMeasure(
380         const Measure &amp;measure,
381         const NumberFormat &amp;nf,
382         UnicodeString &amp;appendTo,
383         FieldPosition &amp;pos,
384         UErrorCode &amp;status) const;
385 
386     UnicodeString &amp;formatMeasuresSlowTrack(
387         const Measure *measures,
388         int32_t measureCount,
389         UnicodeString&amp; appendTo,
390         FieldPosition&amp; pos,
391         UErrorCode&amp; status) const;
392 
393     UnicodeString &amp;formatNumeric(
394         const Formattable *hms,  // always length 3: [0] is hour; [1] is
395                                  // minute; [2] is second.
396         int32_t bitMap,   // 1=hour set, 2=minute set, 4=second set
397         UnicodeString &amp;appendTo,
398         UErrorCode &amp;status) const;
</pre>
</td>
<td>
<hr />
<pre>
 87 class DateFormat;
 88 
 89 /**
 90  * &lt;p&gt;&lt;strong&gt;IMPORTANT:&lt;/strong&gt; New users are strongly encouraged to see if
 91  * numberformatter.h fits their use case.  Although not deprecated, this header
 92  * is provided for backwards compatibility only.
 93  *
 94  * @see Format
 95  * @author Alan Liu
 96  * @stable ICU 3.0
 97  */
 98 class U_I18N_API MeasureFormat : public Format {
 99  public:
100     using Format::parseObject;
101     using Format::format;
102 
103     /**
104      * Constructor.
105      * &lt;p&gt;
106      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">107      * {@link icu::number::NumberFormatter} instead of NumberFormat.</span>
108      * @stable ICU 53
109      */
110     MeasureFormat(
111             const Locale &amp;locale, UMeasureFormatWidth width, UErrorCode &amp;status);
112 
113     /**
114      * Constructor.
115      * &lt;p&gt;
116      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">117      * {@link icu::number::NumberFormatter} instead of NumberFormat.</span>
118      * @stable ICU 53
119      */
120     MeasureFormat(
121             const Locale &amp;locale,
122             UMeasureFormatWidth width,
123             NumberFormat *nfToAdopt,
124             UErrorCode &amp;status);
125 
126     /**
127      * Copy constructor.
128      * @stable ICU 3.0
129      */
130     MeasureFormat(const MeasureFormat &amp;other);
131 
132     /**
133      * Assignment operator.
134      * @stable ICU 3.0
135      */
136     MeasureFormat &amp;operator=(const MeasureFormat &amp;rhs);
137 
</pre>
<hr />
<pre>
185      * @param measureCount the number of measure objects.
186      * @param appendTo formatted string appended here.
187      * @param pos the field position.
188      * @param status the error.
189      * @return appendTo reference
190      *
191      * @stable ICU 53
192      */
193     UnicodeString &amp;formatMeasures(
194             const Measure *measures,
195             int32_t measureCount,
196             UnicodeString &amp;appendTo,
197             FieldPosition &amp;pos,
198             UErrorCode &amp;status) const;
199 
200     /**
201      * Formats a single measure per unit. An example of such a
202      * formatted string is 3.5 meters per second.
203      * @param measure The measure object. In above example, 3.5 meters.
204      * @param perUnit The per unit. In above example, it is
<span class="line-modified">205      *        `*%MeasureUnit::createSecond(status)`.</span>
206      * @param appendTo formatted string appended here.
207      * @param pos the field position.
208      * @param status the error.
209      * @return appendTo reference
210      *
211      * @stable ICU 55
212      */
213     UnicodeString &amp;formatMeasurePerUnit(
214             const Measure &amp;measure,
215             const MeasureUnit &amp;perUnit,
216             UnicodeString &amp;appendTo,
217             FieldPosition &amp;pos,
218             UErrorCode &amp;status) const;
219 
220     /**
221      * Gets the display name of the specified {@link MeasureUnit} corresponding to the current
222      * locale and format width.
223      * @param unit  The unit for which to get a display name.
224      * @param status the error.
225      * @return  The display name in the locale and width specified in
<span class="line-modified">226      *          the MeasureFormat constructor, or null if there is no display name available</span>
227      *          for the specified unit.
228      *
229      * @stable ICU 58
230      */
231     UnicodeString getUnitDisplayName(const MeasureUnit&amp; unit, UErrorCode &amp;status) const;
232 
233 
234     /**
235      * Return a formatter for CurrencyAmount objects in the given
236      * locale.
237      * &lt;p&gt;
238      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">239      * {@link icu::number::NumberFormatter} instead of NumberFormat.</span>
240      * @param locale desired locale
241      * @param ec input-output error code
242      * @return a formatter object, or NULL upon error
243      * @stable ICU 3.0
244      */
245     static MeasureFormat* U_EXPORT2 createCurrencyFormat(const Locale&amp; locale,
246                                                UErrorCode&amp; ec);
247 
248     /**
249      * Return a formatter for CurrencyAmount objects in the default
250      * locale.
251      * &lt;p&gt;
252      * &lt;strong&gt;NOTE:&lt;/strong&gt; New users are strongly encouraged to use
<span class="line-modified">253      * {@link icu::number::NumberFormatter} instead of NumberFormat.</span>
254      * @param ec input-output error code
255      * @return a formatter object, or NULL upon error
256      * @stable ICU 3.0
257      */
258     static MeasureFormat* U_EXPORT2 createCurrencyFormat(UErrorCode&amp; ec);
259 
260     /**
261      * Return the class ID for this class. This is useful only for comparing to
262      * a return value from getDynamicClassID(). For example:
263      * &lt;pre&gt;
264      * .   Base* polymorphic_pointer = createPolymorphicObject();
265      * .   if (polymorphic_pointer-&gt;getDynamicClassID() ==
266      * .       erived::getStaticClassID()) ...
267      * &lt;/pre&gt;
268      * @return          The class ID for all objects of this class.
269      * @stable ICU 53
270      */
271     static UClassID U_EXPORT2 getStaticClassID(void);
272 
273     /**
</pre>
<hr />
<pre>
305     /**
306      * ICU use only.
307      * Allows subclass to change locale. Note that this method also changes
308      * the NumberFormat object. Returns TRUE if locale changed; FALSE if no
309      * change was made.
310      * @internal.
311      */
312     UBool setMeasureFormatLocale(const Locale &amp;locale, UErrorCode &amp;status);
313 
314     /**
315      * ICU use only.
316      * Let subclass change NumberFormat.
317      * @internal.
318      */
319     void adoptNumberFormat(NumberFormat *nfToAdopt, UErrorCode &amp;status);
320 
321     /**
322      * ICU use only.
323      * @internal.
324      */
<span class="line-modified">325     const NumberFormat &amp;getNumberFormatInternal() const;</span>
<span class="line-added">326 </span>
<span class="line-added">327     /**</span>
<span class="line-added">328      * ICU use only.</span>
<span class="line-added">329      * Always returns the short form currency formatter.</span>
<span class="line-added">330      * @internal.</span>
<span class="line-added">331      */</span>
<span class="line-added">332     const NumberFormat&amp; getCurrencyFormatInternal() const;</span>
333 
334     /**
335      * ICU use only.
336      * @internal.
337      */
338     const PluralRules &amp;getPluralRules() const;
339 
340     /**
341      * ICU use only.
342      * @internal.
343      */
344     Locale getLocale(UErrorCode &amp;status) const;
345 
346     /**
347      * ICU use only.
348      * @internal.
349      */
350     const char *getLocaleID(UErrorCode &amp;status) const;
351 
352 #endif /* U_HIDE_INTERNAL_API */
353 
354  private:
355     const MeasureFormatCacheData *cache;
356     const SharedNumberFormat *numberFormat;
357     const SharedPluralRules *pluralRules;
<span class="line-modified">358     UMeasureFormatWidth fWidth;</span>
359 
360     // Declared outside of MeasureFormatSharedData because ListFormatter
361     // objects are relatively cheap to copy; therefore, they don&#39;t need to be
362     // shared across instances.
363     ListFormatter *listFormatter;
364 





















365     UnicodeString &amp;formatMeasure(
366         const Measure &amp;measure,
367         const NumberFormat &amp;nf,
368         UnicodeString &amp;appendTo,
369         FieldPosition &amp;pos,
370         UErrorCode &amp;status) const;
371 
372     UnicodeString &amp;formatMeasuresSlowTrack(
373         const Measure *measures,
374         int32_t measureCount,
375         UnicodeString&amp; appendTo,
376         FieldPosition&amp; pos,
377         UErrorCode&amp; status) const;
378 
379     UnicodeString &amp;formatNumeric(
380         const Formattable *hms,  // always length 3: [0] is hour; [1] is
381                                  // minute; [2] is second.
382         int32_t bitMap,   // 1=hour set, 2=minute set, 4=second set
383         UnicodeString &amp;appendTo,
384         UErrorCode &amp;status) const;
</pre>
</td>
</tr>
</table>
<center><a href="gender.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="measunit.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>