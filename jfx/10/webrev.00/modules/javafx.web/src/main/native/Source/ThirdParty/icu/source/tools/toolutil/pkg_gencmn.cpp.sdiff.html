<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/tools/toolutil/pkg_gencmn.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="pkg_genc.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="swapimpl.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/tools/toolutil/pkg_gencmn.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
362             buffer,
363             &quot;U_EXPORT struct {\n&quot;
364             &quot;    uint16_t headerSize;\n&quot;
365             &quot;    uint8_t magic1, magic2;\n&quot;
366             &quot;    UDataInfo info;\n&quot;
367             &quot;    char padding[%lu];\n&quot;
368             &quot;    uint32_t count, reserved;\n&quot;
369             &quot;    struct {\n&quot;
370             &quot;        const char *name;\n&quot;
371             &quot;        const void *data;\n&quot;
372             &quot;    } toc[%lu];\n&quot;
373             &quot;} U_EXPORT2 %s_dat = {\n&quot;
374             &quot;    32, 0xda, 0x27, {\n&quot;
375             &quot;        %lu, 0,\n&quot;
376             &quot;        %u, %u, %u, 0,\n&quot;
377             &quot;        {0x54, 0x6f, 0x43, 0x50},\n&quot;
378             &quot;        {1, 0, 0, 0},\n&quot;
379             &quot;        {0, 0, 0, 0}\n&quot;
380             &quot;    },\n&quot;
381             &quot;    \&quot;\&quot;, %lu, 0, {\n&quot;,
<span class="line-modified">382             (unsigned long)32-4-sizeof(UDataInfo),</span>
<span class="line-modified">383             (unsigned long)fileCount,</span>
384             entrypointName,
<span class="line-modified">385             (unsigned long)sizeof(UDataInfo),</span>
386             U_IS_BIG_ENDIAN,
387             U_CHARSET_FAMILY,
388             U_SIZEOF_UCHAR,
<span class="line-modified">389             (unsigned long)fileCount</span>
390         );
391         T_FileStream_writeLine(out, buffer);
392 
393         sprintf(buffer, &quot;        { \&quot;%s\&quot;, %s%s }&quot;, files[0].basename, symPrefix?symPrefix:&quot;&quot;, files[0].pathname);
394         T_FileStream_writeLine(out, buffer);
395         for(i=1; i&lt;fileCount; ++i) {
396             sprintf(buffer, &quot;,\n        { \&quot;%s\&quot;, %s%s }&quot;, files[i].basename, symPrefix?symPrefix:&quot;&quot;, files[i].pathname);
397             T_FileStream_writeLine(out, buffer);
398         }
399 
400         T_FileStream_writeLine(out, &quot;\n    }\n};\n&quot;);
401         T_FileStream_close(out);
402 
403         uprv_free(symPrefix);
404     }
405 }
406 
407 static void
408 addFile(const char *filename, const char *name, const char *source, UBool sourceTOC, UBool verbose) {
409     char *s;
</pre>
</td>
<td>
<hr />
<pre>
362             buffer,
363             &quot;U_EXPORT struct {\n&quot;
364             &quot;    uint16_t headerSize;\n&quot;
365             &quot;    uint8_t magic1, magic2;\n&quot;
366             &quot;    UDataInfo info;\n&quot;
367             &quot;    char padding[%lu];\n&quot;
368             &quot;    uint32_t count, reserved;\n&quot;
369             &quot;    struct {\n&quot;
370             &quot;        const char *name;\n&quot;
371             &quot;        const void *data;\n&quot;
372             &quot;    } toc[%lu];\n&quot;
373             &quot;} U_EXPORT2 %s_dat = {\n&quot;
374             &quot;    32, 0xda, 0x27, {\n&quot;
375             &quot;        %lu, 0,\n&quot;
376             &quot;        %u, %u, %u, 0,\n&quot;
377             &quot;        {0x54, 0x6f, 0x43, 0x50},\n&quot;
378             &quot;        {1, 0, 0, 0},\n&quot;
379             &quot;        {0, 0, 0, 0}\n&quot;
380             &quot;    },\n&quot;
381             &quot;    \&quot;\&quot;, %lu, 0, {\n&quot;,
<span class="line-modified">382             static_cast&lt;unsigned long&gt;(32-4-sizeof(UDataInfo)),</span>
<span class="line-modified">383             static_cast&lt;unsigned long&gt;(fileCount),</span>
384             entrypointName,
<span class="line-modified">385             static_cast&lt;unsigned long&gt;(sizeof(UDataInfo)),</span>
386             U_IS_BIG_ENDIAN,
387             U_CHARSET_FAMILY,
388             U_SIZEOF_UCHAR,
<span class="line-modified">389             static_cast&lt;unsigned long&gt;(fileCount)</span>
390         );
391         T_FileStream_writeLine(out, buffer);
392 
393         sprintf(buffer, &quot;        { \&quot;%s\&quot;, %s%s }&quot;, files[0].basename, symPrefix?symPrefix:&quot;&quot;, files[0].pathname);
394         T_FileStream_writeLine(out, buffer);
395         for(i=1; i&lt;fileCount; ++i) {
396             sprintf(buffer, &quot;,\n        { \&quot;%s\&quot;, %s%s }&quot;, files[i].basename, symPrefix?symPrefix:&quot;&quot;, files[i].pathname);
397             T_FileStream_writeLine(out, buffer);
398         }
399 
400         T_FileStream_writeLine(out, &quot;\n    }\n};\n&quot;);
401         T_FileStream_close(out);
402 
403         uprv_free(symPrefix);
404     }
405 }
406 
407 static void
408 addFile(const char *filename, const char *name, const char *source, UBool sourceTOC, UBool verbose) {
409     char *s;
</pre>
</td>
</tr>
</table>
<center><a href="pkg_genc.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="swapimpl.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>