<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/unicode/locid.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>   1 // Â© 2016 and later: Unicode, Inc. and others.
   2 // License &amp; terms of use: http://www.unicode.org/copyright.html
   3 /*
   4 ******************************************************************************
   5 *
   6 *   Copyright (C) 1996-2015, International Business Machines
   7 *   Corporation and others.  All Rights Reserved.
   8 *
   9 ******************************************************************************
  10 *
  11 * File locid.h
  12 *
  13 * Created by: Helena Shih
  14 *
  15 * Modification History:
  16 *
  17 *   Date        Name        Description
  18 *   02/11/97    aliu        Changed gLocPath to fgLocPath and added methods to
  19 *                           get and set it.
  20 *   04/02/97    aliu        Made operator!= inline; fixed return value of getName().
  21 *   04/15/97    aliu        Cleanup for AIX/Win32.
  22 *   04/24/97    aliu        Numerous changes per code review.
  23 *   08/18/98    stephen     Added tokenizeString(),changed getDisplayName()
  24 *   09/08/98    stephen     Moved definition of kEmptyString for Mac Port
  25 *   11/09/99    weiv        Added const char * getName() const;
  26 *   04/12/00    srl         removing unicodestring api&#39;s and cached hash code
  27 *   08/10/01    grhoten     Change the static Locales to accessor functions
  28 ******************************************************************************
  29 */
  30 
  31 #ifndef LOCID_H
  32 #define LOCID_H
  33 
<a name="1" id="anc1"></a><span class="line-added">  34 #include &quot;unicode/bytestream.h&quot;</span>
<span class="line-added">  35 #include &quot;unicode/localpointer.h&quot;</span>
<span class="line-added">  36 #include &quot;unicode/strenum.h&quot;</span>
<span class="line-added">  37 #include &quot;unicode/stringpiece.h&quot;</span>
  38 #include &quot;unicode/utypes.h&quot;
  39 #include &quot;unicode/uobject.h&quot;
  40 #include &quot;unicode/putil.h&quot;
  41 #include &quot;unicode/uloc.h&quot;
  42 
  43 /**
  44  * \file
  45  * \brief C++ API: Locale ID object.
  46  */
  47 
  48 U_NAMESPACE_BEGIN
  49 
  50 // Forward Declarations
  51 void U_CALLCONV locale_available_init(); /**&lt; @internal */
  52 
  53 class StringEnumeration;
  54 class UnicodeString;
  55 
  56 /**
  57  * A &lt;code&gt;Locale&lt;/code&gt; object represents a specific geographical, political,
  58  * or cultural region. An operation that requires a &lt;code&gt;Locale&lt;/code&gt; to perform
  59  * its task is called &lt;em&gt;locale-sensitive&lt;/em&gt; and uses the &lt;code&gt;Locale&lt;/code&gt;
  60  * to tailor information for the user. For example, displaying a number
  61  * is a locale-sensitive operation--the number should be formatted
  62  * according to the customs/conventions of the user&#39;s native country,
  63  * region, or culture.
  64  *
  65  * The Locale class is not suitable for subclassing.
  66  *
  67  * &lt;P&gt;
  68  * You can create a &lt;code&gt;Locale&lt;/code&gt; object using the constructor in
  69  * this class:
  70  * \htmlonly&lt;blockquote&gt;\endhtmlonly
  71  * &lt;pre&gt;
  72  *       Locale( const   char*  language,
  73  *               const   char*  country,
  74  *               const   char*  variant);
  75  * &lt;/pre&gt;
  76  * \htmlonly&lt;/blockquote&gt;\endhtmlonly
  77  * The first argument to the constructors is a valid &lt;STRONG&gt;ISO
  78  * Language Code.&lt;/STRONG&gt; These codes are the lower-case two-letter
  79  * codes as defined by ISO-639.
  80  * You can find a full list of these codes at:
  81  * &lt;BR&gt;&lt;a href =&quot;http://www.loc.gov/standards/iso639-2/&quot;&gt;
  82  * http://www.loc.gov/standards/iso639-2/&lt;/a&gt;
  83  *
  84  * &lt;P&gt;
  85  * The second argument to the constructors is a valid &lt;STRONG&gt;ISO Country
  86  * Code.&lt;/STRONG&gt; These codes are the upper-case two-letter codes
  87  * as defined by ISO-3166.
  88  * You can find a full list of these codes at a number of sites, such as:
  89  * &lt;BR&gt;&lt;a href=&quot;http://www.iso.org/iso/en/prods-services/iso3166ma/index.html&quot;&gt;
  90  * http://www.iso.org/iso/en/prods-services/iso3166ma/index.html&lt;/a&gt;
  91  *
  92  * &lt;P&gt;
  93  * The third constructor requires a third argument--the &lt;STRONG&gt;Variant.&lt;/STRONG&gt;
  94  * The Variant codes are vendor and browser-specific.
  95  * For example, use REVISED for a language&#39;s revised script orthography, and POSIX for POSIX.
  96  * Where there are two variants, separate them with an underscore, and
  97  * put the most important one first. For
  98  * example, a Traditional Spanish collation might be referenced, with
  99  * &quot;ES&quot;, &quot;ES&quot;, &quot;Traditional_POSIX&quot;.
 100  *
 101  * &lt;P&gt;
 102  * Because a &lt;code&gt;Locale&lt;/code&gt; object is just an identifier for a region,
 103  * no validity check is performed when you construct a &lt;code&gt;Locale&lt;/code&gt;.
 104  * If you want to see whether particular resources are available for the
 105  * &lt;code&gt;Locale&lt;/code&gt; you construct, you must query those resources. For
 106  * example, ask the &lt;code&gt;NumberFormat&lt;/code&gt; for the locales it supports
 107  * using its &lt;code&gt;getAvailableLocales&lt;/code&gt; method.
 108  * &lt;BR&gt;&lt;STRONG&gt;Note:&lt;/STRONG&gt; When you ask for a resource for a particular
 109  * locale, you get back the best available match, not necessarily
 110  * precisely what you asked for. For more information, look at
 111  * &lt;code&gt;ResourceBundle&lt;/code&gt;.
 112  *
 113  * &lt;P&gt;
 114  * The &lt;code&gt;Locale&lt;/code&gt; class provides a number of convenient constants
 115  * that you can use to create &lt;code&gt;Locale&lt;/code&gt; objects for commonly used
 116  * locales. For example, the following refers to a &lt;code&gt;Locale&lt;/code&gt; object
 117  * for the United States:
 118  * \htmlonly&lt;blockquote&gt;\endhtmlonly
 119  * &lt;pre&gt;
 120  *       Locale::getUS()
 121  * &lt;/pre&gt;
 122  * \htmlonly&lt;/blockquote&gt;\endhtmlonly
 123  *
 124  * &lt;P&gt;
 125  * Once you&#39;ve created a &lt;code&gt;Locale&lt;/code&gt; you can query it for information about
 126  * itself. Use &lt;code&gt;getCountry&lt;/code&gt; to get the ISO Country Code and
 127  * &lt;code&gt;getLanguage&lt;/code&gt; to get the ISO Language Code. You can
 128  * use &lt;code&gt;getDisplayCountry&lt;/code&gt; to get the
 129  * name of the country suitable for displaying to the user. Similarly,
 130  * you can use &lt;code&gt;getDisplayLanguage&lt;/code&gt; to get the name of
 131  * the language suitable for displaying to the user. Interestingly,
 132  * the &lt;code&gt;getDisplayXXX&lt;/code&gt; methods are themselves locale-sensitive
 133  * and have two versions: one that uses the default locale and one
 134  * that takes a locale as an argument and displays the name or country in
 135  * a language appropriate to that locale.
 136  *
 137  * &lt;P&gt;
 138  * ICU provides a number of classes that perform locale-sensitive
 139  * operations. For example, the &lt;code&gt;NumberFormat&lt;/code&gt; class formats
 140  * numbers, currency, or percentages in a locale-sensitive manner. Classes
 141  * such as &lt;code&gt;NumberFormat&lt;/code&gt; have a number of convenience methods
 142  * for creating a default object of that type. For example, the
 143  * &lt;code&gt;NumberFormat&lt;/code&gt; class provides these three convenience methods
 144  * for creating a default &lt;code&gt;NumberFormat&lt;/code&gt; object:
 145  * \htmlonly&lt;blockquote&gt;\endhtmlonly
 146  * &lt;pre&gt;
 147  *     UErrorCode success = U_ZERO_ERROR;
 148  *     Locale myLocale;
 149  *     NumberFormat *nf;
 150  *
 151  *     nf = NumberFormat::createInstance( success );          delete nf;
 152  *     nf = NumberFormat::createCurrencyInstance( success );  delete nf;
 153  *     nf = NumberFormat::createPercentInstance( success );   delete nf;
 154  * &lt;/pre&gt;
 155  * \htmlonly&lt;/blockquote&gt;\endhtmlonly
 156  * Each of these methods has two variants; one with an explicit locale
 157  * and one without; the latter using the default locale.
 158  * \htmlonly&lt;blockquote&gt;\endhtmlonly
 159  * &lt;pre&gt;
 160  *     nf = NumberFormat::createInstance( myLocale, success );          delete nf;
 161  *     nf = NumberFormat::createCurrencyInstance( myLocale, success );  delete nf;
 162  *     nf = NumberFormat::createPercentInstance( myLocale, success );   delete nf;
 163  * &lt;/pre&gt;
 164  * \htmlonly&lt;/blockquote&gt;\endhtmlonly
 165  * A &lt;code&gt;Locale&lt;/code&gt; is the mechanism for identifying the kind of object
 166  * (&lt;code&gt;NumberFormat&lt;/code&gt;) that you would like to get. The locale is
 167  * &lt;STRONG&gt;just&lt;/STRONG&gt; a mechanism for identifying objects,
 168  * &lt;STRONG&gt;not&lt;/STRONG&gt; a container for the objects themselves.
 169  *
 170  * &lt;P&gt;
 171  * Each class that performs locale-sensitive operations allows you
 172  * to get all the available objects of that type. You can sift
 173  * through these objects by language, country, or variant,
 174  * and use the display names to present a menu to the user.
 175  * For example, you can create a menu of all the collation objects
 176  * suitable for a given language. Such classes implement these
 177  * three class methods:
 178  * \htmlonly&lt;blockquote&gt;\endhtmlonly
 179  * &lt;pre&gt;
 180  *       static Locale* getAvailableLocales(int32_t&amp; numLocales)
 181  *       static UnicodeString&amp; getDisplayName(const Locale&amp;  objectLocale,
 182  *                                            const Locale&amp;  displayLocale,
 183  *                                            UnicodeString&amp; displayName)
 184  *       static UnicodeString&amp; getDisplayName(const Locale&amp;  objectLocale,
 185  *                                            UnicodeString&amp; displayName)
 186  * &lt;/pre&gt;
 187  * \htmlonly&lt;/blockquote&gt;\endhtmlonly
 188  *
 189  * @stable ICU 2.0
 190  * @see ResourceBundle
 191  */
 192 class U_COMMON_API Locale : public UObject {
 193 public:
 194     /** Useful constant for the Root locale. @stable ICU 4.4 */
 195     static const Locale &amp;U_EXPORT2 getRoot(void);
 196     /** Useful constant for this language. @stable ICU 2.0 */
 197     static const Locale &amp;U_EXPORT2 getEnglish(void);
 198     /** Useful constant for this language. @stable ICU 2.0 */
 199     static const Locale &amp;U_EXPORT2 getFrench(void);
 200     /** Useful constant for this language. @stable ICU 2.0 */
 201     static const Locale &amp;U_EXPORT2 getGerman(void);
 202     /** Useful constant for this language. @stable ICU 2.0 */
 203     static const Locale &amp;U_EXPORT2 getItalian(void);
 204     /** Useful constant for this language. @stable ICU 2.0 */
 205     static const Locale &amp;U_EXPORT2 getJapanese(void);
 206     /** Useful constant for this language. @stable ICU 2.0 */
 207     static const Locale &amp;U_EXPORT2 getKorean(void);
 208     /** Useful constant for this language. @stable ICU 2.0 */
 209     static const Locale &amp;U_EXPORT2 getChinese(void);
 210     /** Useful constant for this language. @stable ICU 2.0 */
 211     static const Locale &amp;U_EXPORT2 getSimplifiedChinese(void);
 212     /** Useful constant for this language. @stable ICU 2.0 */
 213     static const Locale &amp;U_EXPORT2 getTraditionalChinese(void);
 214 
 215     /** Useful constant for this country/region. @stable ICU 2.0 */
 216     static const Locale &amp;U_EXPORT2 getFrance(void);
 217     /** Useful constant for this country/region. @stable ICU 2.0 */
 218     static const Locale &amp;U_EXPORT2 getGermany(void);
 219     /** Useful constant for this country/region. @stable ICU 2.0 */
 220     static const Locale &amp;U_EXPORT2 getItaly(void);
 221     /** Useful constant for this country/region. @stable ICU 2.0 */
 222     static const Locale &amp;U_EXPORT2 getJapan(void);
 223     /** Useful constant for this country/region. @stable ICU 2.0 */
 224     static const Locale &amp;U_EXPORT2 getKorea(void);
 225     /** Useful constant for this country/region. @stable ICU 2.0 */
 226     static const Locale &amp;U_EXPORT2 getChina(void);
 227     /** Useful constant for this country/region. @stable ICU 2.0 */
 228     static const Locale &amp;U_EXPORT2 getPRC(void);
 229     /** Useful constant for this country/region. @stable ICU 2.0 */
 230     static const Locale &amp;U_EXPORT2 getTaiwan(void);
 231     /** Useful constant for this country/region. @stable ICU 2.0 */
 232     static const Locale &amp;U_EXPORT2 getUK(void);
 233     /** Useful constant for this country/region. @stable ICU 2.0 */
 234     static const Locale &amp;U_EXPORT2 getUS(void);
 235     /** Useful constant for this country/region. @stable ICU 2.0 */
 236     static const Locale &amp;U_EXPORT2 getCanada(void);
 237     /** Useful constant for this country/region. @stable ICU 2.0 */
 238     static const Locale &amp;U_EXPORT2 getCanadaFrench(void);
 239 
 240 
 241     /**
 242      * Construct a default locale object, a Locale for the default locale ID.
 243      *
 244      * @see getDefault
 245      * @see uloc_getDefault
 246      * @stable ICU 2.0
 247      */
 248     Locale();
 249 
 250     /**
 251      * Construct a locale from language, country, variant.
 252      * If an error occurs, then the constructed object will be &quot;bogus&quot;
 253      * (isBogus() will return TRUE).
 254      *
 255      * @param language Lowercase two-letter or three-letter ISO-639 code.
 256      *  This parameter can instead be an ICU style C locale (e.g. &quot;en_US&quot;),
 257      *  but the other parameters must not be used.
 258      *  This parameter can be NULL; if so,
 259      *  the locale is initialized to match the current default locale.
 260      *  (This is the same as using the default constructor.)
 261      *  Please note: The Java Locale class does NOT accept the form
 262      *  &#39;new Locale(&quot;en_US&quot;)&#39; but only &#39;new Locale(&quot;en&quot;,&quot;US&quot;)&#39;
 263      *
 264      * @param country  Uppercase two-letter ISO-3166 code. (optional)
 265      * @param variant  Uppercase vendor and browser specific code. See class
 266      *                 description. (optional)
 267      * @param keywordsAndValues A string consisting of keyword/values pairs, such as
 268      *                 &quot;collation=phonebook;currency=euro&quot;
 269      *
 270      * @see getDefault
 271      * @see uloc_getDefault
 272      * @stable ICU 2.0
 273      */
 274     Locale( const   char * language,
 275             const   char * country  = 0,
 276             const   char * variant  = 0,
 277             const   char * keywordsAndValues = 0);
 278 
 279     /**
 280      * Initializes a Locale object from another Locale object.
 281      *
 282      * @param other The Locale object being copied in.
 283      * @stable ICU 2.0
 284      */
 285     Locale(const    Locale&amp; other);
 286 
<a name="2" id="anc2"></a><span class="line-added"> 287 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 288     /**</span>
<span class="line-added"> 289      * Move constructor; might leave source in bogus state.</span>
<span class="line-added"> 290      * This locale will have the same contents that the source locale had.</span>
<span class="line-added"> 291      *</span>
<span class="line-added"> 292      * @param other The Locale object being moved in.</span>
<span class="line-added"> 293      * @draft ICU 63</span>
<span class="line-added"> 294      */</span>
<span class="line-added"> 295     Locale(Locale&amp;&amp; other) U_NOEXCEPT;</span>
<span class="line-added"> 296 #endif  // U_HIDE_DRAFT_API</span>
 297 
 298     /**
 299      * Destructor
 300      * @stable ICU 2.0
 301      */
 302     virtual ~Locale() ;
 303 
 304     /**
 305      * Replaces the entire contents of *this with the specified value.
 306      *
 307      * @param other The Locale object being copied in.
 308      * @return      *this
 309      * @stable ICU 2.0
 310      */
 311     Locale&amp; operator=(const Locale&amp; other);
 312 
<a name="3" id="anc3"></a><span class="line-added"> 313 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 314     /**</span>
<span class="line-added"> 315      * Move assignment operator; might leave source in bogus state.</span>
<span class="line-added"> 316      * This locale will have the same contents that the source locale had.</span>
<span class="line-added"> 317      * The behavior is undefined if *this and the source are the same object.</span>
<span class="line-added"> 318      *</span>
<span class="line-added"> 319      * @param other The Locale object being moved in.</span>
<span class="line-added"> 320      * @return      *this</span>
<span class="line-added"> 321      * @draft ICU 63</span>
<span class="line-added"> 322      */</span>
<span class="line-added"> 323     Locale&amp; operator=(Locale&amp;&amp; other) U_NOEXCEPT;</span>
<span class="line-added"> 324 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added"> 325 </span>
 326     /**
 327      * Checks if two locale keys are the same.
 328      *
 329      * @param other The locale key object to be compared with this.
 330      * @return      True if the two locale keys are the same, false otherwise.
 331      * @stable ICU 2.0
 332      */
 333     UBool   operator==(const    Locale&amp;     other) const;
 334 
 335     /**
 336      * Checks if two locale keys are not the same.
 337      *
 338      * @param other The locale key object to be compared with this.
 339      * @return      True if the two locale keys are not the same, false
 340      *              otherwise.
 341      * @stable ICU 2.0
 342      */
<a name="4" id="anc4"></a><span class="line-modified"> 343     inline UBool   operator!=(const    Locale&amp;     other) const;</span>
 344 
 345     /**
 346      * Clone this object.
 347      * Clones can be used concurrently in multiple threads.
 348      * If an error occurs, then NULL is returned.
 349      * The caller must delete the clone.
 350      *
 351      * @return a clone of this object
 352      *
 353      * @see getDynamicClassID
 354      * @stable ICU 2.8
 355      */
 356     Locale *clone() const;
 357 
 358 #ifndef U_HIDE_SYSTEM_API
 359     /**
 360      * Common methods of getting the current default Locale. Used for the
 361      * presentation: menus, dialogs, etc. Generally set once when your applet or
 362      * application is initialized, then never reset. (If you do reset the
 363      * default locale, you probably want to reload your GUI, so that the change
 364      * is reflected in your interface.)
 365      *
 366      * More advanced programs will allow users to use different locales for
 367      * different fields, e.g. in a spreadsheet.
 368      *
 369      * Note that the initial setting will match the host system.
 370      * @return a reference to the Locale object for the default locale ID
 371      * @system
 372      * @stable ICU 2.0
 373      */
 374     static const Locale&amp; U_EXPORT2 getDefault(void);
 375 
 376     /**
 377      * Sets the default. Normally set once at the beginning of a process,
 378      * then never reset.
 379      * setDefault() only changes ICU&#39;s default locale ID, &lt;strong&gt;not&lt;/strong&gt;
 380      * the default locale ID of the runtime environment.
 381      *
 382      * @param newLocale Locale to set to.  If NULL, set to the value obtained
 383      *                  from the runtime environment.
 384      * @param success The error code.
 385      * @system
 386      * @stable ICU 2.0
 387      */
 388     static void U_EXPORT2 setDefault(const Locale&amp; newLocale,
 389                                      UErrorCode&amp;   success);
 390 #endif  /* U_HIDE_SYSTEM_API */
 391 
<a name="5" id="anc5"></a><span class="line-added"> 392 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 393     /**</span>
<span class="line-added"> 394      * Returns a Locale for the specified BCP47 language tag string.</span>
<span class="line-added"> 395      * If the specified language tag contains any ill-formed subtags,</span>
<span class="line-added"> 396      * the first such subtag and all following subtags are ignored.</span>
<span class="line-added"> 397      * &lt;p&gt;</span>
<span class="line-added"> 398      * This implements the &#39;Language-Tag&#39; production of BCP47, and so</span>
<span class="line-added"> 399      * supports grandfathered (regular and irregular) as well as private</span>
<span class="line-added"> 400      * use language tags.  Private use tags are represented as &#39;x-whatever&#39;,</span>
<span class="line-added"> 401      * and grandfathered tags are converted to their canonical replacements</span>
<span class="line-added"> 402      * where they exist.  Note that a few grandfathered tags have no modern</span>
<span class="line-added"> 403      * replacement, these will be converted using the fallback described in</span>
<span class="line-added"> 404      * the first paragraph, so some information might be lost.</span>
<span class="line-added"> 405      * @param tag     the input BCP47 language tag.</span>
<span class="line-added"> 406      * @param status  error information if creating the Locale failed.</span>
<span class="line-added"> 407      * @return        the Locale for the specified BCP47 language tag.</span>
<span class="line-added"> 408      * @draft ICU 63</span>
<span class="line-added"> 409      */</span>
<span class="line-added"> 410     static Locale U_EXPORT2 forLanguageTag(StringPiece tag, UErrorCode&amp; status);</span>
<span class="line-added"> 411 </span>
<span class="line-added"> 412     /**</span>
<span class="line-added"> 413      * Returns a well-formed language tag for this Locale.</span>
<span class="line-added"> 414      * &lt;p&gt;</span>
<span class="line-added"> 415      * &lt;b&gt;Note&lt;/b&gt;: Any locale fields which do not satisfy the BCP47 syntax</span>
<span class="line-added"> 416      * requirement will be silently omitted from the result.</span>
<span class="line-added"> 417      *</span>
<span class="line-added"> 418      * If this function fails, partial output may have been written to the sink.</span>
<span class="line-added"> 419      *</span>
<span class="line-added"> 420      * @param sink    the output sink receiving the BCP47 language</span>
<span class="line-added"> 421      *                tag for this Locale.</span>
<span class="line-added"> 422      * @param status  error information if creating the language tag failed.</span>
<span class="line-added"> 423      * @draft ICU 63</span>
<span class="line-added"> 424      */</span>
<span class="line-added"> 425     void toLanguageTag(ByteSink&amp; sink, UErrorCode&amp; status) const;</span>
<span class="line-added"> 426 </span>
<span class="line-added"> 427     /**</span>
<span class="line-added"> 428      * Returns a well-formed language tag for this Locale.</span>
<span class="line-added"> 429      * &lt;p&gt;</span>
<span class="line-added"> 430      * &lt;b&gt;Note&lt;/b&gt;: Any locale fields which do not satisfy the BCP47 syntax</span>
<span class="line-added"> 431      * requirement will be silently omitted from the result.</span>
<span class="line-added"> 432      *</span>
<span class="line-added"> 433      * @param status  error information if creating the language tag failed.</span>
<span class="line-added"> 434      * @return        the BCP47 language tag for this Locale.</span>
<span class="line-added"> 435      * @draft ICU 63</span>
<span class="line-added"> 436      */</span>
<span class="line-added"> 437     template&lt;typename StringClass&gt;</span>
<span class="line-added"> 438     inline StringClass toLanguageTag(UErrorCode&amp; status) const;</span>
<span class="line-added"> 439 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added"> 440 </span>
 441     /**
 442      * Creates a locale which has had minimal canonicalization
 443      * as per uloc_getName().
 444      * @param name The name to create from.  If name is null,
 445      *  the default Locale is used.
 446      * @return new locale object
 447      * @stable ICU 2.0
 448      * @see uloc_getName
 449      */
 450     static Locale U_EXPORT2 createFromName(const char *name);
 451 
 452     /**
 453      * Creates a locale from the given string after canonicalizing
 454      * the string by calling uloc_canonicalize().
 455      * @param name the locale ID to create from.  Must not be NULL.
 456      * @return a new locale object corresponding to the given name
 457      * @stable ICU 3.0
 458      * @see uloc_canonicalize
 459      */
 460     static Locale U_EXPORT2 createCanonical(const char* name);
 461 
 462     /**
 463      * Returns the locale&#39;s ISO-639 language code.
 464      * @return      An alias to the code
 465      * @stable ICU 2.0
 466      */
 467     inline const char *  getLanguage( ) const;
 468 
 469     /**
 470      * Returns the locale&#39;s ISO-15924 abbreviation script code.
 471      * @return      An alias to the code
 472      * @see uscript_getShortName
 473      * @see uscript_getCode
 474      * @stable ICU 2.8
 475      */
 476     inline const char *  getScript( ) const;
 477 
 478     /**
 479      * Returns the locale&#39;s ISO-3166 country code.
 480      * @return      An alias to the code
 481      * @stable ICU 2.0
 482      */
 483     inline const char *  getCountry( ) const;
 484 
 485     /**
 486      * Returns the locale&#39;s variant code.
 487      * @return      An alias to the code
 488      * @stable ICU 2.0
 489      */
 490     inline const char *  getVariant( ) const;
 491 
 492     /**
 493      * Returns the programmatic name of the entire locale, with the language,
 494      * country and variant separated by underbars. If a field is missing, up
 495      * to two leading underbars will occur. Example: &quot;en&quot;, &quot;de_DE&quot;, &quot;en_US_WIN&quot;,
 496      * &quot;de__POSIX&quot;, &quot;fr__MAC&quot;, &quot;__MAC&quot;, &quot;_MT&quot;, &quot;_FR_EURO&quot;
 497      * @return      A pointer to &quot;name&quot;.
 498      * @stable ICU 2.0
 499      */
 500     inline const char * getName() const;
 501 
 502     /**
 503      * Returns the programmatic name of the entire locale as getName() would return,
 504      * but without keywords.
 505      * @return      A pointer to &quot;name&quot;.
 506      * @see getName
 507      * @stable ICU 2.8
 508      */
 509     const char * getBaseName() const;
 510 
<a name="6" id="anc6"></a><span class="line-added"> 511 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 512     /**</span>
<span class="line-added"> 513      * Add the likely subtags for this Locale, per the algorithm described</span>
<span class="line-added"> 514      * in the following CLDR technical report:</span>
<span class="line-added"> 515      *</span>
<span class="line-added"> 516      *   http://www.unicode.org/reports/tr35/#Likely_Subtags</span>
<span class="line-added"> 517      *</span>
<span class="line-added"> 518      * If this Locale is already in the maximal form, or not valid, or there is</span>
<span class="line-added"> 519      * no data available for maximization, the Locale will be unchanged.</span>
<span class="line-added"> 520      *</span>
<span class="line-added"> 521      * For example, &quot;und-Zzzz&quot; cannot be maximized, since there is no</span>
<span class="line-added"> 522      * reasonable maximization.</span>
<span class="line-added"> 523      *</span>
<span class="line-added"> 524      * Examples:</span>
<span class="line-added"> 525      *</span>
<span class="line-added"> 526      * &quot;en&quot; maximizes to &quot;en_Latn_US&quot;</span>
<span class="line-added"> 527      *</span>
<span class="line-added"> 528      * &quot;de&quot; maximizes to &quot;de_Latn_US&quot;</span>
<span class="line-added"> 529      *</span>
<span class="line-added"> 530      * &quot;sr&quot; maximizes to &quot;sr_Cyrl_RS&quot;</span>
<span class="line-added"> 531      *</span>
<span class="line-added"> 532      * &quot;sh&quot; maximizes to &quot;sr_Latn_RS&quot; (Note this will not reverse.)</span>
<span class="line-added"> 533      *</span>
<span class="line-added"> 534      * &quot;zh_Hani&quot; maximizes to &quot;zh_Hans_CN&quot; (Note this will not reverse.)</span>
<span class="line-added"> 535      *</span>
<span class="line-added"> 536      * @param status  error information if maximizing this Locale failed.</span>
<span class="line-added"> 537      *                If this Locale is not well-formed, the error code is</span>
<span class="line-added"> 538      *                U_ILLEGAL_ARGUMENT_ERROR.</span>
<span class="line-added"> 539      * @draft ICU 63</span>
<span class="line-added"> 540      */</span>
<span class="line-added"> 541     void addLikelySubtags(UErrorCode&amp; status);</span>
<span class="line-added"> 542 </span>
<span class="line-added"> 543     /**</span>
<span class="line-added"> 544      * Minimize the subtags for this Locale, per the algorithm described</span>
<span class="line-added"> 545      * in the following CLDR technical report:</span>
<span class="line-added"> 546      *</span>
<span class="line-added"> 547      *   http://www.unicode.org/reports/tr35/#Likely_Subtags</span>
<span class="line-added"> 548      *</span>
<span class="line-added"> 549      * If this Locale is already in the minimal form, or not valid, or there is</span>
<span class="line-added"> 550      * no data available for minimization, the Locale will be unchanged.</span>
<span class="line-added"> 551      *</span>
<span class="line-added"> 552      * Since the minimization algorithm relies on proper maximization, see the</span>
<span class="line-added"> 553      * comments for addLikelySubtags for reasons why there might not be any</span>
<span class="line-added"> 554      * data.</span>
<span class="line-added"> 555      *</span>
<span class="line-added"> 556      * Examples:</span>
<span class="line-added"> 557      *</span>
<span class="line-added"> 558      * &quot;en_Latn_US&quot; minimizes to &quot;en&quot;</span>
<span class="line-added"> 559      *</span>
<span class="line-added"> 560      * &quot;de_Latn_US&quot; minimizes to &quot;de&quot;</span>
<span class="line-added"> 561      *</span>
<span class="line-added"> 562      * &quot;sr_Cyrl_RS&quot; minimizes to &quot;sr&quot;</span>
<span class="line-added"> 563      *</span>
<span class="line-added"> 564      * &quot;zh_Hant_TW&quot; minimizes to &quot;zh_TW&quot; (The region is preferred to the</span>
<span class="line-added"> 565      * script, and minimizing to &quot;zh&quot; would imply &quot;zh_Hans_CN&quot;.)</span>
<span class="line-added"> 566      *</span>
<span class="line-added"> 567      * @param status  error information if maximizing this Locale failed.</span>
<span class="line-added"> 568      *                If this Locale is not well-formed, the error code is</span>
<span class="line-added"> 569      *                U_ILLEGAL_ARGUMENT_ERROR.</span>
<span class="line-added"> 570      * @draft ICU 63</span>
<span class="line-added"> 571      */</span>
<span class="line-added"> 572     void minimizeSubtags(UErrorCode&amp; status);</span>
<span class="line-added"> 573 #endif  // U_HIDE_DRAFT_API</span>
 574 
 575     /**
 576      * Gets the list of keywords for the specified locale.
 577      *
 578      * @param status the status code
 579      * @return pointer to StringEnumeration class, or NULL if there are no keywords.
 580      * Client must dispose of it by calling delete.
<a name="7" id="anc7"></a><span class="line-added"> 581      * @see getKeywords</span>
 582      * @stable ICU 2.8
 583      */
 584     StringEnumeration * createKeywords(UErrorCode &amp;status) const;
 585 
<a name="8" id="anc8"></a><span class="line-added"> 586 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 587 </span>
<span class="line-added"> 588     /**</span>
<span class="line-added"> 589      * Gets the list of Unicode keywords for the specified locale.</span>
<span class="line-added"> 590      *</span>
<span class="line-added"> 591      * @param status the status code</span>
<span class="line-added"> 592      * @return pointer to StringEnumeration class, or NULL if there are no keywords.</span>
<span class="line-added"> 593      * Client must dispose of it by calling delete.</span>
<span class="line-added"> 594      * @see getUnicodeKeywords</span>
<span class="line-added"> 595      * @draft ICU 63</span>
<span class="line-added"> 596      */</span>
<span class="line-added"> 597     StringEnumeration * createUnicodeKeywords(UErrorCode &amp;status) const;</span>
<span class="line-added"> 598 </span>
<span class="line-added"> 599     /**</span>
<span class="line-added"> 600      * Gets the set of keywords for this Locale.</span>
<span class="line-added"> 601      *</span>
<span class="line-added"> 602      * A wrapper to call createKeywords() and write the resulting</span>
<span class="line-added"> 603      * keywords as standard strings (or compatible objects) into any kind of</span>
<span class="line-added"> 604      * container that can be written to by an STL style output iterator.</span>
<span class="line-added"> 605      *</span>
<span class="line-added"> 606      * @param iterator  an STL style output iterator to write the keywords to.</span>
<span class="line-added"> 607      * @param status    error information if creating set of keywords failed.</span>
<span class="line-added"> 608      * @draft ICU 63</span>
<span class="line-added"> 609      */</span>
<span class="line-added"> 610     template&lt;typename StringClass, typename OutputIterator&gt;</span>
<span class="line-added"> 611     inline void getKeywords(OutputIterator iterator, UErrorCode&amp; status) const;</span>
<span class="line-added"> 612 </span>
<span class="line-added"> 613     /**</span>
<span class="line-added"> 614      * Gets the set of Unicode keywords for this Locale.</span>
<span class="line-added"> 615      *</span>
<span class="line-added"> 616      * A wrapper to call createUnicodeKeywords() and write the resulting</span>
<span class="line-added"> 617      * keywords as standard strings (or compatible objects) into any kind of</span>
<span class="line-added"> 618      * container that can be written to by an STL style output iterator.</span>
<span class="line-added"> 619      *</span>
<span class="line-added"> 620      * @param iterator  an STL style output iterator to write the keywords to.</span>
<span class="line-added"> 621      * @param status    error information if creating set of keywords failed.</span>
<span class="line-added"> 622      * @draft ICU 63</span>
<span class="line-added"> 623      */</span>
<span class="line-added"> 624     template&lt;typename StringClass, typename OutputIterator&gt;</span>
<span class="line-added"> 625     inline void getUnicodeKeywords(OutputIterator iterator, UErrorCode&amp; status) const;</span>
<span class="line-added"> 626 </span>
<span class="line-added"> 627 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added"> 628 </span>
 629     /**
 630      * Gets the value for a keyword.
 631      *
<a name="9" id="anc9"></a><span class="line-added"> 632      * This uses legacy keyword=value pairs, like &quot;collation=phonebook&quot;.</span>
<span class="line-added"> 633      *</span>
<span class="line-added"> 634      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 635      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 636      *</span>
 637      * @param keywordName name of the keyword for which we want the value. Case insensitive.
 638      * @param buffer The buffer to receive the keyword value.
 639      * @param bufferCapacity The capacity of receiving buffer
 640      * @param status Returns any error information while performing this operation.
 641      * @return the length of the keyword value
 642      *
 643      * @stable ICU 2.8
 644      */
 645     int32_t getKeywordValue(const char* keywordName, char *buffer, int32_t bufferCapacity, UErrorCode &amp;status) const;
 646 
<a name="10" id="anc10"></a><span class="line-added"> 647 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 648     /**</span>
<span class="line-added"> 649      * Gets the value for a keyword.</span>
<span class="line-added"> 650      *</span>
<span class="line-added"> 651      * This uses legacy keyword=value pairs, like &quot;collation=phonebook&quot;.</span>
<span class="line-added"> 652      *</span>
<span class="line-added"> 653      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 654      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 655      *</span>
<span class="line-added"> 656      * @param keywordName  name of the keyword for which we want the value.</span>
<span class="line-added"> 657      * @param sink         the sink to receive the keyword value.</span>
<span class="line-added"> 658      * @param status       error information if getting the value failed.</span>
<span class="line-added"> 659      * @draft ICU 63</span>
<span class="line-added"> 660      */</span>
<span class="line-added"> 661     void getKeywordValue(StringPiece keywordName, ByteSink&amp; sink, UErrorCode&amp; status) const;</span>
<span class="line-added"> 662 </span>
<span class="line-added"> 663     /**</span>
<span class="line-added"> 664      * Gets the value for a keyword.</span>
<span class="line-added"> 665      *</span>
<span class="line-added"> 666      * This uses legacy keyword=value pairs, like &quot;collation=phonebook&quot;.</span>
<span class="line-added"> 667      *</span>
<span class="line-added"> 668      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 669      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 670      *</span>
<span class="line-added"> 671      * @param keywordName  name of the keyword for which we want the value.</span>
<span class="line-added"> 672      * @param status       error information if getting the value failed.</span>
<span class="line-added"> 673      * @return             the keyword value.</span>
<span class="line-added"> 674      * @draft ICU 63</span>
<span class="line-added"> 675      */</span>
<span class="line-added"> 676     template&lt;typename StringClass&gt;</span>
<span class="line-added"> 677     inline StringClass getKeywordValue(StringPiece keywordName, UErrorCode&amp; status) const;</span>
<span class="line-added"> 678 </span>
<span class="line-added"> 679     /**</span>
<span class="line-added"> 680      * Gets the Unicode value for a Unicode keyword.</span>
<span class="line-added"> 681      *</span>
<span class="line-added"> 682      * This uses Unicode key-value pairs, like &quot;co-phonebk&quot;.</span>
<span class="line-added"> 683      *</span>
<span class="line-added"> 684      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 685      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 686      *</span>
<span class="line-added"> 687      * @param keywordName  name of the keyword for which we want the value.</span>
<span class="line-added"> 688      * @param sink         the sink to receive the keyword value.</span>
<span class="line-added"> 689      * @param status       error information if getting the value failed.</span>
<span class="line-added"> 690      * @draft ICU 63</span>
<span class="line-added"> 691      */</span>
<span class="line-added"> 692     void getUnicodeKeywordValue(StringPiece keywordName, ByteSink&amp; sink, UErrorCode&amp; status) const;</span>
<span class="line-added"> 693 </span>
<span class="line-added"> 694     /**</span>
<span class="line-added"> 695      * Gets the Unicode value for a Unicode keyword.</span>
<span class="line-added"> 696      *</span>
<span class="line-added"> 697      * This uses Unicode key-value pairs, like &quot;co-phonebk&quot;.</span>
<span class="line-added"> 698      *</span>
<span class="line-added"> 699      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 700      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 701      *</span>
<span class="line-added"> 702      * @param keywordName  name of the keyword for which we want the value.</span>
<span class="line-added"> 703      * @param status       error information if getting the value failed.</span>
<span class="line-added"> 704      * @return             the keyword value.</span>
<span class="line-added"> 705      * @draft ICU 63</span>
<span class="line-added"> 706      */</span>
<span class="line-added"> 707     template&lt;typename StringClass&gt;</span>
<span class="line-added"> 708     inline StringClass getUnicodeKeywordValue(StringPiece keywordName, UErrorCode&amp; status) const;</span>
<span class="line-added"> 709 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added"> 710 </span>
 711     /**
 712      * Sets or removes the value for a keyword.
 713      *
 714      * For removing all keywords, use getBaseName(),
 715      * and construct a new Locale if it differs from getName().
 716      *
<a name="11" id="anc11"></a><span class="line-added"> 717      * This uses legacy keyword=value pairs, like &quot;collation=phonebook&quot;.</span>
<span class="line-added"> 718      *</span>
<span class="line-added"> 719      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 720      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 721      *</span>
 722      * @param keywordName name of the keyword to be set. Case insensitive.
 723      * @param keywordValue value of the keyword to be set. If 0-length or
 724      *  NULL, will result in the keyword being removed. No error is given if
 725      *  that keyword does not exist.
 726      * @param status Returns any error information while performing this operation.
 727      *
 728      * @stable ICU 49
 729      */
 730     void setKeywordValue(const char* keywordName, const char* keywordValue, UErrorCode &amp;status);
 731 
<a name="12" id="anc12"></a><span class="line-added"> 732 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added"> 733     /**</span>
<span class="line-added"> 734      * Sets or removes the value for a keyword.</span>
<span class="line-added"> 735      *</span>
<span class="line-added"> 736      * For removing all keywords, use getBaseName(),</span>
<span class="line-added"> 737      * and construct a new Locale if it differs from getName().</span>
<span class="line-added"> 738      *</span>
<span class="line-added"> 739      * This uses legacy keyword=value pairs, like &quot;collation=phonebook&quot;.</span>
<span class="line-added"> 740      *</span>
<span class="line-added"> 741      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 742      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 743      *</span>
<span class="line-added"> 744      * @param keywordName name of the keyword to be set.</span>
<span class="line-added"> 745      * @param keywordValue value of the keyword to be set. If 0-length or</span>
<span class="line-added"> 746      *  NULL, will result in the keyword being removed. No error is given if</span>
<span class="line-added"> 747      *  that keyword does not exist.</span>
<span class="line-added"> 748      * @param status Returns any error information while performing this operation.</span>
<span class="line-added"> 749      * @draft ICU 63</span>
<span class="line-added"> 750      */</span>
<span class="line-added"> 751     void setKeywordValue(StringPiece keywordName, StringPiece keywordValue, UErrorCode&amp; status);</span>
<span class="line-added"> 752 </span>
<span class="line-added"> 753     /**</span>
<span class="line-added"> 754      * Sets or removes the Unicode value for a Unicode keyword.</span>
<span class="line-added"> 755      *</span>
<span class="line-added"> 756      * For removing all keywords, use getBaseName(),</span>
<span class="line-added"> 757      * and construct a new Locale if it differs from getName().</span>
<span class="line-added"> 758      *</span>
<span class="line-added"> 759      * This uses Unicode key-value pairs, like &quot;co-phonebk&quot;.</span>
<span class="line-added"> 760      *</span>
<span class="line-added"> 761      * ICU4C doesn&#39;t do automatic conversion between legacy and Unicode</span>
<span class="line-added"> 762      * keywords and values in getters and setters (as opposed to ICU4J).</span>
<span class="line-added"> 763      *</span>
<span class="line-added"> 764      * @param keywordName name of the keyword to be set.</span>
<span class="line-added"> 765      * @param keywordValue value of the keyword to be set. If 0-length or</span>
<span class="line-added"> 766      *  NULL, will result in the keyword being removed. No error is given if</span>
<span class="line-added"> 767      *  that keyword does not exist.</span>
<span class="line-added"> 768      * @param status Returns any error information while performing this operation.</span>
<span class="line-added"> 769      * @draft ICU 63</span>
<span class="line-added"> 770      */</span>
<span class="line-added"> 771     void setUnicodeKeywordValue(StringPiece keywordName, StringPiece keywordValue, UErrorCode&amp; status);</span>
<span class="line-added"> 772 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added"> 773 </span>
 774     /**
 775      * returns the locale&#39;s three-letter language code, as specified
 776      * in ISO draft standard ISO-639-2.
 777      * @return      An alias to the code, or an empty string
 778      * @stable ICU 2.0
 779      */
 780     const char * getISO3Language() const;
 781 
 782     /**
 783      * Fills in &quot;name&quot; with the locale&#39;s three-letter ISO-3166 country code.
 784      * @return      An alias to the code, or an empty string
 785      * @stable ICU 2.0
 786      */
 787     const char * getISO3Country() const;
 788 
 789     /**
 790      * Returns the Windows LCID value corresponding to this locale.
 791      * This value is stored in the resource data for the locale as a one-to-four-digit
 792      * hexadecimal number.  If the resource is missing, in the wrong format, or
 793      * there is no Windows LCID value that corresponds to this locale, returns 0.
 794      * @stable ICU 2.0
 795      */
 796     uint32_t        getLCID(void) const;
 797 
 798     /**
 799      * Returns whether this locale&#39;s script is written right-to-left.
 800      * If there is no script subtag, then the likely script is used, see uloc_addLikelySubtags().
 801      * If no likely script is known, then FALSE is returned.
 802      *
 803      * A script is right-to-left according to the CLDR script metadata
 804      * which corresponds to whether the script&#39;s letters have Bidi_Class=R or AL.
 805      *
 806      * Returns TRUE for &quot;ar&quot; and &quot;en-Hebr&quot;, FALSE for &quot;zh&quot; and &quot;fa-Cyrl&quot;.
 807      *
 808      * @return TRUE if the locale&#39;s script is written right-to-left
 809      * @stable ICU 54
 810      */
 811     UBool isRightToLeft() const;
 812 
 813     /**
 814      * Fills in &quot;dispLang&quot; with the name of this locale&#39;s language in a format suitable for
 815      * user display in the default locale.  For example, if the locale&#39;s language code is
 816      * &quot;fr&quot; and the default locale&#39;s language code is &quot;en&quot;, this function would set
 817      * dispLang to &quot;French&quot;.
 818      * @param dispLang  Receives the language&#39;s display name.
 819      * @return          A reference to &quot;dispLang&quot;.
 820      * @stable ICU 2.0
 821      */
 822     UnicodeString&amp;  getDisplayLanguage(UnicodeString&amp;   dispLang) const;
 823 
 824     /**
 825      * Fills in &quot;dispLang&quot; with the name of this locale&#39;s language in a format suitable for
 826      * user display in the locale specified by &quot;displayLocale&quot;.  For example, if the locale&#39;s
 827      * language code is &quot;en&quot; and displayLocale&#39;s language code is &quot;fr&quot;, this function would set
 828      * dispLang to &quot;Anglais&quot;.
 829      * @param displayLocale  Specifies the locale to be used to display the name.  In other words,
 830      *                  if the locale&#39;s language code is &quot;en&quot;, passing Locale::getFrench() for
 831      *                  displayLocale would result in &quot;Anglais&quot;, while passing Locale::getGerman()
 832      *                  for displayLocale would result in &quot;Englisch&quot;.
 833      * @param dispLang  Receives the language&#39;s display name.
 834      * @return          A reference to &quot;dispLang&quot;.
 835      * @stable ICU 2.0
 836      */
 837     UnicodeString&amp;  getDisplayLanguage( const   Locale&amp;         displayLocale,
 838                                                 UnicodeString&amp;  dispLang) const;
 839 
 840     /**
 841      * Fills in &quot;dispScript&quot; with the name of this locale&#39;s script in a format suitable
 842      * for user display in the default locale.  For example, if the locale&#39;s script code
 843      * is &quot;LATN&quot; and the default locale&#39;s language code is &quot;en&quot;, this function would set
 844      * dispScript to &quot;Latin&quot;.
 845      * @param dispScript    Receives the scripts&#39;s display name.
 846      * @return              A reference to &quot;dispScript&quot;.
 847      * @stable ICU 2.8
 848      */
 849     UnicodeString&amp;  getDisplayScript(          UnicodeString&amp; dispScript) const;
 850 
 851     /**
 852      * Fills in &quot;dispScript&quot; with the name of this locale&#39;s country in a format suitable
 853      * for user display in the locale specified by &quot;displayLocale&quot;.  For example, if the locale&#39;s
 854      * script code is &quot;LATN&quot; and displayLocale&#39;s language code is &quot;en&quot;, this function would set
 855      * dispScript to &quot;Latin&quot;.
 856      * @param displayLocale      Specifies the locale to be used to display the name.  In other
 857      *                      words, if the locale&#39;s script code is &quot;LATN&quot;, passing
 858      *                      Locale::getFrench() for displayLocale would result in &quot;&quot;, while
 859      *                      passing Locale::getGerman() for displayLocale would result in
 860      *                      &quot;&quot;.
 861      * @param dispScript    Receives the scripts&#39;s display name.
 862      * @return              A reference to &quot;dispScript&quot;.
 863      * @stable ICU 2.8
 864      */
 865     UnicodeString&amp;  getDisplayScript(  const   Locale&amp;         displayLocale,
 866                                                UnicodeString&amp;  dispScript) const;
 867 
 868     /**
 869      * Fills in &quot;dispCountry&quot; with the name of this locale&#39;s country in a format suitable
 870      * for user display in the default locale.  For example, if the locale&#39;s country code
 871      * is &quot;FR&quot; and the default locale&#39;s language code is &quot;en&quot;, this function would set
 872      * dispCountry to &quot;France&quot;.
 873      * @param dispCountry   Receives the country&#39;s display name.
 874      * @return              A reference to &quot;dispCountry&quot;.
 875      * @stable ICU 2.0
 876      */
 877     UnicodeString&amp;  getDisplayCountry(          UnicodeString&amp; dispCountry) const;
 878 
 879     /**
 880      * Fills in &quot;dispCountry&quot; with the name of this locale&#39;s country in a format suitable
 881      * for user display in the locale specified by &quot;displayLocale&quot;.  For example, if the locale&#39;s
 882      * country code is &quot;US&quot; and displayLocale&#39;s language code is &quot;fr&quot;, this function would set
 883      * dispCountry to &quot;&amp;Eacute;tats-Unis&quot;.
 884      * @param displayLocale      Specifies the locale to be used to display the name.  In other
 885      *                      words, if the locale&#39;s country code is &quot;US&quot;, passing
 886      *                      Locale::getFrench() for displayLocale would result in &quot;&amp;Eacute;tats-Unis&quot;, while
 887      *                      passing Locale::getGerman() for displayLocale would result in
 888      *                      &quot;Vereinigte Staaten&quot;.
 889      * @param dispCountry   Receives the country&#39;s display name.
 890      * @return              A reference to &quot;dispCountry&quot;.
 891      * @stable ICU 2.0
 892      */
 893     UnicodeString&amp;  getDisplayCountry(  const   Locale&amp;         displayLocale,
 894                                                 UnicodeString&amp;  dispCountry) const;
 895 
 896     /**
 897      * Fills in &quot;dispVar&quot; with the name of this locale&#39;s variant code in a format suitable
 898      * for user display in the default locale.
 899      * @param dispVar   Receives the variant&#39;s name.
 900      * @return          A reference to &quot;dispVar&quot;.
 901      * @stable ICU 2.0
 902      */
 903     UnicodeString&amp;  getDisplayVariant(      UnicodeString&amp; dispVar) const;
 904 
 905     /**
 906      * Fills in &quot;dispVar&quot; with the name of this locale&#39;s variant code in a format
 907      * suitable for user display in the locale specified by &quot;displayLocale&quot;.
 908      * @param displayLocale  Specifies the locale to be used to display the name.
 909      * @param dispVar   Receives the variant&#39;s display name.
 910      * @return          A reference to &quot;dispVar&quot;.
 911      * @stable ICU 2.0
 912      */
 913     UnicodeString&amp;  getDisplayVariant(  const   Locale&amp;         displayLocale,
 914                                                 UnicodeString&amp;  dispVar) const;
 915 
 916     /**
 917      * Fills in &quot;name&quot; with the name of this locale in a format suitable for user display
 918      * in the default locale.  This function uses getDisplayLanguage(), getDisplayCountry(),
 919      * and getDisplayVariant() to do its work, and outputs the display name in the format
 920      * &quot;language (country[,variant])&quot;.  For example, if the default locale is en_US, then
 921      * fr_FR&#39;s display name would be &quot;French (France)&quot;, and es_MX_Traditional&#39;s display name
 922      * would be &quot;Spanish (Mexico,Traditional)&quot;.
 923      * @param name  Receives the locale&#39;s display name.
 924      * @return      A reference to &quot;name&quot;.
 925      * @stable ICU 2.0
 926      */
 927     UnicodeString&amp;  getDisplayName(         UnicodeString&amp;  name) const;
 928 
 929     /**
 930      * Fills in &quot;name&quot; with the name of this locale in a format suitable for user display
 931      * in the locale specified by &quot;displayLocale&quot;.  This function uses getDisplayLanguage(),
 932      * getDisplayCountry(), and getDisplayVariant() to do its work, and outputs the display
 933      * name in the format &quot;language (country[,variant])&quot;.  For example, if displayLocale is
 934      * fr_FR, then en_US&#39;s display name would be &quot;Anglais (&amp;Eacute;tats-Unis)&quot;, and no_NO_NY&#39;s
 935      * display name would be &quot;norv&amp;eacute;gien (Norv&amp;egrave;ge,NY)&quot;.
 936      * @param displayLocale  Specifies the locale to be used to display the name.
 937      * @param name      Receives the locale&#39;s display name.
 938      * @return          A reference to &quot;name&quot;.
 939      * @stable ICU 2.0
 940      */
 941     UnicodeString&amp;  getDisplayName( const   Locale&amp;         displayLocale,
 942                                             UnicodeString&amp;  name) const;
 943 
 944     /**
 945      * Generates a hash code for the locale.
 946      * @stable ICU 2.0
 947      */
 948     int32_t         hashCode(void) const;
 949 
 950     /**
 951      * Sets the locale to bogus
 952      * A bogus locale represents a non-existing locale associated
 953      * with services that can be instantiated from non-locale data
 954      * in addition to locale (for example, collation can be
 955      * instantiated from a locale and from a rule set).
 956      * @stable ICU 2.1
 957      */
 958     void setToBogus();
 959 
 960     /**
 961      * Gets the bogus state. Locale object can be bogus if it doesn&#39;t exist
 962      * @return FALSE if it is a real locale, TRUE if it is a bogus locale
 963      * @stable ICU 2.1
 964      */
<a name="13" id="anc13"></a><span class="line-modified"> 965     inline UBool isBogus(void) const;</span>
 966 
 967     /**
 968      * Returns a list of all installed locales.
 969      * @param count Receives the number of locales in the list.
 970      * @return      A pointer to an array of Locale objects.  This array is the list
 971      *              of all locales with installed resource files.  The called does NOT
 972      *              get ownership of this list, and must NOT delete it.
 973      * @stable ICU 2.0
 974      */
 975     static const Locale* U_EXPORT2 getAvailableLocales(int32_t&amp; count);
 976 
 977     /**
 978      * Gets a list of all available 2-letter country codes defined in ISO 3166.  This is a
 979      * pointer to an array of pointers to arrays of char.  All of these pointers are
 980      * owned by ICU-- do not delete them, and do not write through them.  The array is
 981      * terminated with a null pointer.
 982      * @return a list of all available country codes
 983      * @stable ICU 2.0
 984      */
 985     static const char* const* U_EXPORT2 getISOCountries();
 986 
 987     /**
 988      * Gets a list of all available language codes defined in ISO 639.  This is a pointer
 989      * to an array of pointers to arrays of char.  All of these pointers are owned
 990      * by ICU-- do not delete them, and do not write through them.  The array is
 991      * terminated with a null pointer.
 992      * @return a list of all available language codes
 993      * @stable ICU 2.0
 994      */
 995     static const char* const* U_EXPORT2 getISOLanguages();
 996 
 997     /**
 998      * ICU &quot;poor man&#39;s RTTI&quot;, returns a UClassID for this class.
 999      *
1000      * @stable ICU 2.2
1001      */
1002     static UClassID U_EXPORT2 getStaticClassID();
1003 
1004     /**
1005      * ICU &quot;poor man&#39;s RTTI&quot;, returns a UClassID for the actual class.
1006      *
1007      * @stable ICU 2.2
1008      */
1009     virtual UClassID getDynamicClassID() const;
1010 
1011 protected: /* only protected for testing purposes. DO NOT USE. */
1012 #ifndef U_HIDE_INTERNAL_API
1013     /**
1014      * Set this from a single POSIX style locale string.
1015      * @internal
1016      */
1017     void setFromPOSIXID(const char *posixID);
1018 #endif  /* U_HIDE_INTERNAL_API */
1019 
1020 private:
1021     /**
1022      * Initialize the locale object with a new name.
1023      * Was deprecated - used in implementation - moved internal
1024      *
1025      * @param cLocaleID The new locale name.
1026      * @param canonicalize whether to call uloc_canonicalize on cLocaleID
1027      */
1028     Locale&amp; init(const char* cLocaleID, UBool canonicalize);
1029 
1030     /*
1031      * Internal constructor to allow construction of a locale object with
1032      *   NO side effects.   (Default constructor tries to get
1033      *   the default locale.)
1034      */
1035     enum ELocaleType {
1036         eBOGUS
1037     };
1038     Locale(ELocaleType);
1039 
1040     /**
1041      * Initialize the locale cache for commonly used locales
1042      */
1043     static Locale *getLocaleCache(void);
1044 
1045     char language[ULOC_LANG_CAPACITY];
1046     char script[ULOC_SCRIPT_CAPACITY];
1047     char country[ULOC_COUNTRY_CAPACITY];
1048     int32_t variantBegin;
1049     char* fullName;
1050     char fullNameBuffer[ULOC_FULLNAME_CAPACITY];
1051     // name without keywords
1052     char* baseName;
1053     void initBaseName(UErrorCode&amp; status);
1054 
1055     UBool fIsBogus;
1056 
1057     static const Locale &amp;getLocale(int locid);
1058 
1059     /**
1060      * A friend to allow the default locale to be set by either the C or C++ API.
<a name="14" id="anc14"></a><span class="line-modified">1061      * @internal (private)</span>
1062      */
1063     friend Locale *locale_set_default_internal(const char *, UErrorCode&amp; status);
1064 
1065     /**
<a name="15" id="anc15"></a><span class="line-modified">1066      * @internal (private)</span>
1067      */
1068     friend void U_CALLCONV locale_available_init();
1069 };
1070 
1071 inline UBool
1072 Locale::operator!=(const    Locale&amp;     other) const
1073 {
1074     return !operator==(other);
1075 }
1076 
<a name="16" id="anc16"></a><span class="line-added">1077 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added">1078 template&lt;typename StringClass&gt; inline StringClass</span>
<span class="line-added">1079 Locale::toLanguageTag(UErrorCode&amp; status) const</span>
<span class="line-added">1080 {</span>
<span class="line-added">1081     StringClass result;</span>
<span class="line-added">1082     StringByteSink&lt;StringClass&gt; sink(&amp;result);</span>
<span class="line-added">1083     toLanguageTag(sink, status);</span>
<span class="line-added">1084     return result;</span>
<span class="line-added">1085 }</span>
<span class="line-added">1086 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added">1087 </span>
1088 inline const char *
1089 Locale::getCountry() const
1090 {
1091     return country;
1092 }
1093 
1094 inline const char *
1095 Locale::getLanguage() const
1096 {
1097     return language;
1098 }
1099 
1100 inline const char *
1101 Locale::getScript() const
1102 {
1103     return script;
1104 }
1105 
1106 inline const char *
1107 Locale::getVariant() const
1108 {
1109     return &amp;baseName[variantBegin];
1110 }
1111 
1112 inline const char *
1113 Locale::getName() const
1114 {
1115     return fullName;
1116 }
1117 
<a name="17" id="anc17"></a><span class="line-added">1118 #ifndef U_HIDE_DRAFT_API</span>
<span class="line-added">1119 </span>
<span class="line-added">1120 template&lt;typename StringClass, typename OutputIterator&gt; inline void</span>
<span class="line-added">1121 Locale::getKeywords(OutputIterator iterator, UErrorCode&amp; status) const</span>
<span class="line-added">1122 {</span>
<span class="line-added">1123     LocalPointer&lt;StringEnumeration&gt; keys(createKeywords(status));</span>
<span class="line-added">1124     if (U_FAILURE(status)) {</span>
<span class="line-added">1125         return;</span>
<span class="line-added">1126     }</span>
<span class="line-added">1127     for (;;) {</span>
<span class="line-added">1128         int32_t resultLength;</span>
<span class="line-added">1129         const char* buffer = keys-&gt;next(&amp;resultLength, status);</span>
<span class="line-added">1130         if (U_FAILURE(status) || buffer == nullptr) {</span>
<span class="line-added">1131             return;</span>
<span class="line-added">1132         }</span>
<span class="line-added">1133         *iterator++ = StringClass(buffer, resultLength);</span>
<span class="line-added">1134     }</span>
<span class="line-added">1135 }</span>
<span class="line-added">1136 </span>
<span class="line-added">1137 template&lt;typename StringClass, typename OutputIterator&gt; inline void</span>
<span class="line-added">1138 Locale::getUnicodeKeywords(OutputIterator iterator, UErrorCode&amp; status) const</span>
<span class="line-added">1139 {</span>
<span class="line-added">1140     LocalPointer&lt;StringEnumeration&gt; keys(createUnicodeKeywords(status));</span>
<span class="line-added">1141     if (U_FAILURE(status)) {</span>
<span class="line-added">1142         return;</span>
<span class="line-added">1143     }</span>
<span class="line-added">1144     for (;;) {</span>
<span class="line-added">1145         int32_t resultLength;</span>
<span class="line-added">1146         const char* buffer = keys-&gt;next(&amp;resultLength, status);</span>
<span class="line-added">1147         if (U_FAILURE(status) || buffer == nullptr) {</span>
<span class="line-added">1148             return;</span>
<span class="line-added">1149         }</span>
<span class="line-added">1150         *iterator++ = StringClass(buffer, resultLength);</span>
<span class="line-added">1151     }</span>
<span class="line-added">1152 }</span>
<span class="line-added">1153 </span>
<span class="line-added">1154 template&lt;typename StringClass&gt; inline StringClass</span>
<span class="line-added">1155 Locale::getKeywordValue(StringPiece keywordName, UErrorCode&amp; status) const</span>
<span class="line-added">1156 {</span>
<span class="line-added">1157     StringClass result;</span>
<span class="line-added">1158     StringByteSink&lt;StringClass&gt; sink(&amp;result);</span>
<span class="line-added">1159     getKeywordValue(keywordName, sink, status);</span>
<span class="line-added">1160     return result;</span>
<span class="line-added">1161 }</span>
<span class="line-added">1162 </span>
<span class="line-added">1163 template&lt;typename StringClass&gt; inline StringClass</span>
<span class="line-added">1164 Locale::getUnicodeKeywordValue(StringPiece keywordName, UErrorCode&amp; status) const</span>
<span class="line-added">1165 {</span>
<span class="line-added">1166     StringClass result;</span>
<span class="line-added">1167     StringByteSink&lt;StringClass&gt; sink(&amp;result);</span>
<span class="line-added">1168     getUnicodeKeywordValue(keywordName, sink, status);</span>
<span class="line-added">1169     return result;</span>
<span class="line-added">1170 }</span>
<span class="line-added">1171 </span>
<span class="line-added">1172 #endif  // U_HIDE_DRAFT_API</span>
<span class="line-added">1173 </span>
1174 inline UBool
1175 Locale::isBogus(void) const {
1176     return fIsBogus;
1177 }
1178 
1179 U_NAMESPACE_END
1180 
1181 #endif
<a name="18" id="anc18"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="18" type="hidden" />
</body>
</html>