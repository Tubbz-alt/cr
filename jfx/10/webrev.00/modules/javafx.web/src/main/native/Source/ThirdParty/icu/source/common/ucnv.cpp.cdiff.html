<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/ucnv.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ucln_cmn.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ucnv2022.cpp.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/ucnv.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1741,17 ***</span>
      if(srcLength==-1) {
          srcLength=u_strlen(src);
      }
      if(srcLength&gt;0) {
          srcLimit=src+srcLength;
          destLimit=dest+destCapacity;
  
<span class="line-removed">-         /* pin the destination limit to U_MAX_PTR; NULL check is for OS/400 */</span>
<span class="line-removed">-         if(destLimit&lt;dest || (destLimit==NULL &amp;&amp; dest!=NULL)) {</span>
<span class="line-removed">-             destLimit=(char *)U_MAX_PTR(dest);</span>
<span class="line-removed">-         }</span>
<span class="line-removed">- </span>
          /* perform the conversion */
          ucnv_fromUnicode(cnv, &amp;dest, destLimit, &amp;src, srcLimit, 0, TRUE, pErrorCode);
          destLength=(int32_t)(dest-originalDest);
  
          /* if an overflow occurs, then get the preflighting length */
<span class="line-new-header">--- 1741,13 ---</span>
      if(srcLength==-1) {
          srcLength=u_strlen(src);
      }
      if(srcLength&gt;0) {
          srcLimit=src+srcLength;
<span class="line-added">+         destCapacity=pinCapacity(dest, destCapacity);</span>
          destLimit=dest+destCapacity;
  
          /* perform the conversion */
          ucnv_fromUnicode(cnv, &amp;dest, destLimit, &amp;src, srcLimit, 0, TRUE, pErrorCode);
          destLength=(int32_t)(dest-originalDest);
  
          /* if an overflow occurs, then get the preflighting length */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1801,17 ***</span>
      if(srcLength==-1) {
          srcLength=(int32_t)uprv_strlen(src);
      }
      if(srcLength&gt;0) {
          srcLimit=src+srcLength;
          destLimit=dest+destCapacity;
  
<span class="line-removed">-         /* pin the destination limit to U_MAX_PTR; NULL check is for OS/400 */</span>
<span class="line-removed">-         if(destLimit&lt;dest || (destLimit==NULL &amp;&amp; dest!=NULL)) {</span>
<span class="line-removed">-             destLimit=(UChar *)U_MAX_PTR(dest);</span>
<span class="line-removed">-         }</span>
<span class="line-removed">- </span>
          /* perform the conversion */
          ucnv_toUnicode(cnv, &amp;dest, destLimit, &amp;src, srcLimit, 0, TRUE, pErrorCode);
          destLength=(int32_t)(dest-originalDest);
  
          /* if an overflow occurs, then get the preflighting length */
<span class="line-new-header">--- 1797,13 ---</span>
      if(srcLength==-1) {
          srcLength=(int32_t)uprv_strlen(src);
      }
      if(srcLength&gt;0) {
          srcLimit=src+srcLength;
<span class="line-added">+         destCapacity=pinCapacity(dest, destCapacity);</span>
          destLimit=dest+destCapacity;
  
          /* perform the conversion */
          ucnv_toUnicode(cnv, &amp;dest, destLimit, &amp;src, srcLimit, 0, TRUE, pErrorCode);
          destLength=(int32_t)(dest-originalDest);
  
          /* if an overflow occurs, then get the preflighting length */
</pre>
<center><a href="ucln_cmn.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="ucnv2022.cpp.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>