<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/number_multiplier.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="number_modifiers.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="number_multiplier.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/i18n/number_multiplier.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 48 Scale&amp; Scale::operator=(const Scale&amp; other) {
 49     fMagnitude = other.fMagnitude;
 50     if (other.fArbitrary != nullptr) {
 51         UErrorCode localStatus = U_ZERO_ERROR;
 52         fArbitrary = new DecNum(*other.fArbitrary, localStatus);
 53     } else {
 54         fArbitrary = nullptr;
 55     }
 56     fError = other.fError;
 57     return *this;
 58 }
 59 
 60 Scale::Scale(Scale&amp;&amp; src) U_NOEXCEPT
 61         : fMagnitude(src.fMagnitude), fArbitrary(src.fArbitrary), fError(src.fError) {
 62     // Take ownership away from src if necessary
 63     src.fArbitrary = nullptr;
 64 }
 65 
 66 Scale&amp; Scale::operator=(Scale&amp;&amp; src) U_NOEXCEPT {
 67     fMagnitude = src.fMagnitude;



 68     fArbitrary = src.fArbitrary;
 69     fError = src.fError;
 70     // Take ownership away from src if necessary
 71     src.fArbitrary = nullptr;
 72     return *this;
 73 }
 74 
 75 Scale::~Scale() {
 76     delete fArbitrary;
 77 }
 78 
 79 
 80 Scale Scale::none() {
 81     return {0, nullptr};
 82 }
 83 
 84 Scale Scale::powerOfTen(int32_t power) {
 85     return {power, nullptr};
 86 }
 87 
</pre>
<hr />
<pre>
126 
127 void Scale::applyTo(impl::DecimalQuantity&amp; quantity) const {
128     quantity.adjustMagnitude(fMagnitude);
129     if (fArbitrary != nullptr) {
130         UErrorCode localStatus = U_ZERO_ERROR;
131         quantity.multiplyBy(*fArbitrary, localStatus);
132     }
133 }
134 
135 void Scale::applyReciprocalTo(impl::DecimalQuantity&amp; quantity) const {
136     quantity.adjustMagnitude(-fMagnitude);
137     if (fArbitrary != nullptr) {
138         UErrorCode localStatus = U_ZERO_ERROR;
139         quantity.divideBy(*fArbitrary, localStatus);
140     }
141 }
142 
143 
144 void
145 MultiplierFormatHandler::setAndChain(const Scale&amp; multiplier, const MicroPropsGenerator* parent) {
<span class="line-modified">146     this-&gt;multiplier = multiplier;</span>
<span class="line-modified">147     this-&gt;parent = parent;</span>
148 }
149 
150 void MultiplierFormatHandler::processQuantity(DecimalQuantity&amp; quantity, MicroProps&amp; micros,
151                                               UErrorCode&amp; status) const {
<span class="line-modified">152     parent-&gt;processQuantity(quantity, micros, status);</span>
<span class="line-modified">153     multiplier.applyTo(quantity);</span>
154 }
155 
156 #endif /* #if !UCONFIG_NO_FORMATTING */
</pre>
</td>
<td>
<hr />
<pre>
 48 Scale&amp; Scale::operator=(const Scale&amp; other) {
 49     fMagnitude = other.fMagnitude;
 50     if (other.fArbitrary != nullptr) {
 51         UErrorCode localStatus = U_ZERO_ERROR;
 52         fArbitrary = new DecNum(*other.fArbitrary, localStatus);
 53     } else {
 54         fArbitrary = nullptr;
 55     }
 56     fError = other.fError;
 57     return *this;
 58 }
 59 
 60 Scale::Scale(Scale&amp;&amp; src) U_NOEXCEPT
 61         : fMagnitude(src.fMagnitude), fArbitrary(src.fArbitrary), fError(src.fError) {
 62     // Take ownership away from src if necessary
 63     src.fArbitrary = nullptr;
 64 }
 65 
 66 Scale&amp; Scale::operator=(Scale&amp;&amp; src) U_NOEXCEPT {
 67     fMagnitude = src.fMagnitude;
<span class="line-added"> 68     if (fArbitrary != nullptr) {</span>
<span class="line-added"> 69         delete fArbitrary;</span>
<span class="line-added"> 70     }</span>
 71     fArbitrary = src.fArbitrary;
 72     fError = src.fError;
 73     // Take ownership away from src if necessary
 74     src.fArbitrary = nullptr;
 75     return *this;
 76 }
 77 
 78 Scale::~Scale() {
 79     delete fArbitrary;
 80 }
 81 
 82 
 83 Scale Scale::none() {
 84     return {0, nullptr};
 85 }
 86 
 87 Scale Scale::powerOfTen(int32_t power) {
 88     return {power, nullptr};
 89 }
 90 
</pre>
<hr />
<pre>
129 
130 void Scale::applyTo(impl::DecimalQuantity&amp; quantity) const {
131     quantity.adjustMagnitude(fMagnitude);
132     if (fArbitrary != nullptr) {
133         UErrorCode localStatus = U_ZERO_ERROR;
134         quantity.multiplyBy(*fArbitrary, localStatus);
135     }
136 }
137 
138 void Scale::applyReciprocalTo(impl::DecimalQuantity&amp; quantity) const {
139     quantity.adjustMagnitude(-fMagnitude);
140     if (fArbitrary != nullptr) {
141         UErrorCode localStatus = U_ZERO_ERROR;
142         quantity.divideBy(*fArbitrary, localStatus);
143     }
144 }
145 
146 
147 void
148 MultiplierFormatHandler::setAndChain(const Scale&amp; multiplier, const MicroPropsGenerator* parent) {
<span class="line-modified">149     fMultiplier = multiplier;</span>
<span class="line-modified">150     fParent = parent;</span>
151 }
152 
153 void MultiplierFormatHandler::processQuantity(DecimalQuantity&amp; quantity, MicroProps&amp; micros,
154                                               UErrorCode&amp; status) const {
<span class="line-modified">155     fParent-&gt;processQuantity(quantity, micros, status);</span>
<span class="line-modified">156     fMultiplier.applyTo(quantity);</span>
157 }
158 
159 #endif /* #if !UCONFIG_NO_FORMATTING */
</pre>
</td>
</tr>
</table>
<center><a href="number_modifiers.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="number_multiplier.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>