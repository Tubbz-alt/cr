<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.web/src/main/native/Source/ThirdParty/icu/source/common/unicode/platform.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 // Â© 2016 and later: Unicode, Inc. and others.
  2 // License &amp; terms of use: http://www.unicode.org/copyright.html
  3 /*
  4 ******************************************************************************
  5 *
  6 *   Copyright (C) 1997-2016, International Business Machines
  7 *   Corporation and others.  All Rights Reserved.
  8 *
  9 ******************************************************************************
 10 *
 11 *  FILE NAME : platform.h
 12 *
 13 *   Date        Name        Description
 14 *   05/13/98    nos         Creation (content moved here from ptypes.h).
 15 *   03/02/99    stephen     Added AS400 support.
 16 *   03/30/99    stephen     Added Linux support.
 17 *   04/13/99    stephen     Reworked for autoconf.
 18 ******************************************************************************
 19 */
 20 
 21 #ifndef _PLATFORM_H
 22 #define _PLATFORM_H
 23 
 24 #include &quot;unicode/uconfig.h&quot;
 25 #include &quot;unicode/uvernum.h&quot;
 26 
 27 /**
 28  * \file
 29  * \brief Basic types for the platform.
 30  *
 31  * This file used to be generated by autoconf/configure.
 32  * Starting with ICU 49, platform.h is a normal source file,
 33  * to simplify cross-compiling and working with non-autoconf/make build systems.
 34  *
 35  * When a value in this file does not work on a platform, then please
 36  * try to derive it from the U_PLATFORM value
 37  * (for which we might need a new value constant in rare cases)
 38  * and/or from other macros that are predefined by the compiler
 39  * or defined in standard (POSIX or platform or compiler) headers.
 40  *
<a name="1" id="anc1"></a><span class="line-modified"> 41  * As a temporary workaround, you can add an explicit &lt;code&gt;#define&lt;/code&gt; for some macros</span>
 42  * before it is first tested, or add an equivalent -D macro definition
 43  * to the compiler&#39;s command line.
 44  *
 45  * Note: Some compilers provide ways to show the predefined macros.
 46  * For example, with gcc you can compile an empty .c file and have the compiler
 47  * print the predefined macros with
 48  * \code
 49  * gcc -E -dM -x c /dev/null | sort
 50  * \endcode
 51  * (You can provide an actual empty .c file rather than /dev/null.
 52  * &lt;code&gt;-x c++&lt;/code&gt; is for C++.)
 53  */
 54 
 55 /**
 56  * Define some things so that they can be documented.
 57  * @internal
 58  */
 59 #ifdef U_IN_DOXYGEN
 60 /*
 61  * Problem: &quot;platform.h:335: warning: documentation for unknown define U_HAVE_STD_STRING found.&quot; means that U_HAVE_STD_STRING is not documented.
 62  * Solution: #define any defines for non @internal API here, so that they are visible in the docs.  If you just set PREDEFINED in Doxyfile.in,  they won&#39;t be documented.
 63  */
 64 
 65 /* None for now. */
 66 #endif
 67 
 68 /**
 69  * \def U_PLATFORM
 70  * The U_PLATFORM macro defines the platform we&#39;re on.
 71  *
 72  * We used to define one different, value-less macro per platform.
 73  * That made it hard to know the set of relevant platforms and macros,
 74  * and hard to deal with variants of platforms.
 75  *
 76  * Starting with ICU 49, we define platforms as numeric macros,
 77  * with ranges of values for related platforms and their variants.
 78  * The U_PLATFORM macro is set to one of these values.
 79  *
 80  * Historical note from the Solaris Wikipedia article:
 81  * AT&amp;T and Sun collaborated on a project to merge the most popular Unix variants
 82  * on the market at that time: BSD, System V, and Xenix.
 83  * This became Unix System V Release 4 (SVR4).
 84  *
 85  * @internal
 86  */
 87 
 88 /** Unknown platform. @internal */
 89 #define U_PF_UNKNOWN 0
 90 /** Windows @internal */
 91 #define U_PF_WINDOWS 1000
 92 /** MinGW. Windows, calls to Win32 API, but using GNU gcc and binutils. @internal */
 93 #define U_PF_MINGW 1800
 94 /**
 95  * Cygwin. Windows, calls to cygwin1.dll for Posix functions,
 96  * using MSVC or GNU gcc and binutils.
 97  * @internal
 98  */
 99 #define U_PF_CYGWIN 1900
100 /* Reserve 2000 for U_PF_UNIX? */
101 /** HP-UX is based on UNIX System V. @internal */
102 #define U_PF_HPUX 2100
103 /** Solaris is a Unix operating system based on SVR4. @internal */
104 #define U_PF_SOLARIS 2600
105 /** BSD is a UNIX operating system derivative. @internal */
106 #define U_PF_BSD 3000
107 /** AIX is based on UNIX System V Releases and 4.3 BSD. @internal */
108 #define U_PF_AIX 3100
109 /** IRIX is based on UNIX System V with BSD extensions. @internal */
110 #define U_PF_IRIX 3200
111 /**
112  * Darwin is a POSIX-compliant operating system, composed of code developed by Apple,
113  * as well as code derived from NeXTSTEP, BSD, and other projects,
114  * built around the Mach kernel.
115  * Darwin forms the core set of components upon which Mac OS X, Apple TV, and iOS are based.
116  * (Original description modified from WikiPedia.)
117  * @internal
118  */
119 #define U_PF_DARWIN 3500
120 /** iPhone OS (iOS) is a derivative of Mac OS X. @internal */
121 #define U_PF_IPHONE 3550
122 /** QNX is a commercial Unix-like real-time operating system related to BSD. @internal */
123 #define U_PF_QNX 3700
124 /** Linux is a Unix-like operating system. @internal */
125 #define U_PF_LINUX 4000
126 /**
127  * Native Client is pretty close to Linux.
128  * See https://developer.chrome.com/native-client and
129  *  http://www.chromium.org/nativeclient
130  *  @internal
131  */
132 #define U_PF_BROWSER_NATIVE_CLIENT 4020
133 /** Android is based on Linux. @internal */
134 #define U_PF_ANDROID 4050
135 /** Fuchsia is a POSIX-ish platform. @internal */
136 #define U_PF_FUCHSIA 4100
137 /* Maximum value for Linux-based platform is 4499 */
138 /** z/OS is the successor to OS/390 which was the successor to MVS. @internal */
139 #define U_PF_OS390 9000
140 /** &quot;IBM i&quot; is the current name of what used to be i5/OS and earlier OS/400. @internal */
141 #define U_PF_OS400 9400
142 
143 #ifdef U_PLATFORM
144     /* Use the predefined value. */
145 #elif defined(__MINGW32__)
146 #   define U_PLATFORM U_PF_MINGW
147 #elif defined(__CYGWIN__)
148 #   define U_PLATFORM U_PF_CYGWIN
149 #elif defined(WIN32) || defined(_WIN32) || defined(WIN64) || defined(_WIN64)
150 #   define U_PLATFORM U_PF_WINDOWS
151 #elif defined(__ANDROID__)
152 #   define U_PLATFORM U_PF_ANDROID
153     /* Android wchar_t support depends on the API level. */
154 #   include &lt;android/api-level.h&gt;
155 #elif defined(__pnacl__) || defined(__native_client__)
156 #   define U_PLATFORM U_PF_BROWSER_NATIVE_CLIENT
157 #elif defined(__Fuchsia__)
158 #   define U_PLATFORM U_PF_FUCHSIA
159 #elif defined(linux) || defined(__linux__) || defined(__linux)
160 #   define U_PLATFORM U_PF_LINUX
161 #elif defined(__APPLE__) &amp;&amp; defined(__MACH__)
162 #   include &lt;TargetConditionals.h&gt;
163 #   if defined(TARGET_OS_IPHONE) &amp;&amp; TARGET_OS_IPHONE  /* variant of TARGET_OS_MAC */
164 #       define U_PLATFORM U_PF_IPHONE
165 #   else
166 #       define U_PLATFORM U_PF_DARWIN
167 #   endif
168 #elif defined(BSD) || defined(__FreeBSD__) || defined(__FreeBSD_kernel__) || defined(__NetBSD__) || defined(__OpenBSD__) || defined(__MirBSD__)
169 #   if defined(__FreeBSD__)
170 #       include &lt;sys/endian.h&gt;
171 #   endif
172 #   define U_PLATFORM U_PF_BSD
173 #elif defined(sun) || defined(__sun)
174     /* Check defined(__SVR4) || defined(__svr4__) to distinguish Solaris from SunOS? */
175 #   define U_PLATFORM U_PF_SOLARIS
176 #   if defined(__GNUC__)
177         /* Solaris/GCC needs this header file to get the proper endianness. Normally, this
178          * header file is included with stddef.h but on Solairs/GCC, the GCC version of stddef.h
179          *  is included which does not include this header file.
180          */
181 #       include &lt;sys/isa_defs.h&gt;
182 #   endif
183 #elif defined(_AIX) || defined(__TOS_AIX__)
184 #   define U_PLATFORM U_PF_AIX
185 #elif defined(_hpux) || defined(hpux) || defined(__hpux)
186 #   define U_PLATFORM U_PF_HPUX
187 #elif defined(sgi) || defined(__sgi)
188 #   define U_PLATFORM U_PF_IRIX
189 #elif defined(__QNX__) || defined(__QNXNTO__)
190 #   define U_PLATFORM U_PF_QNX
191 #elif defined(__TOS_MVS__)
192 #   define U_PLATFORM U_PF_OS390
193 #elif defined(__OS400__) || defined(__TOS_OS400__)
194 #   define U_PLATFORM U_PF_OS400
195 #else
196 #   define U_PLATFORM U_PF_UNKNOWN
197 #endif
198 
199 /**
200  * \def CYGWINMSVC
201  * Defined if this is Windows with Cygwin, but using MSVC rather than gcc.
202  * Otherwise undefined.
203  * @internal
204  */
205 /* Commented out because this is already set in mh-cygwin-msvc
206 #if U_PLATFORM == U_PF_CYGWIN &amp;&amp; defined(_MSC_VER)
207 #   define CYGWINMSVC
208 #endif
209 */
<a name="2" id="anc2"></a>


210 
211 /**
212  * \def U_PLATFORM_USES_ONLY_WIN32_API
213  * Defines whether the platform uses only the Win32 API.
214  * Set to 1 for Windows/MSVC and MinGW but not Cygwin.
215  * @internal
216  */
217 #ifdef U_PLATFORM_USES_ONLY_WIN32_API
218     /* Use the predefined value. */
219 #elif (U_PF_WINDOWS &lt;= U_PLATFORM &amp;&amp; U_PLATFORM &lt;= U_PF_MINGW) || defined(CYGWINMSVC)
220 #   define U_PLATFORM_USES_ONLY_WIN32_API 1
221 #else
222     /* Cygwin implements POSIX. */
223 #   define U_PLATFORM_USES_ONLY_WIN32_API 0
224 #endif
225 
226 /**
227  * \def U_PLATFORM_HAS_WIN32_API
228  * Defines whether the Win32 API is available on the platform.
229  * Set to 1 for Windows/MSVC, MinGW and Cygwin.
230  * @internal
231  */
232 #ifdef U_PLATFORM_HAS_WIN32_API
233     /* Use the predefined value. */
234 #elif U_PF_WINDOWS &lt;= U_PLATFORM &amp;&amp; U_PLATFORM &lt;= U_PF_CYGWIN
235 #   define U_PLATFORM_HAS_WIN32_API 1
236 #else
237 #   define U_PLATFORM_HAS_WIN32_API 0
238 #endif
239 
240 /**
241  * \def U_PLATFORM_HAS_WINUWP_API
242  * Defines whether target is intended for Universal Windows Platform API
243  * Set to 1 for Windows10 Release Solution Configuration
244  * @internal
245  */
246 #ifdef U_PLATFORM_HAS_WINUWP_API
247     /* Use the predefined value. */
248 #else
249 #   define U_PLATFORM_HAS_WINUWP_API 0
250 #endif
251 
252 /**
253  * \def U_PLATFORM_IMPLEMENTS_POSIX
254  * Defines whether the platform implements (most of) the POSIX API.
255  * Set to 1 for Cygwin and most other platforms.
256  * @internal
257  */
258 #ifdef U_PLATFORM_IMPLEMENTS_POSIX
259     /* Use the predefined value. */
260 #elif U_PLATFORM_USES_ONLY_WIN32_API
261 #   define U_PLATFORM_IMPLEMENTS_POSIX 0
262 #else
263 #   define U_PLATFORM_IMPLEMENTS_POSIX 1
264 #endif
265 
266 /**
267  * \def U_PLATFORM_IS_LINUX_BASED
268  * Defines whether the platform is Linux or one of its derivatives.
269  * @internal
270  */
271 #ifdef U_PLATFORM_IS_LINUX_BASED
272     /* Use the predefined value. */
273 #elif U_PF_LINUX &lt;= U_PLATFORM &amp;&amp; U_PLATFORM &lt;= 4499
274 #   define U_PLATFORM_IS_LINUX_BASED 1
275 #else
276 #   define U_PLATFORM_IS_LINUX_BASED 0
277 #endif
278 
279 /**
280  * \def U_PLATFORM_IS_DARWIN_BASED
281  * Defines whether the platform is Darwin or one of its derivatives.
282  * @internal
283  */
284 #ifdef U_PLATFORM_IS_DARWIN_BASED
285     /* Use the predefined value. */
286 #elif U_PF_DARWIN &lt;= U_PLATFORM &amp;&amp; U_PLATFORM &lt;= U_PF_IPHONE
287 #   define U_PLATFORM_IS_DARWIN_BASED 1
288 #else
289 #   define U_PLATFORM_IS_DARWIN_BASED 0
290 #endif
291 
292 /**
293  * \def U_HAVE_STDINT_H
294  * Defines whether stdint.h is available. It is a C99 standard header.
295  * We used to include inttypes.h which includes stdint.h but we usually do not need
296  * the additional definitions from inttypes.h.
297  * @internal
298  */
299 #ifdef U_HAVE_STDINT_H
300     /* Use the predefined value. */
301 #elif U_PLATFORM_USES_ONLY_WIN32_API
302 #   if defined(__BORLANDC__) || U_PLATFORM == U_PF_MINGW || (defined(_MSC_VER) &amp;&amp; _MSC_VER&gt;=1600)
303         /* Windows Visual Studio 9 and below do not have stdint.h &amp; inttypes.h, but VS 2010 adds them. */
304 #       define U_HAVE_STDINT_H 1
305 #   else
306 #       define U_HAVE_STDINT_H 0
307 #   endif
308 #elif U_PLATFORM == U_PF_SOLARIS
309     /* Solaris has inttypes.h but not stdint.h. */
310 #   define U_HAVE_STDINT_H 0
311 #elif U_PLATFORM == U_PF_AIX &amp;&amp; !defined(_AIX51) &amp;&amp; defined(_POWER)
312     /* PPC AIX &lt;= 4.3 has inttypes.h but not stdint.h. */
313 #   define U_HAVE_STDINT_H 0
314 #else
315 #   define U_HAVE_STDINT_H 1
316 #endif
317 
318 /**
319  * \def U_HAVE_INTTYPES_H
320  * Defines whether inttypes.h is available. It is a C99 standard header.
321  * We include inttypes.h where it is available but stdint.h is not.
322  * @internal
323  */
324 #ifdef U_HAVE_INTTYPES_H
325     /* Use the predefined value. */
326 #elif U_PLATFORM == U_PF_SOLARIS
327     /* Solaris has inttypes.h but not stdint.h. */
328 #   define U_HAVE_INTTYPES_H 1
329 #elif U_PLATFORM == U_PF_AIX &amp;&amp; !defined(_AIX51) &amp;&amp; defined(_POWER)
330     /* PPC AIX &lt;= 4.3 has inttypes.h but not stdint.h. */
331 #   define U_HAVE_INTTYPES_H 1
332 #else
333     /* Most platforms have both inttypes.h and stdint.h, or neither. */
334 #   define U_HAVE_INTTYPES_H U_HAVE_STDINT_H
335 #endif
336 
337 /*===========================================================================*/
338 /** @{ Compiler and environment features                                     */
339 /*===========================================================================*/
340 
341 /**
342  * \def U_GCC_MAJOR_MINOR
343  * Indicates whether the compiler is gcc (test for != 0),
344  * and if so, contains its major (times 100) and minor version numbers.
345  * If the compiler is not gcc, then U_GCC_MAJOR_MINOR == 0.
346  *
347  * For example, for testing for whether we have gcc, and whether it&#39;s 4.6 or higher,
348  * use &quot;#if U_GCC_MAJOR_MINOR &gt;= 406&quot;.
349  * @internal
350  */
351 #ifdef __GNUC__
352 #   define U_GCC_MAJOR_MINOR (__GNUC__ * 100 + __GNUC_MINOR__)
353 #else
354 #   define U_GCC_MAJOR_MINOR 0
355 #endif
356 
357 /**
358  * \def U_IS_BIG_ENDIAN
359  * Determines the endianness of the platform.
360  * @internal
361  */
362 #ifdef U_IS_BIG_ENDIAN
363     /* Use the predefined value. */
364 #elif defined(BYTE_ORDER) &amp;&amp; defined(BIG_ENDIAN)
365 #   define U_IS_BIG_ENDIAN (BYTE_ORDER == BIG_ENDIAN)
366 #elif defined(__BYTE_ORDER__) &amp;&amp; defined(__ORDER_BIG_ENDIAN__)
367     /* gcc */
368 #   define U_IS_BIG_ENDIAN (__BYTE_ORDER__ == __ORDER_BIG_ENDIAN__)
369 #elif defined(__BIG_ENDIAN__) || defined(_BIG_ENDIAN)
370 #   define U_IS_BIG_ENDIAN 1
371 #elif defined(__LITTLE_ENDIAN__) || defined(_LITTLE_ENDIAN)
372 #   define U_IS_BIG_ENDIAN 0
373 #elif U_PLATFORM == U_PF_OS390 || U_PLATFORM == U_PF_OS400 || defined(__s390__) || defined(__s390x__)
374     /* These platforms do not appear to predefine any endianness macros. */
375 #   define U_IS_BIG_ENDIAN 1
376 #elif defined(_PA_RISC1_0) || defined(_PA_RISC1_1) || defined(_PA_RISC2_0)
377     /* HPPA do not appear to predefine any endianness macros. */
378 #   define U_IS_BIG_ENDIAN 1
379 #elif defined(sparc) || defined(__sparc) || defined(__sparc__)
380     /* Some sparc based systems (e.g. Linux) do not predefine any endianness macros. */
381 #   define U_IS_BIG_ENDIAN 1
382 #else
383 #   define U_IS_BIG_ENDIAN 0
384 #endif
385 
386 /**
387  * \def U_HAVE_PLACEMENT_NEW
388  * Determines whether to override placement new and delete for STL.
389  * @stable ICU 2.6
390  */
391 #ifdef U_HAVE_PLACEMENT_NEW
392     /* Use the predefined value. */
393 #elif defined(__BORLANDC__)
394 #   define U_HAVE_PLACEMENT_NEW 0
395 #else
396 #   define U_HAVE_PLACEMENT_NEW 1
397 #endif
398 
399 /**
400  * \def U_HAVE_DEBUG_LOCATION_NEW
401  * Define this to define the MFC debug version of the operator new.
402  *
403  * @stable ICU 3.4
404  */
405 #ifdef U_HAVE_DEBUG_LOCATION_NEW
406     /* Use the predefined value. */
407 #elif defined(_MSC_VER)
408 #   define U_HAVE_DEBUG_LOCATION_NEW 1
409 #else
410 #   define U_HAVE_DEBUG_LOCATION_NEW 0
411 #endif
412 
413 /* Compatibility with compilers other than clang: http://clang.llvm.org/docs/LanguageExtensions.html */
414 #ifndef __has_attribute
415 #    define __has_attribute(x) 0
416 #endif
417 #ifndef __has_cpp_attribute
418 #    define __has_cpp_attribute(x) 0
419 #endif
<a name="3" id="anc3"></a>


420 #ifndef __has_builtin
421 #    define __has_builtin(x) 0
422 #endif
423 #ifndef __has_feature
424 #    define __has_feature(x) 0
425 #endif
426 #ifndef __has_extension
427 #    define __has_extension(x) 0
428 #endif
429 #ifndef __has_warning
430 #    define __has_warning(x) 0
431 #endif
432 
433 /**
434  * \def U_MALLOC_ATTR
435  * Attribute to mark functions as malloc-like
436  * @internal
437  */
438 #if defined(__GNUC__) &amp;&amp; __GNUC__&gt;=3
439 #    define U_MALLOC_ATTR __attribute__ ((__malloc__))
440 #else
441 #    define U_MALLOC_ATTR
442 #endif
443 
444 /**
445  * \def U_ALLOC_SIZE_ATTR
446  * Attribute to specify the size of the allocated buffer for malloc-like functions
447  * @internal
448  */
449 #if (defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 3))) || __has_attribute(alloc_size)
450 #   define U_ALLOC_SIZE_ATTR(X) __attribute__ ((alloc_size(X)))
451 #   define U_ALLOC_SIZE_ATTR2(X,Y) __attribute__ ((alloc_size(X,Y)))
452 #else
453 #   define U_ALLOC_SIZE_ATTR(X)
454 #   define U_ALLOC_SIZE_ATTR2(X,Y)
455 #endif
456 
457 /**
458  * \def U_CPLUSPLUS_VERSION
459  * 0 if no C++; 1, 11, 14, ... if C++.
460  * Support for specific features cannot always be determined by the C++ version alone.
461  * @internal
462  */
463 #ifdef U_CPLUSPLUS_VERSION
464 #   if U_CPLUSPLUS_VERSION != 0 &amp;&amp; !defined(__cplusplus)
465 #       undef U_CPLUSPLUS_VERSION
466 #       define U_CPLUSPLUS_VERSION 0
467 #   endif
468     /* Otherwise use the predefined value. */
469 #elif !defined(__cplusplus)
470 #   define U_CPLUSPLUS_VERSION 0
471 #elif __cplusplus &gt;= 201402L || (defined(_MSVC_LANG) &amp;&amp; _MSVC_LANG &gt;= 201402L)
472 #   define U_CPLUSPLUS_VERSION 14
473 #elif __cplusplus &gt;= 201103L || (defined(_MSVC_LANG) &amp;&amp; _MSVC_LANG &gt;= 201103L)
474 #   define U_CPLUSPLUS_VERSION 11
475 #else
476     // C++98 or C++03
477 #   define U_CPLUSPLUS_VERSION 1
478 #endif
479 
480 #if (U_PLATFORM == U_PF_AIX || U_PLATFORM == U_PF_OS390) &amp;&amp; defined(__cplusplus) &amp;&amp;(U_CPLUSPLUS_VERSION &lt; 11)
481 // add in std::nullptr_t
482 namespace std {
483   typedef decltype(nullptr) nullptr_t;
484 };
485 #endif
486 
487 /**
488  * \def U_NOEXCEPT
489  * &quot;noexcept&quot; if supported, otherwise empty.
490  * Some code, especially STL containers, uses move semantics of objects only
491  * if the move constructor and the move operator are declared as not throwing exceptions.
492  * @internal
493  */
494 #ifdef U_NOEXCEPT
495     /* Use the predefined value. */
<a name="4" id="anc4"></a><span class="line-removed">496 #elif defined(_HAS_EXCEPTIONS) &amp;&amp; !_HAS_EXCEPTIONS  /* Visual Studio */</span>
<span class="line-removed">497 #   define U_NOEXCEPT</span>
<span class="line-removed">498 #elif U_CPLUSPLUS_VERSION &gt;= 11 || __has_feature(cxx_noexcept) || __has_extension(cxx_noexcept) \</span>
<span class="line-removed">499         || (defined(_MSC_VER) &amp;&amp; _MSC_VER &gt;= 1900)  /* Visual Studio 2015 */</span>
<span class="line-removed">500 #   define U_NOEXCEPT noexcept</span>
501 #else
<a name="5" id="anc5"></a><span class="line-modified">502 #   define U_NOEXCEPT</span>
503 #endif
504 
505 /**
506  * \def U_FALLTHROUGH
507  * Annotate intentional fall-through between switch labels.
508  * http://clang.llvm.org/docs/AttributeReference.html#fallthrough-clang-fallthrough
509  * @internal
510  */
511 #ifndef __cplusplus
512     // Not for C.
513 #elif defined(U_FALLTHROUGH)
514     // Use the predefined value.
515 #elif defined(__clang__)
516     // Test for compiler vs. feature separately.
517     // Other compilers might choke on the feature test.
518 #   if __has_cpp_attribute(clang::fallthrough) || \
519             (__has_feature(cxx_attributes) &amp;&amp; __has_warning(&quot;-Wimplicit-fallthrough&quot;))
520 #       define U_FALLTHROUGH [[clang::fallthrough]]
521 #   endif
<a name="6" id="anc6"></a>

522 #endif
523 
524 #ifndef U_FALLTHROUGH
525 #   define U_FALLTHROUGH
526 #endif
527 
528 /** @} */
529 
530 /*===========================================================================*/
531 /** @{ Character data types                                                  */
532 /*===========================================================================*/
533 
534 /**
535  * U_CHARSET_FAMILY is equal to this value when the platform is an ASCII based platform.
536  * @stable ICU 2.0
537  */
538 #define U_ASCII_FAMILY 0
539 
540 /**
541  * U_CHARSET_FAMILY is equal to this value when the platform is an EBCDIC based platform.
542  * @stable ICU 2.0
543  */
544 #define U_EBCDIC_FAMILY 1
545 
546 /**
547  * \def U_CHARSET_FAMILY
548  *
549  * &lt;p&gt;These definitions allow to specify the encoding of text
550  * in the char data type as defined by the platform and the compiler.
551  * It is enough to determine the code point values of &quot;invariant characters&quot;,
552  * which are the ones shared by all encodings that are in use
553  * on a given platform.&lt;/p&gt;
554  *
555  * &lt;p&gt;Those &quot;invariant characters&quot; should be all the uppercase and lowercase
556  * latin letters, the digits, the space, and &quot;basic punctuation&quot;.
557  * Also, &#39;\\n&#39;, &#39;\\r&#39;, &#39;\\t&#39; should be available.&lt;/p&gt;
558  *
559  * &lt;p&gt;The list of &quot;invariant characters&quot; is:&lt;br&gt;
560  * \code
561  *    A-Z  a-z  0-9  SPACE  &quot;  %  &amp;amp;  &#39;  (  )  *  +  ,  -  .  /  :  ;  &lt;  =  &gt;  ?  _
562  * \endcode
563  * &lt;br&gt;
564  * (52 letters + 10 numbers + 20 punc/sym/space = 82 total)&lt;/p&gt;
565  *
566  * &lt;p&gt;This matches the IBM Syntactic Character Set (CS 640).&lt;/p&gt;
567  *
568  * &lt;p&gt;In other words, all the graphic characters in 7-bit ASCII should
569  * be safely accessible except the following:&lt;/p&gt;
570  *
571  * \code
572  *    &#39;\&#39; &lt;backslash&gt;
573  *    &#39;[&#39; &lt;left bracket&gt;
574  *    &#39;]&#39; &lt;right bracket&gt;
575  *    &#39;{&#39; &lt;left brace&gt;
576  *    &#39;}&#39; &lt;right brace&gt;
577  *    &#39;^&#39; &lt;circumflex&gt;
578  *    &#39;~&#39; &lt;tilde&gt;
579  *    &#39;!&#39; &lt;exclamation mark&gt;
580  *    &#39;#&#39; &lt;number sign&gt;
581  *    &#39;|&#39; &lt;vertical line&gt;
582  *    &#39;$&#39; &lt;dollar sign&gt;
583  *    &#39;@&#39; &lt;commercial at&gt;
584  *    &#39;`&#39; &lt;grave accent&gt;
585  * \endcode
586  * @stable ICU 2.0
587  */
588 #ifdef U_CHARSET_FAMILY
589     /* Use the predefined value. */
590 #elif U_PLATFORM == U_PF_OS390 &amp;&amp; (!defined(__CHARSET_LIB) || !__CHARSET_LIB)
591 #   define U_CHARSET_FAMILY U_EBCDIC_FAMILY
592 #elif U_PLATFORM == U_PF_OS400 &amp;&amp; !defined(__UTF32__)
593 #   define U_CHARSET_FAMILY U_EBCDIC_FAMILY
594 #else
595 #   define U_CHARSET_FAMILY U_ASCII_FAMILY
596 #endif
597 
598 /**
599  * \def U_CHARSET_IS_UTF8
600  *
601  * Hardcode the default charset to UTF-8.
602  *
603  * If this is set to 1, then
604  * - ICU will assume that all non-invariant char*, StringPiece, std::string etc.
605  *   contain UTF-8 text, regardless of what the system API uses
606  * - some ICU code will use fast functions like u_strFromUTF8()
607  *   rather than the more general and more heavy-weight conversion API (ucnv.h)
608  * - ucnv_getDefaultName() always returns &quot;UTF-8&quot;
609  * - ucnv_setDefaultName() is disabled and will not change the default charset
610  * - static builds of ICU are smaller
611  * - more functionality is available with the UCONFIG_NO_CONVERSION build-time
612  *   configuration option (see unicode/uconfig.h)
613  * - the UCONFIG_NO_CONVERSION build option in uconfig.h is more usable
614  *
615  * @stable ICU 4.2
616  * @see UCONFIG_NO_CONVERSION
617  */
618 #ifdef U_CHARSET_IS_UTF8
619     /* Use the predefined value. */
620 #elif U_PLATFORM_IS_LINUX_BASED || U_PLATFORM_IS_DARWIN_BASED
621 #   define U_CHARSET_IS_UTF8 1
622 #else
623 #   define U_CHARSET_IS_UTF8 0
624 #endif
625 
626 /** @} */
627 
628 /*===========================================================================*/
629 /** @{ Information about wchar support                                       */
630 /*===========================================================================*/
631 
632 /**
633  * \def U_HAVE_WCHAR_H
634  * Indicates whether &lt;wchar.h&gt; is available (1) or not (0). Set to 1 by default.
635  *
636  * @stable ICU 2.0
637  */
638 #ifdef U_HAVE_WCHAR_H
639     /* Use the predefined value. */
640 #elif U_PLATFORM == U_PF_ANDROID &amp;&amp; __ANDROID_API__ &lt; 9
641     /*
642      * Android before Gingerbread (Android 2.3, API level 9) did not support wchar_t.
643      * The type and header existed, but the library functions did not work as expected.
644      * The size of wchar_t was 1 but L&quot;xyz&quot; string literals had 32-bit units anyway.
645      */
646 #   define U_HAVE_WCHAR_H 0
647 #else
648 #   define U_HAVE_WCHAR_H 1
649 #endif
650 
651 /**
652  * \def U_SIZEOF_WCHAR_T
653  * U_SIZEOF_WCHAR_T==sizeof(wchar_t)
654  *
655  * @stable ICU 2.0
656  */
657 #ifdef U_SIZEOF_WCHAR_T
658     /* Use the predefined value. */
659 #elif (U_PLATFORM == U_PF_ANDROID &amp;&amp; __ANDROID_API__ &lt; 9)
660     /*
661      * Classic Mac OS and Mac OS X before 10.3 (Panther) did not support wchar_t or wstring.
662      * Newer Mac OS X has size 4.
663      */
664 #   define U_SIZEOF_WCHAR_T 1
665 #elif U_PLATFORM_HAS_WIN32_API || U_PLATFORM == U_PF_CYGWIN
666 #   define U_SIZEOF_WCHAR_T 2
667 #elif U_PLATFORM == U_PF_AIX
668     /*
669      * AIX 6.1 information, section &quot;Wide character data representation&quot;:
670      * &quot;... the wchar_t datatype is 32-bit in the 64-bit environment and
671      * 16-bit in the 32-bit environment.&quot;
672      * and
673      * &quot;All locales use Unicode for their wide character code values (process code),
674      * except the IBM-eucTW codeset.&quot;
675      */
676 #   ifdef __64BIT__
677 #       define U_SIZEOF_WCHAR_T 4
678 #   else
679 #       define U_SIZEOF_WCHAR_T 2
680 #   endif
681 #elif U_PLATFORM == U_PF_OS390
682     /*
683      * z/OS V1R11 information center, section &quot;LP64 | ILP32&quot;:
684      * &quot;In 31-bit mode, the size of long and pointers is 4 bytes and the size of wchar_t is 2 bytes.
685      * Under LP64, the size of long and pointer is 8 bytes and the size of wchar_t is 4 bytes.&quot;
686      */
687 #   ifdef _LP64
688 #       define U_SIZEOF_WCHAR_T 4
689 #   else
690 #       define U_SIZEOF_WCHAR_T 2
691 #   endif
692 #elif U_PLATFORM == U_PF_OS400
693 #   if defined(__UTF32__)
694         /*
695          * LOCALETYPE(*LOCALEUTF) is specified.
696          * Wide-character strings are in UTF-32,
697          * narrow-character strings are in UTF-8.
698          */
699 #       define U_SIZEOF_WCHAR_T 4
700 #   elif defined(__UCS2__)
701         /*
702          * LOCALETYPE(*LOCALEUCS2) is specified.
703          * Wide-character strings are in UCS-2,
704          * narrow-character strings are in EBCDIC.
705          */
706 #       define U_SIZEOF_WCHAR_T 2
707 #else
708         /*
709          * LOCALETYPE(*CLD) or LOCALETYPE(*LOCALE) is specified.
710          * Wide-character strings are in 16-bit EBCDIC,
711          * narrow-character strings are in EBCDIC.
712          */
713 #       define U_SIZEOF_WCHAR_T 2
714 #   endif
715 #else
716 #   define U_SIZEOF_WCHAR_T 4
717 #endif
718 
719 #ifndef U_HAVE_WCSCPY
720 #define U_HAVE_WCSCPY U_HAVE_WCHAR_H
721 #endif
722 
723 /** @} */
724 
725 /**
726  * \def U_HAVE_CHAR16_T
727  * Defines whether the char16_t type is available for UTF-16
728  * and u&quot;abc&quot; UTF-16 string literals are supported.
729  * This is a new standard type and standard string literal syntax in C++0x
730  * but has been available in some compilers before.
731  * @internal
732  */
733 #ifdef U_HAVE_CHAR16_T
734     /* Use the predefined value. */
735 #else
736     /*
737      * Notes:
738      * Visual Studio 2010 (_MSC_VER==1600) defines char16_t as a typedef
739      * and does not support u&quot;abc&quot; string literals.
740      * Visual Studio 2015 (_MSC_VER&gt;=1900) and above adds support for
741      * both char16_t and u&quot;abc&quot; string literals.
742      * gcc 4.4 defines the __CHAR16_TYPE__ macro to a usable type but
743      * does not support u&quot;abc&quot; string literals.
744      * C++11 and C11 require support for UTF-16 literals
745      * TODO: Fix for plain C. Doesn&#39;t work on Mac.
746      */
747 #   if U_CPLUSPLUS_VERSION &gt;= 11 || (defined(__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 201112L)
748 #       define U_HAVE_CHAR16_T 1
749 #   else
750 #       define U_HAVE_CHAR16_T 0
751 #   endif
752 #endif
753 
754 /**
755  * @{
756  * \def U_DECLARE_UTF16
757  * Do not use this macro because it is not defined on all platforms.
758  * Use the UNICODE_STRING or U_STRING_DECL macros instead.
759  * @internal
760  */
761 #ifdef U_DECLARE_UTF16
762     /* Use the predefined value. */
763 #elif U_HAVE_CHAR16_T \
764     || (defined(__xlC__) &amp;&amp; defined(__IBM_UTF_LITERAL) &amp;&amp; U_SIZEOF_WCHAR_T != 2) \
765     || (defined(__HP_aCC) &amp;&amp; __HP_aCC &gt;= 035000) \
<a name="7" id="anc7"></a><span class="line-modified">766     || (defined(__HP_cc) &amp;&amp; __HP_cc &gt;= 111106)</span>

767 #   define U_DECLARE_UTF16(string) u ## string
768 #elif U_SIZEOF_WCHAR_T == 2 \
769     &amp;&amp; (U_CHARSET_FAMILY == 0 || (U_PF_OS390 &lt;= U_PLATFORM &amp;&amp; U_PLATFORM &lt;= U_PF_OS400 &amp;&amp; defined(__UCS2__)))
770 #   define U_DECLARE_UTF16(string) L ## string
771 #else
772     /* Leave U_DECLARE_UTF16 undefined. See unistr.h. */
773 #endif
774 
775 /** @} */
776 
777 /*===========================================================================*/
778 /** @{ Symbol import-export control                                          */
779 /*===========================================================================*/
780 
781 #ifdef U_EXPORT
782     /* Use the predefined value. */
783 #elif defined(U_STATIC_IMPLEMENTATION)
784 #   define U_EXPORT
<a name="8" id="anc8"></a>

785 #elif defined(__GNUC__)
786 #   define U_EXPORT __attribute__((visibility(&quot;default&quot;)))
787 #elif (defined(__SUNPRO_CC) &amp;&amp; __SUNPRO_CC &gt;= 0x550) \
788    || (defined(__SUNPRO_C) &amp;&amp; __SUNPRO_C &gt;= 0x550)
789 #   define U_EXPORT __global
790 /*#elif defined(__HP_aCC) || defined(__HP_cc)
791 #   define U_EXPORT __declspec(dllexport)*/
<a name="9" id="anc9"></a><span class="line-removed">792 #elif defined(_MSC_VER)</span>
<span class="line-removed">793 #   define U_EXPORT __declspec(dllexport)</span>
794 #else
795 #   define U_EXPORT
796 #endif
797 
798 /* U_CALLCONV is releated to U_EXPORT2 */
799 #ifdef U_EXPORT2
800     /* Use the predefined value. */
801 #elif defined(_MSC_VER)
802 #   define U_EXPORT2 __cdecl
803 #else
804 #   define U_EXPORT2
805 #endif
806 
807 #ifdef U_IMPORT
808     /* Use the predefined value. */
<a name="10" id="anc10"></a><span class="line-modified">809 #elif defined(_MSC_VER)</span>
810     /* Windows needs to export/import data. */
811 #   define U_IMPORT __declspec(dllimport)
812 #else
813 #   define U_IMPORT
814 #endif
815 
816 /**
817  * \def U_CALLCONV
818  * Similar to U_CDECL_BEGIN/U_CDECL_END, this qualifier is necessary
819  * in callback function typedefs to make sure that the calling convention
820  * is compatible.
821  *
822  * This is only used for non-ICU-API functions.
823  * When a function is a public ICU API,
824  * you must use the U_CAPI and U_EXPORT2 qualifiers.
825  *
826  * Please note, you need to use U_CALLCONV after the *.
827  *
828  * NO : &quot;static const char U_CALLCONV *func( . . . )&quot;
829  * YES: &quot;static const char* U_CALLCONV func( . . . )&quot;
830  *
831  * @stable ICU 2.0
832  */
833 #if U_PLATFORM == U_PF_OS390 &amp;&amp; defined(__cplusplus)
834 #    define U_CALLCONV __cdecl
835 #else
836 #    define U_CALLCONV U_EXPORT2
837 #endif
838 
839 /**
840  * \def U_CALLCONV_FPTR
841  * Similar to U_CALLCONV, but only used on function pointers.
842  * @internal
843  */
844 #if U_PLATFORM == U_PF_OS390 &amp;&amp; defined(__cplusplus)
845 #    define U_CALLCONV_FPTR U_CALLCONV
846 #else
847 #    define U_CALLCONV_FPTR
848 #endif
849 /* @} */
850 
851 #endif
<a name="11" id="anc11"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="11" type="hidden" />
</body>
</html>