<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/java/javafx/scene/web/HTMLEditorSkin.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../tests/system/src/test/java/test/javafx/scene/web/HTMLEditorTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/java/javafx/scene/web/HTMLEditorSkin.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 672                         }
 673                     }
 674                 };
 675                 cell.setMinWidth(FONT_FAMILY_MENU_WIDTH);
 676                 cell.setPrefWidth(FONT_FAMILY_MENU_WIDTH);
 677                 cell.setMaxWidth(FONT_FAMILY_MENU_WIDTH);
 678                 return cell;
 679             }
 680         });
 681 
 682         Platform.runLater(() -&gt; {
 683             final ObservableList&lt;String&gt; fonts = FXCollections.observableArrayList(Font.getFamilies());
 684             fonts.add(0, &quot;&quot;);
 685             for (String fontFamily : fonts) {
 686                 fontFamilyComboBox.setValue(&quot;&quot;);
 687                 fontFamilyComboBox.setItems(fonts);
 688             }
 689         });
 690 
 691         fontFamilyComboBox.valueProperty().addListener((observable, oldValue, newValue) -&gt; {
<span class="line-modified"> 692             executeCommand(FONT_FAMILY.getCommand(), (&quot;&quot;.equals(newValue)) ? &quot;&#39;&#39;&quot; : newValue);</span>
 693         });
 694 
 695         fontSizeComboBox = new ComboBox&lt;String&gt;();
 696         fontSizeComboBox.getStyleClass().add(&quot;font-menu-button&quot;);
 697         fontSizeComboBox.setFocusTraversable(false);
 698         toolbar2.getItems().add(fontSizeComboBox);
 699 
 700         fontSizeMap = new HashMap&lt;String, String&gt;();
 701         sizeFontMap = new HashMap&lt;String, String&gt;();
 702 
 703         createFontSizeMenuItem(SIZE_XX_SMALL, resources.getString(&quot;extraExtraSmall&quot;));
 704         createFontSizeMenuItem(SIZE_X_SMALL, resources.getString(&quot;extraSmall&quot;));
 705         createFontSizeMenuItem(SIZE_SMALL, resources.getString(&quot;small&quot;));
 706         Platform.runLater(() -&gt; {
 707             fontSizeComboBox.setValue(resources.getString(&quot;small&quot;));
 708         });
 709         createFontSizeMenuItem(SIZE_MEDIUM, resources.getString(&quot;medium&quot;));
 710         createFontSizeMenuItem(SIZE_LARGE, resources.getString(&quot;large&quot;));
 711         createFontSizeMenuItem(SIZE_X_LARGE, resources.getString(&quot;extraLarge&quot;));
 712         createFontSizeMenuItem(SIZE_XX_LARGE, resources.getString(&quot;extraExtraLarge&quot;));
</pre>
<hr />
<pre>
1122         /* The default background color for WebView, according to the HTML
1123          * standard is rgba=#00000000 (transparent). The canvas background is expected
1124          * to be white.
1125          */
1126         if (color.equals(Color.TRANSPARENT)) {
1127             color = Color.WHITE;
1128         }
1129         return color;
1130     }
1131 
1132     private void applyTextFormatting() {
1133         if (getCommandState(BULLETS.getCommand()) || getCommandState(NUMBERS.getCommand())) {
1134             return;
1135         }
1136 
1137         if (webPage.getClientCommittedTextLength() == 0) {
1138             String format = formatStyleMap.get(formatComboBox.getValue());
1139             String font   = fontFamilyComboBox.getValue().toString();
1140 
1141             executeCommand(FORMAT.getCommand(), format);
<span class="line-modified">1142             executeCommand(FONT_FAMILY.getCommand(), font);</span>
1143         }
1144     }
1145 
1146     void print(PrinterJob job) {
1147         webView.getEngine().print(job);
1148     }
1149 
1150 
1151 
1152     /***************************************************************************
1153      *                                                                         *
1154      * Support Classes                                                         *
1155      *                                                                         *
1156      **************************************************************************/
1157 
1158     /**
1159      * Represents commands that can be passed into the HTMLEditor web engine.
1160      */
1161     public enum Command {
1162         CUT(&quot;cut&quot;),
</pre>
</td>
<td>
<hr />
<pre>
 672                         }
 673                     }
 674                 };
 675                 cell.setMinWidth(FONT_FAMILY_MENU_WIDTH);
 676                 cell.setPrefWidth(FONT_FAMILY_MENU_WIDTH);
 677                 cell.setMaxWidth(FONT_FAMILY_MENU_WIDTH);
 678                 return cell;
 679             }
 680         });
 681 
 682         Platform.runLater(() -&gt; {
 683             final ObservableList&lt;String&gt; fonts = FXCollections.observableArrayList(Font.getFamilies());
 684             fonts.add(0, &quot;&quot;);
 685             for (String fontFamily : fonts) {
 686                 fontFamilyComboBox.setValue(&quot;&quot;);
 687                 fontFamilyComboBox.setItems(fonts);
 688             }
 689         });
 690 
 691         fontFamilyComboBox.valueProperty().addListener((observable, oldValue, newValue) -&gt; {
<span class="line-modified"> 692             executeCommand(FONT_FAMILY.getCommand(), &quot;&#39;&quot; + newValue + &quot;&#39;&quot;);</span>
 693         });
 694 
 695         fontSizeComboBox = new ComboBox&lt;String&gt;();
 696         fontSizeComboBox.getStyleClass().add(&quot;font-menu-button&quot;);
 697         fontSizeComboBox.setFocusTraversable(false);
 698         toolbar2.getItems().add(fontSizeComboBox);
 699 
 700         fontSizeMap = new HashMap&lt;String, String&gt;();
 701         sizeFontMap = new HashMap&lt;String, String&gt;();
 702 
 703         createFontSizeMenuItem(SIZE_XX_SMALL, resources.getString(&quot;extraExtraSmall&quot;));
 704         createFontSizeMenuItem(SIZE_X_SMALL, resources.getString(&quot;extraSmall&quot;));
 705         createFontSizeMenuItem(SIZE_SMALL, resources.getString(&quot;small&quot;));
 706         Platform.runLater(() -&gt; {
 707             fontSizeComboBox.setValue(resources.getString(&quot;small&quot;));
 708         });
 709         createFontSizeMenuItem(SIZE_MEDIUM, resources.getString(&quot;medium&quot;));
 710         createFontSizeMenuItem(SIZE_LARGE, resources.getString(&quot;large&quot;));
 711         createFontSizeMenuItem(SIZE_X_LARGE, resources.getString(&quot;extraLarge&quot;));
 712         createFontSizeMenuItem(SIZE_XX_LARGE, resources.getString(&quot;extraExtraLarge&quot;));
</pre>
<hr />
<pre>
1122         /* The default background color for WebView, according to the HTML
1123          * standard is rgba=#00000000 (transparent). The canvas background is expected
1124          * to be white.
1125          */
1126         if (color.equals(Color.TRANSPARENT)) {
1127             color = Color.WHITE;
1128         }
1129         return color;
1130     }
1131 
1132     private void applyTextFormatting() {
1133         if (getCommandState(BULLETS.getCommand()) || getCommandState(NUMBERS.getCommand())) {
1134             return;
1135         }
1136 
1137         if (webPage.getClientCommittedTextLength() == 0) {
1138             String format = formatStyleMap.get(formatComboBox.getValue());
1139             String font   = fontFamilyComboBox.getValue().toString();
1140 
1141             executeCommand(FORMAT.getCommand(), format);
<span class="line-modified">1142             executeCommand(FONT_FAMILY.getCommand(), &quot;&#39;&quot; + font + &quot;&#39;&quot;);</span>
1143         }
1144     }
1145 
1146     void print(PrinterJob job) {
1147         webView.getEngine().print(job);
1148     }
1149 
1150 
1151 
1152     /***************************************************************************
1153      *                                                                         *
1154      * Support Classes                                                         *
1155      *                                                                         *
1156      **************************************************************************/
1157 
1158     /**
1159      * Represents commands that can be passed into the HTMLEditor web engine.
1160      */
1161     public enum Command {
1162         CUT(&quot;cut&quot;),
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../tests/system/src/test/java/test/javafx/scene/web/HTMLEditorTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>