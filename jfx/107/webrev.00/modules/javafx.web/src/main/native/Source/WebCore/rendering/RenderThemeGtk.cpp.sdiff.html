<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/WebCore/rendering/RenderThemeGtk.cpp</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="RenderFrameSet.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RenderThemeGtk.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/WebCore/rendering/RenderThemeGtk.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 107     fontDescription.setIsAbsoluteSize(true);
 108     fontDescription.setWeight(normalWeightValue());
 109     fontDescription.setItalic(FontSelectionValue());
 110     pango_font_description_free(pangoDescription);
 111 }
 112 
 113 #if ENABLE(DATALIST_ELEMENT)
 114 IntSize RenderThemeGtk::sliderTickSize() const
 115 {
 116     // FIXME: We need to set this to the size of one tick mark.
 117     return IntSize(0, 0);
 118 }
 119 
 120 int RenderThemeGtk::sliderTickOffsetFromTrackCenter() const
 121 {
 122     // FIXME: We need to set this to the position of the tick marks.
 123     return 0;
 124 }
 125 #endif
 126 
<span class="line-removed"> 127 static void themeChangedCallback()</span>
<span class="line-removed"> 128 {</span>
<span class="line-removed"> 129     Page::updateStyleForAllPagesAfterGlobalChangeInEnvironment();</span>
<span class="line-removed"> 130 }</span>
<span class="line-removed"> 131 </span>
<span class="line-removed"> 132 RenderThemeGtk::RenderThemeGtk()</span>
<span class="line-removed"> 133 {</span>
<span class="line-removed"> 134     static bool themeMonitorInitialized = false;</span>
<span class="line-removed"> 135     if (!themeMonitorInitialized) {</span>
<span class="line-removed"> 136         GtkSettings* settings = gtk_settings_get_default();</span>
<span class="line-removed"> 137         g_signal_connect(settings, &quot;notify::gtk-theme-name&quot;, G_CALLBACK(themeChangedCallback), nullptr);</span>
<span class="line-removed"> 138         g_signal_connect(settings, &quot;notify::gtk-color-scheme&quot;, G_CALLBACK(themeChangedCallback), nullptr);</span>
<span class="line-removed"> 139         themeMonitorInitialized = true;</span>
<span class="line-removed"> 140     }</span>
<span class="line-removed"> 141 }</span>
<span class="line-removed"> 142 </span>
 143 enum RenderThemePart {
 144     Entry,
 145     EntrySelection,
 146     EntryIconLeft,
 147     EntryIconRight,
 148     Button,
 149     CheckButton,
 150     RadioButton,
 151     ComboBox,
 152     ComboBoxButton,
 153     ComboBoxArrow,
 154     Scale,
 155     ScaleTrough,
 156     ScaleSlider,
 157     ProgressBar,
 158     ProgressBarTrough,
 159     ProgressBarProgress,
 160     ListBox,
 161     SpinButton,
 162     SpinButtonUpButton,
</pre>
<hr />
<pre>
 934 {
 935     return styleColor(ListBox, GTK_STATE_FLAG_SELECTED, StyleColorForeground);
 936 }
 937 
 938 Color RenderThemeGtk::disabledTextColor(const Color&amp;, const Color&amp;) const
 939 {
 940     return styleColor(Entry, GTK_STATE_FLAG_INSENSITIVE, StyleColorForeground);
 941 }
 942 
 943 Color RenderThemeGtk::systemColor(CSSValueID cssValueId, OptionSet&lt;StyleColor::Options&gt; options) const
 944 {
 945     switch (cssValueId) {
 946     case CSSValueButtontext:
 947         return styleColor(Button, GTK_STATE_FLAG_ACTIVE, StyleColorForeground);
 948     case CSSValueCaptiontext:
 949         return styleColor(Entry, GTK_STATE_FLAG_ACTIVE, StyleColorForeground);
 950     case CSSValueText:
 951         return styleColor(Entry, GTK_STATE_FLAG_ACTIVE, StyleColorForeground);
 952     case CSSValueGraytext:
 953         return styleColor(Entry, GTK_STATE_FLAG_INSENSITIVE, StyleColorForeground);
<span class="line-removed"> 954     case CSSValueWebkitControlBackground:</span>
<span class="line-removed"> 955         return styleColor(Entry, GTK_STATE_FLAG_ACTIVE, StyleColorBackground);</span>
<span class="line-removed"> 956     case CSSValueWindow: {</span>
<span class="line-removed"> 957         // Only get window color from the theme in dark mode.</span>
<span class="line-removed"> 958         gboolean preferDarkTheme = FALSE;</span>
<span class="line-removed"> 959         if (auto* settings = gtk_settings_get_default())</span>
<span class="line-removed"> 960             g_object_get(settings, &quot;gtk-application-prefer-dark-theme&quot;, &amp;preferDarkTheme, nullptr);</span>
<span class="line-removed"> 961         if (preferDarkTheme)</span>
<span class="line-removed"> 962             return styleColor(Window, GTK_STATE_FLAG_ACTIVE, StyleColorBackground);</span>
<span class="line-removed"> 963         break;</span>
<span class="line-removed"> 964     }</span>
 965     default:
 966         break;
 967     }
 968 
 969     return RenderTheme::systemColor(cssValueId, options);
 970 }
 971 
 972 void RenderThemeGtk::platformColorsDidChange()
 973 {
 974     RenderTheme::platformColorsDidChange();
 975 }
 976 
 977 #if ENABLE(VIDEO)
 978 String RenderThemeGtk::extraMediaControlsStyleSheet()
 979 {
 980     return String(mediaControlsGtkUserAgentStyleSheet, sizeof(mediaControlsGtkUserAgentStyleSheet));
 981 }
 982 
 983 #if ENABLE(FULLSCREEN_API)
 984 String RenderThemeGtk::extraFullScreenStyleSheet()
</pre>
</td>
<td>
<hr />
<pre>
 107     fontDescription.setIsAbsoluteSize(true);
 108     fontDescription.setWeight(normalWeightValue());
 109     fontDescription.setItalic(FontSelectionValue());
 110     pango_font_description_free(pangoDescription);
 111 }
 112 
 113 #if ENABLE(DATALIST_ELEMENT)
 114 IntSize RenderThemeGtk::sliderTickSize() const
 115 {
 116     // FIXME: We need to set this to the size of one tick mark.
 117     return IntSize(0, 0);
 118 }
 119 
 120 int RenderThemeGtk::sliderTickOffsetFromTrackCenter() const
 121 {
 122     // FIXME: We need to set this to the position of the tick marks.
 123     return 0;
 124 }
 125 #endif
 126 
















 127 enum RenderThemePart {
 128     Entry,
 129     EntrySelection,
 130     EntryIconLeft,
 131     EntryIconRight,
 132     Button,
 133     CheckButton,
 134     RadioButton,
 135     ComboBox,
 136     ComboBoxButton,
 137     ComboBoxArrow,
 138     Scale,
 139     ScaleTrough,
 140     ScaleSlider,
 141     ProgressBar,
 142     ProgressBarTrough,
 143     ProgressBarProgress,
 144     ListBox,
 145     SpinButton,
 146     SpinButtonUpButton,
</pre>
<hr />
<pre>
 918 {
 919     return styleColor(ListBox, GTK_STATE_FLAG_SELECTED, StyleColorForeground);
 920 }
 921 
 922 Color RenderThemeGtk::disabledTextColor(const Color&amp;, const Color&amp;) const
 923 {
 924     return styleColor(Entry, GTK_STATE_FLAG_INSENSITIVE, StyleColorForeground);
 925 }
 926 
 927 Color RenderThemeGtk::systemColor(CSSValueID cssValueId, OptionSet&lt;StyleColor::Options&gt; options) const
 928 {
 929     switch (cssValueId) {
 930     case CSSValueButtontext:
 931         return styleColor(Button, GTK_STATE_FLAG_ACTIVE, StyleColorForeground);
 932     case CSSValueCaptiontext:
 933         return styleColor(Entry, GTK_STATE_FLAG_ACTIVE, StyleColorForeground);
 934     case CSSValueText:
 935         return styleColor(Entry, GTK_STATE_FLAG_ACTIVE, StyleColorForeground);
 936     case CSSValueGraytext:
 937         return styleColor(Entry, GTK_STATE_FLAG_INSENSITIVE, StyleColorForeground);











 938     default:
 939         break;
 940     }
 941 
 942     return RenderTheme::systemColor(cssValueId, options);
 943 }
 944 
 945 void RenderThemeGtk::platformColorsDidChange()
 946 {
 947     RenderTheme::platformColorsDidChange();
 948 }
 949 
 950 #if ENABLE(VIDEO)
 951 String RenderThemeGtk::extraMediaControlsStyleSheet()
 952 {
 953     return String(mediaControlsGtkUserAgentStyleSheet, sizeof(mediaControlsGtkUserAgentStyleSheet));
 954 }
 955 
 956 #if ENABLE(FULLSCREEN_API)
 957 String RenderThemeGtk::extraFullScreenStyleSheet()
</pre>
</td>
</tr>
</table>
<center><a href="RenderFrameSet.cpp.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="RenderThemeGtk.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>