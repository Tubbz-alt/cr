<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.web/src/test/java/test/javafx/scene/web/DOMTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.web/src/test/java/test/javafx/scene/web/DOMTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -32,11 +32,10 @@</span>
  import static org.junit.Assert.assertTrue;
  import static org.junit.Assert.fail;
  
  import javafx.scene.web.WebEngine;
  
<span class="udiff-line-removed">- import org.junit.Ignore;</span>
  import org.junit.Test;
  import org.w3c.dom.*;
  import org.w3c.dom.css.*;
  import org.w3c.dom.events.*;
  import org.w3c.dom.html.*;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -289,11 +288,10 @@</span>
              HTMLImageElement eli = (HTMLImageElement) inputsi.item(0);
              assertEquals(&quot;Image element typification&quot;, &quot;file:///C:/test.png&quot;, eli.getSrc());
          });
      }
  
<span class="udiff-line-removed">-     @Ignore(&quot;Incorrect test, refer JDK-8210955&quot;)</span>
      @Test public void testEventListenerCascade() {
          final Document doc = getDocumentFor(&quot;src/test/resources/test/html/dom.html&quot;);
          submit(() -&gt; {
              HTMLDocument htmlDoc = (HTMLDocument)doc;
              final HTMLBodyElement body = (HTMLBodyElement)htmlDoc.getBody();
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -340,19 +338,19 @@</span>
  
              EventListener listener1 = evt -&gt; {
                  EventTarget src = ((MouseEvent) evt).getTarget();
                  ((HTMLBodyElement) src).setClassName(&quot;newTestClass&quot;);
              };
<span class="udiff-line-modified-removed">-             ((EventTarget)body).addEventListener(&quot;click&quot;, listener1, true);</span>
<span class="udiff-line-modified-added">+             ((EventTarget)body).addEventListener(&quot;click&quot;, listener1, false);</span>
              ((EventTarget)body).dispatchEvent(evClick);
              assertEquals(&quot;Java EventHandler does not work directly&quot;, &quot;newTestClass&quot;, body.getClassName());
  
              EventListener listener2 = evt -&gt; {
                  //OK: stacked ScriptExecutionContext
                  listenerJS.handleEvent(evt);
              };
<span class="udiff-line-modified-removed">-             ((EventTarget)body).addEventListener(&quot;click&quot;, listener2, true);</span>
<span class="udiff-line-modified-added">+             ((EventTarget)body).addEventListener(&quot;click&quot;, listener2, false);</span>
              ((EventTarget)body).dispatchEvent(evClick);
              assertEquals(&quot;JS EventHandler does not work from Java call&quot;, &quot;testClass&quot;, body.getClassName());
          });
      }
  
</pre>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>