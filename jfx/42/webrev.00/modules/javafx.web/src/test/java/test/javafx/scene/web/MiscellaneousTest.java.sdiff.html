<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/test/java/test/javafx/scene/web/MiscellaneousTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="LeakTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.web/src/test/java/test/javafx/scene/web/MiscellaneousTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 74 
 75     @Test public void testRT22458() throws Exception {
 76         final WebEngine webEngine = createWebEngine();
 77         Platform.runLater(() -&gt; {
 78             webEngine.load(format(&quot;file://%d.ajax.googleapis.com/ajax&quot;,
 79                                   new Random().nextInt()));
 80         });
 81         Thread.sleep(200);
 82         long startTime = System.currentTimeMillis();
 83         DummyClass.dummyField++;
 84         long time = System.currentTimeMillis() - startTime;
 85         if (time &gt; 2000) {
 86             fail(format(&quot;DummyClass took %f seconds to load&quot;, time / 1000.));
 87         }
 88     }
 89 
 90     private static final class DummyClass {
 91         private static int dummyField;
 92     }
 93 
<span class="line-removed"> 94     @org.junit.Ignore</span>
 95     @Test public void testRT30835() throws Exception {
 96         class Record {
 97             private final Document document;
 98             private final String location;
 99             public Record(Document document, String location) {
100                 this.document = document;
101                 this.location = location;
102             }
103         }
104         final ArrayList&lt;Record&gt; records = new ArrayList&lt;Record&gt;();
105         ChangeListener&lt;State&gt; listener = (ov, oldValue, newValue) -&gt; {
106             if (newValue == State.SUCCEEDED) {
107                 records.add(new Record(
108                         getEngine().getDocument(),
109                         getEngine().getLocation()));
110             }
111         };
112         submit(() -&gt; {
113             getEngine().getLoadWorker().stateProperty().addListener(listener);
114         });
</pre>
</td>
<td>
<hr />
<pre>
 74 
 75     @Test public void testRT22458() throws Exception {
 76         final WebEngine webEngine = createWebEngine();
 77         Platform.runLater(() -&gt; {
 78             webEngine.load(format(&quot;file://%d.ajax.googleapis.com/ajax&quot;,
 79                                   new Random().nextInt()));
 80         });
 81         Thread.sleep(200);
 82         long startTime = System.currentTimeMillis();
 83         DummyClass.dummyField++;
 84         long time = System.currentTimeMillis() - startTime;
 85         if (time &gt; 2000) {
 86             fail(format(&quot;DummyClass took %f seconds to load&quot;, time / 1000.));
 87         }
 88     }
 89 
 90     private static final class DummyClass {
 91         private static int dummyField;
 92     }
 93 

 94     @Test public void testRT30835() throws Exception {
 95         class Record {
 96             private final Document document;
 97             private final String location;
 98             public Record(Document document, String location) {
 99                 this.document = document;
100                 this.location = location;
101             }
102         }
103         final ArrayList&lt;Record&gt; records = new ArrayList&lt;Record&gt;();
104         ChangeListener&lt;State&gt; listener = (ov, oldValue, newValue) -&gt; {
105             if (newValue == State.SUCCEEDED) {
106                 records.add(new Record(
107                         getEngine().getDocument(),
108                         getEngine().getLocation()));
109             }
110         };
111         submit(() -&gt; {
112             getEngine().getLoadWorker().stateProperty().addListener(listener);
113         });
</pre>
</td>
</tr>
</table>
<center><a href="LeakTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>