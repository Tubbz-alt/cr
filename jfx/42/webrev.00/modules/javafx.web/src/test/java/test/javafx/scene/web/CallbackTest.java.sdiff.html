<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/test/java/test/javafx/scene/web/CallbackTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../com/sun/webkit/network/CookieManagerTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="LeakTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/test/java/test/javafx/scene/web/CallbackTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 71     TestUI popupUi = new TestUI();
 72 
 73     {
 74         WebEngine w = getEngine();
 75 
 76         w.setOnAlert(mainUi.onAlert);
 77         w.setOnStatusChanged(mainUi.onStatusChanged);
 78         w.setOnResized(mainUi.onResized);
 79         w.setOnVisibilityChanged(mainUi.onVisibilityChanged);
 80 
 81         w.setCreatePopupHandler(mainUi.createPopup);
 82         w.setConfirmHandler(mainUi.confirm);
 83         w.setPromptHandler(mainUi.prompt);
 84     }
 85 
 86     private void clear() {
 87         mainUi.clear();
 88         popupUi.clear();
 89     }
 90 
<span class="line-removed"> 91     @Ignore(&quot;RT-34508&quot;)</span>
 92     @Test public void testDefaultPopup() {
 93         clear();
 94         executeScript(JS_OPEN_DEFAULT);
 95         checkDefaultPopup();
 96 
 97         clear();
 98         String html = HTML_ONLOAD.replaceAll(&quot;ONLOAD&quot;, JS_OPEN_DEFAULT);
 99         loadContent(html);
100         checkDefaultPopup();
101     }
102 
103     private void checkDefaultPopup() {
104         mainUi.checkCalled(CREATE_POPUP, true, true, true, true);
105         popupUi.checkCalled(RESIZED);
106         popupUi.checkCalled(VISIBILITY_CHANGED, true);
107     }
108 
<span class="line-removed">109     @Ignore(&quot;RT-34508&quot;)</span>
110     @Test public void testCustomPopup() {
111         clear();
112         executeScript(JS_OPEN);
113         checkCustomPopup();
114 
115         clear();
116         String html = HTML_ONLOAD.replaceAll(&quot;ONLOAD&quot;, JS_OPEN);
117         loadContent(html);
118         checkCustomPopup();
119     }
120 
121     private void checkCustomPopup() {
122         mainUi.checkCalled(CREATE_POPUP, false, true, false, true);
123         popupUi.checkCalled(RESIZED);
124         popupUi.checkCalled(VISIBILITY_CHANGED, true);
125     }
126 
127     // Tests that no exceptions occur when createPopupHandler is null (RT-15512).
128     // Exceptions are cleared in native code and we cannot catch them at Java
129     // level. So we check stderr output to detect them.
</pre>
</td>
<td>
<hr />
<pre>
 71     TestUI popupUi = new TestUI();
 72 
 73     {
 74         WebEngine w = getEngine();
 75 
 76         w.setOnAlert(mainUi.onAlert);
 77         w.setOnStatusChanged(mainUi.onStatusChanged);
 78         w.setOnResized(mainUi.onResized);
 79         w.setOnVisibilityChanged(mainUi.onVisibilityChanged);
 80 
 81         w.setCreatePopupHandler(mainUi.createPopup);
 82         w.setConfirmHandler(mainUi.confirm);
 83         w.setPromptHandler(mainUi.prompt);
 84     }
 85 
 86     private void clear() {
 87         mainUi.clear();
 88         popupUi.clear();
 89     }
 90 

 91     @Test public void testDefaultPopup() {
 92         clear();
 93         executeScript(JS_OPEN_DEFAULT);
 94         checkDefaultPopup();
 95 
 96         clear();
 97         String html = HTML_ONLOAD.replaceAll(&quot;ONLOAD&quot;, JS_OPEN_DEFAULT);
 98         loadContent(html);
 99         checkDefaultPopup();
100     }
101 
102     private void checkDefaultPopup() {
103         mainUi.checkCalled(CREATE_POPUP, true, true, true, true);
104         popupUi.checkCalled(RESIZED);
105         popupUi.checkCalled(VISIBILITY_CHANGED, true);
106     }
107 

108     @Test public void testCustomPopup() {
109         clear();
110         executeScript(JS_OPEN);
111         checkCustomPopup();
112 
113         clear();
114         String html = HTML_ONLOAD.replaceAll(&quot;ONLOAD&quot;, JS_OPEN);
115         loadContent(html);
116         checkCustomPopup();
117     }
118 
119     private void checkCustomPopup() {
120         mainUi.checkCalled(CREATE_POPUP, false, true, false, true);
121         popupUi.checkCalled(RESIZED);
122         popupUi.checkCalled(VISIBILITY_CHANGED, true);
123     }
124 
125     // Tests that no exceptions occur when createPopupHandler is null (RT-15512).
126     // Exceptions are cleared in native code and we cannot catch them at Java
127     // level. So we check stderr output to detect them.
</pre>
</td>
</tr>
</table>
<center><a href="../../../com/sun/webkit/network/CookieManagerTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="LeakTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>