<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/skin/TabPaneSkin.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/test/javafx/scene/control/TabPaneTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/skin/TabPaneSkin.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
2196             dragTabHeader.setViewOrder(0);
2197             dragHeaderStartX = dragHeaderDestX = dragTabHeader.getLayoutX();
2198         }
2199     }
2200 
2201     private double getHeaderRegionLocalX(MouseEvent ev) {
2202         // The event is converted to tab header&#39;s parent i.e. headersRegion&#39;s local space.
2203         // This will provide a value of X co-ordinate with all transformations of TabPane
2204         // and transformations of all nodes in the TabPane&#39;s parent hierarchy.
2205         Point2D sceneToLocalHR = headersRegion.sceneToLocal(ev.getSceneX(), ev.getSceneY());
2206         return sceneToLocalHR.getX();
2207     }
2208 
2209     private void stopDrag() {
2210         if (dragState == DragState.START) {
2211             // No drag action was performed.
2212             resetDrag();
2213             return;
2214         }
2215         // Animate tab header being dragged to its final position.
<span class="line-modified">2216         dragHeaderSourceX = dragTabHeader.getLayoutX();</span>
<span class="line-modified">2217         dragHeaderTransitionX = dragHeaderDestX - dragHeaderSourceX;</span>
<span class="line-modified">2218         dragHeaderAnim.playFromStart();</span>
<span class="line-modified">2219 </span>
<span class="line-modified">2220         // Reorder the tab list.</span>
<span class="line-modified">2221         if (dragHeaderStartX != dragHeaderDestX) {</span>
<span class="line-modified">2222             ((TabObservableList&lt;Tab&gt;) getSkinnable().getTabs()).reorder(dragTabHeader.tab, swapTab);</span>
<span class="line-modified">2223             swapTab = null;</span>


2224         }
2225     }
2226 
2227     private void resetDrag() {
2228         dragState = DragState.NONE;
2229         dragTabHeader.setViewOrder(1);
2230         dragTabHeader = null;
2231         dropTabHeader = null;
2232         headersRegion.requestLayout();
2233     }
2234 
2235     // Animate tab header being dropped-on to its new position.
2236     private void startHeaderReorderingAnim() {
2237         dropAnimHeader = dropTabHeader;
2238         swapTab = dropAnimHeader.tab;
2239         dropHeaderSourceX = dropAnimHeader.getLayoutX();
2240         dropHeaderAnim.playFromStart();
2241     }
2242 
2243     // Remove dropAnimHeader and add at the index position of dragTabHeader.
</pre>
</td>
<td>
<hr />
<pre>
2196             dragTabHeader.setViewOrder(0);
2197             dragHeaderStartX = dragHeaderDestX = dragTabHeader.getLayoutX();
2198         }
2199     }
2200 
2201     private double getHeaderRegionLocalX(MouseEvent ev) {
2202         // The event is converted to tab header&#39;s parent i.e. headersRegion&#39;s local space.
2203         // This will provide a value of X co-ordinate with all transformations of TabPane
2204         // and transformations of all nodes in the TabPane&#39;s parent hierarchy.
2205         Point2D sceneToLocalHR = headersRegion.sceneToLocal(ev.getSceneX(), ev.getSceneY());
2206         return sceneToLocalHR.getX();
2207     }
2208 
2209     private void stopDrag() {
2210         if (dragState == DragState.START) {
2211             // No drag action was performed.
2212             resetDrag();
2213             return;
2214         }
2215         // Animate tab header being dragged to its final position.
<span class="line-modified">2216         if (dragTabHeader != null) {</span>
<span class="line-modified">2217             dragHeaderSourceX = dragTabHeader.getLayoutX();</span>
<span class="line-modified">2218             dragHeaderTransitionX = dragHeaderDestX - dragHeaderSourceX;</span>
<span class="line-modified">2219             dragHeaderAnim.playFromStart();</span>
<span class="line-modified">2220 </span>
<span class="line-modified">2221             // Reorder the tab list.</span>
<span class="line-modified">2222             if (dragHeaderStartX != dragHeaderDestX) {</span>
<span class="line-modified">2223                 ((TabObservableList&lt;Tab&gt;) getSkinnable().getTabs()).reorder(dragTabHeader.tab, swapTab);</span>
<span class="line-added">2224                 swapTab = null;</span>
<span class="line-added">2225             }</span>
2226         }
2227     }
2228 
2229     private void resetDrag() {
2230         dragState = DragState.NONE;
2231         dragTabHeader.setViewOrder(1);
2232         dragTabHeader = null;
2233         dropTabHeader = null;
2234         headersRegion.requestLayout();
2235     }
2236 
2237     // Animate tab header being dropped-on to its new position.
2238     private void startHeaderReorderingAnim() {
2239         dropAnimHeader = dropTabHeader;
2240         swapTab = dropAnimHeader.tab;
2241         dropHeaderSourceX = dropAnimHeader.getLayoutX();
2242         dropHeaderAnim.playFromStart();
2243     }
2244 
2245     // Remove dropAnimHeader and add at the index position of dragTabHeader.
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../test/java/test/javafx/scene/control/TabPaneTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>