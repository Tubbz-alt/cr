diff a/modules/javafx.graphics/src/main/resources/com/sun/prism/es2/glsl/selfIllum_texture.frag b/modules/javafx.graphics/src/main/resources/com/sun/prism/es2/glsl/selfIllum_texture.frag
--- a/modules/javafx.graphics/src/main/resources/com/sun/prism/es2/glsl/selfIllum_texture.frag
+++ b/modules/javafx.graphics/src/main/resources/com/sun/prism/es2/glsl/selfIllum_texture.frag
@@ -26,12 +26,12 @@
 // texture selfIllum fragment shader
 
 #ifdef GL_ES
 
 #ifndef EXTENSION_APPLIED
-#extension GL_OES_standard_derivatives : enable
 #define EXTENSION_APPLIED
+#extension GL_OES_standard_derivatives : enable
 #endif
 
 // Define default float precision for fragment shaders
 #ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
