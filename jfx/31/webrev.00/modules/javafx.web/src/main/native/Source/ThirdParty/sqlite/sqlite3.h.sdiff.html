<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/native/Source/ThirdParty/sqlite/sqlite3.h</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="sqlite3.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="sqlite3ext.h.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.web/src/main/native/Source/ThirdParty/sqlite/sqlite3.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  106 ** The SQLITE_VERSION_NUMBER for any given release of SQLite will also
  107 ** be larger than the release from which it is derived.  Either Y will
  108 ** be held constant and Z will be incremented or else Y will be incremented
  109 ** and Z will be reset to zero.
  110 **
  111 ** Since [version 3.6.18] ([dateof:3.6.18]),
  112 ** SQLite source code has been stored in the
  113 ** &lt;a href=&quot;http://www.fossil-scm.org/&quot;&gt;Fossil configuration management
  114 ** system&lt;/a&gt;.  ^The SQLITE_SOURCE_ID macro evaluates to
  115 ** a string which identifies a particular check-in of SQLite
  116 ** within its configuration management system.  ^The SQLITE_SOURCE_ID
  117 ** string contains the date and time of the check-in (UTC) and a SHA1
  118 ** or SHA3-256 hash of the entire source tree.  If the source code has
  119 ** been edited in any way since it was last checked in, then the last
  120 ** four hexadecimal digits of the hash may be modified.
  121 **
  122 ** See also: [sqlite3_libversion()],
  123 ** [sqlite3_libversion_number()], [sqlite3_sourceid()],
  124 ** [sqlite_version()] and [sqlite_source_id()].
  125 */
<span class="line-modified">  126 #define SQLITE_VERSION        &quot;3.28.0&quot;</span>
<span class="line-modified">  127 #define SQLITE_VERSION_NUMBER 3028000</span>
<span class="line-modified">  128 #define SQLITE_SOURCE_ID      &quot;2019-04-16 19:49:53 884b4b7e502b4e991677b53971277adfaf0a04a284f8e483e2553d0f83156b50&quot;</span>
  129 
  130 /*
  131 ** CAPI3REF: Run-Time Library Version Numbers
  132 ** KEYWORDS: sqlite3_version sqlite3_sourceid
  133 **
  134 ** These interfaces provide the same information as the [SQLITE_VERSION],
  135 ** [SQLITE_VERSION_NUMBER], and [SQLITE_SOURCE_ID] C preprocessor macros
  136 ** but are associated with the library instead of the header file.  ^(Cautious
  137 ** programmers might include assert() statements in their application to
  138 ** verify that values returned by these interfaces match the macros in
  139 ** the header, and thus ensure that the application is
  140 ** compiled with matching library and header files.
  141 **
  142 ** &lt;blockquote&gt;&lt;pre&gt;
  143 ** assert( sqlite3_libversion_number()==SQLITE_VERSION_NUMBER );
  144 ** assert( strncmp(sqlite3_sourceid(),SQLITE_SOURCE_ID,80)==0 );
  145 ** assert( strcmp(sqlite3_libversion(),SQLITE_VERSION)==0 );
  146 ** &lt;/pre&gt;&lt;/blockquote&gt;)^
  147 **
  148 ** ^The sqlite3_version[] string constant contains the text of [SQLITE_VERSION]
</pre>
<hr />
<pre>
 1279 ** API.  The SQLITE_OPEN_EXCLUSIVE flag, when paired with the
 1280 ** SQLITE_OPEN_CREATE, is used to indicate that file should always
 1281 ** be created, and that it is an error if it already exists.
 1282 ** It is &lt;i&gt;not&lt;/i&gt; used to indicate the file should be opened
 1283 ** for exclusive access.
 1284 **
 1285 ** ^At least szOsFile bytes of memory are allocated by SQLite
 1286 ** to hold the  [sqlite3_file] structure passed as the third
 1287 ** argument to xOpen.  The xOpen method does not have to
 1288 ** allocate the structure; it should just fill it in.  Note that
 1289 ** the xOpen method must set the sqlite3_file.pMethods to either
 1290 ** a valid [sqlite3_io_methods] object or to NULL.  xOpen must do
 1291 ** this even if the open fails.  SQLite expects that the sqlite3_file.pMethods
 1292 ** element will be valid after xOpen returns regardless of the success
 1293 ** or failure of the xOpen call.
 1294 **
 1295 ** [[sqlite3_vfs.xAccess]]
 1296 ** ^The flags argument to xAccess() may be [SQLITE_ACCESS_EXISTS]
 1297 ** to test for the existence of a file, or [SQLITE_ACCESS_READWRITE] to
 1298 ** test whether a file is readable and writable, or [SQLITE_ACCESS_READ]
<span class="line-modified"> 1299 ** to test whether a file is at least readable.   The file can be a</span>
<span class="line-modified"> 1300 ** directory.</span>






 1301 **
 1302 ** ^SQLite will always allocate at least mxPathname+1 bytes for the
 1303 ** output buffer xFullPathname.  The exact size of the output buffer
 1304 ** is also passed as a parameter to both  methods. If the output buffer
 1305 ** is not large enough, [SQLITE_CANTOPEN] should be returned. Since this is
 1306 ** handled as a fatal error by SQLite, vfs implementations should endeavor
 1307 ** to prevent this by setting mxPathname to a sufficiently large value.
 1308 **
 1309 ** The xRandomness(), xSleep(), xCurrentTime(), and xCurrentTimeInt64()
 1310 ** interfaces are not strictly a part of the filesystem, but they are
 1311 ** included in the VFS structure for completeness.
 1312 ** The xRandomness() function attempts to return nBytes bytes
 1313 ** of good-quality randomness into zOut.  The return value is
 1314 ** the actual number of bytes of randomness obtained.
 1315 ** The xSleep() method causes the calling thread to sleep for at
 1316 ** least the number of microseconds given.  ^The xCurrentTime()
 1317 ** method returns a Julian Day Number for the current date and time as
 1318 ** a floating point value.
 1319 ** ^The xCurrentTimeInt64() method returns, as an integer, the Julian
 1320 ** Day Number multiplied by 86400000 (the number of milliseconds in
</pre>
<hr />
<pre>
 2070 ** &lt;dd&gt; ^This option is used to enable or disable the enforcement of
 2071 ** [foreign key constraints].  There should be two additional arguments.
 2072 ** The first argument is an integer which is 0 to disable FK enforcement,
 2073 ** positive to enable FK enforcement or negative to leave FK enforcement
 2074 ** unchanged.  The second parameter is a pointer to an integer into which
 2075 ** is written 0 or 1 to indicate whether FK enforcement is off or on
 2076 ** following this call.  The second parameter may be a NULL pointer, in
 2077 ** which case the FK enforcement setting is not reported back. &lt;/dd&gt;
 2078 **
 2079 ** [[SQLITE_DBCONFIG_ENABLE_TRIGGER]]
 2080 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_TRIGGER&lt;/dt&gt;
 2081 ** &lt;dd&gt; ^This option is used to enable or disable [CREATE TRIGGER | triggers].
 2082 ** There should be two additional arguments.
 2083 ** The first argument is an integer which is 0 to disable triggers,
 2084 ** positive to enable triggers or negative to leave the setting unchanged.
 2085 ** The second parameter is a pointer to an integer into which
 2086 ** is written 0 or 1 to indicate whether triggers are disabled or enabled
 2087 ** following this call.  The second parameter may be a NULL pointer, in
 2088 ** which case the trigger setting is not reported back. &lt;/dd&gt;
 2089 **











 2090 ** [[SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER]]
 2091 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER&lt;/dt&gt;
 2092 ** &lt;dd&gt; ^This option is used to enable or disable the
 2093 ** [fts3_tokenizer()] function which is part of the
 2094 ** [FTS3] full-text search engine extension.
 2095 ** There should be two additional arguments.
 2096 ** The first argument is an integer which is 0 to disable fts3_tokenizer() or
 2097 ** positive to enable fts3_tokenizer() or negative to leave the setting
 2098 ** unchanged.
 2099 ** The second parameter is a pointer to an integer into which
 2100 ** is written 0 or 1 to indicate whether fts3_tokenizer is disabled or enabled
 2101 ** following this call.  The second parameter may be a NULL pointer, in
 2102 ** which case the new setting is not reported back. &lt;/dd&gt;
 2103 **
 2104 ** [[SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION]]
 2105 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION&lt;/dt&gt;
 2106 ** &lt;dd&gt; ^This option is used to enable or disable the [sqlite3_load_extension()]
 2107 ** interface independently of the [load_extension()] SQL function.
 2108 ** The [sqlite3_enable_load_extension()] API enables or disables both the
 2109 ** C-API [sqlite3_load_extension()] and the SQL function [load_extension()].
</pre>
<hr />
<pre>
 2181 **      database, or calling sqlite3_table_column_metadata(), ignoring any
 2182 **      errors.  This step is only necessary if the application desires to keep
 2183 **      the database in WAL mode after the reset if it was in WAL mode before
 2184 **      the reset.
 2185 ** &lt;li&gt; sqlite3_db_config(db, SQLITE_DBCONFIG_RESET_DATABASE, 1, 0);
 2186 ** &lt;li&gt; [sqlite3_exec](db, &quot;[VACUUM]&quot;, 0, 0, 0);
 2187 ** &lt;li&gt; sqlite3_db_config(db, SQLITE_DBCONFIG_RESET_DATABASE, 0, 0);
 2188 ** &lt;/ol&gt;
 2189 ** Because resetting a database is destructive and irreversible, the
 2190 ** process requires the use of this obscure API and multiple steps to help
 2191 ** ensure that it does not happen by accident.
 2192 **
 2193 ** [[SQLITE_DBCONFIG_DEFENSIVE]] &lt;dt&gt;SQLITE_DBCONFIG_DEFENSIVE&lt;/dt&gt;
 2194 ** &lt;dd&gt;The SQLITE_DBCONFIG_DEFENSIVE option activates or deactivates the
 2195 ** &quot;defensive&quot; flag for a database connection.  When the defensive
 2196 ** flag is enabled, language features that allow ordinary SQL to
 2197 ** deliberately corrupt the database file are disabled.  The disabled
 2198 ** features include but are not limited to the following:
 2199 ** &lt;ul&gt;
 2200 ** &lt;li&gt; The [PRAGMA writable_schema=ON] statement.

 2201 ** &lt;li&gt; Writes to the [sqlite_dbpage] virtual table.
 2202 ** &lt;li&gt; Direct writes to [shadow tables].
 2203 ** &lt;/ul&gt;
 2204 ** &lt;/dd&gt;
 2205 **
 2206 ** [[SQLITE_DBCONFIG_WRITABLE_SCHEMA]] &lt;dt&gt;SQLITE_DBCONFIG_WRITABLE_SCHEMA&lt;/dt&gt;
 2207 ** &lt;dd&gt;The SQLITE_DBCONFIG_WRITABLE_SCHEMA option activates or deactivates the
 2208 ** &quot;writable_schema&quot; flag. This has the same effect and is logically equivalent
 2209 ** to setting [PRAGMA writable_schema=ON] or [PRAGMA writable_schema=OFF].
 2210 ** The first argument to this setting is an integer which is 0 to disable
 2211 ** the writable_schema, positive to enable writable_schema, or negative to
 2212 ** leave the setting unchanged. The second parameter is a pointer to an
 2213 ** integer into which is written 0 or 1 to indicate whether the writable_schema
 2214 ** is enabled or disabled following this call.
 2215 ** &lt;/dd&gt;




























 2216 ** &lt;/dl&gt;
 2217 */
 2218 #define SQLITE_DBCONFIG_MAINDBNAME            1000 /* const char* */
 2219 #define SQLITE_DBCONFIG_LOOKASIDE             1001 /* void* int int */
 2220 #define SQLITE_DBCONFIG_ENABLE_FKEY           1002 /* int int* */
 2221 #define SQLITE_DBCONFIG_ENABLE_TRIGGER        1003 /* int int* */
 2222 #define SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER 1004 /* int int* */
 2223 #define SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION 1005 /* int int* */
 2224 #define SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE      1006 /* int int* */
 2225 #define SQLITE_DBCONFIG_ENABLE_QPSG           1007 /* int int* */
 2226 #define SQLITE_DBCONFIG_TRIGGER_EQP           1008 /* int int* */
 2227 #define SQLITE_DBCONFIG_RESET_DATABASE        1009 /* int int* */
 2228 #define SQLITE_DBCONFIG_DEFENSIVE             1010 /* int int* */
 2229 #define SQLITE_DBCONFIG_WRITABLE_SCHEMA       1011 /* int int* */
<span class="line-modified"> 2230 #define SQLITE_DBCONFIG_MAX                   1011 /* Largest DBCONFIG */</span>




 2231 
 2232 /*
 2233 ** CAPI3REF: Enable Or Disable Extended Result Codes
 2234 ** METHOD: sqlite3
 2235 **
 2236 ** ^The sqlite3_extended_result_codes() routine enables or disables the
 2237 ** [extended result codes] feature of SQLite. ^The extended result
 2238 ** codes are disabled by default for historical compatibility.
 2239 */
 2240 SQLITE_API int sqlite3_extended_result_codes(sqlite3*, int onoff);
 2241 
 2242 /*
 2243 ** CAPI3REF: Last Insert Rowid
 2244 ** METHOD: sqlite3
 2245 **
 2246 ** ^Each entry in most SQLite tables (except for [WITHOUT ROWID] tables)
 2247 ** has a unique 64-bit signed
 2248 ** integer key called the [ROWID | &quot;rowid&quot;]. ^The rowid is always available
 2249 ** as an undeclared column named ROWID, OID, or _ROWID_ as long as those
 2250 ** names are not also used by explicitly declared columns. ^If
</pre>
<hr />
<pre>
 3759 ** &lt;/li&gt;
 3760 **
 3761 ** &lt;li&gt;
 3762 ** ^When an error occurs, [sqlite3_step()] will return one of the detailed
 3763 ** [error codes] or [extended error codes].  ^The legacy behavior was that
 3764 ** [sqlite3_step()] would only return a generic [SQLITE_ERROR] result code
 3765 ** and the application would have to make a second call to [sqlite3_reset()]
 3766 ** in order to find the underlying cause of the problem. With the &quot;v2&quot; prepare
 3767 ** interfaces, the underlying reason for the error is returned immediately.
 3768 ** &lt;/li&gt;
 3769 **
 3770 ** &lt;li&gt;
 3771 ** ^If the specific value bound to [parameter | host parameter] in the
 3772 ** WHERE clause might influence the choice of query plan for a statement,
 3773 ** then the statement will be automatically recompiled, as if there had been
 3774 ** a schema change, on the first  [sqlite3_step()] call following any change
 3775 ** to the [sqlite3_bind_text | bindings] of that [parameter].
 3776 ** ^The specific value of WHERE-clause [parameter] might influence the
 3777 ** choice of query plan if the parameter is the left-hand side of a [LIKE]
 3778 ** or [GLOB] operator or if the parameter is compared to an indexed column
<span class="line-modified"> 3779 ** and the [SQLITE_ENABLE_STAT3] compile-time option is enabled.</span>
 3780 ** &lt;/li&gt;
 3781 ** &lt;/ol&gt;
 3782 **
 3783 ** &lt;p&gt;^sqlite3_prepare_v3() differs from sqlite3_prepare_v2() only in having
 3784 ** the extra prepFlags parameter, which is a bit array consisting of zero or
 3785 ** more of the [SQLITE_PREPARE_PERSISTENT|SQLITE_PREPARE_*] flags.  ^The
 3786 ** sqlite3_prepare_v2() interface works exactly the same as
 3787 ** sqlite3_prepare_v3() with a zero prepFlags parameter.
 3788 */
 3789 SQLITE_API int sqlite3_prepare(
 3790   sqlite3 *db,            /* Database handle */
 3791   const char *zSql,       /* SQL statement, UTF-8 encoded */
 3792   int nByte,              /* Maximum length of zSql in bytes. */
 3793   sqlite3_stmt **ppStmt,  /* OUT: Statement handle */
 3794   const char **pzTail     /* OUT: Pointer to unused portion of zSql */
 3795 );
 3796 SQLITE_API int sqlite3_prepare_v2(
 3797   sqlite3 *db,            /* Database handle */
 3798   const char *zSql,       /* SQL statement, UTF-8 encoded */
 3799   int nByte,              /* Maximum length of zSql in bytes. */
</pre>
<hr />
<pre>
 4794 ** [SQLITE_UTF8 | text encoding] this SQL function prefers for
 4795 ** its parameters.  The application should set this parameter to
 4796 ** [SQLITE_UTF16LE] if the function implementation invokes
 4797 ** [sqlite3_value_text16le()] on an input, or [SQLITE_UTF16BE] if the
 4798 ** implementation invokes [sqlite3_value_text16be()] on an input, or
 4799 ** [SQLITE_UTF16] if [sqlite3_value_text16()] is used, or [SQLITE_UTF8]
 4800 ** otherwise.  ^The same SQL function may be registered multiple times using
 4801 ** different preferred text encodings, with different implementations for
 4802 ** each encoding.
 4803 ** ^When multiple implementations of the same function are available, SQLite
 4804 ** will pick the one that involves the least amount of data conversion.
 4805 **
 4806 ** ^The fourth parameter may optionally be ORed with [SQLITE_DETERMINISTIC]
 4807 ** to signal that the function will always return the same result given
 4808 ** the same inputs within a single SQL statement.  Most SQL functions are
 4809 ** deterministic.  The built-in [random()] SQL function is an example of a
 4810 ** function that is not deterministic.  The SQLite query planner is able to
 4811 ** perform additional optimizations on deterministic functions, so use
 4812 ** of the [SQLITE_DETERMINISTIC] flag is recommended where possible.
 4813 **






 4814 ** ^(The fifth parameter is an arbitrary pointer.  The implementation of the
 4815 ** function can gain access to this pointer using [sqlite3_user_data()].)^
 4816 **
 4817 ** ^The sixth, seventh and eighth parameters passed to the three
 4818 ** &quot;sqlite3_create_function*&quot; functions, xFunc, xStep and xFinal, are
 4819 ** pointers to C-language functions that implement the SQL function or
 4820 ** aggregate. ^A scalar SQL function requires an implementation of the xFunc
 4821 ** callback only; NULL pointers must be passed as the xStep and xFinal
 4822 ** parameters. ^An aggregate SQL function requires an implementation of xStep
 4823 ** and xFinal and NULL pointer must be passed for xFunc. ^To delete an existing
 4824 ** SQL function or aggregate, pass NULL pointers for all three function
 4825 ** callbacks.
 4826 **
 4827 ** ^The sixth, seventh, eighth and ninth parameters (xStep, xFinal, xValue
 4828 ** and xInverse) passed to sqlite3_create_window_function are pointers to
 4829 ** C-language callbacks that implement the new function. xStep and xFinal
 4830 ** must both be non-NULL. xValue and xInverse may either both be NULL, in
 4831 ** which case a regular aggregate function is created, or must both be
 4832 ** non-NULL, in which case the new function may be used as either an aggregate
 4833 ** or aggregate window function. More details regarding the implementation
</pre>
<hr />
<pre>
 4910 /*
 4911 ** CAPI3REF: Text Encodings
 4912 **
 4913 ** These constant define integer codes that represent the various
 4914 ** text encodings supported by SQLite.
 4915 */
 4916 #define SQLITE_UTF8           1    /* IMP: R-37514-35566 */
 4917 #define SQLITE_UTF16LE        2    /* IMP: R-03371-37637 */
 4918 #define SQLITE_UTF16BE        3    /* IMP: R-51971-34154 */
 4919 #define SQLITE_UTF16          4    /* Use native byte order */
 4920 #define SQLITE_ANY            5    /* Deprecated */
 4921 #define SQLITE_UTF16_ALIGNED  8    /* sqlite3_create_collation only */
 4922 
 4923 /*
 4924 ** CAPI3REF: Function Flags
 4925 **
 4926 ** These constants may be ORed together with the
 4927 ** [SQLITE_UTF8 | preferred text encoding] as the fourth argument
 4928 ** to [sqlite3_create_function()], [sqlite3_create_function16()], or
 4929 ** [sqlite3_create_function_v2()].




















 4930 */
<span class="line-modified"> 4931 #define SQLITE_DETERMINISTIC    0x800</span>


 4932 
 4933 /*
 4934 ** CAPI3REF: Deprecated Functions
 4935 ** DEPRECATED
 4936 **
 4937 ** These functions are [deprecated].  In order to maintain
 4938 ** backwards compatibility with older code, these functions continue
 4939 ** to be supported.  However, new applications should avoid
 4940 ** the use of these functions.  To encourage programmers to avoid
 4941 ** these functions, we will not explain what they do.
 4942 */
 4943 #ifndef SQLITE_OMIT_DEPRECATED
 4944 SQLITE_API SQLITE_DEPRECATED int sqlite3_aggregate_count(sqlite3_context*);
 4945 SQLITE_API SQLITE_DEPRECATED int sqlite3_expired(sqlite3_stmt*);
 4946 SQLITE_API SQLITE_DEPRECATED int sqlite3_transfer_bindings(sqlite3_stmt*, sqlite3_stmt*);
 4947 SQLITE_API SQLITE_DEPRECATED int sqlite3_global_recover(void);
 4948 SQLITE_API SQLITE_DEPRECATED void sqlite3_thread_cleanup(void);
 4949 SQLITE_API SQLITE_DEPRECATED int sqlite3_memory_alarm(void(*)(void*,sqlite3_int64,int),
 4950                       void*,sqlite3_int64);
 4951 #endif
</pre>
<hr />
<pre>
 6557 ** ^Module names must be registered before
 6558 ** creating a new [virtual table] using the module and before using a
 6559 ** preexisting [virtual table] for the module.
 6560 **
 6561 ** ^The module name is registered on the [database connection] specified
 6562 ** by the first parameter.  ^The name of the module is given by the
 6563 ** second parameter.  ^The third parameter is a pointer to
 6564 ** the implementation of the [virtual table module].   ^The fourth
 6565 ** parameter is an arbitrary client data pointer that is passed through
 6566 ** into the [xCreate] and [xConnect] methods of the virtual table module
 6567 ** when a new virtual table is be being created or reinitialized.
 6568 **
 6569 ** ^The sqlite3_create_module_v2() interface has a fifth parameter which
 6570 ** is a pointer to a destructor for the pClientData.  ^SQLite will
 6571 ** invoke the destructor function (if it is not NULL) when SQLite
 6572 ** no longer needs the pClientData pointer.  ^The destructor will also
 6573 ** be invoked if the call to sqlite3_create_module_v2() fails.
 6574 ** ^The sqlite3_create_module()
 6575 ** interface is equivalent to sqlite3_create_module_v2() with a NULL
 6576 ** destructor.






 6577 */
 6578 SQLITE_API int sqlite3_create_module(
 6579   sqlite3 *db,               /* SQLite connection to register module with */
 6580   const char *zName,         /* Name of the module */
 6581   const sqlite3_module *p,   /* Methods for the module */
 6582   void *pClientData          /* Client data for xCreate/xConnect */
 6583 );
 6584 SQLITE_API int sqlite3_create_module_v2(
 6585   sqlite3 *db,               /* SQLite connection to register module with */
 6586   const char *zName,         /* Name of the module */
 6587   const sqlite3_module *p,   /* Methods for the module */
 6588   void *pClientData,         /* Client data for xCreate/xConnect */
 6589   void(*xDestroy)(void*)     /* Module destructor function */
 6590 );
 6591 

















 6592 /*
 6593 ** CAPI3REF: Virtual Table Instance Object
 6594 ** KEYWORDS: sqlite3_vtab
 6595 **
 6596 ** Every [virtual table module] implementation uses a subclass
 6597 ** of this object to describe a particular instance
 6598 ** of the [virtual table].  Each subclass will
 6599 ** be tailored to the specific needs of the module implementation.
 6600 ** The purpose of this superclass is to define certain fields that are
 6601 ** common to all module implementations.
 6602 **
 6603 ** ^Virtual tables methods can set an error message by assigning a
 6604 ** string obtained from [sqlite3_mprintf()] to zErrMsg.  The method should
 6605 ** take care that any prior string is freed by a call to [sqlite3_free()]
 6606 ** prior to assigning a new string to zErrMsg.  ^After the error message
 6607 ** is delivered up to the client application, the string will be automatically
 6608 ** freed by sqlite3_free() and the zErrMsg field will be zeroed.
 6609 */
 6610 struct sqlite3_vtab {
 6611   const sqlite3_module *pModule;  /* The module for this virtual table */
</pre>
<hr />
<pre>
 7280 ** they take, and what they do are all subject to change without notice.
 7281 ** Unlike most of the SQLite API, this function is not guaranteed to
 7282 ** operate consistently from one release to the next.
 7283 */
 7284 SQLITE_API int sqlite3_test_control(int op, ...);
 7285 
 7286 /*
 7287 ** CAPI3REF: Testing Interface Operation Codes
 7288 **
 7289 ** These constants are the valid operation code parameters used
 7290 ** as the first argument to [sqlite3_test_control()].
 7291 **
 7292 ** These parameters and their meanings are subject to change
 7293 ** without notice.  These values are for testing purposes only.
 7294 ** Applications should not use any of these parameters or the
 7295 ** [sqlite3_test_control()] interface.
 7296 */
 7297 #define SQLITE_TESTCTRL_FIRST                    5
 7298 #define SQLITE_TESTCTRL_PRNG_SAVE                5
 7299 #define SQLITE_TESTCTRL_PRNG_RESTORE             6
<span class="line-modified"> 7300 #define SQLITE_TESTCTRL_PRNG_RESET               7</span>
 7301 #define SQLITE_TESTCTRL_BITVEC_TEST              8
 7302 #define SQLITE_TESTCTRL_FAULT_INSTALL            9
 7303 #define SQLITE_TESTCTRL_BENIGN_MALLOC_HOOKS     10
 7304 #define SQLITE_TESTCTRL_PENDING_BYTE            11
 7305 #define SQLITE_TESTCTRL_ASSERT                  12
 7306 #define SQLITE_TESTCTRL_ALWAYS                  13
 7307 #define SQLITE_TESTCTRL_RESERVE                 14
 7308 #define SQLITE_TESTCTRL_OPTIMIZATIONS           15
 7309 #define SQLITE_TESTCTRL_ISKEYWORD               16  /* NOT USED */
 7310 #define SQLITE_TESTCTRL_SCRATCHMALLOC           17  /* NOT USED */
 7311 #define SQLITE_TESTCTRL_INTERNAL_FUNCTIONS      17
 7312 #define SQLITE_TESTCTRL_LOCALTIME_FAULT         18
 7313 #define SQLITE_TESTCTRL_EXPLAIN_STMT            19  /* NOT USED */
 7314 #define SQLITE_TESTCTRL_ONCE_RESET_THRESHOLD    19
 7315 #define SQLITE_TESTCTRL_NEVER_CORRUPT           20
 7316 #define SQLITE_TESTCTRL_VDBE_COVERAGE           21
 7317 #define SQLITE_TESTCTRL_BYTEORDER               22
 7318 #define SQLITE_TESTCTRL_ISINIT                  23
 7319 #define SQLITE_TESTCTRL_SORTER_MMAP             24
 7320 #define SQLITE_TESTCTRL_IMPOSTER                25
 7321 #define SQLITE_TESTCTRL_PARSER_COVERAGE         26
<span class="line-modified"> 7322 #define SQLITE_TESTCTRL_LAST                    26  /* Largest TESTCTRL */</span>



 7323 
 7324 /*
 7325 ** CAPI3REF: SQL Keyword Checking
 7326 **
 7327 ** These routines provide access to the set of SQL language keywords
 7328 ** recognized by SQLite.  Applications can uses these routines to determine
 7329 ** whether or not a specific identifier needs to be escaped (for example,
 7330 ** by enclosing in double-quotes) so as not to confuse the parser.
 7331 **
 7332 ** The sqlite3_keyword_count() interface returns the number of distinct
 7333 ** keywords understood by SQLite.
 7334 **
 7335 ** The sqlite3_keyword_name(N,Z,L) interface finds the N-th keyword and
 7336 ** makes *Z point to that keyword expressed as UTF8 and writes the number
 7337 ** of bytes in the keyword into *L.  The string that *Z points to is not
 7338 ** zero-terminated.  The sqlite3_keyword_name(N,Z,L) routine returns
 7339 ** SQLITE_OK if N is within bounds and SQLITE_ERROR if not. If either Z
 7340 ** or L are NULL or invalid pointers then calls to
 7341 ** sqlite3_keyword_name(N,Z,L) result in undefined behavior.
 7342 **
</pre>
</td>
<td>
<hr />
<pre>
  106 ** The SQLITE_VERSION_NUMBER for any given release of SQLite will also
  107 ** be larger than the release from which it is derived.  Either Y will
  108 ** be held constant and Z will be incremented or else Y will be incremented
  109 ** and Z will be reset to zero.
  110 **
  111 ** Since [version 3.6.18] ([dateof:3.6.18]),
  112 ** SQLite source code has been stored in the
  113 ** &lt;a href=&quot;http://www.fossil-scm.org/&quot;&gt;Fossil configuration management
  114 ** system&lt;/a&gt;.  ^The SQLITE_SOURCE_ID macro evaluates to
  115 ** a string which identifies a particular check-in of SQLite
  116 ** within its configuration management system.  ^The SQLITE_SOURCE_ID
  117 ** string contains the date and time of the check-in (UTC) and a SHA1
  118 ** or SHA3-256 hash of the entire source tree.  If the source code has
  119 ** been edited in any way since it was last checked in, then the last
  120 ** four hexadecimal digits of the hash may be modified.
  121 **
  122 ** See also: [sqlite3_libversion()],
  123 ** [sqlite3_libversion_number()], [sqlite3_sourceid()],
  124 ** [sqlite_version()] and [sqlite_source_id()].
  125 */
<span class="line-modified">  126 #define SQLITE_VERSION        &quot;3.30.1&quot;</span>
<span class="line-modified">  127 #define SQLITE_VERSION_NUMBER 3030001</span>
<span class="line-modified">  128 #define SQLITE_SOURCE_ID      &quot;2019-10-10 20:19:45 18db032d058f1436ce3dea84081f4ee5a0f2259ad97301d43c426bc7f3df1b0b&quot;</span>
  129 
  130 /*
  131 ** CAPI3REF: Run-Time Library Version Numbers
  132 ** KEYWORDS: sqlite3_version sqlite3_sourceid
  133 **
  134 ** These interfaces provide the same information as the [SQLITE_VERSION],
  135 ** [SQLITE_VERSION_NUMBER], and [SQLITE_SOURCE_ID] C preprocessor macros
  136 ** but are associated with the library instead of the header file.  ^(Cautious
  137 ** programmers might include assert() statements in their application to
  138 ** verify that values returned by these interfaces match the macros in
  139 ** the header, and thus ensure that the application is
  140 ** compiled with matching library and header files.
  141 **
  142 ** &lt;blockquote&gt;&lt;pre&gt;
  143 ** assert( sqlite3_libversion_number()==SQLITE_VERSION_NUMBER );
  144 ** assert( strncmp(sqlite3_sourceid(),SQLITE_SOURCE_ID,80)==0 );
  145 ** assert( strcmp(sqlite3_libversion(),SQLITE_VERSION)==0 );
  146 ** &lt;/pre&gt;&lt;/blockquote&gt;)^
  147 **
  148 ** ^The sqlite3_version[] string constant contains the text of [SQLITE_VERSION]
</pre>
<hr />
<pre>
 1279 ** API.  The SQLITE_OPEN_EXCLUSIVE flag, when paired with the
 1280 ** SQLITE_OPEN_CREATE, is used to indicate that file should always
 1281 ** be created, and that it is an error if it already exists.
 1282 ** It is &lt;i&gt;not&lt;/i&gt; used to indicate the file should be opened
 1283 ** for exclusive access.
 1284 **
 1285 ** ^At least szOsFile bytes of memory are allocated by SQLite
 1286 ** to hold the  [sqlite3_file] structure passed as the third
 1287 ** argument to xOpen.  The xOpen method does not have to
 1288 ** allocate the structure; it should just fill it in.  Note that
 1289 ** the xOpen method must set the sqlite3_file.pMethods to either
 1290 ** a valid [sqlite3_io_methods] object or to NULL.  xOpen must do
 1291 ** this even if the open fails.  SQLite expects that the sqlite3_file.pMethods
 1292 ** element will be valid after xOpen returns regardless of the success
 1293 ** or failure of the xOpen call.
 1294 **
 1295 ** [[sqlite3_vfs.xAccess]]
 1296 ** ^The flags argument to xAccess() may be [SQLITE_ACCESS_EXISTS]
 1297 ** to test for the existence of a file, or [SQLITE_ACCESS_READWRITE] to
 1298 ** test whether a file is readable and writable, or [SQLITE_ACCESS_READ]
<span class="line-modified"> 1299 ** to test whether a file is at least readable.  The SQLITE_ACCESS_READ</span>
<span class="line-modified"> 1300 ** flag is never actually used and is not implemented in the built-in</span>
<span class="line-added"> 1301 ** VFSes of SQLite.  The file is named by the second argument and can be a</span>
<span class="line-added"> 1302 ** directory. The xAccess method returns [SQLITE_OK] on success or some</span>
<span class="line-added"> 1303 ** non-zero error code if there is an I/O error or if the name of</span>
<span class="line-added"> 1304 ** the file given in the second argument is illegal.  If SQLITE_OK</span>
<span class="line-added"> 1305 ** is returned, then non-zero or zero is written into *pResOut to indicate</span>
<span class="line-added"> 1306 ** whether or not the file is accessible.</span>
 1307 **
 1308 ** ^SQLite will always allocate at least mxPathname+1 bytes for the
 1309 ** output buffer xFullPathname.  The exact size of the output buffer
 1310 ** is also passed as a parameter to both  methods. If the output buffer
 1311 ** is not large enough, [SQLITE_CANTOPEN] should be returned. Since this is
 1312 ** handled as a fatal error by SQLite, vfs implementations should endeavor
 1313 ** to prevent this by setting mxPathname to a sufficiently large value.
 1314 **
 1315 ** The xRandomness(), xSleep(), xCurrentTime(), and xCurrentTimeInt64()
 1316 ** interfaces are not strictly a part of the filesystem, but they are
 1317 ** included in the VFS structure for completeness.
 1318 ** The xRandomness() function attempts to return nBytes bytes
 1319 ** of good-quality randomness into zOut.  The return value is
 1320 ** the actual number of bytes of randomness obtained.
 1321 ** The xSleep() method causes the calling thread to sleep for at
 1322 ** least the number of microseconds given.  ^The xCurrentTime()
 1323 ** method returns a Julian Day Number for the current date and time as
 1324 ** a floating point value.
 1325 ** ^The xCurrentTimeInt64() method returns, as an integer, the Julian
 1326 ** Day Number multiplied by 86400000 (the number of milliseconds in
</pre>
<hr />
<pre>
 2076 ** &lt;dd&gt; ^This option is used to enable or disable the enforcement of
 2077 ** [foreign key constraints].  There should be two additional arguments.
 2078 ** The first argument is an integer which is 0 to disable FK enforcement,
 2079 ** positive to enable FK enforcement or negative to leave FK enforcement
 2080 ** unchanged.  The second parameter is a pointer to an integer into which
 2081 ** is written 0 or 1 to indicate whether FK enforcement is off or on
 2082 ** following this call.  The second parameter may be a NULL pointer, in
 2083 ** which case the FK enforcement setting is not reported back. &lt;/dd&gt;
 2084 **
 2085 ** [[SQLITE_DBCONFIG_ENABLE_TRIGGER]]
 2086 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_TRIGGER&lt;/dt&gt;
 2087 ** &lt;dd&gt; ^This option is used to enable or disable [CREATE TRIGGER | triggers].
 2088 ** There should be two additional arguments.
 2089 ** The first argument is an integer which is 0 to disable triggers,
 2090 ** positive to enable triggers or negative to leave the setting unchanged.
 2091 ** The second parameter is a pointer to an integer into which
 2092 ** is written 0 or 1 to indicate whether triggers are disabled or enabled
 2093 ** following this call.  The second parameter may be a NULL pointer, in
 2094 ** which case the trigger setting is not reported back. &lt;/dd&gt;
 2095 **
<span class="line-added"> 2096 ** [[SQLITE_DBCONFIG_ENABLE_VIEW]]</span>
<span class="line-added"> 2097 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_VIEW&lt;/dt&gt;</span>
<span class="line-added"> 2098 ** &lt;dd&gt; ^This option is used to enable or disable [CREATE VIEW | views].</span>
<span class="line-added"> 2099 ** There should be two additional arguments.</span>
<span class="line-added"> 2100 ** The first argument is an integer which is 0 to disable views,</span>
<span class="line-added"> 2101 ** positive to enable views or negative to leave the setting unchanged.</span>
<span class="line-added"> 2102 ** The second parameter is a pointer to an integer into which</span>
<span class="line-added"> 2103 ** is written 0 or 1 to indicate whether views are disabled or enabled</span>
<span class="line-added"> 2104 ** following this call.  The second parameter may be a NULL pointer, in</span>
<span class="line-added"> 2105 ** which case the view setting is not reported back. &lt;/dd&gt;</span>
<span class="line-added"> 2106 **</span>
 2107 ** [[SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER]]
 2108 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER&lt;/dt&gt;
 2109 ** &lt;dd&gt; ^This option is used to enable or disable the
 2110 ** [fts3_tokenizer()] function which is part of the
 2111 ** [FTS3] full-text search engine extension.
 2112 ** There should be two additional arguments.
 2113 ** The first argument is an integer which is 0 to disable fts3_tokenizer() or
 2114 ** positive to enable fts3_tokenizer() or negative to leave the setting
 2115 ** unchanged.
 2116 ** The second parameter is a pointer to an integer into which
 2117 ** is written 0 or 1 to indicate whether fts3_tokenizer is disabled or enabled
 2118 ** following this call.  The second parameter may be a NULL pointer, in
 2119 ** which case the new setting is not reported back. &lt;/dd&gt;
 2120 **
 2121 ** [[SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION]]
 2122 ** &lt;dt&gt;SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION&lt;/dt&gt;
 2123 ** &lt;dd&gt; ^This option is used to enable or disable the [sqlite3_load_extension()]
 2124 ** interface independently of the [load_extension()] SQL function.
 2125 ** The [sqlite3_enable_load_extension()] API enables or disables both the
 2126 ** C-API [sqlite3_load_extension()] and the SQL function [load_extension()].
</pre>
<hr />
<pre>
 2198 **      database, or calling sqlite3_table_column_metadata(), ignoring any
 2199 **      errors.  This step is only necessary if the application desires to keep
 2200 **      the database in WAL mode after the reset if it was in WAL mode before
 2201 **      the reset.
 2202 ** &lt;li&gt; sqlite3_db_config(db, SQLITE_DBCONFIG_RESET_DATABASE, 1, 0);
 2203 ** &lt;li&gt; [sqlite3_exec](db, &quot;[VACUUM]&quot;, 0, 0, 0);
 2204 ** &lt;li&gt; sqlite3_db_config(db, SQLITE_DBCONFIG_RESET_DATABASE, 0, 0);
 2205 ** &lt;/ol&gt;
 2206 ** Because resetting a database is destructive and irreversible, the
 2207 ** process requires the use of this obscure API and multiple steps to help
 2208 ** ensure that it does not happen by accident.
 2209 **
 2210 ** [[SQLITE_DBCONFIG_DEFENSIVE]] &lt;dt&gt;SQLITE_DBCONFIG_DEFENSIVE&lt;/dt&gt;
 2211 ** &lt;dd&gt;The SQLITE_DBCONFIG_DEFENSIVE option activates or deactivates the
 2212 ** &quot;defensive&quot; flag for a database connection.  When the defensive
 2213 ** flag is enabled, language features that allow ordinary SQL to
 2214 ** deliberately corrupt the database file are disabled.  The disabled
 2215 ** features include but are not limited to the following:
 2216 ** &lt;ul&gt;
 2217 ** &lt;li&gt; The [PRAGMA writable_schema=ON] statement.
<span class="line-added"> 2218 ** &lt;li&gt; The [PRAGMA journal_mode=OFF] statement.</span>
 2219 ** &lt;li&gt; Writes to the [sqlite_dbpage] virtual table.
 2220 ** &lt;li&gt; Direct writes to [shadow tables].
 2221 ** &lt;/ul&gt;
 2222 ** &lt;/dd&gt;
 2223 **
 2224 ** [[SQLITE_DBCONFIG_WRITABLE_SCHEMA]] &lt;dt&gt;SQLITE_DBCONFIG_WRITABLE_SCHEMA&lt;/dt&gt;
 2225 ** &lt;dd&gt;The SQLITE_DBCONFIG_WRITABLE_SCHEMA option activates or deactivates the
 2226 ** &quot;writable_schema&quot; flag. This has the same effect and is logically equivalent
 2227 ** to setting [PRAGMA writable_schema=ON] or [PRAGMA writable_schema=OFF].
 2228 ** The first argument to this setting is an integer which is 0 to disable
 2229 ** the writable_schema, positive to enable writable_schema, or negative to
 2230 ** leave the setting unchanged. The second parameter is a pointer to an
 2231 ** integer into which is written 0 or 1 to indicate whether the writable_schema
 2232 ** is enabled or disabled following this call.
 2233 ** &lt;/dd&gt;
<span class="line-added"> 2234 **</span>
<span class="line-added"> 2235 ** [[SQLITE_DBCONFIG_LEGACY_ALTER_TABLE]]</span>
<span class="line-added"> 2236 ** &lt;dt&gt;SQLITE_DBCONFIG_LEGACY_ALTER_TABLE&lt;/dt&gt;</span>
<span class="line-added"> 2237 ** &lt;dd&gt;The SQLITE_DBCONFIG_LEGACY_ALTER_TABLE option activates or deactivates</span>
<span class="line-added"> 2238 ** the legacy behavior of the [ALTER TABLE RENAME] command such it</span>
<span class="line-added"> 2239 ** behaves as it did prior to [version 3.24.0] (2018-06-04).  See the</span>
<span class="line-added"> 2240 ** &quot;Compatibility Notice&quot; on the [ALTER TABLE RENAME documentation] for</span>
<span class="line-added"> 2241 ** additional information. This feature can also be turned on and off</span>
<span class="line-added"> 2242 ** using the [PRAGMA legacy_alter_table] statement.</span>
<span class="line-added"> 2243 ** &lt;/dd&gt;</span>
<span class="line-added"> 2244 **</span>
<span class="line-added"> 2245 ** [[SQLITE_DBCONFIG_DQS_DML]]</span>
<span class="line-added"> 2246 ** &lt;dt&gt;SQLITE_DBCONFIG_DQS_DML&lt;/td&gt;</span>
<span class="line-added"> 2247 ** &lt;dd&gt;The SQLITE_DBCONFIG_DQS_DML option activates or deactivates</span>
<span class="line-added"> 2248 ** the legacy [double-quoted string literal] misfeature for DML statement</span>
<span class="line-added"> 2249 ** only, that is DELETE, INSERT, SELECT, and UPDATE statements. The</span>
<span class="line-added"> 2250 ** default value of this setting is determined by the [-DSQLITE_DQS]</span>
<span class="line-added"> 2251 ** compile-time option.</span>
<span class="line-added"> 2252 ** &lt;/dd&gt;</span>
<span class="line-added"> 2253 **</span>
<span class="line-added"> 2254 ** [[SQLITE_DBCONFIG_DQS_DDL]]</span>
<span class="line-added"> 2255 ** &lt;dt&gt;SQLITE_DBCONFIG_DQS_DDL&lt;/td&gt;</span>
<span class="line-added"> 2256 ** &lt;dd&gt;The SQLITE_DBCONFIG_DQS option activates or deactivates</span>
<span class="line-added"> 2257 ** the legacy [double-quoted string literal] misfeature for DDL statements,</span>
<span class="line-added"> 2258 ** such as CREATE TABLE and CREATE INDEX. The</span>
<span class="line-added"> 2259 ** default value of this setting is determined by the [-DSQLITE_DQS]</span>
<span class="line-added"> 2260 ** compile-time option.</span>
<span class="line-added"> 2261 ** &lt;/dd&gt;</span>
 2262 ** &lt;/dl&gt;
 2263 */
 2264 #define SQLITE_DBCONFIG_MAINDBNAME            1000 /* const char* */
 2265 #define SQLITE_DBCONFIG_LOOKASIDE             1001 /* void* int int */
 2266 #define SQLITE_DBCONFIG_ENABLE_FKEY           1002 /* int int* */
 2267 #define SQLITE_DBCONFIG_ENABLE_TRIGGER        1003 /* int int* */
 2268 #define SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER 1004 /* int int* */
 2269 #define SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION 1005 /* int int* */
 2270 #define SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE      1006 /* int int* */
 2271 #define SQLITE_DBCONFIG_ENABLE_QPSG           1007 /* int int* */
 2272 #define SQLITE_DBCONFIG_TRIGGER_EQP           1008 /* int int* */
 2273 #define SQLITE_DBCONFIG_RESET_DATABASE        1009 /* int int* */
 2274 #define SQLITE_DBCONFIG_DEFENSIVE             1010 /* int int* */
 2275 #define SQLITE_DBCONFIG_WRITABLE_SCHEMA       1011 /* int int* */
<span class="line-modified"> 2276 #define SQLITE_DBCONFIG_LEGACY_ALTER_TABLE    1012 /* int int* */</span>
<span class="line-added"> 2277 #define SQLITE_DBCONFIG_DQS_DML               1013 /* int int* */</span>
<span class="line-added"> 2278 #define SQLITE_DBCONFIG_DQS_DDL               1014 /* int int* */</span>
<span class="line-added"> 2279 #define SQLITE_DBCONFIG_ENABLE_VIEW           1015 /* int int* */</span>
<span class="line-added"> 2280 #define SQLITE_DBCONFIG_MAX                   1015 /* Largest DBCONFIG */</span>
 2281 
 2282 /*
 2283 ** CAPI3REF: Enable Or Disable Extended Result Codes
 2284 ** METHOD: sqlite3
 2285 **
 2286 ** ^The sqlite3_extended_result_codes() routine enables or disables the
 2287 ** [extended result codes] feature of SQLite. ^The extended result
 2288 ** codes are disabled by default for historical compatibility.
 2289 */
 2290 SQLITE_API int sqlite3_extended_result_codes(sqlite3*, int onoff);
 2291 
 2292 /*
 2293 ** CAPI3REF: Last Insert Rowid
 2294 ** METHOD: sqlite3
 2295 **
 2296 ** ^Each entry in most SQLite tables (except for [WITHOUT ROWID] tables)
 2297 ** has a unique 64-bit signed
 2298 ** integer key called the [ROWID | &quot;rowid&quot;]. ^The rowid is always available
 2299 ** as an undeclared column named ROWID, OID, or _ROWID_ as long as those
 2300 ** names are not also used by explicitly declared columns. ^If
</pre>
<hr />
<pre>
 3809 ** &lt;/li&gt;
 3810 **
 3811 ** &lt;li&gt;
 3812 ** ^When an error occurs, [sqlite3_step()] will return one of the detailed
 3813 ** [error codes] or [extended error codes].  ^The legacy behavior was that
 3814 ** [sqlite3_step()] would only return a generic [SQLITE_ERROR] result code
 3815 ** and the application would have to make a second call to [sqlite3_reset()]
 3816 ** in order to find the underlying cause of the problem. With the &quot;v2&quot; prepare
 3817 ** interfaces, the underlying reason for the error is returned immediately.
 3818 ** &lt;/li&gt;
 3819 **
 3820 ** &lt;li&gt;
 3821 ** ^If the specific value bound to [parameter | host parameter] in the
 3822 ** WHERE clause might influence the choice of query plan for a statement,
 3823 ** then the statement will be automatically recompiled, as if there had been
 3824 ** a schema change, on the first  [sqlite3_step()] call following any change
 3825 ** to the [sqlite3_bind_text | bindings] of that [parameter].
 3826 ** ^The specific value of WHERE-clause [parameter] might influence the
 3827 ** choice of query plan if the parameter is the left-hand side of a [LIKE]
 3828 ** or [GLOB] operator or if the parameter is compared to an indexed column
<span class="line-modified"> 3829 ** and the [SQLITE_ENABLE_STAT4] compile-time option is enabled.</span>
 3830 ** &lt;/li&gt;
 3831 ** &lt;/ol&gt;
 3832 **
 3833 ** &lt;p&gt;^sqlite3_prepare_v3() differs from sqlite3_prepare_v2() only in having
 3834 ** the extra prepFlags parameter, which is a bit array consisting of zero or
 3835 ** more of the [SQLITE_PREPARE_PERSISTENT|SQLITE_PREPARE_*] flags.  ^The
 3836 ** sqlite3_prepare_v2() interface works exactly the same as
 3837 ** sqlite3_prepare_v3() with a zero prepFlags parameter.
 3838 */
 3839 SQLITE_API int sqlite3_prepare(
 3840   sqlite3 *db,            /* Database handle */
 3841   const char *zSql,       /* SQL statement, UTF-8 encoded */
 3842   int nByte,              /* Maximum length of zSql in bytes. */
 3843   sqlite3_stmt **ppStmt,  /* OUT: Statement handle */
 3844   const char **pzTail     /* OUT: Pointer to unused portion of zSql */
 3845 );
 3846 SQLITE_API int sqlite3_prepare_v2(
 3847   sqlite3 *db,            /* Database handle */
 3848   const char *zSql,       /* SQL statement, UTF-8 encoded */
 3849   int nByte,              /* Maximum length of zSql in bytes. */
</pre>
<hr />
<pre>
 4844 ** [SQLITE_UTF8 | text encoding] this SQL function prefers for
 4845 ** its parameters.  The application should set this parameter to
 4846 ** [SQLITE_UTF16LE] if the function implementation invokes
 4847 ** [sqlite3_value_text16le()] on an input, or [SQLITE_UTF16BE] if the
 4848 ** implementation invokes [sqlite3_value_text16be()] on an input, or
 4849 ** [SQLITE_UTF16] if [sqlite3_value_text16()] is used, or [SQLITE_UTF8]
 4850 ** otherwise.  ^The same SQL function may be registered multiple times using
 4851 ** different preferred text encodings, with different implementations for
 4852 ** each encoding.
 4853 ** ^When multiple implementations of the same function are available, SQLite
 4854 ** will pick the one that involves the least amount of data conversion.
 4855 **
 4856 ** ^The fourth parameter may optionally be ORed with [SQLITE_DETERMINISTIC]
 4857 ** to signal that the function will always return the same result given
 4858 ** the same inputs within a single SQL statement.  Most SQL functions are
 4859 ** deterministic.  The built-in [random()] SQL function is an example of a
 4860 ** function that is not deterministic.  The SQLite query planner is able to
 4861 ** perform additional optimizations on deterministic functions, so use
 4862 ** of the [SQLITE_DETERMINISTIC] flag is recommended where possible.
 4863 **
<span class="line-added"> 4864 ** ^The fourth parameter may also optionally include the [SQLITE_DIRECTONLY]</span>
<span class="line-added"> 4865 ** flag, which if present prevents the function from being invoked from</span>
<span class="line-added"> 4866 ** within VIEWs or TRIGGERs.  For security reasons, the [SQLITE_DIRECTONLY]</span>
<span class="line-added"> 4867 ** flag is recommended for any application-defined SQL function that has</span>
<span class="line-added"> 4868 ** side-effects.</span>
<span class="line-added"> 4869 **</span>
 4870 ** ^(The fifth parameter is an arbitrary pointer.  The implementation of the
 4871 ** function can gain access to this pointer using [sqlite3_user_data()].)^
 4872 **
 4873 ** ^The sixth, seventh and eighth parameters passed to the three
 4874 ** &quot;sqlite3_create_function*&quot; functions, xFunc, xStep and xFinal, are
 4875 ** pointers to C-language functions that implement the SQL function or
 4876 ** aggregate. ^A scalar SQL function requires an implementation of the xFunc
 4877 ** callback only; NULL pointers must be passed as the xStep and xFinal
 4878 ** parameters. ^An aggregate SQL function requires an implementation of xStep
 4879 ** and xFinal and NULL pointer must be passed for xFunc. ^To delete an existing
 4880 ** SQL function or aggregate, pass NULL pointers for all three function
 4881 ** callbacks.
 4882 **
 4883 ** ^The sixth, seventh, eighth and ninth parameters (xStep, xFinal, xValue
 4884 ** and xInverse) passed to sqlite3_create_window_function are pointers to
 4885 ** C-language callbacks that implement the new function. xStep and xFinal
 4886 ** must both be non-NULL. xValue and xInverse may either both be NULL, in
 4887 ** which case a regular aggregate function is created, or must both be
 4888 ** non-NULL, in which case the new function may be used as either an aggregate
 4889 ** or aggregate window function. More details regarding the implementation
</pre>
<hr />
<pre>
 4966 /*
 4967 ** CAPI3REF: Text Encodings
 4968 **
 4969 ** These constant define integer codes that represent the various
 4970 ** text encodings supported by SQLite.
 4971 */
 4972 #define SQLITE_UTF8           1    /* IMP: R-37514-35566 */
 4973 #define SQLITE_UTF16LE        2    /* IMP: R-03371-37637 */
 4974 #define SQLITE_UTF16BE        3    /* IMP: R-51971-34154 */
 4975 #define SQLITE_UTF16          4    /* Use native byte order */
 4976 #define SQLITE_ANY            5    /* Deprecated */
 4977 #define SQLITE_UTF16_ALIGNED  8    /* sqlite3_create_collation only */
 4978 
 4979 /*
 4980 ** CAPI3REF: Function Flags
 4981 **
 4982 ** These constants may be ORed together with the
 4983 ** [SQLITE_UTF8 | preferred text encoding] as the fourth argument
 4984 ** to [sqlite3_create_function()], [sqlite3_create_function16()], or
 4985 ** [sqlite3_create_function_v2()].
<span class="line-added"> 4986 **</span>
<span class="line-added"> 4987 ** The SQLITE_DETERMINISTIC flag means that the new function will always</span>
<span class="line-added"> 4988 ** maps the same inputs into the same output.  The abs() function is</span>
<span class="line-added"> 4989 ** deterministic, for example, but randomblob() is not.</span>
<span class="line-added"> 4990 **</span>
<span class="line-added"> 4991 ** The SQLITE_DIRECTONLY flag means that the function may only be invoked</span>
<span class="line-added"> 4992 ** from top-level SQL, and cannot be used in VIEWs or TRIGGERs.  This is</span>
<span class="line-added"> 4993 ** a security feature which is recommended for all</span>
<span class="line-added"> 4994 ** [application-defined SQL functions] that have side-effects.  This flag</span>
<span class="line-added"> 4995 ** prevents an attacker from adding triggers and views to a schema then</span>
<span class="line-added"> 4996 ** tricking a high-privilege application into causing unintended side-effects</span>
<span class="line-added"> 4997 ** while performing ordinary queries.</span>
<span class="line-added"> 4998 **</span>
<span class="line-added"> 4999 ** The SQLITE_SUBTYPE flag indicates to SQLite that a function may call</span>
<span class="line-added"> 5000 ** [sqlite3_value_subtype()] to inspect the sub-types of its arguments.</span>
<span class="line-added"> 5001 ** Specifying this flag makes no difference for scalar or aggregate user</span>
<span class="line-added"> 5002 ** functions. However, if it is not specified for a user-defined window</span>
<span class="line-added"> 5003 ** function, then any sub-types belonging to arguments passed to the window</span>
<span class="line-added"> 5004 ** function may be discarded before the window function is called (i.e.</span>
<span class="line-added"> 5005 ** sqlite3_value_subtype() will always return 0).</span>
 5006 */
<span class="line-modified"> 5007 #define SQLITE_DETERMINISTIC    0x000000800</span>
<span class="line-added"> 5008 #define SQLITE_DIRECTONLY       0x000080000</span>
<span class="line-added"> 5009 #define SQLITE_SUBTYPE          0x000100000</span>
 5010 
 5011 /*
 5012 ** CAPI3REF: Deprecated Functions
 5013 ** DEPRECATED
 5014 **
 5015 ** These functions are [deprecated].  In order to maintain
 5016 ** backwards compatibility with older code, these functions continue
 5017 ** to be supported.  However, new applications should avoid
 5018 ** the use of these functions.  To encourage programmers to avoid
 5019 ** these functions, we will not explain what they do.
 5020 */
 5021 #ifndef SQLITE_OMIT_DEPRECATED
 5022 SQLITE_API SQLITE_DEPRECATED int sqlite3_aggregate_count(sqlite3_context*);
 5023 SQLITE_API SQLITE_DEPRECATED int sqlite3_expired(sqlite3_stmt*);
 5024 SQLITE_API SQLITE_DEPRECATED int sqlite3_transfer_bindings(sqlite3_stmt*, sqlite3_stmt*);
 5025 SQLITE_API SQLITE_DEPRECATED int sqlite3_global_recover(void);
 5026 SQLITE_API SQLITE_DEPRECATED void sqlite3_thread_cleanup(void);
 5027 SQLITE_API SQLITE_DEPRECATED int sqlite3_memory_alarm(void(*)(void*,sqlite3_int64,int),
 5028                       void*,sqlite3_int64);
 5029 #endif
</pre>
<hr />
<pre>
 6635 ** ^Module names must be registered before
 6636 ** creating a new [virtual table] using the module and before using a
 6637 ** preexisting [virtual table] for the module.
 6638 **
 6639 ** ^The module name is registered on the [database connection] specified
 6640 ** by the first parameter.  ^The name of the module is given by the
 6641 ** second parameter.  ^The third parameter is a pointer to
 6642 ** the implementation of the [virtual table module].   ^The fourth
 6643 ** parameter is an arbitrary client data pointer that is passed through
 6644 ** into the [xCreate] and [xConnect] methods of the virtual table module
 6645 ** when a new virtual table is be being created or reinitialized.
 6646 **
 6647 ** ^The sqlite3_create_module_v2() interface has a fifth parameter which
 6648 ** is a pointer to a destructor for the pClientData.  ^SQLite will
 6649 ** invoke the destructor function (if it is not NULL) when SQLite
 6650 ** no longer needs the pClientData pointer.  ^The destructor will also
 6651 ** be invoked if the call to sqlite3_create_module_v2() fails.
 6652 ** ^The sqlite3_create_module()
 6653 ** interface is equivalent to sqlite3_create_module_v2() with a NULL
 6654 ** destructor.
<span class="line-added"> 6655 **</span>
<span class="line-added"> 6656 ** ^If the third parameter (the pointer to the sqlite3_module object) is</span>
<span class="line-added"> 6657 ** NULL then no new module is create and any existing modules with the</span>
<span class="line-added"> 6658 ** same name are dropped.</span>
<span class="line-added"> 6659 **</span>
<span class="line-added"> 6660 ** See also: [sqlite3_drop_modules()]</span>
 6661 */
 6662 SQLITE_API int sqlite3_create_module(
 6663   sqlite3 *db,               /* SQLite connection to register module with */
 6664   const char *zName,         /* Name of the module */
 6665   const sqlite3_module *p,   /* Methods for the module */
 6666   void *pClientData          /* Client data for xCreate/xConnect */
 6667 );
 6668 SQLITE_API int sqlite3_create_module_v2(
 6669   sqlite3 *db,               /* SQLite connection to register module with */
 6670   const char *zName,         /* Name of the module */
 6671   const sqlite3_module *p,   /* Methods for the module */
 6672   void *pClientData,         /* Client data for xCreate/xConnect */
 6673   void(*xDestroy)(void*)     /* Module destructor function */
 6674 );
 6675 
<span class="line-added"> 6676 /*</span>
<span class="line-added"> 6677 ** CAPI3REF: Remove Unnecessary Virtual Table Implementations</span>
<span class="line-added"> 6678 ** METHOD: sqlite3</span>
<span class="line-added"> 6679 **</span>
<span class="line-added"> 6680 ** ^The sqlite3_drop_modules(D,L) interface removes all virtual</span>
<span class="line-added"> 6681 ** table modules from database connection D except those named on list L.</span>
<span class="line-added"> 6682 ** The L parameter must be either NULL or a pointer to an array of pointers</span>
<span class="line-added"> 6683 ** to strings where the array is terminated by a single NULL pointer.</span>
<span class="line-added"> 6684 ** ^If the L parameter is NULL, then all virtual table modules are removed.</span>
<span class="line-added"> 6685 **</span>
<span class="line-added"> 6686 ** See also: [sqlite3_create_module()]</span>
<span class="line-added"> 6687 */</span>
<span class="line-added"> 6688 SQLITE_API int sqlite3_drop_modules(</span>
<span class="line-added"> 6689   sqlite3 *db,                /* Remove modules from this connection */</span>
<span class="line-added"> 6690   const char **azKeep         /* Except, do not remove the ones named here */</span>
<span class="line-added"> 6691 );</span>
<span class="line-added"> 6692 </span>
 6693 /*
 6694 ** CAPI3REF: Virtual Table Instance Object
 6695 ** KEYWORDS: sqlite3_vtab
 6696 **
 6697 ** Every [virtual table module] implementation uses a subclass
 6698 ** of this object to describe a particular instance
 6699 ** of the [virtual table].  Each subclass will
 6700 ** be tailored to the specific needs of the module implementation.
 6701 ** The purpose of this superclass is to define certain fields that are
 6702 ** common to all module implementations.
 6703 **
 6704 ** ^Virtual tables methods can set an error message by assigning a
 6705 ** string obtained from [sqlite3_mprintf()] to zErrMsg.  The method should
 6706 ** take care that any prior string is freed by a call to [sqlite3_free()]
 6707 ** prior to assigning a new string to zErrMsg.  ^After the error message
 6708 ** is delivered up to the client application, the string will be automatically
 6709 ** freed by sqlite3_free() and the zErrMsg field will be zeroed.
 6710 */
 6711 struct sqlite3_vtab {
 6712   const sqlite3_module *pModule;  /* The module for this virtual table */
</pre>
<hr />
<pre>
 7381 ** they take, and what they do are all subject to change without notice.
 7382 ** Unlike most of the SQLite API, this function is not guaranteed to
 7383 ** operate consistently from one release to the next.
 7384 */
 7385 SQLITE_API int sqlite3_test_control(int op, ...);
 7386 
 7387 /*
 7388 ** CAPI3REF: Testing Interface Operation Codes
 7389 **
 7390 ** These constants are the valid operation code parameters used
 7391 ** as the first argument to [sqlite3_test_control()].
 7392 **
 7393 ** These parameters and their meanings are subject to change
 7394 ** without notice.  These values are for testing purposes only.
 7395 ** Applications should not use any of these parameters or the
 7396 ** [sqlite3_test_control()] interface.
 7397 */
 7398 #define SQLITE_TESTCTRL_FIRST                    5
 7399 #define SQLITE_TESTCTRL_PRNG_SAVE                5
 7400 #define SQLITE_TESTCTRL_PRNG_RESTORE             6
<span class="line-modified"> 7401 #define SQLITE_TESTCTRL_PRNG_RESET               7  /* NOT USED */</span>
 7402 #define SQLITE_TESTCTRL_BITVEC_TEST              8
 7403 #define SQLITE_TESTCTRL_FAULT_INSTALL            9
 7404 #define SQLITE_TESTCTRL_BENIGN_MALLOC_HOOKS     10
 7405 #define SQLITE_TESTCTRL_PENDING_BYTE            11
 7406 #define SQLITE_TESTCTRL_ASSERT                  12
 7407 #define SQLITE_TESTCTRL_ALWAYS                  13
 7408 #define SQLITE_TESTCTRL_RESERVE                 14
 7409 #define SQLITE_TESTCTRL_OPTIMIZATIONS           15
 7410 #define SQLITE_TESTCTRL_ISKEYWORD               16  /* NOT USED */
 7411 #define SQLITE_TESTCTRL_SCRATCHMALLOC           17  /* NOT USED */
 7412 #define SQLITE_TESTCTRL_INTERNAL_FUNCTIONS      17
 7413 #define SQLITE_TESTCTRL_LOCALTIME_FAULT         18
 7414 #define SQLITE_TESTCTRL_EXPLAIN_STMT            19  /* NOT USED */
 7415 #define SQLITE_TESTCTRL_ONCE_RESET_THRESHOLD    19
 7416 #define SQLITE_TESTCTRL_NEVER_CORRUPT           20
 7417 #define SQLITE_TESTCTRL_VDBE_COVERAGE           21
 7418 #define SQLITE_TESTCTRL_BYTEORDER               22
 7419 #define SQLITE_TESTCTRL_ISINIT                  23
 7420 #define SQLITE_TESTCTRL_SORTER_MMAP             24
 7421 #define SQLITE_TESTCTRL_IMPOSTER                25
 7422 #define SQLITE_TESTCTRL_PARSER_COVERAGE         26
<span class="line-modified"> 7423 #define SQLITE_TESTCTRL_RESULT_INTREAL          27</span>
<span class="line-added"> 7424 #define SQLITE_TESTCTRL_PRNG_SEED               28</span>
<span class="line-added"> 7425 #define SQLITE_TESTCTRL_EXTRA_SCHEMA_CHECKS     29</span>
<span class="line-added"> 7426 #define SQLITE_TESTCTRL_LAST                    29  /* Largest TESTCTRL */</span>
 7427 
 7428 /*
 7429 ** CAPI3REF: SQL Keyword Checking
 7430 **
 7431 ** These routines provide access to the set of SQL language keywords
 7432 ** recognized by SQLite.  Applications can uses these routines to determine
 7433 ** whether or not a specific identifier needs to be escaped (for example,
 7434 ** by enclosing in double-quotes) so as not to confuse the parser.
 7435 **
 7436 ** The sqlite3_keyword_count() interface returns the number of distinct
 7437 ** keywords understood by SQLite.
 7438 **
 7439 ** The sqlite3_keyword_name(N,Z,L) interface finds the N-th keyword and
 7440 ** makes *Z point to that keyword expressed as UTF8 and writes the number
 7441 ** of bytes in the keyword into *L.  The string that *Z points to is not
 7442 ** zero-terminated.  The sqlite3_keyword_name(N,Z,L) routine returns
 7443 ** SQLITE_OK if N is within bounds and SQLITE_ERROR if not. If either Z
 7444 ** or L are NULL or invalid pointers then calls to
 7445 ** sqlite3_keyword_name(N,Z,L) result in undefined behavior.
 7446 **
</pre>
</td>
</tr>
</table>
<center><a href="sqlite3.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="sqlite3ext.h.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>