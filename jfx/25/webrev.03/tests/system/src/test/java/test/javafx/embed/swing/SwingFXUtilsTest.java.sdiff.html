<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff tests/system/src/test/java/test/javafx/embed/swing/SwingFXUtilsTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../modules/javafx.swing/src/main/java/javafx/embed/swing/JFXPanel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>tests/system/src/test/java/test/javafx/embed/swing/SwingFXUtilsTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 63     }
 64 
 65     @BeforeClass
 66     public static void doSetupOnce() {
 67         // Start the Application
 68         new Thread(() -&gt; Application.launch(MyApp.class, (String[]) null)).start();
 69 
 70         try {
 71             if (!launchLatch.await(5000, TimeUnit.MILLISECONDS)) {
 72                 throw new AssertionFailedError(&quot;Timeout waiting for Application to launch&quot;);
 73             }
 74         } catch (InterruptedException ex) {
 75             AssertionFailedError err = new AssertionFailedError(&quot;Unexpected exception&quot;);
 76             err.initCause(ex);
 77             throw err;
 78         }
 79 
 80         assertEquals(0, launchLatch.getCount());
 81     }
 82 
<span class="line-removed"> 83     @AfterClass</span>
<span class="line-removed"> 84     public static void doTeardownOnce() {</span>
<span class="line-removed"> 85         Platform.exit();</span>
<span class="line-removed"> 86     }</span>
<span class="line-removed"> 87 </span>
 88     @Test
 89     public void testFromFXImg() {
 90         testFromFXImg(&quot;alpha.png&quot;);
 91         testFromFXImg(&quot;opaque.gif&quot;);
 92         testFromFXImg(&quot;opaque.jpg&quot;);
 93         testFromFXImg(&quot;opaque.png&quot;);
 94         testFromFXImg(&quot;trans.gif&quot;);
 95     }
 96 
 97     static void testFromFXImg(String imgfilename) {
 98         Image img = new Image(&quot;test/javafx/embed/swing/&quot;+imgfilename);
 99         boolean rgbrequired = (img.getPixelReader().getPixelFormat().getType() == PixelFormat.Type.BYTE_RGB);
100         BufferedImage bimg = SwingFXUtils.fromFXImage(img, null);
101         checkBimg(img, bimg);
102         boolean reusesitself = reusesBimg(img, bimg, true);
103         boolean reusesxrgb = reusesBimg(img, BufferedImage.TYPE_INT_RGB, rgbrequired);
104         boolean reusesargb = reusesBimg(img, BufferedImage.TYPE_INT_ARGB, true);
105         boolean reusesargbpre = reusesBimg(img, BufferedImage.TYPE_INT_ARGB_PRE, true);
106         if (verbose) {
107             System.out.println(imgfilename+&quot; type = &quot;+img.getPixelReader().getPixelFormat());
</pre>
</td>
<td>
<hr />
<pre>
 63     }
 64 
 65     @BeforeClass
 66     public static void doSetupOnce() {
 67         // Start the Application
 68         new Thread(() -&gt; Application.launch(MyApp.class, (String[]) null)).start();
 69 
 70         try {
 71             if (!launchLatch.await(5000, TimeUnit.MILLISECONDS)) {
 72                 throw new AssertionFailedError(&quot;Timeout waiting for Application to launch&quot;);
 73             }
 74         } catch (InterruptedException ex) {
 75             AssertionFailedError err = new AssertionFailedError(&quot;Unexpected exception&quot;);
 76             err.initCause(ex);
 77             throw err;
 78         }
 79 
 80         assertEquals(0, launchLatch.getCount());
 81     }
 82 





 83     @Test
 84     public void testFromFXImg() {
 85         testFromFXImg(&quot;alpha.png&quot;);
 86         testFromFXImg(&quot;opaque.gif&quot;);
 87         testFromFXImg(&quot;opaque.jpg&quot;);
 88         testFromFXImg(&quot;opaque.png&quot;);
 89         testFromFXImg(&quot;trans.gif&quot;);
 90     }
 91 
 92     static void testFromFXImg(String imgfilename) {
 93         Image img = new Image(&quot;test/javafx/embed/swing/&quot;+imgfilename);
 94         boolean rgbrequired = (img.getPixelReader().getPixelFormat().getType() == PixelFormat.Type.BYTE_RGB);
 95         BufferedImage bimg = SwingFXUtils.fromFXImage(img, null);
 96         checkBimg(img, bimg);
 97         boolean reusesitself = reusesBimg(img, bimg, true);
 98         boolean reusesxrgb = reusesBimg(img, BufferedImage.TYPE_INT_RGB, rgbrequired);
 99         boolean reusesargb = reusesBimg(img, BufferedImage.TYPE_INT_ARGB, true);
100         boolean reusesargbpre = reusesBimg(img, BufferedImage.TYPE_INT_ARGB_PRE, true);
101         if (verbose) {
102             System.out.println(imgfilename+&quot; type = &quot;+img.getPixelReader().getPixelFormat());
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../../modules/javafx.swing/src/main/java/javafx/embed/swing/JFXPanel.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>