<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff buildSrc/linux.gradle</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../index.html" target="_top">index</a> next &gt;</center>    <h2>buildSrc/linux.gradle</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
205     }
206 )
207 
208 def compiler = IS_COMPILE_PARFAIT ? &quot;parfait-gcc&quot; : &quot;${toolchainDir}gcc&quot;;
209 def linker = IS_STATIC_BUILD ? &quot;ar&quot; : IS_COMPILE_PARFAIT ? &quot;parfait-g++&quot; : &quot;${toolchainDir}g++&quot;;
210 
211 LINUX.glass = [:]
212 LINUX.glass.variants = [&quot;glass&quot;, &quot;glassgtk2&quot;, &quot;glassgtk3&quot;]
213 
214 FileTree ft_gtk_launcher = fileTree(&quot;${project(&quot;:graphics&quot;).projectDir}/src/main/native-glass/gtk/&quot;) {
215     include(&quot;**/launcher.c&quot;)
216 }
217 
218 FileTree ft_gtk = fileTree(&quot;${project(&quot;:graphics&quot;).projectDir}/src/main/native-glass/gtk/&quot;) {
219     exclude(&quot;**/launcher.c&quot;)
220 }
221 
222 LINUX.glass.glass = [:]
223 LINUX.glass.glass.nativeSource = ft_gtk_launcher.getFiles()
224 LINUX.glass.glass.compiler = compiler
<span class="line-modified">225 LINUX.glass.glass.ccFlags = [ccFlags, gtk2CCFlags, gtk3CCFlags, &quot;-Werror&quot;].flatten()</span>
226 LINUX.glass.glass.linker = linker
227 LINUX.glass.glass.linkFlags = IS_STATIC_BUILD? linkFlags : [linkFlags, &quot;-lX11&quot;, &quot;-ldl&quot;].flatten()
228 LINUX.glass.glass.lib = &quot;glass&quot;
229 
230 LINUX.glass.glassgtk2 = [:]
231 LINUX.glass.glassgtk2.nativeSource =  ft_gtk.getFiles()
232 LINUX.glass.glassgtk2.compiler = compiler
233 LINUX.glass.glassgtk2.ccFlags = IS_STATIC_BUILD ?
234         [&quot;-fno-threadsafe-statics&quot;, ccFlags, gtk2CCFlags].flatten() :
235         [ccFlags, gtk2CCFlags, &quot;-Werror&quot;].flatten()
236 LINUX.glass.glassgtk2.linker = linker
237 LINUX.glass.glassgtk2.linkFlags = IS_STATIC_BUILD ? linkFlags : [linkFlags, gtk2LinkFlags].flatten()
238 LINUX.glass.glassgtk2.lib = &quot;glassgtk2&quot;
239 
240 LINUX.glass.glassgtk3 = [:]
241 LINUX.glass.glassgtk3.nativeSource =  ft_gtk.getFiles()
242 LINUX.glass.glassgtk3.compiler = compiler
243 LINUX.glass.glassgtk3.ccFlags = IS_STATIC_BUILD ?
244         [&quot;-fno-threadsafe-statics&quot;, ccFlags, gtk3CCFlags].flatten() :
245         [ccFlags, gtk3CCFlags, &quot;-Werror&quot;].flatten()
</pre>
</td>
<td>
<hr />
<pre>
205     }
206 )
207 
208 def compiler = IS_COMPILE_PARFAIT ? &quot;parfait-gcc&quot; : &quot;${toolchainDir}gcc&quot;;
209 def linker = IS_STATIC_BUILD ? &quot;ar&quot; : IS_COMPILE_PARFAIT ? &quot;parfait-g++&quot; : &quot;${toolchainDir}g++&quot;;
210 
211 LINUX.glass = [:]
212 LINUX.glass.variants = [&quot;glass&quot;, &quot;glassgtk2&quot;, &quot;glassgtk3&quot;]
213 
214 FileTree ft_gtk_launcher = fileTree(&quot;${project(&quot;:graphics&quot;).projectDir}/src/main/native-glass/gtk/&quot;) {
215     include(&quot;**/launcher.c&quot;)
216 }
217 
218 FileTree ft_gtk = fileTree(&quot;${project(&quot;:graphics&quot;).projectDir}/src/main/native-glass/gtk/&quot;) {
219     exclude(&quot;**/launcher.c&quot;)
220 }
221 
222 LINUX.glass.glass = [:]
223 LINUX.glass.glass.nativeSource = ft_gtk_launcher.getFiles()
224 LINUX.glass.glass.compiler = compiler
<span class="line-modified">225 LINUX.glass.glass.ccFlags = [ccFlags, &quot;-Werror&quot;].flatten()</span>
226 LINUX.glass.glass.linker = linker
227 LINUX.glass.glass.linkFlags = IS_STATIC_BUILD? linkFlags : [linkFlags, &quot;-lX11&quot;, &quot;-ldl&quot;].flatten()
228 LINUX.glass.glass.lib = &quot;glass&quot;
229 
230 LINUX.glass.glassgtk2 = [:]
231 LINUX.glass.glassgtk2.nativeSource =  ft_gtk.getFiles()
232 LINUX.glass.glassgtk2.compiler = compiler
233 LINUX.glass.glassgtk2.ccFlags = IS_STATIC_BUILD ?
234         [&quot;-fno-threadsafe-statics&quot;, ccFlags, gtk2CCFlags].flatten() :
235         [ccFlags, gtk2CCFlags, &quot;-Werror&quot;].flatten()
236 LINUX.glass.glassgtk2.linker = linker
237 LINUX.glass.glassgtk2.linkFlags = IS_STATIC_BUILD ? linkFlags : [linkFlags, gtk2LinkFlags].flatten()
238 LINUX.glass.glassgtk2.lib = &quot;glassgtk2&quot;
239 
240 LINUX.glass.glassgtk3 = [:]
241 LINUX.glass.glassgtk3.nativeSource =  ft_gtk.getFiles()
242 LINUX.glass.glassgtk3.compiler = compiler
243 LINUX.glass.glassgtk3.ccFlags = IS_STATIC_BUILD ?
244         [&quot;-fno-threadsafe-statics&quot;, ccFlags, gtk3CCFlags].flatten() :
245         [ccFlags, gtk3CCFlags, &quot;-Werror&quot;].flatten()
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>