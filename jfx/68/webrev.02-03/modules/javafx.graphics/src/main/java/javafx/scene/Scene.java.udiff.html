<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/main/java/javafx/scene/Scene.java</title>
    <link rel="stylesheet" href="../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/java/javafx/scene/Scene.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -1285,15 +1285,17 @@</span>
              Node root, BaseTransform transform, boolean depthBuffer,
              Paint fill, Camera camera, WritableImage wimg) {
  
          int xMin = (int)Math.floor(x);
          int yMin = (int)Math.floor(y);
<span class="udiff-line-modified-removed">-         int xMax = (int)Math.ceil(x + w);</span>
<span class="udiff-line-modified-removed">-         int yMax = (int)Math.ceil(y + h);</span>
<span class="udiff-line-removed">-         int width = Math.max(xMax - xMin, 1);</span>
<span class="udiff-line-removed">-         int height = Math.max(yMax - yMin, 1);</span>
<span class="udiff-line-modified-added">+         int width;</span>
<span class="udiff-line-modified-added">+         int height;</span>
          if (wimg == null) {
<span class="udiff-line-added">+             int xMax = (int)Math.ceil(x + w);</span>
<span class="udiff-line-added">+             int yMax = (int)Math.ceil(y + h);</span>
<span class="udiff-line-added">+             width = Math.max(xMax - xMin, 1);</span>
<span class="udiff-line-added">+             height = Math.max(yMax - yMin, 1);</span>
              wimg = new WritableImage(width, height);
          } else {
              width = (int)wimg.getWidth();
              height = (int)wimg.getHeight();
          }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1308,11 +1310,12 @@</span>
                  int xOffset = i * maxTextureSize;
                  int tileWidth = Math.min(maxTextureSize, width - xOffset);
                  for (int j = 0; j &lt; numVerticalTiles; j++) {
                      int yOffset = j * maxTextureSize;
                      int tileHeight = Math.min(maxTextureSize, height - yOffset);
<span class="udiff-line-modified-removed">-                     WritableImage tile = doSnapshotTile(scene, xMin + xOffset, yMin + yOffset, tileWidth, tileHeight, root, transform, depthBuffer, fill, camera, null);</span>
<span class="udiff-line-modified-added">+                     WritableImage tile = doSnapshotTile(scene, xMin + xOffset, yMin + yOffset, tileWidth,</span>
<span class="udiff-line-added">+                             tileHeight, root, transform, depthBuffer, fill, camera, null);</span>
                      wimg.getPixelWriter().setPixels(xOffset, yOffset, tileWidth, tileHeight, tile.getPixelReader(), 0, 0);
                  }
              }
          } else {
              // The requested size for the screenshot fits max texture size,
</pre>
<center>&lt; prev <a href="../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>