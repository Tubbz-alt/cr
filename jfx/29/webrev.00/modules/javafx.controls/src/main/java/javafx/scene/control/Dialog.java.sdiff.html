<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.controls/src/main/java/javafx/scene/control/Dialog.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ComboBox.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ListView.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.controls/src/main/java/javafx/scene/control/Dialog.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 135  *     formatSystem();
 136  * }}&lt;/pre&gt;
 137  *
 138  * &lt;p&gt;&lt;strong&gt;Option 2: The traditional + Optional approach&lt;/strong&gt;
 139  * &lt;pre&gt; {@code dialog.showAndWait().ifPresent(response -&gt; {
 140  *     if (response == ButtonType.OK) {
 141  *         formatSystem();
 142  *     }
 143  * });}&lt;/pre&gt;
 144  *
 145  * &lt;p&gt;&lt;strong&gt;Option 3: The fully lambda approach&lt;/strong&gt;
 146  * &lt;pre&gt; {@code dialog.showAndWait()
 147  *       .filter(response -&gt; response == ButtonType.OK)
 148  *       .ifPresent(response -&gt; formatSystem());}&lt;/pre&gt;
 149  *
 150  * &lt;p&gt;There is no better or worse option of the three listed above, so developers
 151  * are encouraged to work to their own style preferences. The purpose of showing
 152  * the above is to help introduce developers to the {@link Optional} API, which
 153  * is new in Java 8 and may be foreign to many developers.
 154  *
<span class="line-modified"> 155  * &lt;h3&gt;Dialog Validation / Intercepting Button Actions&lt;/h3&gt;</span>
 156  *
 157  * &lt;p&gt;In some circumstances it is desirable to prevent a dialog from closing
 158  * until some aspect of the dialog becomes internally consistent (e.g. a form
 159  * inside the dialog has all fields in a valid state). To do this, users of the
 160  * dialogs API should become familiar with the
 161  * {@link DialogPane#lookupButton(ButtonType)} method. By passing in a
 162  * {@link javafx.scene.control.ButtonType ButtonType} (that has already been set
 163  * in the {@link DialogPane#getButtonTypes() button types} list), users will be
 164  * returned a Node that is typically of type {@link Button} (but this depends
 165  * on if the {@link DialogPane#createButton(ButtonType)} method has been
 166  * overridden). With this button, users may add an event filter that is called
 167  * before the button does its usual event handling, and as such users may
 168  * prevent the event handling by {@code consuming} the event. Here&#39;s a simplified
 169  * example:
 170  *
 171  * &lt;pre&gt; {@code final Button btOk = (Button) dlg.getDialogPane().lookupButton(ButtonType.OK);
 172  * btOk.addEventFilter(ActionEvent.ACTION, event -&gt; {
 173  *     if (!validateAndStore()) {
 174  *         event.consume();
 175  *     }
 176  * });}&lt;/pre&gt;
 177  *
<span class="line-modified"> 178  * &lt;h3&gt;Dialog Closing Rules&lt;/h3&gt;</span>
 179  *
 180  * &lt;p&gt;It is important to understand what happens when a Dialog is closed, and
 181  * also how a Dialog can be closed, especially in abnormal closing situations
 182  * (such as when the &#39;X&#39; button is clicked in a dialogs title bar, or when
 183  * operating system specific keyboard shortcuts (such as alt-F4 on Windows)
 184  * are entered). Fortunately, the outcome is well-defined in these situations,
 185  * and can be best summarised in the following bullet points:
 186  *
 187  * &lt;ul&gt;
 188  *   &lt;li&gt;JavaFX dialogs can only be closed &#39;abnormally&#39; (as defined above) in
 189  *   two situations:
 190  *     &lt;ol&gt;
 191  *       &lt;li&gt;When the dialog only has one button, or
 192  *       &lt;li&gt;When the dialog has multiple buttons, as long as one of them meets
 193  *       one of the following requirements:
 194  *       &lt;ol&gt;
 195  *           &lt;li&gt;The button has a {@link ButtonType} whose {@link ButtonData} is of type
 196  *           {@link ButtonData#CANCEL_CLOSE}.&lt;/li&gt;
 197  *           &lt;li&gt;The button has a {@link ButtonType} whose {@link ButtonData} returns true
 198  *           when {@link ButtonData#isCancelButton()} is called.&lt;/li&gt;
</pre>
</td>
<td>
<hr />
<pre>
 135  *     formatSystem();
 136  * }}&lt;/pre&gt;
 137  *
 138  * &lt;p&gt;&lt;strong&gt;Option 2: The traditional + Optional approach&lt;/strong&gt;
 139  * &lt;pre&gt; {@code dialog.showAndWait().ifPresent(response -&gt; {
 140  *     if (response == ButtonType.OK) {
 141  *         formatSystem();
 142  *     }
 143  * });}&lt;/pre&gt;
 144  *
 145  * &lt;p&gt;&lt;strong&gt;Option 3: The fully lambda approach&lt;/strong&gt;
 146  * &lt;pre&gt; {@code dialog.showAndWait()
 147  *       .filter(response -&gt; response == ButtonType.OK)
 148  *       .ifPresent(response -&gt; formatSystem());}&lt;/pre&gt;
 149  *
 150  * &lt;p&gt;There is no better or worse option of the three listed above, so developers
 151  * are encouraged to work to their own style preferences. The purpose of showing
 152  * the above is to help introduce developers to the {@link Optional} API, which
 153  * is new in Java 8 and may be foreign to many developers.
 154  *
<span class="line-modified"> 155  * &lt;h2&gt;Dialog Validation / Intercepting Button Actions&lt;/h2&gt;</span>
 156  *
 157  * &lt;p&gt;In some circumstances it is desirable to prevent a dialog from closing
 158  * until some aspect of the dialog becomes internally consistent (e.g. a form
 159  * inside the dialog has all fields in a valid state). To do this, users of the
 160  * dialogs API should become familiar with the
 161  * {@link DialogPane#lookupButton(ButtonType)} method. By passing in a
 162  * {@link javafx.scene.control.ButtonType ButtonType} (that has already been set
 163  * in the {@link DialogPane#getButtonTypes() button types} list), users will be
 164  * returned a Node that is typically of type {@link Button} (but this depends
 165  * on if the {@link DialogPane#createButton(ButtonType)} method has been
 166  * overridden). With this button, users may add an event filter that is called
 167  * before the button does its usual event handling, and as such users may
 168  * prevent the event handling by {@code consuming} the event. Here&#39;s a simplified
 169  * example:
 170  *
 171  * &lt;pre&gt; {@code final Button btOk = (Button) dlg.getDialogPane().lookupButton(ButtonType.OK);
 172  * btOk.addEventFilter(ActionEvent.ACTION, event -&gt; {
 173  *     if (!validateAndStore()) {
 174  *         event.consume();
 175  *     }
 176  * });}&lt;/pre&gt;
 177  *
<span class="line-modified"> 178  * &lt;h2&gt;Dialog Closing Rules&lt;/h2&gt;</span>
 179  *
 180  * &lt;p&gt;It is important to understand what happens when a Dialog is closed, and
 181  * also how a Dialog can be closed, especially in abnormal closing situations
 182  * (such as when the &#39;X&#39; button is clicked in a dialogs title bar, or when
 183  * operating system specific keyboard shortcuts (such as alt-F4 on Windows)
 184  * are entered). Fortunately, the outcome is well-defined in these situations,
 185  * and can be best summarised in the following bullet points:
 186  *
 187  * &lt;ul&gt;
 188  *   &lt;li&gt;JavaFX dialogs can only be closed &#39;abnormally&#39; (as defined above) in
 189  *   two situations:
 190  *     &lt;ol&gt;
 191  *       &lt;li&gt;When the dialog only has one button, or
 192  *       &lt;li&gt;When the dialog has multiple buttons, as long as one of them meets
 193  *       one of the following requirements:
 194  *       &lt;ol&gt;
 195  *           &lt;li&gt;The button has a {@link ButtonType} whose {@link ButtonData} is of type
 196  *           {@link ButtonData#CANCEL_CLOSE}.&lt;/li&gt;
 197  *           &lt;li&gt;The button has a {@link ButtonType} whose {@link ButtonData} returns true
 198  *           when {@link ButtonData#isCancelButton()} is called.&lt;/li&gt;
</pre>
</td>
</tr>
</table>
<center><a href="ComboBox.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../index.html" target="_top">index</a> <a href="ListView.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>