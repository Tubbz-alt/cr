<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.web/src/main/java/javafx/scene/web/HTMLEditorSkin.java</title>
    <link rel="stylesheet" href="../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.web/src/main/java/javafx/scene/web/HTMLEditorSkin.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 946         String formatValue = getCommandValue(FORMAT.getCommand());
 947         if (formatValue != null) {
 948             String htmlTag = &quot;&lt;&quot; + formatValue + &quot;&gt;&quot;;
 949             String comboFormatValue = styleFormatMap.get(htmlTag);
 950             String format = formatComboBox.getValue();
 951 
 952             // if the format value is then we assume that we&#39;re dealing with a paragraph,
 953             // which seems to correspond with the HTML output we receive.
 954             if ((resetToolbarState || htmlTag.equals(&quot;&lt;&gt;&quot;) || htmlTag.equalsIgnoreCase(&quot;&lt;div&gt;&quot;) || htmlTag.equalsIgnoreCase(&quot;&lt;blockquote&gt;&quot;))) {
 955                 formatComboBox.setValue(resources.getString(&quot;paragraph&quot;));
 956             } else if (format != null &amp;&amp; ! format.equalsIgnoreCase(comboFormatValue)) {
 957                 formatComboBox.setValue(comboFormatValue);
 958             }
 959         }
 960 
 961         fontFamilyComboBox.setDisable(!isCommandEnabled(FONT_FAMILY.getCommand()));
 962         final String fontFamilyValue = getCommandValue(FONT_FAMILY.getCommand());
 963         if (fontFamilyValue != null) {
 964             String fontFamilyStr = fontFamilyValue;
 965 
<span class="line-modified"> 966             // stripping out apostrophe characters, which are appended to either</span>
 967             // end of the font face name when the font face has one or more spaces.
<span class="line-modified"> 968             if (fontFamilyStr.startsWith(&quot;&#39;&quot;)) {</span>
 969                 fontFamilyStr = fontFamilyStr.substring(1);
 970             }
<span class="line-modified"> 971             if (fontFamilyStr.endsWith(&quot;&#39;&quot;)) {</span>
<span class="line-modified"> 972                 fontFamilyStr = fontFamilyStr.substring(0,fontFamilyStr.length() - 1);</span>
 973             }
 974 
 975             Object selectedFont = fontFamilyComboBox.getValue();
 976             if (selectedFont instanceof String) {
 977                 if (!selectedFont.equals(fontFamilyStr)) {
 978 
 979                     ObservableList&lt;String&gt; fontFamilyItems = fontFamilyComboBox.getItems();
 980                     String selectedComboFont = null;
 981                     for (String comboFontFamilyValue : fontFamilyItems) {
 982 
 983                         if (comboFontFamilyValue.equals(fontFamilyStr)) {
 984                             selectedComboFont = comboFontFamilyValue;
 985                             break;
 986                         }
 987                         // Note: By default, &#39;Dialog&#39; is the font returned from webview.
 988                         // For presidio, we&#39;re just mapping to the default font.
 989                         if (comboFontFamilyValue.equals(&quot;&quot;) &amp;&amp; fontFamilyStr.equals(&quot;Dialog&quot;)) {
 990                             selectedComboFont = comboFontFamilyValue;
 991                             break;
 992                         }
</pre>
</td>
<td>
<hr />
<pre>
 946         String formatValue = getCommandValue(FORMAT.getCommand());
 947         if (formatValue != null) {
 948             String htmlTag = &quot;&lt;&quot; + formatValue + &quot;&gt;&quot;;
 949             String comboFormatValue = styleFormatMap.get(htmlTag);
 950             String format = formatComboBox.getValue();
 951 
 952             // if the format value is then we assume that we&#39;re dealing with a paragraph,
 953             // which seems to correspond with the HTML output we receive.
 954             if ((resetToolbarState || htmlTag.equals(&quot;&lt;&gt;&quot;) || htmlTag.equalsIgnoreCase(&quot;&lt;div&gt;&quot;) || htmlTag.equalsIgnoreCase(&quot;&lt;blockquote&gt;&quot;))) {
 955                 formatComboBox.setValue(resources.getString(&quot;paragraph&quot;));
 956             } else if (format != null &amp;&amp; ! format.equalsIgnoreCase(comboFormatValue)) {
 957                 formatComboBox.setValue(comboFormatValue);
 958             }
 959         }
 960 
 961         fontFamilyComboBox.setDisable(!isCommandEnabled(FONT_FAMILY.getCommand()));
 962         final String fontFamilyValue = getCommandValue(FONT_FAMILY.getCommand());
 963         if (fontFamilyValue != null) {
 964             String fontFamilyStr = fontFamilyValue;
 965 
<span class="line-modified"> 966             // stripping out apostrophe and quote characters, which are appended to either</span>
 967             // end of the font face name when the font face has one or more spaces.
<span class="line-modified"> 968             if (fontFamilyStr.startsWith(&quot;&#39;&quot;) || fontFamilyStr.startsWith(&quot;\&quot;&quot;)) {</span>
 969                 fontFamilyStr = fontFamilyStr.substring(1);
 970             }
<span class="line-modified"> 971             if (fontFamilyStr.endsWith(&quot;&#39;&quot;) || fontFamilyStr.endsWith(&quot;\&quot;&quot;)) {</span>
<span class="line-modified"> 972                 fontFamilyStr = fontFamilyStr.substring(0, fontFamilyStr.length() - 1);</span>
 973             }
 974 
 975             Object selectedFont = fontFamilyComboBox.getValue();
 976             if (selectedFont instanceof String) {
 977                 if (!selectedFont.equals(fontFamilyStr)) {
 978 
 979                     ObservableList&lt;String&gt; fontFamilyItems = fontFamilyComboBox.getItems();
 980                     String selectedComboFont = null;
 981                     for (String comboFontFamilyValue : fontFamilyItems) {
 982 
 983                         if (comboFontFamilyValue.equals(fontFamilyStr)) {
 984                             selectedComboFont = comboFontFamilyValue;
 985                             break;
 986                         }
 987                         // Note: By default, &#39;Dialog&#39; is the font returned from webview.
 988                         // For presidio, we&#39;re just mapping to the default font.
 989                         if (comboFontFamilyValue.equals(&quot;&quot;) &amp;&amp; fontFamilyStr.equals(&quot;Dialog&quot;)) {
 990                             selectedComboFont = comboFontFamilyValue;
 991                             break;
 992                         }
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>