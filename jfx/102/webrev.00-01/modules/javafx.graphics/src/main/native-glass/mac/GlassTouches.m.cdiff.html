<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.graphics/src/main/native-glass/mac/GlassTouches.m</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>modules/javafx.graphics/src/main/native-glass/mac/GlassTouches.m</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 40,10 ***</span>
<span class="line-new-header">--- 40,11 ---</span>
      #define LOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);
  #endif
  
  
  static GlassTouches* glassTouches = nil;
<span class="line-added">+ static BOOL useEventTap = NO;</span>
  
  
  @interface GlassTouches (hidden)
  
  - (void)releaseTouches;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 174,11 ***</span>
      glassTouches = nil;
  }
  
  - (id)init
  {
<span class="line-modified">!     BOOL useEventTap = YES;</span>
      if (@available(macOS 10.15, *)) {
          useEventTap = NO;
      }
  
      self = [super init];
<span class="line-new-header">--- 175,11 ---</span>
      glassTouches = nil;
  }
  
  - (id)init
  {
<span class="line-modified">!     useEventTap = YES;</span>
      if (@available(macOS 10.15, *)) {
          useEventTap = NO;
      }
  
      self = [super init];
</pre>
<hr />
<pre>
<span class="line-old-header">*** 230,15 ***</span>
  
  
  @implementation GlassTouches (hidden)
  - (void)terminateImpl
  {
<span class="line-removed">-     BOOL useEventTap = YES;</span>
<span class="line-removed">-     if (@available(macOS 10.15, *)) {</span>
<span class="line-removed">-         useEventTap = NO;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      if (useEventTap) {
          LOG(&quot;TOUCHES: terminateImpl eventTap=%p runLoopSource=%p\n&quot;, self-&gt;eventTap,
              self-&gt;runLoopSource);
  
          if (self-&gt;runLoopSource)
<span class="line-new-header">--- 231,10 ---</span>
</pre>
<hr />
<pre>
<span class="line-old-header">*** 258,15 ***</span>
      [self releaseTouches];
  }
  
  - (void)enableTouchInputEventTap
  {
<span class="line-removed">-     BOOL useEventTap = YES;</span>
<span class="line-removed">-     if (@available(macOS 10.15, *)) {</span>
<span class="line-removed">-         useEventTap = NO;</span>
<span class="line-removed">-     }</span>
<span class="line-removed">- </span>
      if (useEventTap) {
          CGEventTapEnable(self-&gt;eventTap, true);
      }
  }
  
<span class="line-new-header">--- 254,10 ---</span>
</pre>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>