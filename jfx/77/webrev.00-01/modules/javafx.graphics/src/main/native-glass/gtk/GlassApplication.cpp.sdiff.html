<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.graphics/src/main/native-glass/gtk/GlassApplication.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../java/com/sun/glass/ui/gtk/GtkWindow.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="GlassCursor.cpp.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk/GlassApplication.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
418     return TRUE;
419 }
420 
421 static void process_events(GdkEvent* event, gpointer data)
422 {
423     GdkWindow* window = event-&gt;any.window;
424     WindowContext *ctx = window != NULL ? (WindowContext*)
425         g_object_get_data(G_OBJECT(window), GDK_WINDOW_DATA_CONTEXT) : NULL;
426 
427     if ((window != NULL)
428             &amp;&amp; !is_window_enabled_for_event(window, ctx, event-&gt;type)) {
429         return;
430     }
431 
432     if (ctx != NULL &amp;&amp; ctx-&gt;hasIME() &amp;&amp; ctx-&gt;filterIME(event)) {
433         return;
434     }
435 
436     glass_evloop_call_hooks(event);
437 
<span class="line-removed">438 //    if (ctx != NULL &amp;&amp; dynamic_cast&lt;WindowContextPlug*&gt;(ctx) &amp;&amp; ctx-&gt;get_gtk_window()) {</span>
<span class="line-removed">439 //        WindowContextPlug* ctx_plug = dynamic_cast&lt;WindowContextPlug*&gt;(ctx);</span>
<span class="line-removed">440 //        if (!ctx_plug-&gt;embedded_children.empty()) {</span>
<span class="line-removed">441 //            // forward to child</span>
<span class="line-removed">442 //            ctx = (WindowContext*) ctx_plug-&gt;embedded_children.back();</span>
<span class="line-removed">443 //            window = ctx-&gt;get_gdk_window();</span>
<span class="line-removed">444 //        }</span>
<span class="line-removed">445 //    }</span>
<span class="line-removed">446 </span>
447     if (ctx != NULL) {
448         EventsCounterHelper helper(ctx);
449         gtk_main_do_event(event);
450 
451         if (event-&gt;type == GDK_DRAG_LEAVE) {
452             dnd_drag_leave_callback(ctx);
453         }
454     } else {
455         if (window == gdk_screen_get_root_window(gdk_screen_get_default())) {
456             if (event-&gt;any.type == GDK_PROPERTY_NOTIFY) {
457                 if (event-&gt;property.atom == gdk_atom_intern_static_string(&quot;_NET_WORKAREA&quot;)
458                         || event-&gt;property.atom == gdk_atom_intern_static_string(&quot;_NET_CURRENT_DESKTOP&quot;)) {
459                     screen_settings_changed(gdk_screen_get_default(), NULL);
460                 }
461             }
462         }
463 
464         //process only for non-FX windows
465         if (process_events_prev != NULL) {
466             (*process_events_prev)(event, data);
</pre>
</td>
<td>
<hr />
<pre>
418     return TRUE;
419 }
420 
421 static void process_events(GdkEvent* event, gpointer data)
422 {
423     GdkWindow* window = event-&gt;any.window;
424     WindowContext *ctx = window != NULL ? (WindowContext*)
425         g_object_get_data(G_OBJECT(window), GDK_WINDOW_DATA_CONTEXT) : NULL;
426 
427     if ((window != NULL)
428             &amp;&amp; !is_window_enabled_for_event(window, ctx, event-&gt;type)) {
429         return;
430     }
431 
432     if (ctx != NULL &amp;&amp; ctx-&gt;hasIME() &amp;&amp; ctx-&gt;filterIME(event)) {
433         return;
434     }
435 
436     glass_evloop_call_hooks(event);
437 









438     if (ctx != NULL) {
439         EventsCounterHelper helper(ctx);
440         gtk_main_do_event(event);
441 
442         if (event-&gt;type == GDK_DRAG_LEAVE) {
443             dnd_drag_leave_callback(ctx);
444         }
445     } else {
446         if (window == gdk_screen_get_root_window(gdk_screen_get_default())) {
447             if (event-&gt;any.type == GDK_PROPERTY_NOTIFY) {
448                 if (event-&gt;property.atom == gdk_atom_intern_static_string(&quot;_NET_WORKAREA&quot;)
449                         || event-&gt;property.atom == gdk_atom_intern_static_string(&quot;_NET_CURRENT_DESKTOP&quot;)) {
450                     screen_settings_changed(gdk_screen_get_default(), NULL);
451                 }
452             }
453         }
454 
455         //process only for non-FX windows
456         if (process_events_prev != NULL) {
457             (*process_events_prev)(event, data);
</pre>
</td>
</tr>
</table>
<center><a href="../../java/com/sun/glass/ui/gtk/GtkWindow.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="GlassCursor.cpp.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>