<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.graphics/src/main/native-glass/gtk/GlassWindow.cpp</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="GlassCursor.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_general.cpp.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.graphics/src/main/native-glass/gtk/GlassWindow.cpp</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -103,43 +103,10 @@</span>
  JNIEXPORT jlong JNICALL Java_com_sun_glass_ui_gtk_GtkWindow__1createChildWindow
    (JNIEnv * env, jobject obj , jlong owner)
  {
      (void)env;
  
<span class="udiff-line-removed">- //    GdkWindow *parent_window = NULL;</span>
<span class="udiff-line-removed">- //    GtkWidget *parent_widget = NULL;</span>
<span class="udiff-line-removed">- //    WindowContextPlug *parent_ctx = NULL;</span>
<span class="udiff-line-removed">- //    WindowContext *ctx = NULL;</span>
<span class="udiff-line-removed">- //</span>
<span class="udiff-line-removed">- //    parent_window = gdk_x11_window_lookup_for_display(</span>
<span class="udiff-line-removed">- //                        gdk_display_get_default(),</span>
<span class="udiff-line-removed">- //                        (Window)PTR_TO_JLONG(owner));</span>
<span class="udiff-line-removed">- //</span>
<span class="udiff-line-removed">- //    if (parent_window != NULL) {</span>
<span class="udiff-line-removed">- //        g_print(&quot;===&gt; HERE\n&quot;);</span>
<span class="udiff-line-removed">- //        parent_ctx = (WindowContextPlug *)g_object_get_data(G_OBJECT(parent_window), GDK_WINDOW_DATA_CONTEXT);</span>
<span class="udiff-line-removed">- //        // HACK: do not use get_gtk_window()</span>
<span class="udiff-line-removed">- //        // the method is intended to return GtkWindow that can be used for FileChooser</span>
<span class="udiff-line-removed">- //        // (OK, that&#39;s also a hack, but still...)</span>
<span class="udiff-line-removed">- //        if (parent_ctx != NULL) {</span>
<span class="udiff-line-removed">- //            parent_widget = GTK_WIDGET(parent_ctx-&gt;get_gtk_window());</span>
<span class="udiff-line-removed">- //        }</span>
<span class="udiff-line-removed">- //    }</span>
<span class="udiff-line-removed">- //</span>
<span class="udiff-line-removed">- //    if (parent_widget == NULL) {</span>
<span class="udiff-line-removed">- //        // If &#39;owner&#39; is a bad handle, then the child window is created unparented</span>
<span class="udiff-line-removed">- //        g_print(&quot;===&gt; HERE2\n&quot;);</span>
<span class="udiff-line-removed">- //        ctx = new WindowContextPlug(obj, JLONG_TO_PTR(owner));</span>
<span class="udiff-line-removed">- //    } else {</span>
<span class="udiff-line-removed">- //        g_print(&quot;===&gt; HERE3\n&quot;);</span>
<span class="udiff-line-removed">- //        ctx = new WindowContextChild(obj,</span>
<span class="udiff-line-removed">- //                        JLONG_TO_PTR(owner),</span>
<span class="udiff-line-removed">- //                        parent_ctx-&gt;gtk_container,</span>
<span class="udiff-line-removed">- //                        parent_ctx);</span>
<span class="udiff-line-removed">- //    }</span>
<span class="udiff-line-removed">- //</span>
<span class="udiff-line-removed">- //    return PTR_TO_JLONG(ctx);</span>
      return 0;
  }
  
  /*
   * Class:     com_sun_glass_ui_gtk_GtkWindow
</pre>
<center><a href="GlassCursor.cpp.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> <a href="glass_general.cpp.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>