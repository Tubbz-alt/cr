<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/projects/win/glib-lite/Makefile</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../mac/gstreamer-lite/Makefile.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Makefile.glib.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/projects/win/glib-lite/Makefile</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
15 
16 export BUILD_DIR = $(shell cygpath -u &quot;$(OUTPUT_DIR)/$(BUILD_TYPE)&quot;)
17 DEF_DIR = ../../../$(GLIB_BASE_DIR)/build/win32/vs100
18 
19 TARGET = $(BUILD_DIR)/$(BASE_NAME).dll
20 
21 MANIFEST   = $(shell cygpath -ma &quot;$(BUILD_DIR)/$(BASE_NAME).manifest&quot;)
22 IMPLIB     = $(shell cygpath -ma &quot;$(BUILD_DIR)/$(BASE_NAME).lib&quot;)
23 export PDB = $(shell cygpath -ma &quot;$(BUILD_DIR)/$(BASE_NAME).pdb&quot;)
24 
25 SYSTEM_LIBS = Ws2_32.lib \
26               kernel32.lib \
27               user32.lib \
28               shell32.lib \
29               advapi32.lib \
30               ole32.lib \
31 	      Winmm.lib
32 
33 LDFLAGS = -out:$(shell cygpath -ma $(TARGET)) -nologo -incremental:no -libpath:$(shell cygpath -ma $(BUILD_DIR)) -dll $(SYSTEM_LIBS) \
34           -manifest -manifestfile:$(MANIFEST) -manifestuac:&quot;level=&#39;asInvoker&#39; uiAccess=&#39;false&#39;&quot; \
<span class="line-modified">35           -subsystem:windows -tlbid:1 -dynamicbase -nxcompat -errorreport:queue -implib:$(IMPLIB)</span>

36 
37 ifeq ($(BUILD_TYPE), Release)
<span class="line-modified">38     LDFLAGS += -def:$(DEF_DIR)/glib-lite.def -opt:ref -opt:icf</span>
39 else # debug
<span class="line-modified">40     LDFLAGS += -debug -def:$(DEF_DIR)/glib-liteD.def -pdb:$(shell cygpath -ma $(PDB))</span>
41 endif
42 
43 ifeq ($(ARCH), x32)
44     LDFLAGS += -safeseh -MACHINE:x86
45 else
46     LDFLAGS += -MACHINE:x64
47 endif
48 
49 LIBS = $(addprefix $(BUILD_DIR)/,$(MODULES))
50 
51 .PHONY: default list
52 
53 default: $(TARGET)
54 
55 $(TARGET): $(LIBS)
56 	$(LINKER) $(LDFLAGS) $(shell cygpath -ma &quot;$(RESOURCE)&quot;) $(foreach lib,$(LIBS),$(shell cygpath -ma $(lib)))
57 
58 $(BUILD_DIR)/$(FFI_TARGET):
59 	$(MAKE) TARGET=$(BUILD_DIR)/$(FFI_TARGET) -f Makefile.ffi
60 
</pre>
</td>
<td>
<hr />
<pre>
15 
16 export BUILD_DIR = $(shell cygpath -u &quot;$(OUTPUT_DIR)/$(BUILD_TYPE)&quot;)
17 DEF_DIR = ../../../$(GLIB_BASE_DIR)/build/win32/vs100
18 
19 TARGET = $(BUILD_DIR)/$(BASE_NAME).dll
20 
21 MANIFEST   = $(shell cygpath -ma &quot;$(BUILD_DIR)/$(BASE_NAME).manifest&quot;)
22 IMPLIB     = $(shell cygpath -ma &quot;$(BUILD_DIR)/$(BASE_NAME).lib&quot;)
23 export PDB = $(shell cygpath -ma &quot;$(BUILD_DIR)/$(BASE_NAME).pdb&quot;)
24 
25 SYSTEM_LIBS = Ws2_32.lib \
26               kernel32.lib \
27               user32.lib \
28               shell32.lib \
29               advapi32.lib \
30               ole32.lib \
31 	      Winmm.lib
32 
33 LDFLAGS = -out:$(shell cygpath -ma $(TARGET)) -nologo -incremental:no -libpath:$(shell cygpath -ma $(BUILD_DIR)) -dll $(SYSTEM_LIBS) \
34           -manifest -manifestfile:$(MANIFEST) -manifestuac:&quot;level=&#39;asInvoker&#39; uiAccess=&#39;false&#39;&quot; \
<span class="line-modified">35           -subsystem:windows -tlbid:1 -dynamicbase -nxcompat -errorreport:queue -implib:$(IMPLIB) \</span>
<span class="line-added">36           -def:$(DEF_DIR)/glib-lite.def</span>
37 
38 ifeq ($(BUILD_TYPE), Release)
<span class="line-modified">39     LDFLAGS += -opt:ref -opt:icf</span>
40 else # debug
<span class="line-modified">41     LDFLAGS += -debug -pdb:$(shell cygpath -ma $(PDB))</span>
42 endif
43 
44 ifeq ($(ARCH), x32)
45     LDFLAGS += -safeseh -MACHINE:x86
46 else
47     LDFLAGS += -MACHINE:x64
48 endif
49 
50 LIBS = $(addprefix $(BUILD_DIR)/,$(MODULES))
51 
52 .PHONY: default list
53 
54 default: $(TARGET)
55 
56 $(TARGET): $(LIBS)
57 	$(LINKER) $(LDFLAGS) $(shell cygpath -ma &quot;$(RESOURCE)&quot;) $(foreach lib,$(LIBS),$(shell cygpath -ma $(lib)))
58 
59 $(BUILD_DIR)/$(FFI_TARGET):
60 	$(MAKE) TARGET=$(BUILD_DIR)/$(FFI_TARGET) -f Makefile.ffi
61 
</pre>
</td>
</tr>
</table>
<center><a href="../../mac/gstreamer-lite/Makefile.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="Makefile.glib.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>