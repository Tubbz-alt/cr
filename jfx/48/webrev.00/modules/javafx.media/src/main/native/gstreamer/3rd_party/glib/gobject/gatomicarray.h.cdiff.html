<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gatomicarray.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gatomicarray.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gbinding.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gatomicarray.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 32,27 ***</span>
    volatile gpointer data;               /* elements - atomic */
  };
  
  void     _g_atomic_array_init   (GAtomicArray *array);
  gpointer _g_atomic_array_copy   (GAtomicArray *array,
<span class="line-modified">!                  gsize         header_size,</span>
<span class="line-modified">!                  gsize         additional_element_size);</span>
  void     _g_atomic_array_update (GAtomicArray *array,
<span class="line-modified">!                  gpointer      new_data);</span>
  
  #define  G_ATOMIC_ARRAY_GET_LOCKED(_array, _type) ((_type *)((_array)-&gt;data))
  
<span class="line-modified">! #define G_ATOMIC_ARRAY_DO_TRANSACTION(_array, _type, _C_) G_STMT_START {    \</span>
<span class="line-modified">!     volatile gpointer *_datap  = &amp;(_array)-&gt;data;               \</span>
<span class="line-modified">!     _type *transaction_data, *__check;                      \</span>
<span class="line-modified">!                                         \</span>
<span class="line-modified">!     __check = g_atomic_pointer_get (_datap);                    \</span>
<span class="line-modified">!     do {                                    \</span>
<span class="line-modified">!       transaction_data = __check;                       \</span>
<span class="line-modified">!       {_C_;}                                    \</span>
<span class="line-modified">!       __check = g_atomic_pointer_get (_datap);                  \</span>
<span class="line-modified">!     } while (transaction_data != __check);                  \</span>
    } G_STMT_END
  
  G_END_DECLS
  
  #endif  /* __G_ATOMIC_ARRAY_H__ */
<span class="line-new-header">--- 32,27 ---</span>
    volatile gpointer data;               /* elements - atomic */
  };
  
  void     _g_atomic_array_init   (GAtomicArray *array);
  gpointer _g_atomic_array_copy   (GAtomicArray *array,
<span class="line-modified">!          gsize         header_size,</span>
<span class="line-modified">!          gsize         additional_element_size);</span>
  void     _g_atomic_array_update (GAtomicArray *array,
<span class="line-modified">!          gpointer      new_data);</span>
  
  #define  G_ATOMIC_ARRAY_GET_LOCKED(_array, _type) ((_type *)((_array)-&gt;data))
  
<span class="line-modified">! #define G_ATOMIC_ARRAY_DO_TRANSACTION(_array, _type, _C_) G_STMT_START {  \</span>
<span class="line-modified">!     volatile gpointer *_datap  = &amp;(_array)-&gt;data;       \</span>
<span class="line-modified">!     _type *transaction_data, *__check;            \</span>
<span class="line-modified">!                     \</span>
<span class="line-modified">!     __check = g_atomic_pointer_get (_datap);          \</span>
<span class="line-modified">!     do {                  \</span>
<span class="line-modified">!       transaction_data = __check;           \</span>
<span class="line-modified">!       {_C_;}                  \</span>
<span class="line-modified">!       __check = g_atomic_pointer_get (_datap);          \</span>
<span class="line-modified">!     } while (transaction_data != __check);          \</span>
    } G_STMT_END
  
  G_END_DECLS
  
  #endif  /* __G_ATOMIC_ARRAY_H__ */
</pre>
<center><a href="gatomicarray.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gbinding.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>