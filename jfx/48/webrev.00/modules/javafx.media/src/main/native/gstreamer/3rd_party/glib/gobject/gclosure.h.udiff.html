<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gclosure.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gclosure.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="genums.c.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gclosure.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -47,11 +47,11 @@</span>
   * See g_closure_set_meta_marshal(), g_closure_add_finalize_notifier(),
   * g_closure_add_invalidate_notifier() and g_closure_add_marshal_guards().
   *
   * Returns: number of notifiers
   */
<span class="udiff-line-modified-removed">- #define G_CLOSURE_N_NOTIFIERS(cl)    (((cl)-&gt;n_guards &lt;&lt; 1L) + \</span>
<span class="udiff-line-modified-added">+ #define G_CLOSURE_N_NOTIFIERS(cl)  (((cl)-&gt;n_guards &lt;&lt; 1L) + \</span>
                                            (cl)-&gt;n_fnotifiers + (cl)-&gt;n_inotifiers)
  /**
   * G_CCLOSURE_SWAP_DATA:
   * @cclosure: a #GCClosure
   *
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -65,15 +65,15 @@</span>
   * G_CALLBACK:
   * @f: a function pointer.
   *
   * Cast a function pointer to a #GCallback.
   */
<span class="udiff-line-modified-removed">- #define G_CALLBACK(f)            ((GCallback) (f))</span>
<span class="udiff-line-modified-added">+ #define G_CALLBACK(f)      ((GCallback) (f))</span>
  
  
  /* -- typedefs --- */
<span class="udiff-line-modified-removed">- typedef struct _GClosure         GClosure;</span>
<span class="udiff-line-modified-added">+ typedef struct _GClosure     GClosure;</span>
  typedef struct _GClosureNotifyData   GClosureNotifyData;
  
  /**
   * GCallback:
   *
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -90,12 +90,12 @@</span>
   * @closure: the #GClosure on which the notification is emitted
   *
   * The type used for the various notification callbacks which can be registered
   * on closures.
   */
<span class="udiff-line-modified-removed">- typedef void  (*GClosureNotify)     (gpointer    data,</span>
<span class="udiff-line-modified-removed">-                      GClosure   *closure);</span>
<span class="udiff-line-modified-added">+ typedef void  (*GClosureNotify)   (gpointer  data,</span>
<span class="udiff-line-modified-added">+            GClosure *closure);</span>
  /**
   * GClosureMarshal:
   * @closure: the #GClosure to which the marshaller belongs
   * @return_value: (nullable): a #GValue to store the return
   *  value. May be %NULL if the callback of @closure doesn&#39;t return a
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -110,16 +110,16 @@</span>
   *  registering the marshaller, see g_closure_set_marshal() and
   *  g_closure_set_meta_marshal()
   *
   * The type used for marshaller functions.
   */
<span class="udiff-line-modified-removed">- typedef void  (*GClosureMarshal)    (GClosure   *closure,</span>
<span class="udiff-line-modified-removed">-                      GValue         *return_value,</span>
<span class="udiff-line-modified-removed">-                      guint           n_param_values,</span>
<span class="udiff-line-modified-removed">-                      const GValue   *param_values,</span>
<span class="udiff-line-modified-removed">-                      gpointer        invocation_hint,</span>
<span class="udiff-line-modified-removed">-                      gpointer    marshal_data);</span>
<span class="udiff-line-modified-added">+ typedef void  (*GClosureMarshal)  (GClosure *closure,</span>
<span class="udiff-line-modified-added">+            GValue         *return_value,</span>
<span class="udiff-line-modified-added">+            guint           n_param_values,</span>
<span class="udiff-line-modified-added">+            const GValue   *param_values,</span>
<span class="udiff-line-modified-added">+            gpointer        invocation_hint,</span>
<span class="udiff-line-modified-added">+            gpointer  marshal_data);</span>
  
  /**
   * GVaClosureMarshal:
   * @closure: the #GClosure to which the marshaller belongs
   * @return_value: (nullable): a #GValue to store the return
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -138,25 +138,25 @@</span>
   * This is the signature of va_list marshaller functions, an optional
   * marshaller that can be used in some situations to avoid
   * marshalling the signal argument into GValues.
   */
  typedef void (* GVaClosureMarshal) (GClosure *closure,
<span class="udiff-line-modified-removed">-                     GValue   *return_value,</span>
<span class="udiff-line-modified-removed">-                     gpointer  instance,</span>
<span class="udiff-line-modified-removed">-                     va_list   args,</span>
<span class="udiff-line-modified-removed">-                     gpointer  marshal_data,</span>
<span class="udiff-line-modified-removed">-                     int       n_params,</span>
<span class="udiff-line-modified-removed">-                     GType    *param_types);</span>
<span class="udiff-line-modified-added">+             GValue   *return_value,</span>
<span class="udiff-line-modified-added">+             gpointer  instance,</span>
<span class="udiff-line-modified-added">+             va_list   args,</span>
<span class="udiff-line-modified-added">+             gpointer  marshal_data,</span>
<span class="udiff-line-modified-added">+             int       n_params,</span>
<span class="udiff-line-modified-added">+             GType    *param_types);</span>
  
  /**
   * GCClosure:
   * @closure: the #GClosure
   * @callback: the callback function
   *
   * A #GCClosure is a specialization of #GClosure for C function callbacks.
   */
<span class="udiff-line-modified-removed">- typedef struct _GCClosure        GCClosure;</span>
<span class="udiff-line-modified-added">+ typedef struct _GCClosure    GCClosure;</span>
  
  
  /* --- structures --- */
  struct _GClosureNotifyData
  {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -173,34 +173,34 @@</span>
   * A #GClosure represents a callback supplied by the programmer.
   */
  struct _GClosure
  {
    /*&lt; private &gt;*/
<span class="udiff-line-modified-removed">-   volatile          guint    ref_count : 15;</span>
<span class="udiff-line-modified-added">+   volatile        guint  ref_count : 15;</span>
    /* meta_marshal is not used anymore but must be zero for historical reasons
       as it was exposed in the G_CLOSURE_N_NOTIFIERS macro */
<span class="udiff-line-modified-removed">-   volatile          guint    meta_marshal_nouse : 1;</span>
<span class="udiff-line-modified-removed">-   volatile          guint    n_guards : 1;</span>
<span class="udiff-line-modified-removed">-   volatile          guint    n_fnotifiers : 2;  /* finalization notifiers */</span>
<span class="udiff-line-modified-removed">-   volatile          guint    n_inotifiers : 8;  /* invalidation notifiers */</span>
<span class="udiff-line-modified-removed">-   volatile          guint    in_inotify : 1;</span>
<span class="udiff-line-modified-removed">-   volatile          guint    floating : 1;</span>
<span class="udiff-line-modified-added">+   volatile        guint  meta_marshal_nouse : 1;</span>
<span class="udiff-line-modified-added">+   volatile        guint  n_guards : 1;</span>
<span class="udiff-line-modified-added">+   volatile        guint  n_fnotifiers : 2;  /* finalization notifiers */</span>
<span class="udiff-line-modified-added">+   volatile        guint  n_inotifiers : 8;  /* invalidation notifiers */</span>
<span class="udiff-line-modified-added">+   volatile        guint  in_inotify : 1;</span>
<span class="udiff-line-modified-added">+   volatile        guint  floating : 1;</span>
    /*&lt; protected &gt;*/
<span class="udiff-line-modified-removed">-   volatile          guint    derivative_flag : 1;</span>
<span class="udiff-line-modified-added">+   volatile          guint  derivative_flag : 1;</span>
    /*&lt; public &gt;*/
<span class="udiff-line-modified-removed">-   volatile          guint    in_marshal : 1;</span>
<span class="udiff-line-modified-removed">-   volatile          guint    is_invalid : 1;</span>
<span class="udiff-line-modified-added">+   volatile        guint  in_marshal : 1;</span>
<span class="udiff-line-modified-added">+   volatile        guint  is_invalid : 1;</span>
  
<span class="udiff-line-modified-removed">-   /*&lt; private &gt;*/   void   (*marshal)  (GClosure       *closure,</span>
<span class="udiff-line-modified-removed">-                         GValue /*out*/ *return_value,</span>
<span class="udiff-line-modified-removed">-                         guint           n_param_values,</span>
<span class="udiff-line-modified-removed">-                         const GValue   *param_values,</span>
<span class="udiff-line-modified-removed">-                         gpointer        invocation_hint,</span>
<span class="udiff-line-modified-removed">-                         gpointer        marshal_data);</span>
<span class="udiff-line-modified-added">+   /*&lt; private &gt;*/ void   (*marshal)  (GClosure       *closure,</span>
<span class="udiff-line-modified-added">+               GValue /*out*/ *return_value,</span>
<span class="udiff-line-modified-added">+               guint           n_param_values,</span>
<span class="udiff-line-modified-added">+               const GValue   *param_values,</span>
<span class="udiff-line-modified-added">+               gpointer        invocation_hint,</span>
<span class="udiff-line-modified-added">+               gpointer      marshal_data);</span>
    /*&lt; protected &gt;*/ gpointer data;
  
<span class="udiff-line-modified-removed">-   /*&lt; private &gt;*/   GClosureNotifyData *notifiers;</span>
<span class="udiff-line-modified-added">+   /*&lt; private &gt;*/ GClosureNotifyData *notifiers;</span>
  
    /* invariants/constraints:
     * - -&gt;marshal and -&gt;data are _invalid_ as soon as -&gt;is_invalid==TRUE
     * - invocation of all inotifiers occours prior to fnotifiers
     * - order of inotifiers is random
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -220,76 +220,76 @@</span>
  };
  
  
  /* --- prototypes --- */
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- GClosure* g_cclosure_new            (GCallback  callback_func,</span>
<span class="udiff-line-modified-removed">-                          gpointer   user_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify destroy_data);</span>
<span class="udiff-line-modified-added">+ GClosure* g_cclosure_new      (GCallback  callback_func,</span>
<span class="udiff-line-modified-added">+              gpointer user_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify destroy_data);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- GClosure* g_cclosure_new_swap           (GCallback  callback_func,</span>
<span class="udiff-line-modified-removed">-                          gpointer   user_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify destroy_data);</span>
<span class="udiff-line-modified-added">+ GClosure* g_cclosure_new_swap     (GCallback  callback_func,</span>
<span class="udiff-line-modified-added">+              gpointer user_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify destroy_data);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- GClosure* g_signal_type_cclosure_new        (GType          itype,</span>
<span class="udiff-line-modified-removed">-                          guint          struct_offset);</span>
<span class="udiff-line-modified-added">+ GClosure* g_signal_type_cclosure_new    (GType          itype,</span>
<span class="udiff-line-modified-added">+              guint          struct_offset);</span>
  
  
  /* --- prototypes --- */
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- GClosure* g_closure_ref             (GClosure   *closure);</span>
<span class="udiff-line-modified-added">+ GClosure* g_closure_ref       (GClosure *closure);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_sink            (GClosure   *closure);</span>
<span class="udiff-line-modified-added">+ void    g_closure_sink      (GClosure *closure);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_unref           (GClosure   *closure);</span>
<span class="udiff-line-modified-added">+ void    g_closure_unref     (GClosure *closure);</span>
  /* intimidating */
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- GClosure* g_closure_new_simple          (guint       sizeof_closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer    data);</span>
<span class="udiff-line-modified-added">+ GClosure* g_closure_new_simple      (guint     sizeof_closure,</span>
<span class="udiff-line-modified-added">+              gpointer  data);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_add_finalize_notifier   (GClosure       *closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer    notify_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify  notify_func);</span>
<span class="udiff-line-modified-added">+ void    g_closure_add_finalize_notifier (GClosure       *closure,</span>
<span class="udiff-line-modified-added">+              gpointer  notify_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify  notify_func);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_remove_finalize_notifier    (GClosure       *closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer    notify_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify  notify_func);</span>
<span class="udiff-line-modified-added">+ void    g_closure_remove_finalize_notifier  (GClosure       *closure,</span>
<span class="udiff-line-modified-added">+              gpointer  notify_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify  notify_func);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_add_invalidate_notifier (GClosure       *closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer    notify_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify  notify_func);</span>
<span class="udiff-line-modified-added">+ void    g_closure_add_invalidate_notifier (GClosure       *closure,</span>
<span class="udiff-line-modified-added">+              gpointer  notify_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify  notify_func);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_remove_invalidate_notifier  (GClosure       *closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer    notify_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify  notify_func);</span>
<span class="udiff-line-modified-added">+ void    g_closure_remove_invalidate_notifier  (GClosure       *closure,</span>
<span class="udiff-line-modified-added">+              gpointer  notify_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify  notify_func);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_add_marshal_guards      (GClosure   *closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer        pre_marshal_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify  pre_marshal_notify,</span>
<span class="udiff-line-modified-removed">-                          gpointer        post_marshal_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureNotify  post_marshal_notify);</span>
<span class="udiff-line-modified-added">+ void    g_closure_add_marshal_guards    (GClosure *closure,</span>
<span class="udiff-line-modified-added">+              gpointer        pre_marshal_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify  pre_marshal_notify,</span>
<span class="udiff-line-modified-added">+              gpointer        post_marshal_data,</span>
<span class="udiff-line-modified-added">+              GClosureNotify  post_marshal_notify);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_set_marshal         (GClosure   *closure,</span>
<span class="udiff-line-modified-removed">-                          GClosureMarshal marshal);</span>
<span class="udiff-line-modified-added">+ void    g_closure_set_marshal     (GClosure *closure,</span>
<span class="udiff-line-modified-added">+              GClosureMarshal marshal);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_set_meta_marshal        (GClosure       *closure,</span>
<span class="udiff-line-modified-removed">-                          gpointer    marshal_data,</span>
<span class="udiff-line-modified-removed">-                          GClosureMarshal meta_marshal);</span>
<span class="udiff-line-modified-added">+ void    g_closure_set_meta_marshal    (GClosure       *closure,</span>
<span class="udiff-line-modified-added">+              gpointer  marshal_data,</span>
<span class="udiff-line-modified-added">+              GClosureMarshal meta_marshal);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_invalidate          (GClosure   *closure);</span>
<span class="udiff-line-modified-added">+ void    g_closure_invalidate      (GClosure *closure);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="udiff-line-modified-removed">- void      g_closure_invoke          (GClosure   *closure,</span>
<span class="udiff-line-modified-removed">-                          GValue /*out*/ *return_value,</span>
<span class="udiff-line-modified-removed">-                          guint       n_param_values,</span>
<span class="udiff-line-modified-removed">-                          const GValue   *param_values,</span>
<span class="udiff-line-modified-removed">-                          gpointer    invocation_hint);</span>
<span class="udiff-line-modified-added">+ void    g_closure_invoke      (GClosure   *closure,</span>
<span class="udiff-line-modified-added">+              GValue /*out*/ *return_value,</span>
<span class="udiff-line-modified-added">+              guint     n_param_values,</span>
<span class="udiff-line-modified-added">+              const GValue *param_values,</span>
<span class="udiff-line-modified-added">+              gpointer  invocation_hint);</span>
  
  /* FIXME:
<span class="udiff-line-modified-removed">-    OK:  data_object::destroy        -&gt; closure_invalidate();</span>
<span class="udiff-line-modified-removed">-    MIS: closure_invalidate()        -&gt; disconnect(closure);</span>
<span class="udiff-line-modified-removed">-    MIS: disconnect(closure)     -&gt; (unlink) closure_unref();</span>
<span class="udiff-line-modified-removed">-    OK:  closure_finalize()      -&gt; g_free (data_string);</span>
<span class="udiff-line-modified-added">+    OK:  data_object::destroy    -&gt; closure_invalidate();</span>
<span class="udiff-line-modified-added">+    MIS: closure_invalidate()    -&gt; disconnect(closure);</span>
<span class="udiff-line-modified-added">+    MIS: disconnect(closure)   -&gt; (unlink) closure_unref();</span>
<span class="udiff-line-modified-added">+    OK:  closure_finalize()    -&gt; g_free (data_string);</span>
  
     random remarks:
     - need marshaller repo with decent aliasing to base types
     - provide marshaller collection, virtually covering anything out there
  */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -302,16 +302,16 @@</span>
                                   gpointer      invocation_hint,
                                   gpointer      marshal_data);
  
  GLIB_AVAILABLE_IN_ALL
  void g_cclosure_marshal_generic_va (GClosure *closure,
<span class="udiff-line-modified-removed">-                     GValue   *return_value,</span>
<span class="udiff-line-modified-removed">-                     gpointer  instance,</span>
<span class="udiff-line-modified-removed">-                     va_list   args_list,</span>
<span class="udiff-line-modified-removed">-                     gpointer  marshal_data,</span>
<span class="udiff-line-modified-removed">-                     int       n_params,</span>
<span class="udiff-line-modified-removed">-                     GType    *param_types);</span>
<span class="udiff-line-modified-added">+             GValue   *return_value,</span>
<span class="udiff-line-modified-added">+             gpointer  instance,</span>
<span class="udiff-line-modified-added">+             va_list   args_list,</span>
<span class="udiff-line-modified-added">+             gpointer  marshal_data,</span>
<span class="udiff-line-modified-added">+             int       n_params,</span>
<span class="udiff-line-modified-added">+             GType    *param_types);</span>
  
  
  G_END_DECLS
  
  #endif /* __G_CLOSURE_H__ */
</pre>
<center><a href="gclosure.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="genums.c.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>