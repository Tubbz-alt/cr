<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/ggettext.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gfileutils.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ghash.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/ggettext.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 57  * have to use system codepage as bindtextdomain() doesn&#39;t have a
 58  * UTF-8 interface.
 59  */
 60 gchar *
 61 _glib_get_locale_dir (void)
 62 {
 63   gchar *install_dir = NULL, *locale_dir;
 64   gchar *retval = NULL;
 65 
 66   if (glib_dll != NULL)
 67     install_dir = g_win32_get_package_installation_directory_of_module (glib_dll);
 68 
 69   if (install_dir)
 70     {
 71       /*
 72        * Append &quot;/share/locale&quot; or &quot;/lib/locale&quot; depending on whether
 73        * autoconfigury detected GNU gettext or not.
 74        */
 75       const char *p = GLIB_LOCALE_DIR + strlen (GLIB_LOCALE_DIR);
 76       while (*--p != &#39;/&#39;)
<span class="line-modified"> 77     ;</span>
 78       while (*--p != &#39;/&#39;)
<span class="line-modified"> 79     ;</span>
 80 
 81       locale_dir = g_build_filename (install_dir, p, NULL);
 82 
 83       retval = g_win32_locale_filename_from_utf8 (locale_dir);
 84 
 85       g_free (install_dir);
 86       g_free (locale_dir);
 87     }
 88 
 89   if (retval)
 90     return retval;
 91   else
 92     return g_strdup (&quot;&quot;);
 93 }
 94 
 95 #undef GLIB_LOCALE_DIR
 96 
 97 #endif /* G_OS_WIN32 */
 98 
 99 
</pre>
<hr />
<pre>
486  * #include &lt;glib/gi18n-lib.h&gt;
487  * ]|
488  * For an application, note that you also have to call bindtextdomain(),
489  * bind_textdomain_codeset(), textdomain() and setlocale() early on in your
490  * main() to make gettext() work. For example:
491  * |[&lt;!-- language=&quot;C&quot; --&gt;
492  * #include &lt;glib/gi18n.h&gt;
493  * #include &lt;locale.h&gt;
494  *
495  * int
496  * main (int argc, char **argv)
497  * {
498  *   setlocale (LC_ALL, &quot;&quot;);
499  *   bindtextdomain (GETTEXT_PACKAGE, DATADIR &quot;/locale&quot;);
500  *   bind_textdomain_codeset (GETTEXT_PACKAGE, &quot;UTF-8&quot;);
501  *   textdomain (GETTEXT_PACKAGE);
502  *
503  *   // Rest of your application.
504  * }
505  * ]|
<span class="line-modified">506  * where `DATADIR` is as typically provided by automake.</span>
507  *
508  * For a library, you only have to call bindtextdomain() and
509  * bind_textdomain_codeset() in your initialization function. If your library
510  * doesn&#39;t have an initialization function, you can call the functions before
511  * the first translated message.
512  *
513  * The
514  * [gettext manual](http://www.gnu.org/software/gettext/manual/gettext.html#Maintainers)
515  * covers details of how to integrate gettext into a project&#39;s build system and
516  * workflow.
517  */
518 
519 /**
520  * _:
521  * @String: the string to be translated
522  *
523  * Marks a string for translation, gets replaced with the translated string
524  * at runtime.
525  *
526  * Since: 2.4
</pre>
</td>
<td>
<hr />
<pre>
 57  * have to use system codepage as bindtextdomain() doesn&#39;t have a
 58  * UTF-8 interface.
 59  */
 60 gchar *
 61 _glib_get_locale_dir (void)
 62 {
 63   gchar *install_dir = NULL, *locale_dir;
 64   gchar *retval = NULL;
 65 
 66   if (glib_dll != NULL)
 67     install_dir = g_win32_get_package_installation_directory_of_module (glib_dll);
 68 
 69   if (install_dir)
 70     {
 71       /*
 72        * Append &quot;/share/locale&quot; or &quot;/lib/locale&quot; depending on whether
 73        * autoconfigury detected GNU gettext or not.
 74        */
 75       const char *p = GLIB_LOCALE_DIR + strlen (GLIB_LOCALE_DIR);
 76       while (*--p != &#39;/&#39;)
<span class="line-modified"> 77   ;</span>
 78       while (*--p != &#39;/&#39;)
<span class="line-modified"> 79   ;</span>
 80 
 81       locale_dir = g_build_filename (install_dir, p, NULL);
 82 
 83       retval = g_win32_locale_filename_from_utf8 (locale_dir);
 84 
 85       g_free (install_dir);
 86       g_free (locale_dir);
 87     }
 88 
 89   if (retval)
 90     return retval;
 91   else
 92     return g_strdup (&quot;&quot;);
 93 }
 94 
 95 #undef GLIB_LOCALE_DIR
 96 
 97 #endif /* G_OS_WIN32 */
 98 
 99 
</pre>
<hr />
<pre>
486  * #include &lt;glib/gi18n-lib.h&gt;
487  * ]|
488  * For an application, note that you also have to call bindtextdomain(),
489  * bind_textdomain_codeset(), textdomain() and setlocale() early on in your
490  * main() to make gettext() work. For example:
491  * |[&lt;!-- language=&quot;C&quot; --&gt;
492  * #include &lt;glib/gi18n.h&gt;
493  * #include &lt;locale.h&gt;
494  *
495  * int
496  * main (int argc, char **argv)
497  * {
498  *   setlocale (LC_ALL, &quot;&quot;);
499  *   bindtextdomain (GETTEXT_PACKAGE, DATADIR &quot;/locale&quot;);
500  *   bind_textdomain_codeset (GETTEXT_PACKAGE, &quot;UTF-8&quot;);
501  *   textdomain (GETTEXT_PACKAGE);
502  *
503  *   // Rest of your application.
504  * }
505  * ]|
<span class="line-modified">506  * where `DATADIR` is as typically provided by automake or Meson.</span>
507  *
508  * For a library, you only have to call bindtextdomain() and
509  * bind_textdomain_codeset() in your initialization function. If your library
510  * doesn&#39;t have an initialization function, you can call the functions before
511  * the first translated message.
512  *
513  * The
514  * [gettext manual](http://www.gnu.org/software/gettext/manual/gettext.html#Maintainers)
515  * covers details of how to integrate gettext into a project&#39;s build system and
516  * workflow.
517  */
518 
519 /**
520  * _:
521  * @String: the string to be translated
522  *
523  * Marks a string for translation, gets replaced with the translated string
524  * at runtime.
525  *
526  * Since: 2.4
</pre>
</td>
</tr>
</table>
<center><a href="gfileutils.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="ghash.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>