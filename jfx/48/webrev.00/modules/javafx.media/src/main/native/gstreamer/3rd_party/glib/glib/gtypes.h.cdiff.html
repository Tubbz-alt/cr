<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gtypes.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gtree.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gunibreak.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gtypes.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 56,44 ***</span>
  
  typedef float   gfloat;
  typedef double  gdouble;
  
  /* Define min and max constants for the fixed size numerical types */
<span class="line-modified">! #define G_MININT8   ((gint8) -0x80)</span>
<span class="line-modified">! #define G_MAXINT8   ((gint8)  0x7f)</span>
  #define G_MAXUINT8  ((guint8) 0xff)
  
<span class="line-modified">! #define G_MININT16  ((gint16) -0x8000)</span>
  #define G_MAXINT16  ((gint16)  0x7fff)
  #define G_MAXUINT16 ((guint16) 0xffff)
  
<span class="line-modified">! #define G_MININT32  ((gint32) -0x80000000)</span>
  #define G_MAXINT32  ((gint32)  0x7fffffff)
  #define G_MAXUINT32 ((guint32) 0xffffffff)
  
<span class="line-modified">! #define G_MININT64  ((gint64) G_GINT64_CONSTANT(-0x8000000000000000))</span>
  #define G_MAXINT64  G_GINT64_CONSTANT(0x7fffffffffffffff)
  #define G_MAXUINT64 G_GUINT64_CONSTANT(0xffffffffffffffff)
  
  typedef void* gpointer;
  typedef const void *gconstpointer;
  
  typedef gint            (*GCompareFunc)         (gconstpointer  a,
                                                   gconstpointer  b);
  typedef gint            (*GCompareDataFunc)     (gconstpointer  a,
                                                   gconstpointer  b,
<span class="line-modified">!                          gpointer       user_data);</span>
  typedef gboolean        (*GEqualFunc)           (gconstpointer  a,
                                                   gconstpointer  b);
  typedef void            (*GDestroyNotify)       (gpointer       data);
  typedef void            (*GFunc)                (gpointer       data,
                                                   gpointer       user_data);
  typedef guint           (*GHashFunc)            (gconstpointer  key);
  typedef void            (*GHFunc)               (gpointer       key,
                                                   gpointer       value,
                                                   gpointer       user_data);
  
  /**
   * GFreeFunc:
   * @data: a data pointer
   *
   * Declares a type of function which takes an arbitrary
<span class="line-new-header">--- 56,84 ---</span>
  
  typedef float   gfloat;
  typedef double  gdouble;
  
  /* Define min and max constants for the fixed size numerical types */
<span class="line-modified">! /**</span>
<span class="line-modified">!  * G_MININT8: (value -128)</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * The minimum value which can be held in a #gint8.</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Since: 2.4</span>
<span class="line-added">+  */</span>
<span class="line-added">+ #define G_MININT8 ((gint8) (-G_MAXINT8 - 1))</span>
<span class="line-added">+ #define G_MAXINT8 ((gint8)  0x7f)</span>
  #define G_MAXUINT8  ((guint8) 0xff)
  
<span class="line-modified">! /**</span>
<span class="line-added">+  * G_MININT16: (value -32768)</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * The minimum value which can be held in a #gint16.</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Since: 2.4</span>
<span class="line-added">+  */</span>
<span class="line-added">+ #define G_MININT16  ((gint16) (-G_MAXINT16 - 1))</span>
  #define G_MAXINT16  ((gint16)  0x7fff)
  #define G_MAXUINT16 ((guint16) 0xffff)
  
<span class="line-modified">! /**</span>
<span class="line-added">+  * G_MININT32: (value -2147483648)</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * The minimum value which can be held in a #gint32.</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Since: 2.4</span>
<span class="line-added">+  */</span>
<span class="line-added">+ #define G_MININT32  ((gint32) (-G_MAXINT32 - 1))</span>
  #define G_MAXINT32  ((gint32)  0x7fffffff)
  #define G_MAXUINT32 ((guint32) 0xffffffff)
  
<span class="line-modified">! /**</span>
<span class="line-added">+  * G_MININT64: (value -9223372036854775808)</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * The minimum value which can be held in a #gint64.</span>
<span class="line-added">+  */</span>
<span class="line-added">+ #define G_MININT64  ((gint64) (-G_MAXINT64 - G_GINT64_CONSTANT(1)))</span>
  #define G_MAXINT64  G_GINT64_CONSTANT(0x7fffffffffffffff)
  #define G_MAXUINT64 G_GUINT64_CONSTANT(0xffffffffffffffff)
  
  typedef void* gpointer;
  typedef const void *gconstpointer;
  
  typedef gint            (*GCompareFunc)         (gconstpointer  a,
                                                   gconstpointer  b);
  typedef gint            (*GCompareDataFunc)     (gconstpointer  a,
                                                   gconstpointer  b,
<span class="line-modified">!              gpointer       user_data);</span>
  typedef gboolean        (*GEqualFunc)           (gconstpointer  a,
                                                   gconstpointer  b);
  typedef void            (*GDestroyNotify)       (gpointer       data);
  typedef void            (*GFunc)                (gpointer       data,
                                                   gpointer       user_data);
  typedef guint           (*GHashFunc)            (gconstpointer  key);
  typedef void            (*GHFunc)               (gpointer       key,
                                                   gpointer       value,
                                                   gpointer       user_data);
  
<span class="line-added">+ /**</span>
<span class="line-added">+  * GCopyFunc:</span>
<span class="line-added">+  * @src: (not nullable): A pointer to the data which should be copied</span>
<span class="line-added">+  * @data: Additional data</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * A function of this signature is used to copy the node data</span>
<span class="line-added">+  * when doing a deep-copy of a tree.</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Returns: (not nullable): A pointer to the copy</span>
<span class="line-added">+  *</span>
<span class="line-added">+  * Since: 2.4</span>
<span class="line-added">+  */</span>
<span class="line-added">+ typedef gpointer  (*GCopyFunc)            (gconstpointer  src,</span>
<span class="line-added">+                                                  gpointer       data);</span>
  /**
   * GFreeFunc:
   * @data: a data pointer
   *
   * Declares a type of function which takes an arbitrary
</pre>
<hr />
<pre>
<span class="line-old-header">*** 113,11 ***</span>
   *
   * Returns: a translation of the string for the current locale.
   *  The returned string is owned by GLib and must not be freed.
   */
  typedef const gchar *   (*GTranslateFunc)       (const gchar   *str,
<span class="line-modified">!                          gpointer       data);</span>
  
  
  /* Define some mathematical constants that aren&#39;t available
   * symbolically in some strict ISO C implementations.
   *
<span class="line-new-header">--- 153,11 ---</span>
   *
   * Returns: a translation of the string for the current locale.
   *  The returned string is owned by GLib and must not be freed.
   */
  typedef const gchar *   (*GTranslateFunc)       (const gchar   *str,
<span class="line-modified">!              gpointer       data);</span>
  
  
  /* Define some mathematical constants that aren&#39;t available
   * symbolically in some strict ISO C implementations.
   *
</pre>
<hr />
<pre>
<span class="line-old-header">*** 141,42 ***</span>
   * glibconfig.h defines G_BYTE_ORDER which expands to one of
   * the below macros.
   */
  #define G_LITTLE_ENDIAN 1234
  #define G_BIG_ENDIAN    4321
<span class="line-modified">! #define G_PDP_ENDIAN    3412        /* unused, need specific PDP check */</span>
  
  
  /* Basic bit swapping functions
   */
<span class="line-modified">! #define GUINT16_SWAP_LE_BE_CONSTANT(val)    ((guint16) ( \</span>
      (guint16) ((guint16) (val) &gt;&gt; 8) |  \
      (guint16) ((guint16) (val) &lt;&lt; 8)))
  
<span class="line-modified">! #define GUINT32_SWAP_LE_BE_CONSTANT(val)    ((guint32) ( \</span>
      (((guint32) (val) &amp; (guint32) 0x000000ffU) &lt;&lt; 24) | \
      (((guint32) (val) &amp; (guint32) 0x0000ff00U) &lt;&lt;  8) | \
      (((guint32) (val) &amp; (guint32) 0x00ff0000U) &gt;&gt;  8) | \
      (((guint32) (val) &amp; (guint32) 0xff000000U) &gt;&gt; 24)))
  
<span class="line-modified">! #define GUINT64_SWAP_LE_BE_CONSTANT(val)    ((guint64) ( \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x00000000000000ffU)) &lt;&lt; 56) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x000000000000ff00U)) &lt;&lt; 40) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x0000000000ff0000U)) &lt;&lt; 24) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x00000000ff000000U)) &lt;&lt;  8) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x000000ff00000000U)) &gt;&gt;  8) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x0000ff0000000000U)) &gt;&gt; 24) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0x00ff000000000000U)) &gt;&gt; 40) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;                       \</span>
<span class="line-modified">!     (guint64) G_GINT64_CONSTANT (0xff00000000000000U)) &gt;&gt; 56)))</span>
  
  /* Arch specific stuff for speed
   */
  #if defined (__GNUC__) &amp;&amp; (__GNUC__ &gt;= 2) &amp;&amp; defined (__OPTIMIZE__)
  
<span class="line-new-header">--- 181,42 ---</span>
   * glibconfig.h defines G_BYTE_ORDER which expands to one of
   * the below macros.
   */
  #define G_LITTLE_ENDIAN 1234
  #define G_BIG_ENDIAN    4321
<span class="line-modified">! #define G_PDP_ENDIAN    3412    /* unused, need specific PDP check */</span>
  
  
  /* Basic bit swapping functions
   */
<span class="line-modified">! #define GUINT16_SWAP_LE_BE_CONSTANT(val)  ((guint16) ( \</span>
      (guint16) ((guint16) (val) &gt;&gt; 8) |  \
      (guint16) ((guint16) (val) &lt;&lt; 8)))
  
<span class="line-modified">! #define GUINT32_SWAP_LE_BE_CONSTANT(val)  ((guint32) ( \</span>
      (((guint32) (val) &amp; (guint32) 0x000000ffU) &lt;&lt; 24) | \
      (((guint32) (val) &amp; (guint32) 0x0000ff00U) &lt;&lt;  8) | \
      (((guint32) (val) &amp; (guint32) 0x00ff0000U) &gt;&gt;  8) | \
      (((guint32) (val) &amp; (guint32) 0xff000000U) &gt;&gt; 24)))
  
<span class="line-modified">! #define GUINT64_SWAP_LE_BE_CONSTANT(val)  ((guint64) ( \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x00000000000000ffU)) &lt;&lt; 56) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x000000000000ff00U)) &lt;&lt; 40) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x0000000000ff0000U)) &lt;&lt; 24) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x00000000ff000000U)) &lt;&lt;  8) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x000000ff00000000U)) &gt;&gt;  8) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x0000ff0000000000U)) &gt;&gt; 24) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0x00ff000000000000U)) &gt;&gt; 40) | \</span>
<span class="line-modified">!       (((guint64) (val) &amp;           \</span>
<span class="line-modified">!   (guint64) G_GINT64_CONSTANT (0xff00000000000000U)) &gt;&gt; 56)))</span>
  
  /* Arch specific stuff for speed
   */
  #if defined (__GNUC__) &amp;&amp; (__GNUC__ &gt;= 2) &amp;&amp; defined (__OPTIMIZE__)
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 185,130 ***</span>
  #    define GUINT64_SWAP_LE_BE(val) ((guint64) __builtin_bswap64 ((guint64) (val)))
  #  endif
  
  #  if defined (__i386__)
  #    define GUINT16_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                    \</span>
<span class="line-modified">!     ({ guint16 __v, __x = ((guint16) (val));        \</span>
<span class="line-modified">!        if (__builtin_constant_p (__x))          \</span>
<span class="line-modified">!          __v = GUINT16_SWAP_LE_BE_CONSTANT (__x);       \</span>
<span class="line-modified">!        else                         \</span>
<span class="line-modified">!          __asm__ (&quot;rorw $8, %w0&quot;                \</span>
<span class="line-modified">!               : &quot;=r&quot; (__v)              \</span>
<span class="line-modified">!               : &quot;0&quot; (__x)               \</span>
<span class="line-modified">!               : &quot;cc&quot;);                  \</span>
<span class="line-modified">!         __v; }))</span>
  #    if !defined (__i486__) &amp;&amp; !defined (__i586__) \
<span class="line-modified">!     &amp;&amp; !defined (__pentium__) &amp;&amp; !defined (__i686__) \</span>
<span class="line-modified">!     &amp;&amp; !defined (__pentiumpro__) &amp;&amp; !defined (__pentium4__)</span>
  #       define GUINT32_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!       (G_GNUC_EXTENSION                 \</span>
<span class="line-modified">!        ({ guint32 __v, __x = ((guint32) (val));     \</span>
<span class="line-modified">!           if (__builtin_constant_p (__x))           \</span>
<span class="line-modified">!         __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);    \</span>
<span class="line-modified">!           else                      \</span>
<span class="line-modified">!         __asm__ (&quot;rorw $8, %w0\n\t&quot;         \</span>
<span class="line-modified">!              &quot;rorl $16, %0\n\t&quot;         \</span>
<span class="line-modified">!              &quot;rorw $8, %w0&quot;             \</span>
<span class="line-modified">!              : &quot;=r&quot; (__v)               \</span>
<span class="line-modified">!              : &quot;0&quot; (__x)                \</span>
<span class="line-modified">!              : &quot;cc&quot;);               \</span>
<span class="line-modified">!           __v; }))</span>
  #    else /* 486 and higher has bswap */
  #       define GUINT32_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!       (G_GNUC_EXTENSION                 \</span>
<span class="line-modified">!        ({ guint32 __v, __x = ((guint32) (val));     \</span>
<span class="line-modified">!           if (__builtin_constant_p (__x))           \</span>
<span class="line-modified">!         __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);    \</span>
<span class="line-modified">!           else                      \</span>
<span class="line-modified">!         __asm__ (&quot;bswap %0&quot;             \</span>
<span class="line-modified">!              : &quot;=r&quot; (__v)               \</span>
<span class="line-modified">!              : &quot;0&quot; (__x));              \</span>
<span class="line-modified">!           __v; }))</span>
  #    endif /* processor specific 32-bit stuff */
  #    define GUINT64_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                        \</span>
<span class="line-modified">!     ({ union { guint64 __ll;                    \</span>
<span class="line-modified">!            guint32 __l[2]; } __w, __r;              \</span>
<span class="line-modified">!        __w.__ll = ((guint64) (val));                \</span>
<span class="line-modified">!        if (__builtin_constant_p (__w.__ll))             \</span>
<span class="line-modified">!          __r.__ll = GUINT64_SWAP_LE_BE_CONSTANT (__w.__ll);     \</span>
<span class="line-modified">!        else                             \</span>
<span class="line-modified">!          {                              \</span>
<span class="line-modified">!            __r.__l[0] = GUINT32_SWAP_LE_BE (__w.__l[1]);        \</span>
<span class="line-modified">!            __r.__l[1] = GUINT32_SWAP_LE_BE (__w.__l[0]);        \</span>
<span class="line-modified">!          }                              \</span>
<span class="line-modified">!        __r.__ll; }))</span>
       /* Possibly just use the constant version and let gcc figure it out? */
  #    define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_IA32 (val))
  #    ifndef GUINT32_SWAP_LE_BE
  #      define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_IA32 (val))
  #    endif
  #    ifndef GUINT64_SWAP_LE_BE
  #      define GUINT64_SWAP_LE_BE(val) (GUINT64_SWAP_LE_BE_IA32 (val))
  #    endif
  #  elif defined (__ia64__)
  #    define GUINT16_SWAP_LE_BE_IA64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                    \</span>
<span class="line-modified">!     ({ guint16 __v, __x = ((guint16) (val));        \</span>
<span class="line-modified">!        if (__builtin_constant_p (__x))          \</span>
<span class="line-modified">!          __v = GUINT16_SWAP_LE_BE_CONSTANT (__x);       \</span>
<span class="line-modified">!        else                         \</span>
<span class="line-modified">!          __asm__ __volatile__ (&quot;shl %0 = %1, 48 ;;&quot;     \</span>
<span class="line-modified">!                    &quot;mux1 %0 = %0, @rev ;;&quot;  \</span>
<span class="line-modified">!                     : &quot;=r&quot; (__v)        \</span>
<span class="line-modified">!                     : &quot;r&quot; (__x));       \</span>
<span class="line-modified">!         __v; }))</span>
  #    define GUINT32_SWAP_LE_BE_IA64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                    \</span>
<span class="line-modified">!      ({ guint32 __v, __x = ((guint32) (val));       \</span>
<span class="line-modified">!         if (__builtin_constant_p (__x))         \</span>
<span class="line-modified">!           __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);      \</span>
<span class="line-modified">!         else                        \</span>
<span class="line-modified">!          __asm__ __volatile__ (&quot;shl %0 = %1, 32 ;;&quot;     \</span>
<span class="line-modified">!                    &quot;mux1 %0 = %0, @rev ;;&quot;  \</span>
<span class="line-modified">!                     : &quot;=r&quot; (__v)        \</span>
<span class="line-modified">!                     : &quot;r&quot; (__x));       \</span>
<span class="line-modified">!         __v; }))</span>
  #    define GUINT64_SWAP_LE_BE_IA64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                    \</span>
<span class="line-modified">!     ({ guint64 __v, __x = ((guint64) (val));        \</span>
<span class="line-modified">!        if (__builtin_constant_p (__x))          \</span>
<span class="line-modified">!          __v = GUINT64_SWAP_LE_BE_CONSTANT (__x);       \</span>
<span class="line-modified">!        else                         \</span>
<span class="line-modified">!          __asm__ __volatile__ (&quot;mux1 %0 = %1, @rev ;;&quot;  \</span>
<span class="line-modified">!                    : &quot;=r&quot; (__v)         \</span>
<span class="line-modified">!                    : &quot;r&quot; (__x));        \</span>
<span class="line-modified">!        __v; }))</span>
  #    define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_IA64 (val))
  #    ifndef GUINT32_SWAP_LE_BE
  #      define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_IA64 (val))
  #    endif
  #    ifndef GUINT64_SWAP_LE_BE
  #      define GUINT64_SWAP_LE_BE(val) (GUINT64_SWAP_LE_BE_IA64 (val))
  #    endif
  #  elif defined (__x86_64__)
  #    define GUINT32_SWAP_LE_BE_X86_64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                    \</span>
<span class="line-modified">!      ({ guint32 __v, __x = ((guint32) (val));       \</span>
<span class="line-modified">!         if (__builtin_constant_p (__x))         \</span>
<span class="line-modified">!           __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);      \</span>
<span class="line-modified">!         else                        \</span>
<span class="line-modified">!          __asm__ (&quot;bswapl %0&quot;               \</span>
<span class="line-modified">!               : &quot;=r&quot; (__v)              \</span>
<span class="line-modified">!               : &quot;0&quot; (__x));             \</span>
<span class="line-modified">!         __v; }))</span>
  #    define GUINT64_SWAP_LE_BE_X86_64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION                    \</span>
<span class="line-modified">!     ({ guint64 __v, __x = ((guint64) (val));        \</span>
<span class="line-modified">!        if (__builtin_constant_p (__x))          \</span>
<span class="line-modified">!          __v = GUINT64_SWAP_LE_BE_CONSTANT (__x);       \</span>
<span class="line-modified">!        else                         \</span>
<span class="line-modified">!          __asm__ (&quot;bswapq %0&quot;               \</span>
<span class="line-modified">!               : &quot;=r&quot; (__v)              \</span>
<span class="line-modified">!               : &quot;0&quot; (__x));             \</span>
<span class="line-modified">!        __v; }))</span>
       /* gcc seems to figure out optimal code for this on its own */
  #    define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_CONSTANT (val))
  #    ifndef GUINT32_SWAP_LE_BE
  #      define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_X86_64 (val))
  #    endif
<span class="line-new-header">--- 225,130 ---</span>
  #    define GUINT64_SWAP_LE_BE(val) ((guint64) __builtin_bswap64 ((guint64) (val)))
  #  endif
  
  #  if defined (__i386__)
  #    define GUINT16_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION          \</span>
<span class="line-modified">!   ({ guint16 __v, __x = ((guint16) (val));    \</span>
<span class="line-modified">!      if (__builtin_constant_p (__x))      \</span>
<span class="line-modified">!        __v = GUINT16_SWAP_LE_BE_CONSTANT (__x);   \</span>
<span class="line-modified">!      else             \</span>
<span class="line-modified">!        __asm__ (&quot;rorw $8, %w0&quot;        \</span>
<span class="line-modified">!           : &quot;=r&quot; (__v)        \</span>
<span class="line-modified">!           : &quot;0&quot; (__x)       \</span>
<span class="line-modified">!           : &quot;cc&quot;);          \</span>
<span class="line-modified">!       __v; }))</span>
  #    if !defined (__i486__) &amp;&amp; !defined (__i586__) \
<span class="line-modified">!   &amp;&amp; !defined (__pentium__) &amp;&amp; !defined (__i686__) \</span>
<span class="line-modified">!   &amp;&amp; !defined (__pentiumpro__) &amp;&amp; !defined (__pentium4__)</span>
  #       define GUINT32_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!     (G_GNUC_EXTENSION         \</span>
<span class="line-modified">!      ({ guint32 __v, __x = ((guint32) (val));   \</span>
<span class="line-modified">!         if (__builtin_constant_p (__x))     \</span>
<span class="line-modified">!     __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);  \</span>
<span class="line-modified">!         else            \</span>
<span class="line-modified">!     __asm__ (&quot;rorw $8, %w0\n\t&quot;     \</span>
<span class="line-modified">!        &quot;rorl $16, %0\n\t&quot;     \</span>
<span class="line-modified">!        &quot;rorw $8, %w0&quot;       \</span>
<span class="line-modified">!        : &quot;=r&quot; (__v)       \</span>
<span class="line-modified">!        : &quot;0&quot; (__x)        \</span>
<span class="line-modified">!        : &quot;cc&quot;);       \</span>
<span class="line-modified">!         __v; }))</span>
  #    else /* 486 and higher has bswap */
  #       define GUINT32_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!     (G_GNUC_EXTENSION         \</span>
<span class="line-modified">!      ({ guint32 __v, __x = ((guint32) (val));   \</span>
<span class="line-modified">!         if (__builtin_constant_p (__x))     \</span>
<span class="line-modified">!     __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);  \</span>
<span class="line-modified">!         else            \</span>
<span class="line-modified">!     __asm__ (&quot;bswap %0&quot;       \</span>
<span class="line-modified">!        : &quot;=r&quot; (__v)       \</span>
<span class="line-modified">!        : &quot;0&quot; (__x));        \</span>
<span class="line-modified">!         __v; }))</span>
  #    endif /* processor specific 32-bit stuff */
  #    define GUINT64_SWAP_LE_BE_IA32(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION            \</span>
<span class="line-modified">!   ({ union { guint64 __ll;          \</span>
<span class="line-modified">!        guint32 __l[2]; } __w, __r;        \</span>
<span class="line-modified">!      __w.__ll = ((guint64) (val));        \</span>
<span class="line-modified">!      if (__builtin_constant_p (__w.__ll))       \</span>
<span class="line-modified">!        __r.__ll = GUINT64_SWAP_LE_BE_CONSTANT (__w.__ll);   \</span>
<span class="line-modified">!      else               \</span>
<span class="line-modified">!        {                \</span>
<span class="line-modified">!          __r.__l[0] = GUINT32_SWAP_LE_BE (__w.__l[1]);    \</span>
<span class="line-modified">!          __r.__l[1] = GUINT32_SWAP_LE_BE (__w.__l[0]);    \</span>
<span class="line-modified">!        }                \</span>
<span class="line-modified">!      __r.__ll; }))</span>
       /* Possibly just use the constant version and let gcc figure it out? */
  #    define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_IA32 (val))
  #    ifndef GUINT32_SWAP_LE_BE
  #      define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_IA32 (val))
  #    endif
  #    ifndef GUINT64_SWAP_LE_BE
  #      define GUINT64_SWAP_LE_BE(val) (GUINT64_SWAP_LE_BE_IA32 (val))
  #    endif
  #  elif defined (__ia64__)
  #    define GUINT16_SWAP_LE_BE_IA64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION          \</span>
<span class="line-modified">!   ({ guint16 __v, __x = ((guint16) (val));    \</span>
<span class="line-modified">!      if (__builtin_constant_p (__x))      \</span>
<span class="line-modified">!        __v = GUINT16_SWAP_LE_BE_CONSTANT (__x);   \</span>
<span class="line-modified">!      else             \</span>
<span class="line-modified">!        __asm__ __volatile__ (&quot;shl %0 = %1, 48 ;;&quot;   \</span>
<span class="line-modified">!            &quot;mux1 %0 = %0, @rev ;;&quot;  \</span>
<span class="line-modified">!             : &quot;=r&quot; (__v)    \</span>
<span class="line-modified">!             : &quot;r&quot; (__x));   \</span>
<span class="line-modified">!       __v; }))</span>
  #    define GUINT32_SWAP_LE_BE_IA64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION          \</span>
<span class="line-modified">!    ({ guint32 __v, __x = ((guint32) (val));   \</span>
<span class="line-modified">!       if (__builtin_constant_p (__x))     \</span>
<span class="line-modified">!         __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);    \</span>
<span class="line-modified">!       else            \</span>
<span class="line-modified">!        __asm__ __volatile__ (&quot;shl %0 = %1, 32 ;;&quot;   \</span>
<span class="line-modified">!            &quot;mux1 %0 = %0, @rev ;;&quot;  \</span>
<span class="line-modified">!             : &quot;=r&quot; (__v)    \</span>
<span class="line-modified">!             : &quot;r&quot; (__x));   \</span>
<span class="line-modified">!       __v; }))</span>
  #    define GUINT64_SWAP_LE_BE_IA64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION          \</span>
<span class="line-modified">!   ({ guint64 __v, __x = ((guint64) (val));    \</span>
<span class="line-modified">!      if (__builtin_constant_p (__x))      \</span>
<span class="line-modified">!        __v = GUINT64_SWAP_LE_BE_CONSTANT (__x);   \</span>
<span class="line-modified">!      else             \</span>
<span class="line-modified">!        __asm__ __volatile__ (&quot;mux1 %0 = %1, @rev ;;&quot;  \</span>
<span class="line-modified">!            : &quot;=r&quot; (__v)     \</span>
<span class="line-modified">!            : &quot;r&quot; (__x));    \</span>
<span class="line-modified">!      __v; }))</span>
  #    define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_IA64 (val))
  #    ifndef GUINT32_SWAP_LE_BE
  #      define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_IA64 (val))
  #    endif
  #    ifndef GUINT64_SWAP_LE_BE
  #      define GUINT64_SWAP_LE_BE(val) (GUINT64_SWAP_LE_BE_IA64 (val))
  #    endif
  #  elif defined (__x86_64__)
  #    define GUINT32_SWAP_LE_BE_X86_64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION          \</span>
<span class="line-modified">!    ({ guint32 __v, __x = ((guint32) (val));   \</span>
<span class="line-modified">!       if (__builtin_constant_p (__x))     \</span>
<span class="line-modified">!         __v = GUINT32_SWAP_LE_BE_CONSTANT (__x);    \</span>
<span class="line-modified">!       else            \</span>
<span class="line-modified">!        __asm__ (&quot;bswapl %0&quot;       \</span>
<span class="line-modified">!           : &quot;=r&quot; (__v)        \</span>
<span class="line-modified">!           : &quot;0&quot; (__x));       \</span>
<span class="line-modified">!       __v; }))</span>
  #    define GUINT64_SWAP_LE_BE_X86_64(val) \
<span class="line-modified">!        (G_GNUC_EXTENSION          \</span>
<span class="line-modified">!   ({ guint64 __v, __x = ((guint64) (val));    \</span>
<span class="line-modified">!      if (__builtin_constant_p (__x))      \</span>
<span class="line-modified">!        __v = GUINT64_SWAP_LE_BE_CONSTANT (__x);   \</span>
<span class="line-modified">!      else             \</span>
<span class="line-modified">!        __asm__ (&quot;bswapq %0&quot;       \</span>
<span class="line-modified">!           : &quot;=r&quot; (__v)        \</span>
<span class="line-modified">!           : &quot;0&quot; (__x));       \</span>
<span class="line-modified">!      __v; }))</span>
       /* gcc seems to figure out optimal code for this on its own */
  #    define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_CONSTANT (val))
  #    ifndef GUINT32_SWAP_LE_BE
  #      define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_X86_64 (val))
  #    endif
</pre>
<hr />
<pre>
<span class="line-old-header">*** 328,44 ***</span>
  #  define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_CONSTANT (val))
  #  define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_CONSTANT (val))
  #  define GUINT64_SWAP_LE_BE(val) (GUINT64_SWAP_LE_BE_CONSTANT (val))
  #endif /* generic */
  
<span class="line-modified">! #define GUINT16_SWAP_LE_PDP(val)    ((guint16) (val))</span>
<span class="line-modified">! #define GUINT16_SWAP_BE_PDP(val)    (GUINT16_SWAP_LE_BE (val))</span>
<span class="line-modified">! #define GUINT32_SWAP_LE_PDP(val)    ((guint32) ( \</span>
      (((guint32) (val) &amp; (guint32) 0x0000ffffU) &lt;&lt; 16) | \
      (((guint32) (val) &amp; (guint32) 0xffff0000U) &gt;&gt; 16)))
<span class="line-modified">! #define GUINT32_SWAP_BE_PDP(val)    ((guint32) ( \</span>
      (((guint32) (val) &amp; (guint32) 0x00ff00ffU) &lt;&lt; 8) | \
      (((guint32) (val) &amp; (guint32) 0xff00ff00U) &gt;&gt; 8)))
  
  /* The G*_TO_?E() macros are defined in glibconfig.h.
   * The transformation is symmetric, so the FROM just maps to the TO.
   */
  #define GINT16_FROM_LE(val) (GINT16_TO_LE (val))
<span class="line-modified">! #define GUINT16_FROM_LE(val)    (GUINT16_TO_LE (val))</span>
  #define GINT16_FROM_BE(val) (GINT16_TO_BE (val))
<span class="line-modified">! #define GUINT16_FROM_BE(val)    (GUINT16_TO_BE (val))</span>
  #define GINT32_FROM_LE(val) (GINT32_TO_LE (val))
<span class="line-modified">! #define GUINT32_FROM_LE(val)    (GUINT32_TO_LE (val))</span>
  #define GINT32_FROM_BE(val) (GINT32_TO_BE (val))
<span class="line-modified">! #define GUINT32_FROM_BE(val)    (GUINT32_TO_BE (val))</span>
  
  #define GINT64_FROM_LE(val) (GINT64_TO_LE (val))
<span class="line-modified">! #define GUINT64_FROM_LE(val)    (GUINT64_TO_LE (val))</span>
  #define GINT64_FROM_BE(val) (GINT64_TO_BE (val))
<span class="line-modified">! #define GUINT64_FROM_BE(val)    (GUINT64_TO_BE (val))</span>
  
  #define GLONG_FROM_LE(val)  (GLONG_TO_LE (val))
  #define GULONG_FROM_LE(val) (GULONG_TO_LE (val))
  #define GLONG_FROM_BE(val)  (GLONG_TO_BE (val))
  #define GULONG_FROM_BE(val) (GULONG_TO_BE (val))
  
<span class="line-modified">! #define GINT_FROM_LE(val)   (GINT_TO_LE (val))</span>
  #define GUINT_FROM_LE(val)  (GUINT_TO_LE (val))
<span class="line-modified">! #define GINT_FROM_BE(val)   (GINT_TO_BE (val))</span>
  #define GUINT_FROM_BE(val)  (GUINT_TO_BE (val))
  
  #define GSIZE_FROM_LE(val)  (GSIZE_TO_LE (val))
  #define GSSIZE_FROM_LE(val) (GSSIZE_TO_LE (val))
  #define GSIZE_FROM_BE(val)  (GSIZE_TO_BE (val))
<span class="line-new-header">--- 368,44 ---</span>
  #  define GUINT16_SWAP_LE_BE(val) (GUINT16_SWAP_LE_BE_CONSTANT (val))
  #  define GUINT32_SWAP_LE_BE(val) (GUINT32_SWAP_LE_BE_CONSTANT (val))
  #  define GUINT64_SWAP_LE_BE(val) (GUINT64_SWAP_LE_BE_CONSTANT (val))
  #endif /* generic */
  
<span class="line-modified">! #define GUINT16_SWAP_LE_PDP(val)  ((guint16) (val))</span>
<span class="line-modified">! #define GUINT16_SWAP_BE_PDP(val)  (GUINT16_SWAP_LE_BE (val))</span>
<span class="line-modified">! #define GUINT32_SWAP_LE_PDP(val)  ((guint32) ( \</span>
      (((guint32) (val) &amp; (guint32) 0x0000ffffU) &lt;&lt; 16) | \
      (((guint32) (val) &amp; (guint32) 0xffff0000U) &gt;&gt; 16)))
<span class="line-modified">! #define GUINT32_SWAP_BE_PDP(val)  ((guint32) ( \</span>
      (((guint32) (val) &amp; (guint32) 0x00ff00ffU) &lt;&lt; 8) | \
      (((guint32) (val) &amp; (guint32) 0xff00ff00U) &gt;&gt; 8)))
  
  /* The G*_TO_?E() macros are defined in glibconfig.h.
   * The transformation is symmetric, so the FROM just maps to the TO.
   */
  #define GINT16_FROM_LE(val) (GINT16_TO_LE (val))
<span class="line-modified">! #define GUINT16_FROM_LE(val)  (GUINT16_TO_LE (val))</span>
  #define GINT16_FROM_BE(val) (GINT16_TO_BE (val))
<span class="line-modified">! #define GUINT16_FROM_BE(val)  (GUINT16_TO_BE (val))</span>
  #define GINT32_FROM_LE(val) (GINT32_TO_LE (val))
<span class="line-modified">! #define GUINT32_FROM_LE(val)  (GUINT32_TO_LE (val))</span>
  #define GINT32_FROM_BE(val) (GINT32_TO_BE (val))
<span class="line-modified">! #define GUINT32_FROM_BE(val)  (GUINT32_TO_BE (val))</span>
  
  #define GINT64_FROM_LE(val) (GINT64_TO_LE (val))
<span class="line-modified">! #define GUINT64_FROM_LE(val)  (GUINT64_TO_LE (val))</span>
  #define GINT64_FROM_BE(val) (GINT64_TO_BE (val))
<span class="line-modified">! #define GUINT64_FROM_BE(val)  (GUINT64_TO_BE (val))</span>
  
  #define GLONG_FROM_LE(val)  (GLONG_TO_LE (val))
  #define GULONG_FROM_LE(val) (GULONG_TO_LE (val))
  #define GLONG_FROM_BE(val)  (GLONG_TO_BE (val))
  #define GULONG_FROM_BE(val) (GULONG_TO_BE (val))
  
<span class="line-modified">! #define GINT_FROM_LE(val) (GINT_TO_LE (val))</span>
  #define GUINT_FROM_LE(val)  (GUINT_TO_LE (val))
<span class="line-modified">! #define GINT_FROM_BE(val) (GINT_TO_BE (val))</span>
  #define GUINT_FROM_BE(val)  (GUINT_TO_BE (val))
  
  #define GSIZE_FROM_LE(val)  (GSIZE_TO_LE (val))
  #define GSSIZE_FROM_LE(val) (GSSIZE_TO_LE (val))
  #define GSIZE_FROM_BE(val)  (GSIZE_TO_BE (val))
</pre>
<hr />
<pre>
<span class="line-old-header">*** 409,10 ***</span>
<span class="line-new-header">--- 449,13 ---</span>
      _GLIB_CHECKED_ADD_U32(dest, a, b)
  #define g_size_checked_mul(dest, a, b) \
      _GLIB_CHECKED_MUL_U32(dest, a, b)
  #endif
  
<span class="line-added">+ /* FIXME: Hide this from gtkdoc scanner because it confuses its poor regexes.</span>
<span class="line-added">+  * https://gitlab.gnome.org/GNOME/gtk-doc/issues/90 */</span>
<span class="line-added">+ #ifndef __GTK_DOC_IGNORE__</span>
  /* The names of the following inlines are private.  Use the macro
   * definitions above.
   */
  #ifdef _GLIB_HAVE_BUILTIN_OVERFLOW_CHECKS
  static inline gboolean _GLIB_CHECKED_ADD_U32 (guint32 *dest, guint32 a, guint32 b) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 432,10 ***</span>
<span class="line-new-header">--- 475,11 ---</span>
  static inline gboolean _GLIB_CHECKED_ADD_U64 (guint64 *dest, guint64 a, guint64 b) {
    *dest = a + b; return *dest &gt;= a; }
  static inline gboolean _GLIB_CHECKED_MUL_U64 (guint64 *dest, guint64 a, guint64 b) {
    *dest = a * b; return !a || *dest / a == b; }
  #endif
<span class="line-added">+ #endif /* __GTK_DOC_IGNORE__ */</span>
  
  /* IEEE Standard 754 Single Precision Storage Format (gfloat):
   *
   *        31 30           23 22            0
   * +--------+---------------+---------------+
</pre>
<hr />
<pre>
<span class="line-old-header">*** 451,15 ***</span>
   * +--------+----------------+----------------+ +---------------+
   * B0---------------&gt;B1----------&gt;B2---&gt;B3----&gt;  B4-&gt;B5-&gt;B6-&gt;B7-&gt;
   */
  /* subtract from biased_exponent to form base2 exponent (normal numbers) */
  typedef union  _GDoubleIEEE754  GDoubleIEEE754;
<span class="line-modified">! typedef union  _GFloatIEEE754   GFloatIEEE754;</span>
<span class="line-modified">! #define G_IEEE754_FLOAT_BIAS    (127)</span>
<span class="line-modified">! #define G_IEEE754_DOUBLE_BIAS   (1023)</span>
  /* multiply with base2 exponent to get base10 exponent (normal numbers) */
<span class="line-modified">! #define G_LOG_2_BASE_10     (0.30102999566398119521)</span>
  #if G_BYTE_ORDER == G_LITTLE_ENDIAN
  union _GFloatIEEE754
  {
    gfloat v_float;
    struct {
<span class="line-new-header">--- 495,15 ---</span>
   * +--------+----------------+----------------+ +---------------+
   * B0---------------&gt;B1----------&gt;B2---&gt;B3----&gt;  B4-&gt;B5-&gt;B6-&gt;B7-&gt;
   */
  /* subtract from biased_exponent to form base2 exponent (normal numbers) */
  typedef union  _GDoubleIEEE754  GDoubleIEEE754;
<span class="line-modified">! typedef union  _GFloatIEEE754 GFloatIEEE754;</span>
<span class="line-modified">! #define G_IEEE754_FLOAT_BIAS  (127)</span>
<span class="line-modified">! #define G_IEEE754_DOUBLE_BIAS (1023)</span>
  /* multiply with base2 exponent to get base10 exponent (normal numbers) */
<span class="line-modified">! #define G_LOG_2_BASE_10   (0.30102999566398119521)</span>
  #if G_BYTE_ORDER == G_LITTLE_ENDIAN
  union _GFloatIEEE754
  {
    gfloat v_float;
    struct {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 500,17 ***</span>
  };
  #else /* !G_LITTLE_ENDIAN &amp;&amp; !G_BIG_ENDIAN */
  #error unknown ENDIAN type
  #endif /* !G_LITTLE_ENDIAN &amp;&amp; !G_BIG_ENDIAN */
  
<span class="line-modified">! typedef struct _GTimeVal                GTimeVal;</span>
  
  struct _GTimeVal
  {
    glong tv_sec;
    glong tv_usec;
<span class="line-modified">! };</span>
  
  typedef gint            grefcount;
  typedef volatile gint   gatomicrefcount;
  
  G_END_DECLS
<span class="line-new-header">--- 544,17 ---</span>
  };
  #else /* !G_LITTLE_ENDIAN &amp;&amp; !G_BIG_ENDIAN */
  #error unknown ENDIAN type
  #endif /* !G_LITTLE_ENDIAN &amp;&amp; !G_BIG_ENDIAN */
  
<span class="line-modified">! typedef struct _GTimeVal GTimeVal GLIB_DEPRECATED_TYPE_IN_2_62_FOR(GDateTime);</span>
  
  struct _GTimeVal
  {
    glong tv_sec;
    glong tv_usec;
<span class="line-modified">! } GLIB_DEPRECATED_TYPE_IN_2_62_FOR(GDateTime);</span>
  
  typedef gint            grefcount;
  typedef volatile gint   gatomicrefcount;
  
  G_END_DECLS
</pre>
<center><a href="gtree.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gunibreak.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>