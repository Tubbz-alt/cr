<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstregistrybinary.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstregistry.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstregistrychunks.c.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstregistrybinary.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -251,15 +251,15 @@</span>
      goto close_failed;
  
    if (!success)
      goto fail_after_close;
  
<span class="udiff-line-modified-removed">-     /* Only do the rename if we wrote the entire file successfully */</span>
<span class="udiff-line-modified-removed">-     if (g_rename (cache-&gt;tmp_location, cache-&gt;location) &lt; 0) {</span>
<span class="udiff-line-modified-removed">-       GST_ERROR (&quot;g_rename() failed: %s&quot;, g_strerror (errno));</span>
<span class="udiff-line-modified-removed">-       goto rename_failed;</span>
<span class="udiff-line-modified-removed">-     }</span>
<span class="udiff-line-modified-added">+   /* Only do the rename if we wrote the entire file successfully */</span>
<span class="udiff-line-modified-added">+   if (g_rename (cache-&gt;tmp_location, cache-&gt;location) &lt; 0) {</span>
<span class="udiff-line-modified-added">+     GST_ERROR (&quot;g_rename() failed: %s&quot;, g_strerror (errno));</span>
<span class="udiff-line-modified-added">+     goto rename_failed;</span>
<span class="udiff-line-modified-added">+   }</span>
  
    g_free (cache-&gt;tmp_location);
    g_slice_free (BinaryRegistryCache, cache);
    GST_INFO (&quot;Wrote binary registry cache&quot;);
    return TRUE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -302,11 +302,11 @@</span>
      GstRegistryChunk * chunk, unsigned long *file_position)
  {
    gchar padder[ALIGNMENT] = { 0, };
    int padsize = 0;
  
<span class="udiff-line-modified-removed">-   /* Padding to insert the struct that requiere word alignment */</span>
<span class="udiff-line-modified-added">+   /* Padding to insert the struct that require word alignment */</span>
    if ((chunk-&gt;align) &amp;&amp; (alignment (*file_position) != 0)) {
      padsize = ALIGNMENT - alignment (*file_position);
      if (gst_registry_binary_cache_write (cache, *file_position,
              padder, padsize) != padsize) {
        GST_ERROR (&quot;Failed to write binary registry padder&quot;);
</pre>
<center><a href="gstregistry.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstregistrychunks.c.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>