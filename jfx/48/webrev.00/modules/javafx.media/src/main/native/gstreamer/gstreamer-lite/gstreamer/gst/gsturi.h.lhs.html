<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gsturi.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /* GStreamer
  2  * Copyright (C) 1999,2000 Erik Walthinsen &lt;omega@cse.ogi.edu&gt;
  3  *                    2000 Wim Taymans &lt;wtay@chello.be&gt;
  4  *                    2014 David Waring, British Broadcasting Corporation
  5  *                             &lt;david.waring@rd.bbc.co.uk&gt;
  6  *
  7  * gsturi.h: Header for uri to element mappings and URI manipulation.
  8  *
  9  * This library is free software; you can redistribute it and/or
 10  * modify it under the terms of the GNU Library General Public
 11  * License as published by the Free Software Foundation; either
 12  * version 2 of the License, or (at your option) any later version.
 13  *
 14  * This library is distributed in the hope that it will be useful,
 15  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 16  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 17  * Library General Public License for more details.
 18  *
 19  * You should have received a copy of the GNU Library General Public
 20  * License along with this library; if not, write to the
 21  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 22  * Boston, MA 02110-1301, USA.
 23  */
 24 
 25 
 26 #ifndef __GST_URI_H__
 27 #define __GST_URI_H__
 28 
 29 #include &lt;glib.h&gt;
 30 #include &lt;glib-object.h&gt;
 31 
 32 G_BEGIN_DECLS
 33 
 34 #include &lt;gst/gstconfig.h&gt;
 35 
 36 GST_API
 37 GQuark gst_uri_error_quark (void);
 38 
 39 /**
 40  * GST_URI_ERROR:
 41  *
 42  * Get access to the error quark of the uri subsystem.
 43  */
 44 #define GST_URI_ERROR gst_uri_error_quark ()
 45 
 46 /**
 47  * GstURIError:
 48  * @GST_URI_ERROR_UNSUPPORTED_PROTOCOL: The protocol is not supported
 49  * @GST_URI_ERROR_BAD_URI: There was a problem with the URI
 50  * @GST_URI_ERROR_BAD_STATE: Could not set or change the URI because the
 51  *     URI handler was in a state where that is not possible or not permitted
 52  * @GST_URI_ERROR_BAD_REFERENCE: There was a problem with the entity that
 53  *     the URI references
 54  *
 55  * Different URI-related errors that can occur.
 56  */
 57 typedef enum
 58 {
 59   GST_URI_ERROR_UNSUPPORTED_PROTOCOL,
 60   GST_URI_ERROR_BAD_URI,
 61   GST_URI_ERROR_BAD_STATE,
 62   GST_URI_ERROR_BAD_REFERENCE
 63 } GstURIError;
 64 
 65 /**
 66  * GstURIType:
 67  * @GST_URI_UNKNOWN: The URI direction is unknown
 68  * @GST_URI_SINK: The URI is a consumer.
 69  * @GST_URI_SRC: The URI is a producer.
 70  *
 71  * The different types of URI direction.
 72  */
 73 
 74 typedef enum {
 75   GST_URI_UNKNOWN,
 76   GST_URI_SINK,
 77   GST_URI_SRC
 78 } GstURIType;
 79 
 80 /**
 81  * GST_URI_TYPE_IS_VALID:
 82  * @type: A #GstURIType
 83  *
 84  * Tests if the type direction is valid.
 85  */
 86 #define GST_URI_TYPE_IS_VALID(type) ((type) == GST_URI_SRC || (type) == GST_URI_SINK)
 87 
 88 /* uri handler functions */
 89 #define GST_TYPE_URI_HANDLER               (gst_uri_handler_get_type ())
 90 #define GST_URI_HANDLER(obj)               (G_TYPE_CHECK_INSTANCE_CAST ((obj), GST_TYPE_URI_HANDLER, GstURIHandler))
 91 #define GST_IS_URI_HANDLER(obj)            (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GST_TYPE_URI_HANDLER))
 92 #define GST_URI_HANDLER_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), GST_TYPE_URI_HANDLER, GstURIHandlerInterface))
 93 
 94 /**
 95  * GstURIHandler:
 96  *
 97  * Opaque #GstURIHandler structure.
 98  */
 99 typedef struct _GstURIHandler GstURIHandler;
100 typedef struct _GstURIHandlerInterface GstURIHandlerInterface;
101 
102 #include &lt;gst/gstelement.h&gt;
<a name="1" id="anc1"></a><span class="line-removed">103 #include &lt;gst/gstconfig.h&gt;</span>
104 #include &quot;gstminiobject.h&quot;
105 
106 /**
107  * GstURIHandlerInterface:
108  * @parent: The parent interface type
109  * @get_type: Method to tell whether the element handles source or sink URI.
110  * @get_protocols: Method to return the list of protocols handled by the element.
111  * @get_uri: Method to return the URI currently handled by the element.
112  * @set_uri: Method to set a new URI.
113  *
114  * Any #GstElement using this interface should implement these methods.
115  */
116 struct _GstURIHandlerInterface {
117   GTypeInterface parent;
118 
119   /* vtable */
120   /*&lt; public &gt;*/
121   /* querying capabilities */
122   GstURIType             (* get_type)           (GType type);
123   const gchar * const *  (* get_protocols)      (GType type);
124 
125   /* using the interface */
126   gchar *                (* get_uri)            (GstURIHandler * handler);
127   gboolean               (* set_uri)            (GstURIHandler * handler,
128                                                  const gchar   * uri,
129                                                  GError       ** error);
130 };
131 
132 /* general URI functions */
133 
134 GST_API
135 gboolean        gst_uri_protocol_is_valid       (const gchar * protocol);
136 
137 GST_API
138 gboolean        gst_uri_protocol_is_supported   (const GstURIType type,
139                                                  const gchar *protocol);
140 GST_API
141 gboolean        gst_uri_is_valid                (const gchar * uri);
142 
143 GST_API
144 gchar *         gst_uri_get_protocol            (const gchar * uri) G_GNUC_MALLOC;
145 
146 GST_API
147 gboolean        gst_uri_has_protocol            (const gchar * uri,
148                                                  const gchar * protocol);
149 GST_API
150 gchar *         gst_uri_get_location            (const gchar * uri) G_GNUC_MALLOC;
151 
152 GST_DEPRECATED_FOR(gst_uri_new)
153 gchar *         gst_uri_construct               (const gchar * protocol,
154                                                  const gchar * location) G_GNUC_MALLOC;
155 GST_API
156 gchar *         gst_filename_to_uri             (const gchar * filename,
157                                                  GError     ** error) G_GNUC_MALLOC;
158 GST_API
159 GstElement *    gst_element_make_from_uri       (const GstURIType type,
160                                                  const gchar *    uri,
161                                                  const gchar *    elementname,
162                                                  GError      **   error) G_GNUC_MALLOC;
163 
164 /* accessing the interface */
165 
166 GST_API
167 GType                 gst_uri_handler_get_type (void);
168 
169 GST_API
170 GstURIType            gst_uri_handler_get_uri_type  (GstURIHandler * handler);
171 
172 GST_API
173 const gchar * const * gst_uri_handler_get_protocols (GstURIHandler * handler);
174 
175 GST_API
176 gchar *               gst_uri_handler_get_uri       (GstURIHandler * handler) G_GNUC_MALLOC;
177 
178 GST_API
179 gboolean              gst_uri_handler_set_uri       (GstURIHandler * handler,
180                                                      const gchar   * uri,
181                                                      GError       ** error);
182 
183 /*
184  * GstUri Type macros.
185  */
186 #define GST_TYPE_URI        (gst_uri_get_type ())
187 #define GST_IS_URI(obj)     (GST_IS_MINI_OBJECT_TYPE (obj, GST_TYPE_URI))
188 #define GST_URI_CAST(obj)   ((GstUri *)(obj))
189 #define GST_URI_CONST_CAST(obj) ((const GstUri *)(obj))
190 #define GST_URI(obj)        (GST_URI_CAST(obj))
191 
192 /**
193  * GstUri:
194  *
195  * This is a private structure that holds the various parts of a parsed URI.
196  */
197 struct _GstUri;
198 typedef struct _GstUri GstUri;
199 
200 /**
201  * GST_URI_NO_PORT:
202  *
203  * Value for #GstUri&lt;!-- --&gt;.port to indicate no port number.
204  */
205 #define GST_URI_NO_PORT 0
206 
207 /* used by GST_TYPE_URI */
208 
209 GST_API
210 GType gst_uri_get_type (void);
211 
212 /*
213  * Method definitions.
214  */
215 
216 GST_API
217 GstUri * gst_uri_new                   (const gchar * scheme,
218                                         const gchar * userinfo,
219                                         const gchar * host,
220                                         guint port,
221                                         const gchar * path,
222                                         const gchar * query,
223                                         const gchar * fragment) G_GNUC_MALLOC;
224 GST_API
225 GstUri * gst_uri_new_with_base         (GstUri * base,
226                                         const gchar * scheme,
227                                         const gchar * userinfo,
228                                         const gchar * host,
229                                         guint port,
230                                         const gchar * path,
231                                         const gchar * query,
232                                         const gchar * fragment) G_GNUC_MALLOC;
233 GST_API
234 GstUri * gst_uri_from_string           (const gchar * uri) G_GNUC_MALLOC;
235 
236 GST_API
237 GstUri * gst_uri_from_string_with_base (GstUri * base,
238                                         const gchar * uri) G_GNUC_MALLOC;
239 GST_API
240 gboolean gst_uri_equal                 (const GstUri * first,
241                                         const GstUri * second);
242 GST_API
243 GstUri * gst_uri_join                  (GstUri * base_uri,
244                                         GstUri * ref_uri) G_GNUC_WARN_UNUSED_RESULT;
245 GST_API
246 gchar *  gst_uri_join_strings          (const gchar * base_uri,
247                                         const gchar * ref_uri) G_GNUC_MALLOC;
248 GST_API
249 gboolean gst_uri_is_writable           (const GstUri * uri);
250 
251 GST_API
252 GstUri * gst_uri_make_writable         (GstUri * uri) G_GNUC_WARN_UNUSED_RESULT;
253 
254 GST_API
255 gchar *  gst_uri_to_string             (const GstUri * uri) G_GNUC_MALLOC;
256 
257 GST_API
258 gboolean gst_uri_is_normalized         (const GstUri * uri);
259 
260 GST_API
261 gboolean gst_uri_normalize             (GstUri * uri);
262 
263 GST_API
264 const gchar * gst_uri_get_scheme       (const GstUri * uri);
265 
266 GST_API
267 gboolean gst_uri_set_scheme            (GstUri * uri, const gchar * scheme);
268 
269 GST_API
270 const gchar * gst_uri_get_userinfo     (const GstUri * uri);
271 
272 GST_API
273 gboolean gst_uri_set_userinfo          (GstUri * uri, const gchar * userinfo);
274 
275 GST_API
276 const gchar * gst_uri_get_host         (const GstUri * uri);
277 
278 GST_API
279 gboolean gst_uri_set_host              (GstUri * uri, const gchar * host);
280 
281 GST_API
282 guint gst_uri_get_port                 (const GstUri * uri);
283 
284 GST_API
285 gboolean gst_uri_set_port              (GstUri * uri, guint port);
286 
287 GST_API
288 gchar * gst_uri_get_path               (const GstUri * uri);
289 
290 GST_API
291 gboolean gst_uri_set_path              (GstUri * uri, const gchar * path);
292 
293 GST_API
294 gchar * gst_uri_get_path_string        (const GstUri * uri);
295 
296 GST_API
297 gboolean gst_uri_set_path_string       (GstUri * uri, const gchar * path);
298 
299 GST_API
300 GList * gst_uri_get_path_segments      (const GstUri * uri);
301 
302 GST_API
303 gboolean gst_uri_set_path_segments     (GstUri * uri, GList * path_segments);
304 
305 GST_API
306 gboolean gst_uri_append_path           (GstUri * uri,
307                                         const gchar * relative_path);
308 GST_API
309 gboolean gst_uri_append_path_segment   (GstUri * uri,
310                                         const gchar * path_segment);
311 GST_API
312 gchar * gst_uri_get_query_string       (const GstUri * uri);
313 
314 GST_API
315 gboolean gst_uri_set_query_string      (GstUri * uri, const gchar * query);
316 
317 GST_API
318 GHashTable * gst_uri_get_query_table   (const GstUri * uri);
319 
320 GST_API
321 gboolean gst_uri_set_query_table       (GstUri * uri,
322                                         GHashTable * query_table);
323 GST_API
324 gboolean gst_uri_set_query_value       (GstUri * uri, const gchar * query_key,
325                                         const gchar * query_value);
326 GST_API
327 gboolean gst_uri_remove_query_key      (GstUri * uri, const gchar * query_key);
328 
329 GST_API
330 gboolean gst_uri_query_has_key         (const GstUri * uri,
331                                         const gchar * query_key);
332 
333 GST_API
334 const gchar * gst_uri_get_query_value  (const GstUri * uri,
335                                         const gchar * query_key);
336 
337 GST_API
338 GList * gst_uri_get_query_keys         (const GstUri * uri);
339 
340 GST_API
341 const gchar * gst_uri_get_fragment     (const GstUri * uri);
342 
343 GST_API
344 gboolean gst_uri_set_fragment          (GstUri * uri, const gchar * fragment);
345 
346 GST_API
347 GHashTable * gst_uri_get_media_fragment_table  (const GstUri * uri);
348 
349 /**
350  * gst_uri_copy:
351  * @uri: This #GstUri object.
352  *
353  * Create a new #GstUri object with the same data as this #GstUri object.
354  * If @uri is %NULL then returns %NULL.
355  *
356  * Returns: (transfer full): A new #GstUri object which is a copy of this
357  *          #GstUri or %NULL.
358  */
359 static inline GstUri *
360 gst_uri_copy (const GstUri * uri)
361 {
362   return GST_URI_CAST (gst_mini_object_copy (GST_MINI_OBJECT_CONST_CAST (uri)));
363 }
364 
365 /**
366  * gst_uri_ref:
367  * @uri: (transfer none): This #GstUri object.
368  *
369  * Add a reference to this #GstUri object. See gst_mini_object_ref() for further
370  * info.
371  *
372  * Returns: This object with the reference count incremented.
373  */
374 static inline GstUri *
375 gst_uri_ref (GstUri * uri)
376 {
377   return GST_URI_CAST (gst_mini_object_ref (GST_MINI_OBJECT_CAST (uri)));
378 }
379 
380 /**
381  * gst_uri_unref:
382  * @uri: (transfer full): This #GstUri object.
383  *
384  * Decrement the reference count to this #GstUri object.
385  *
386  * If the reference count drops to 0 then finalize this object.
387  *
388  * See gst_mini_object_unref() for further info.
389  */
390 static inline void
391 gst_uri_unref (GstUri * uri)
392 {
393   gst_mini_object_unref (GST_MINI_OBJECT_CAST (uri));
394 }
395 
396 #ifdef G_DEFINE_AUTOPTR_CLEANUP_FUNC
397 G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstUri, gst_uri_unref)
398 #endif
399 
400 G_END_DECLS
401 
402 #endif /* __GST_URI_H__ */
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>