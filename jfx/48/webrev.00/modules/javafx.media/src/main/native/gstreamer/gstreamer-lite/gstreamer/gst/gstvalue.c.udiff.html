<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstvalue.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstutils.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstvalue.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstvalue.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -219,19 +219,19 @@</span>
        if (print_type) {
          g_string_append_c (s, &#39;(&#39;);
          g_string_append (s, _priv_gst_value_gtype_to_abbr (G_VALUE_TYPE (v)));
          g_string_append_c (s, &#39;)&#39;);
        }
<span class="udiff-line-modified-removed">-     g_string_append (s, s_val);</span>
<span class="udiff-line-modified-removed">-     g_free (s_val);</span>
<span class="udiff-line-modified-removed">-     if (i &lt; alen - 1) {</span>
<span class="udiff-line-modified-removed">-       g_string_append_len (s, &quot;, &quot;, 2);</span>
<span class="udiff-line-modified-removed">-     }</span>
<span class="udiff-line-modified-added">+       g_string_append (s, s_val);</span>
<span class="udiff-line-modified-added">+       g_free (s_val);</span>
<span class="udiff-line-modified-added">+       if (i &lt; alen - 1) {</span>
<span class="udiff-line-modified-added">+         g_string_append_len (s, &quot;, &quot;, 2);</span>
<span class="udiff-line-modified-added">+       }</span>
      } else {
        GST_WARNING (&quot;Could not serialize list/array value of type &#39;%s&#39;&quot;,
            G_VALUE_TYPE_NAME (v));
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+     }</span>
    }
    g_string_append (s, end);
    return g_string_free (s, FALSE);
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1283,11 +1283,11 @@</span>
  static void
  gst_value_transform_int_range_string (const GValue * src_value,
      GValue * dest_value)
  {
    if (INT_RANGE_STEP (src_value) == 1)
<span class="udiff-line-modified-removed">-   dest_value-&gt;data[0].v_pointer = g_strdup_printf (&quot;[%d,%d]&quot;,</span>
<span class="udiff-line-modified-added">+     dest_value-&gt;data[0].v_pointer = g_strdup_printf (&quot;[%d,%d]&quot;,</span>
          INT_RANGE_MIN (src_value), INT_RANGE_MAX (src_value));
    else
      dest_value-&gt;data[0].v_pointer = g_strdup_printf (&quot;[%d,%d,%d]&quot;,
          INT_RANGE_MIN (src_value) * INT_RANGE_STEP (src_value),
          INT_RANGE_MAX (src_value) * INT_RANGE_STEP (src_value),
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1315,11 +1315,11 @@</span>
      if (INT_RANGE_STEP (value1) == INT_RANGE_STEP (value2) &amp;&amp;
          INT_RANGE_MIN (value1) == INT_RANGE_MIN (value2) &amp;&amp;
          INT_RANGE_MAX (value1) == INT_RANGE_MAX (value2)) {
        return GST_VALUE_EQUAL;
      }
<span class="udiff-line-modified-removed">-   return GST_VALUE_UNORDERED;</span>
<span class="udiff-line-modified-added">+     return GST_VALUE_UNORDERED;</span>
    } else {
      /* if just one, only if the value is equal */
      if (INT_RANGE_MIN (value1) == INT_RANGE_MIN (value2))
        return GST_VALUE_EQUAL;
      return GST_VALUE_UNORDERED;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1535,12 +1535,12 @@</span>
  static void
  gst_value_transform_int64_range_string (const GValue * src_value,
      GValue * dest_value)
  {
    if (INT64_RANGE_STEP (src_value) == 1)
<span class="udiff-line-modified-removed">-   dest_value-&gt;data[0].v_pointer =</span>
<span class="udiff-line-modified-removed">-       g_strdup_printf (&quot;(gint64)[%&quot; G_GINT64_FORMAT &quot;,%&quot; G_GINT64_FORMAT &quot;]&quot;,</span>
<span class="udiff-line-modified-added">+     dest_value-&gt;data[0].v_pointer =</span>
<span class="udiff-line-modified-added">+         g_strdup_printf (&quot;(gint64)[%&quot; G_GINT64_FORMAT &quot;,%&quot; G_GINT64_FORMAT &quot;]&quot;,</span>
          INT64_RANGE_MIN (src_value), INT64_RANGE_MAX (src_value));
    else
      dest_value-&gt;data[0].v_pointer =
          g_strdup_printf (&quot;(gint64)[%&quot; G_GINT64_FORMAT &quot;,%&quot; G_GINT64_FORMAT
          &quot;,%&quot; G_GINT64_FORMAT &quot;]&quot;,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1570,11 +1570,11 @@</span>
      if (INT64_RANGE_STEP (value1) == INT64_RANGE_STEP (value2) &amp;&amp;
          INT64_RANGE_MIN (value1) == INT64_RANGE_MIN (value2) &amp;&amp;
          INT64_RANGE_MAX (value1) == INT64_RANGE_MAX (value2)) {
        return GST_VALUE_EQUAL;
      }
<span class="udiff-line-modified-removed">-   return GST_VALUE_UNORDERED;</span>
<span class="udiff-line-modified-added">+     return GST_VALUE_UNORDERED;</span>
    } else {
      /* if just one, only if the value is equal */
      if (INT64_RANGE_MIN (value1) == INT64_RANGE_MIN (value2))
        return GST_VALUE_EQUAL;
      return GST_VALUE_UNORDERED;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -1583,11 +1583,11 @@</span>
  
  static gchar *
  gst_value_serialize_int64_range (const GValue * value)
  {
    if (INT64_RANGE_STEP (value) == 1)
<span class="udiff-line-modified-removed">-   return g_strdup_printf (&quot;[ %&quot; G_GINT64_FORMAT &quot;, %&quot; G_GINT64_FORMAT &quot; ]&quot;,</span>
<span class="udiff-line-modified-added">+     return g_strdup_printf (&quot;[ %&quot; G_GINT64_FORMAT &quot;, %&quot; G_GINT64_FORMAT &quot; ]&quot;,</span>
          INT64_RANGE_MIN (value), INT64_RANGE_MAX (value));
    else
      return g_strdup_printf (&quot;[ %&quot; G_GINT64_FORMAT &quot;, %&quot; G_GINT64_FORMAT &quot;, %&quot;
          G_GINT64_FORMAT &quot; ]&quot;,
          INT64_RANGE_MIN (value) * INT64_RANGE_STEP (value),
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2105,11 +2105,11 @@</span>
  gst_value_deserialize_caps (GValue * dest, const gchar * s)
  {
    GstCaps *caps;
  
    if (*s != &#39;&quot;&#39;) {
<span class="udiff-line-modified-removed">-   caps = gst_caps_from_string (s);</span>
<span class="udiff-line-modified-added">+     caps = gst_caps_from_string (s);</span>
    } else {
      gchar *str = gst_string_unwrap (s);
  
      if (G_UNLIKELY (!str))
        return FALSE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -2910,11 +2910,11 @@</span>
  
    if (size1 == 0)
      return GST_VALUE_EQUAL;
  
    if (!gst_buffer_map (buf1, &amp;info1, GST_MAP_READ))
<span class="udiff-line-modified-removed">-   return GST_VALUE_UNORDERED;</span>
<span class="udiff-line-modified-added">+     return GST_VALUE_UNORDERED;</span>
  
    if (!gst_buffer_map (buf2, &amp;info2, GST_MAP_READ)) {
      gst_buffer_unmap (buf1, &amp;info1);
      return GST_VALUE_UNORDERED;
    }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3803,12 +3803,12 @@</span>
      found = gst_iterator_find_custom (iter,
          (GCompareFunc) gst_value_deserialize_enum_iter_cmp, &amp;res, (gpointer) s);
  
      if (found) {
        format_def = g_value_get_pointer (&amp;res);
<span class="udiff-line-modified-removed">-     g_return_val_if_fail (format_def != NULL, FALSE);</span>
<span class="udiff-line-modified-removed">-     g_value_set_enum (dest, (gint) format_def-&gt;value);</span>
<span class="udiff-line-modified-added">+       g_return_val_if_fail (format_def != NULL, FALSE);</span>
<span class="udiff-line-modified-added">+       g_value_set_enum (dest, (gint) format_def-&gt;value);</span>
        g_value_unset (&amp;res);
      }
      gst_iterator_free (iter);
      return found;
    }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3865,11 +3865,11 @@</span>
  
    /* if no flags are set, try to serialize to the _NONE string */
    if (!flags) {
      fl = g_flags_get_first_value (klass, flags);
      if (fl)
<span class="udiff-line-modified-removed">-     return g_strdup (fl-&gt;value_name);</span>
<span class="udiff-line-modified-added">+       return g_strdup (fl-&gt;value_name);</span>
      else
        return g_strdup (&quot;0&quot;);
    }
  
    /* some flags are set, so serialize one by one */
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3919,11 +3919,11 @@</span>
    if (*pos == &#39;/&#39; || *pos == &#39;+&#39;) {
      delimiter = *pos;
      pos++;
    } else {
      delimiter = &#39;+&#39;;
<span class="udiff-line-modified-removed">-         }</span>
<span class="udiff-line-modified-added">+   }</span>
  
    do {
      /* Find the next delimiter */
      next = pos;
      while (*next != &#39;\0&#39; &amp;&amp; *next != &#39;+&#39; &amp;&amp; *next != &#39;/&#39;)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -3961,22 +3961,22 @@</span>
      *out_flags = flags;
    if (out_mask)
      *out_mask = mask;
  
    return TRUE;
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+ }</span>
  
  
  static gboolean
  gst_value_deserialize_gflags (GValue * dest, const gchar * s)
  {
    GFlagsClass *klass = (GFlagsClass *) g_type_class_ref (G_VALUE_TYPE (dest));
    gboolean res = FALSE;
    guint flags = 0;
  
    if (gst_value_gflags_str_to_flags (klass, s, &amp;flags, NULL)) {
<span class="udiff-line-modified-removed">-   g_value_set_flags (dest, flags);</span>
<span class="udiff-line-modified-added">+     g_value_set_flags (dest, flags);</span>
      res = TRUE;
    }
  
    g_type_class_unref (klass);
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4191,11 +4191,11 @@</span>
    /* check if it&#39;s already in the range */
    if (INT_RANGE_MIN (src2) * INT_RANGE_STEP (src2) &lt;= v &amp;&amp;
        INT_RANGE_MAX (src2) * INT_RANGE_STEP (src2) &gt;= v &amp;&amp;
        v % INT_RANGE_STEP (src2) == 0) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, src2);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, src2);</span>
      return TRUE;
    }
  
    /* check if it extends the range */
    if (v == (INT_RANGE_MIN (src2) - 1) * INT_RANGE_STEP (src2)) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4253,15 +4253,15 @@</span>
              INT_RANGE_MAX (src2) &gt;= INT_RANGE_MIN (src1) - 1)) {
        if (dest) {
          gint step = INT_RANGE_STEP (src1);
          gint min = step * MIN (INT_RANGE_MIN (src1), INT_RANGE_MIN (src2));
          gint max = step * MAX (INT_RANGE_MAX (src1), INT_RANGE_MAX (src2));
<span class="udiff-line-modified-removed">-     g_value_init (dest, GST_TYPE_INT_RANGE);</span>
<span class="udiff-line-modified-added">+         g_value_init (dest, GST_TYPE_INT_RANGE);</span>
          gst_value_set_int_range_step (dest, min, max, step);
        }
<span class="udiff-line-modified-removed">-     return TRUE;</span>
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+       return TRUE;</span>
<span class="udiff-line-modified-added">+     }</span>
    }
  
    /* 3 - single value matches next or previous */
    if (INT_RANGE_STEP (src1) != INT_RANGE_STEP (src2)) {
      gint n1 = INT_RANGE_MAX (src1) - INT_RANGE_MIN (src1) + 1;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4430,11 +4430,11 @@</span>
  {
    if (INT_RANGE_MIN (src2) * INT_RANGE_STEP (src2) &lt;= src1-&gt;data[0].v_int &amp;&amp;
        INT_RANGE_MAX (src2) * INT_RANGE_STEP (src2) &gt;= src1-&gt;data[0].v_int &amp;&amp;
        src1-&gt;data[0].v_int % INT_RANGE_STEP (src2) == 0) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, src1);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, src1);</span>
      return TRUE;
    }
  
    return FALSE;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4464,19 +4464,19 @@</span>
        INT_RANGE_MAX (src2) * INT_RANGE_STEP (src2));
    max = max / step * step;
  
    if (min &lt; max) {
      if (dest) {
<span class="udiff-line-modified-removed">-     g_value_init (dest, GST_TYPE_INT_RANGE);</span>
<span class="udiff-line-modified-added">+       g_value_init (dest, GST_TYPE_INT_RANGE);</span>
        gst_value_set_int_range_step (dest, min, max, step);
      }
      return TRUE;
    }
    if (min == max) {
      if (dest) {
<span class="udiff-line-modified-removed">-     g_value_init (dest, G_TYPE_INT);</span>
<span class="udiff-line-modified-removed">-     g_value_set_int (dest, min);</span>
<span class="udiff-line-modified-added">+       g_value_init (dest, G_TYPE_INT);</span>
<span class="udiff-line-modified-added">+       g_value_set_int (dest, min);</span>
      }
      return TRUE;
    }
  
    return FALSE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4491,11 +4491,11 @@</span>
  {
    if (INT64_RANGE_MIN_VAL (src2) &lt;= src1-&gt;data[0].v_int64 &amp;&amp;
        INT64_RANGE_MAX_VAL (src2) &gt;= src1-&gt;data[0].v_int64 &amp;&amp;
        src1-&gt;data[0].v_int64 % INT64_RANGE_STEP (src2) == 0) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, src1);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, src1);</span>
      return TRUE;
    }
  
    return FALSE;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4525,19 +4525,19 @@</span>
        INT64_RANGE_MAX (src2) * INT64_RANGE_STEP (src2));
    max = max / step * step;
  
    if (min &lt; max) {
      if (dest) {
<span class="udiff-line-modified-removed">-     g_value_init (dest, GST_TYPE_INT64_RANGE);</span>
<span class="udiff-line-modified-added">+       g_value_init (dest, GST_TYPE_INT64_RANGE);</span>
        gst_value_set_int64_range_step (dest, min, max, step);
      }
      return TRUE;
    }
    if (min == max) {
      if (dest) {
<span class="udiff-line-modified-removed">-     g_value_init (dest, G_TYPE_INT64);</span>
<span class="udiff-line-modified-removed">-     g_value_set_int64 (dest, min);</span>
<span class="udiff-line-modified-added">+       g_value_init (dest, G_TYPE_INT64);</span>
<span class="udiff-line-modified-added">+       g_value_set_int64 (dest, min);</span>
      }
      return TRUE;
    }
  
    return FALSE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4548,11 +4548,11 @@</span>
      const GValue * src2)
  {
    if (src2-&gt;data[0].v_double &lt;= src1-&gt;data[0].v_double &amp;&amp;
        src2-&gt;data[1].v_double &gt;= src1-&gt;data[0].v_double) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, src1);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, src1);</span>
      return TRUE;
    }
  
    return FALSE;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4567,19 +4567,19 @@</span>
    min = MAX (src1-&gt;data[0].v_double, src2-&gt;data[0].v_double);
    max = MIN (src1-&gt;data[1].v_double, src2-&gt;data[1].v_double);
  
    if (min &lt; max) {
      if (dest) {
<span class="udiff-line-modified-removed">-     g_value_init (dest, GST_TYPE_DOUBLE_RANGE);</span>
<span class="udiff-line-modified-removed">-     gst_value_set_double_range (dest, min, max);</span>
<span class="udiff-line-modified-added">+       g_value_init (dest, GST_TYPE_DOUBLE_RANGE);</span>
<span class="udiff-line-modified-added">+       gst_value_set_double_range (dest, min, max);</span>
      }
      return TRUE;
    }
    if (min == max) {
      if (dest) {
<span class="udiff-line-modified-removed">-     g_value_init (dest, G_TYPE_DOUBLE);</span>
<span class="udiff-line-modified-removed">-     g_value_set_int (dest, (int) min);</span>
<span class="udiff-line-modified-added">+       g_value_init (dest, G_TYPE_DOUBLE);</span>
<span class="udiff-line-modified-added">+       g_value_set_int (dest, (int) min);</span>
      }
      return TRUE;
    }
  
    return FALSE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4617,14 +4617,14 @@</span>
          GValue temp;
  
          gst_value_move (&amp;temp, dest);
          gst_value_list_merge (dest, &amp;temp, &amp;intersection);
          g_value_unset (&amp;temp);
<span class="udiff-line-modified-removed">-       g_value_unset (&amp;intersection);</span>
<span class="udiff-line-modified-added">+         g_value_unset (&amp;intersection);</span>
<span class="udiff-line-added">+       }</span>
      }
    }
<span class="udiff-line-removed">-   }</span>
  
    return ret;
  }
  
  static gboolean
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4683,11 +4683,11 @@</span>
      res2 = gst_value_compare_with_func (&amp;vals[1], src1, compare);
  
      if ((res1 == GST_VALUE_EQUAL || res1 == GST_VALUE_LESS_THAN) &amp;&amp;
          (res2 == GST_VALUE_EQUAL || res2 == GST_VALUE_GREATER_THAN)) {
        if (dest)
<span class="udiff-line-modified-removed">-       gst_value_init_and_copy (dest, src1);</span>
<span class="udiff-line-modified-added">+         gst_value_init_and_copy (dest, src1);</span>
        return TRUE;
      }
    }
  
    return FALSE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4726,20 +4726,20 @@</span>
  
      res = gst_value_compare_with_func (min, max, compare);
      g_return_val_if_fail (res != GST_VALUE_UNORDERED, FALSE);
      if (res == GST_VALUE_LESS_THAN) {
        if (dest) {
<span class="udiff-line-modified-removed">-       g_value_init (dest, GST_TYPE_FRACTION_RANGE);</span>
<span class="udiff-line-modified-removed">-       vals1 = dest-&gt;data[0].v_pointer;</span>
<span class="udiff-line-modified-removed">-       g_value_copy (min, &amp;vals1[0]);</span>
<span class="udiff-line-modified-removed">-       g_value_copy (max, &amp;vals1[1]);</span>
<span class="udiff-line-modified-added">+         g_value_init (dest, GST_TYPE_FRACTION_RANGE);</span>
<span class="udiff-line-modified-added">+         vals1 = dest-&gt;data[0].v_pointer;</span>
<span class="udiff-line-modified-added">+         g_value_copy (min, &amp;vals1[0]);</span>
<span class="udiff-line-modified-added">+         g_value_copy (max, &amp;vals1[1]);</span>
        }
        return TRUE;
      }
      if (res == GST_VALUE_EQUAL) {
        if (dest)
<span class="udiff-line-modified-removed">-       gst_value_init_and_copy (dest, min);</span>
<span class="udiff-line-modified-added">+         gst_value_init_and_copy (dest, min);</span>
        return TRUE;
      }
    }
  
    return FALSE;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4841,11 +4841,11 @@</span>
    /* subtracting a range from an int only works if the int is not in the
     * range */
    if (val &lt; min || val &gt; max || val % step) {
      /* and the result is the int */
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, minuend);</span>
      return TRUE;
    }
    return FALSE;
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4917,11 +4917,11 @@</span>
      return FALSE;
  
    /* value is outside of the range, return range unchanged */
    if (val &lt; min || val &gt; max || val % step) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, minuend);</span>
      return TRUE;
    } else {
      /* max must be MAXINT too as val &lt;= max */
      if (val &gt;= G_MAXINT - step + 1) {
        max -= step;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -4988,11 +4988,11 @@</span>
    /* subtracting a range from an int64 only works if the int64 is not in the
     * range */
    if (val &lt; min || val &gt; max || val % step) {
      /* and the result is the int64 */
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, minuend);</span>
      return TRUE;
    }
    return FALSE;
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5064,11 +5064,11 @@</span>
      return FALSE;
  
    /* value is outside of the range, return range unchanged */
    if (val &lt; min || val &gt; max || val % step) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, minuend);</span>
      return TRUE;
    } else {
      /* max must be MAXINT64 too as val &lt;= max */
      if (val &gt;= G_MAXINT64 - step + 1) {
        max -= step;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5131,11 +5131,11 @@</span>
    gdouble max = gst_value_get_double_range_max (subtrahend);
    gdouble val = g_value_get_double (minuend);
  
    if (val &lt; min || val &gt; max) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, minuend);</span>
      return TRUE;
    }
    return FALSE;
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5144,11 +5144,11 @@</span>
      const GValue * subtrahend)
  {
    /* since we don&#39;t have open ranges, we cannot create a hole in
     * a double range. We return the original range */
    if (dest)
<span class="udiff-line-modified-removed">-   gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+     gst_value_init_and_copy (dest, minuend);</span>
    return TRUE;
  }
  
  static gboolean
  gst_value_subtract_double_range_double_range (GValue * dest,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5259,11 +5259,11 @@</span>
      }
    }
    if (dest) {
      gst_value_move (dest, result);
    } else {
<span class="udiff-line-modified-removed">-   g_value_unset (result);</span>
<span class="udiff-line-modified-added">+     g_value_unset (result);</span>
    }
    return TRUE;
  }
  
  static gboolean
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5281,11 +5281,11 @@</span>
          GST_VALUE_LESS_THAN ||
          gst_value_compare_with_func (minuend, max, compare) ==
          GST_VALUE_GREATER_THAN) {
        /* and the result is the value */
        if (dest)
<span class="udiff-line-modified-removed">-       gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+         gst_value_init_and_copy (dest, minuend);</span>
        return TRUE;
      }
    }
    return FALSE;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5295,11 +5295,11 @@</span>
      const GValue * minuend, const GValue * subtrahend)
  {
    /* since we don&#39;t have open ranges, we cannot create a hole in
     * a range. We return the original range */
    if (dest)
<span class="udiff-line-modified-removed">-   gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+     gst_value_init_and_copy (dest, minuend);</span>
    return TRUE;
  }
  
  static gboolean
  gst_value_subtract_fraction_range_fraction_range (GValue * dest,
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5499,11 +5499,11 @@</span>
    /* other combinations don&#39;t make sense for equality */
    return FALSE;
  }
  
  /* &quot;Pure&quot; variant of gst_value_compare which is guaranteed to
<span class="udiff-line-modified-removed">-  * not have list arguments and therefore does basic comparisions</span>
<span class="udiff-line-modified-added">+  * not have list arguments and therefore does basic comparisons</span>
   */
  static inline gint
  _gst_value_compare_nolist (const GValue * value1, const GValue * value2)
  {
    GstValueCompareFunc compare;
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5555,22 +5555,22 @@</span>
        return GST_VALUE_EQUAL;
      }
  
      n = gst_value_list_get_size (value1);
      if (n == 0)
<span class="udiff-line-modified-removed">-     return GST_VALUE_UNORDERED;</span>
<span class="udiff-line-modified-added">+       return GST_VALUE_UNORDERED;</span>
  
      for (i = 0; i &lt; n; i++) {
        const GValue *elt;
  
        elt = gst_value_list_get_value (value1, i);
        ret = gst_value_compare (elt, value2);
        if (ret != GST_VALUE_EQUAL &amp;&amp; n == 1)
          return ret;
        else if (ret != GST_VALUE_EQUAL)
          return GST_VALUE_UNORDERED;
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+     }</span>
  
      return GST_VALUE_EQUAL;
    } else if (value2_is_list &amp;&amp; !value1_is_list) {
      gint i, n, ret;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5578,11 +5578,11 @@</span>
        return GST_VALUE_EQUAL;
      }
  
      n = gst_value_list_get_size (value2);
      if (n == 0)
<span class="udiff-line-modified-removed">-   return GST_VALUE_UNORDERED;</span>
<span class="udiff-line-modified-added">+       return GST_VALUE_UNORDERED;</span>
  
      for (i = 0; i &lt; n; i++) {
        const GValue *elt;
  
        elt = gst_value_list_get_value (value2, i);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5695,15 +5695,15 @@</span>
  
    for (i = 0; i &lt; len; i++) {
      union_info = &amp;g_array_index (gst_value_union_funcs, GstValueUnionInfo, i);
      if (union_info-&gt;type1 == type1 &amp;&amp; union_info-&gt;type2 == type2) {
        return union_info-&gt;func (dest, value1, value2);
<span class="udiff-line-modified-removed">-       }</span>
<span class="udiff-line-modified-added">+     }</span>
      if (union_info-&gt;type1 == type2 &amp;&amp; union_info-&gt;type2 == type1) {
        return union_info-&gt;func (dest, value2, value1);
      }
<span class="udiff-line-modified-removed">-       }</span>
<span class="udiff-line-modified-added">+   }</span>
  
    gst_value_list_concat (dest, value1, value2);
    return TRUE;
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5829,11 +5829,11 @@</span>
    if (type2 == GST_TYPE_LIST)
      return gst_value_intersect_list (dest, value2, value1);
  
    if (_gst_value_compare_nolist (value1, value2) == GST_VALUE_EQUAL) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, value1);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, value1);</span>
      return TRUE;
    }
  
    len = gst_value_intersect_funcs-&gt;len;
    for (i = 0; i &lt; len; i++) {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -5930,11 +5930,11 @@</span>
      }
    }
  
    if (_gst_value_compare_nolist (minuend, subtrahend) != GST_VALUE_EQUAL) {
      if (dest)
<span class="udiff-line-modified-removed">-     gst_value_init_and_copy (dest, minuend);</span>
<span class="udiff-line-modified-added">+       gst_value_init_and_copy (dest, minuend);</span>
      return TRUE;
    }
  
    return FALSE;
  }
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -6783,11 +6783,11 @@</span>
    }
  
    datetime = gst_date_time_new_from_iso8601_string (s);
    if (datetime != NULL) {
      g_value_take_boxed (dest, datetime);
<span class="udiff-line-modified-removed">-   return TRUE;</span>
<span class="udiff-line-modified-added">+     return TRUE;</span>
    }
    GST_WARNING (&quot;Failed to deserialize date time string &#39;%s&#39;&quot;, s);
    return FALSE;
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7448,25 +7448,25 @@</span>
  
  FUNC_VALUE_GET_TYPE (bitmask, &quot;GstBitmask&quot;);
  
  static const GTypeValueTable _gst_flagset_value_table = {
    gst_value_init_flagset,
<span class="udiff-line-modified-removed">-       NULL,</span>
<span class="udiff-line-modified-added">+   NULL,</span>
    gst_value_copy_flagset,
<span class="udiff-line-modified-removed">-       NULL,</span>
<span class="udiff-line-modified-added">+   NULL,</span>
    (char *) &quot;ii&quot;,
    gst_value_collect_flagset, (char *) &quot;pp&quot;, gst_value_lcopy_flagset
<span class="udiff-line-modified-removed">-     };</span>
<span class="udiff-line-modified-added">+ };</span>
  
  FUNC_VALUE_GET_TYPE_CLASSED (flagset, &quot;GstFlagSet&quot;,
      sizeof (GstFlagSetClass), G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_DERIVABLE);
  
  GType
  gst_g_thread_get_type (void)
<span class="udiff-line-modified-removed">-   {</span>
<span class="udiff-line-modified-added">+ {</span>
    return G_TYPE_THREAD;
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+ }</span>
  
  #define SERIAL_VTABLE(t,c,s,d) { t, c, s, d }
  
  #define REGISTER_SERIALIZATION_CONST(_gtype, _type)                     \
  G_STMT_START {                                                          \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -7511,11 +7511,11 @@</span>
  static const gint GST_VALUE_INTERSECT_TABLE_DEFAULT_SIZE = 16;
  static const gint GST_VALUE_SUBTRACT_TABLE_DEFAULT_SIZE = 16;
  
  void
  _priv_gst_value_initialize (void)
<span class="udiff-line-modified-removed">-   {</span>
<span class="udiff-line-modified-added">+ {</span>
    gst_value_table =
        g_array_sized_new (FALSE, FALSE, sizeof (GstValueTable),
        GST_VALUE_TABLE_DEFAULT_SIZE);
    gst_value_hash = g_hash_table_new (NULL, NULL);
    gst_value_union_funcs = g_array_sized_new (FALSE, FALSE,
</pre>
<center><a href="gstutils.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstvalue.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>