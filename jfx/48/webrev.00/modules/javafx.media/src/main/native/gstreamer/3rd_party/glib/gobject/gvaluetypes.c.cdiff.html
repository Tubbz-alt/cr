<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gvaluetypes.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gvaluetransform.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gvaluetypes.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gvaluetypes.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,8 ***</span>
  /* GObject - GLib Type, Object, Parameter and Signal Library
   * Copyright (C) 1997-1999, 2000-2001 Tim Janik and Red Hat, Inc.
<span class="line-modified">!  * Copyright ï¿½ 2010 Christian Persch</span>
   *
   * This library is free software; you can redistribute it and/or
   * modify it under the terms of the GNU Lesser General Public
   * License as published by the Free Software Foundation; either
   * version 2.1 of the License, or (at your option) any later version.
<span class="line-new-header">--- 1,8 ---</span>
  /* GObject - GLib Type, Object, Parameter and Signal Library
   * Copyright (C) 1997-1999, 2000-2001 Tim Janik and Red Hat, Inc.
<span class="line-modified">!  * Copyright (C) 2010 Christian Persch</span>
   *
   * This library is free software; you can redistribute it and/or
   * modify it under the terms of the GNU Lesser General Public
   * License as published by the Free Software Foundation; either
   * version 2.1 of the License, or (at your option) any later version.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 41,20 ***</span>
    value-&gt;data[0].v_long = 0;
  }
  
  static void
  value_copy_long0 (const GValue *src_value,
<span class="line-modified">!           GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_long = src_value-&gt;data[0].v_long;
  }
  
  static gchar*
  value_lcopy_char (const GValue *value,
<span class="line-modified">!           guint         n_collect_values,</span>
<span class="line-modified">!           GTypeCValue  *collect_values,</span>
<span class="line-modified">!           guint         collect_flags)</span>
  {
    gint8 *int8_p = collect_values[0].v_pointer;
  
    if (!int8_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 41,20 ---</span>
    value-&gt;data[0].v_long = 0;
  }
  
  static void
  value_copy_long0 (const GValue *src_value,
<span class="line-modified">!       GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_long = src_value-&gt;data[0].v_long;
  }
  
  static gchar*
  value_lcopy_char (const GValue *value,
<span class="line-modified">!       guint         n_collect_values,</span>
<span class="line-modified">!       GTypeCValue  *collect_values,</span>
<span class="line-modified">!       guint         collect_flags)</span>
  {
    gint8 *int8_p = collect_values[0].v_pointer;
  
    if (!int8_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 64,13 ***</span>
    return NULL;
  }
  
  static gchar*
  value_lcopy_boolean (const GValue *value,
<span class="line-modified">!              guint         n_collect_values,</span>
<span class="line-modified">!              GTypeCValue  *collect_values,</span>
<span class="line-modified">!              guint         collect_flags)</span>
  {
    gboolean *bool_p = collect_values[0].v_pointer;
  
    if (!bool_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 64,13 ---</span>
    return NULL;
  }
  
  static gchar*
  value_lcopy_boolean (const GValue *value,
<span class="line-modified">!          guint         n_collect_values,</span>
<span class="line-modified">!          GTypeCValue  *collect_values,</span>
<span class="line-modified">!          guint         collect_flags)</span>
  {
    gboolean *bool_p = collect_values[0].v_pointer;
  
    if (!bool_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 80,24 ***</span>
    return NULL;
  }
  
  static gchar*
  value_collect_int (GValue      *value,
<span class="line-modified">!            guint        n_collect_values,</span>
<span class="line-modified">!            GTypeCValue *collect_values,</span>
<span class="line-modified">!            guint        collect_flags)</span>
  {
    value-&gt;data[0].v_int = collect_values[0].v_int;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_int (const GValue *value,
<span class="line-modified">!          guint         n_collect_values,</span>
<span class="line-modified">!          GTypeCValue  *collect_values,</span>
<span class="line-modified">!          guint         collect_flags)</span>
  {
    gint *int_p = collect_values[0].v_pointer;
  
    if (!int_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 80,24 ---</span>
    return NULL;
  }
  
  static gchar*
  value_collect_int (GValue      *value,
<span class="line-modified">!        guint        n_collect_values,</span>
<span class="line-modified">!        GTypeCValue *collect_values,</span>
<span class="line-modified">!        guint        collect_flags)</span>
  {
    value-&gt;data[0].v_int = collect_values[0].v_int;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_int (const GValue *value,
<span class="line-modified">!      guint         n_collect_values,</span>
<span class="line-modified">!      GTypeCValue  *collect_values,</span>
<span class="line-modified">!      guint         collect_flags)</span>
  {
    gint *int_p = collect_values[0].v_pointer;
  
    if (!int_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 107,24 ***</span>
    return NULL;
  }
  
  static gchar*
  value_collect_long (GValue      *value,
<span class="line-modified">!             guint        n_collect_values,</span>
<span class="line-modified">!             GTypeCValue *collect_values,</span>
<span class="line-modified">!             guint        collect_flags)</span>
  {
    value-&gt;data[0].v_long = collect_values[0].v_long;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_long (const GValue *value,
<span class="line-modified">!           guint         n_collect_values,</span>
<span class="line-modified">!           GTypeCValue  *collect_values,</span>
<span class="line-modified">!           guint         collect_flags)</span>
  {
    glong *long_p = collect_values[0].v_pointer;
  
    if (!long_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 107,24 ---</span>
    return NULL;
  }
  
  static gchar*
  value_collect_long (GValue      *value,
<span class="line-modified">!         guint        n_collect_values,</span>
<span class="line-modified">!         GTypeCValue *collect_values,</span>
<span class="line-modified">!         guint        collect_flags)</span>
  {
    value-&gt;data[0].v_long = collect_values[0].v_long;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_long (const GValue *value,
<span class="line-modified">!       guint         n_collect_values,</span>
<span class="line-modified">!       GTypeCValue  *collect_values,</span>
<span class="line-modified">!       guint         collect_flags)</span>
  {
    glong *long_p = collect_values[0].v_pointer;
  
    if (!long_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 140,31 ***</span>
    value-&gt;data[0].v_int64 = 0;
  }
  
  static void
  value_copy_int64 (const GValue *src_value,
<span class="line-modified">!           GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_int64 = src_value-&gt;data[0].v_int64;
  }
  
  static gchar*
  value_collect_int64 (GValue      *value,
<span class="line-modified">!              guint        n_collect_values,</span>
<span class="line-modified">!              GTypeCValue *collect_values,</span>
<span class="line-modified">!              guint        collect_flags)</span>
  {
    value-&gt;data[0].v_int64 = collect_values[0].v_int64;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_int64 (const GValue *value,
<span class="line-modified">!            guint         n_collect_values,</span>
<span class="line-modified">!            GTypeCValue  *collect_values,</span>
<span class="line-modified">!            guint         collect_flags)</span>
  {
    gint64 *int64_p = collect_values[0].v_pointer;
  
    if (!int64_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 140,31 ---</span>
    value-&gt;data[0].v_int64 = 0;
  }
  
  static void
  value_copy_int64 (const GValue *src_value,
<span class="line-modified">!       GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_int64 = src_value-&gt;data[0].v_int64;
  }
  
  static gchar*
  value_collect_int64 (GValue      *value,
<span class="line-modified">!          guint        n_collect_values,</span>
<span class="line-modified">!          GTypeCValue *collect_values,</span>
<span class="line-modified">!          guint        collect_flags)</span>
  {
    value-&gt;data[0].v_int64 = collect_values[0].v_int64;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_int64 (const GValue *value,
<span class="line-modified">!        guint         n_collect_values,</span>
<span class="line-modified">!        GTypeCValue  *collect_values,</span>
<span class="line-modified">!        guint         collect_flags)</span>
  {
    gint64 *int64_p = collect_values[0].v_pointer;
  
    if (!int64_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 180,31 ***</span>
    value-&gt;data[0].v_float = 0.0;
  }
  
  static void
  value_copy_float (const GValue *src_value,
<span class="line-modified">!           GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_float = src_value-&gt;data[0].v_float;
  }
  
  static gchar*
  value_collect_float (GValue      *value,
<span class="line-modified">!              guint        n_collect_values,</span>
<span class="line-modified">!              GTypeCValue *collect_values,</span>
<span class="line-modified">!              guint        collect_flags)</span>
  {
    value-&gt;data[0].v_float = collect_values[0].v_double;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_float (const GValue *value,
<span class="line-modified">!            guint         n_collect_values,</span>
<span class="line-modified">!            GTypeCValue  *collect_values,</span>
<span class="line-modified">!            guint         collect_flags)</span>
  {
    gfloat *float_p = collect_values[0].v_pointer;
  
    if (!float_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 180,31 ---</span>
    value-&gt;data[0].v_float = 0.0;
  }
  
  static void
  value_copy_float (const GValue *src_value,
<span class="line-modified">!       GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_float = src_value-&gt;data[0].v_float;
  }
  
  static gchar*
  value_collect_float (GValue      *value,
<span class="line-modified">!          guint        n_collect_values,</span>
<span class="line-modified">!          GTypeCValue *collect_values,</span>
<span class="line-modified">!          guint        collect_flags)</span>
  {
    value-&gt;data[0].v_float = collect_values[0].v_double;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_float (const GValue *value,
<span class="line-modified">!        guint         n_collect_values,</span>
<span class="line-modified">!        GTypeCValue  *collect_values,</span>
<span class="line-modified">!        guint         collect_flags)</span>
  {
    gfloat *float_p = collect_values[0].v_pointer;
  
    if (!float_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 220,31 ***</span>
    value-&gt;data[0].v_double = 0.0;
  }
  
  static void
  value_copy_double (const GValue *src_value,
<span class="line-modified">!            GValue   *dest_value)</span>
  {
    dest_value-&gt;data[0].v_double = src_value-&gt;data[0].v_double;
  }
  
  static gchar*
<span class="line-modified">! value_collect_double (GValue      *value,</span>
<span class="line-modified">!               guint        n_collect_values,</span>
<span class="line-modified">!               GTypeCValue *collect_values,</span>
<span class="line-modified">!               guint        collect_flags)</span>
  {
    value-&gt;data[0].v_double = collect_values[0].v_double;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_double (const GValue *value,
<span class="line-modified">!             guint         n_collect_values,</span>
<span class="line-modified">!             GTypeCValue  *collect_values,</span>
<span class="line-modified">!             guint         collect_flags)</span>
  {
    gdouble *double_p = collect_values[0].v_pointer;
  
    if (!double_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 220,31 ---</span>
    value-&gt;data[0].v_double = 0.0;
  }
  
  static void
  value_copy_double (const GValue *src_value,
<span class="line-modified">!        GValue *dest_value)</span>
  {
    dest_value-&gt;data[0].v_double = src_value-&gt;data[0].v_double;
  }
  
  static gchar*
<span class="line-modified">! value_collect_double (GValue    *value,</span>
<span class="line-modified">!           guint        n_collect_values,</span>
<span class="line-modified">!           GTypeCValue *collect_values,</span>
<span class="line-modified">!           guint        collect_flags)</span>
  {
    value-&gt;data[0].v_double = collect_values[0].v_double;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_double (const GValue *value,
<span class="line-modified">!         guint         n_collect_values,</span>
<span class="line-modified">!         GTypeCValue  *collect_values,</span>
<span class="line-modified">!         guint         collect_flags)</span>
  {
    gdouble *double_p = collect_values[0].v_pointer;
  
    if (!double_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 267,20 ***</span>
      g_free (value-&gt;data[0].v_pointer);
  }
  
  static void
  value_copy_string (const GValue *src_value,
<span class="line-modified">!            GValue   *dest_value)</span>
  {
    dest_value-&gt;data[0].v_pointer = g_strdup (src_value-&gt;data[0].v_pointer);
  }
  
  static gchar*
<span class="line-modified">! value_collect_string (GValue      *value,</span>
<span class="line-modified">!               guint        n_collect_values,</span>
<span class="line-modified">!               GTypeCValue *collect_values,</span>
<span class="line-modified">!               guint        collect_flags)</span>
  {
    if (!collect_values[0].v_pointer)
      value-&gt;data[0].v_pointer = NULL;
    else if (collect_flags &amp; G_VALUE_NOCOPY_CONTENTS)
      {
<span class="line-new-header">--- 267,20 ---</span>
      g_free (value-&gt;data[0].v_pointer);
  }
  
  static void
  value_copy_string (const GValue *src_value,
<span class="line-modified">!        GValue *dest_value)</span>
  {
    dest_value-&gt;data[0].v_pointer = g_strdup (src_value-&gt;data[0].v_pointer);
  }
  
  static gchar*
<span class="line-modified">! value_collect_string (GValue    *value,</span>
<span class="line-modified">!           guint        n_collect_values,</span>
<span class="line-modified">!           GTypeCValue *collect_values,</span>
<span class="line-modified">!           guint        collect_flags)</span>
  {
    if (!collect_values[0].v_pointer)
      value-&gt;data[0].v_pointer = NULL;
    else if (collect_flags &amp; G_VALUE_NOCOPY_CONTENTS)
      {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 293,13 ***</span>
    return NULL;
  }
  
  static gchar*
  value_lcopy_string (const GValue *value,
<span class="line-modified">!             guint         n_collect_values,</span>
<span class="line-modified">!             GTypeCValue  *collect_values,</span>
<span class="line-modified">!             guint         collect_flags)</span>
  {
    gchar **string_p = collect_values[0].v_pointer;
  
    if (!string_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 293,13 ---</span>
    return NULL;
  }
  
  static gchar*
  value_lcopy_string (const GValue *value,
<span class="line-modified">!         guint         n_collect_values,</span>
<span class="line-modified">!         GTypeCValue  *collect_values,</span>
<span class="line-modified">!         guint         collect_flags)</span>
  {
    gchar **string_p = collect_values[0].v_pointer;
  
    if (!string_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 320,11 ***</span>
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static void
  value_copy_pointer (const GValue *src_value,
<span class="line-modified">!             GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_pointer = src_value-&gt;data[0].v_pointer;
  }
  
  static gpointer
<span class="line-new-header">--- 320,11 ---</span>
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static void
  value_copy_pointer (const GValue *src_value,
<span class="line-modified">!         GValue       *dest_value)</span>
  {
    dest_value-&gt;data[0].v_pointer = src_value-&gt;data[0].v_pointer;
  }
  
  static gpointer
</pre>
<hr />
<pre>
<span class="line-old-header">*** 333,24 ***</span>
    return value-&gt;data[0].v_pointer;
  }
  
  static gchar*
  value_collect_pointer (GValue      *value,
<span class="line-modified">!                guint        n_collect_values,</span>
<span class="line-modified">!                GTypeCValue *collect_values,</span>
<span class="line-modified">!                guint        collect_flags)</span>
  {
    value-&gt;data[0].v_pointer = collect_values[0].v_pointer;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_pointer (const GValue *value,
<span class="line-modified">!              guint         n_collect_values,</span>
<span class="line-modified">!              GTypeCValue  *collect_values,</span>
<span class="line-modified">!              guint         collect_flags)</span>
  {
    gpointer *pointer_p = collect_values[0].v_pointer;
  
    if (!pointer_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 333,24 ---</span>
    return value-&gt;data[0].v_pointer;
  }
  
  static gchar*
  value_collect_pointer (GValue      *value,
<span class="line-modified">!            guint        n_collect_values,</span>
<span class="line-modified">!            GTypeCValue *collect_values,</span>
<span class="line-modified">!            guint        collect_flags)</span>
  {
    value-&gt;data[0].v_pointer = collect_values[0].v_pointer;
  
    return NULL;
  }
  
  static gchar*
  value_lcopy_pointer (const GValue *value,
<span class="line-modified">!          guint         n_collect_values,</span>
<span class="line-modified">!          GTypeCValue  *collect_values,</span>
<span class="line-modified">!          guint         collect_flags)</span>
  {
    gpointer *pointer_p = collect_values[0].v_pointer;
  
    if (!pointer_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 368,23 ***</span>
      g_variant_unref (value-&gt;data[0].v_pointer);
  }
  
  static void
  value_copy_variant (const GValue *src_value,
<span class="line-modified">!            GValue   *dest_value)</span>
  {
    if (src_value-&gt;data[0].v_pointer)
      dest_value-&gt;data[0].v_pointer = g_variant_ref_sink (src_value-&gt;data[0].v_pointer);
    else
      dest_value-&gt;data[0].v_pointer = NULL;
  }
  
  static gchar*
<span class="line-modified">! value_collect_variant (GValue     *value,</span>
<span class="line-modified">!               guint        n_collect_values,</span>
<span class="line-modified">!               GTypeCValue *collect_values,</span>
<span class="line-modified">!               guint        collect_flags)</span>
  {
    if (!collect_values[0].v_pointer)
      value-&gt;data[0].v_pointer = NULL;
    else if (collect_flags &amp; G_VALUE_NOCOPY_CONTENTS)
      {
<span class="line-new-header">--- 368,23 ---</span>
      g_variant_unref (value-&gt;data[0].v_pointer);
  }
  
  static void
  value_copy_variant (const GValue *src_value,
<span class="line-modified">!        GValue *dest_value)</span>
  {
    if (src_value-&gt;data[0].v_pointer)
      dest_value-&gt;data[0].v_pointer = g_variant_ref_sink (src_value-&gt;data[0].v_pointer);
    else
      dest_value-&gt;data[0].v_pointer = NULL;
  }
  
  static gchar*
<span class="line-modified">! value_collect_variant (GValue   *value,</span>
<span class="line-modified">!           guint        n_collect_values,</span>
<span class="line-modified">!           GTypeCValue *collect_values,</span>
<span class="line-modified">!           guint        collect_flags)</span>
  {
    if (!collect_values[0].v_pointer)
      value-&gt;data[0].v_pointer = NULL;
    else if (collect_flags &amp; G_VALUE_NOCOPY_CONTENTS)
      {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 397,13 ***</span>
    return NULL;
  }
  
  static gchar*
  value_lcopy_variant (const GValue *value,
<span class="line-modified">!             guint         n_collect_values,</span>
<span class="line-modified">!             GTypeCValue  *collect_values,</span>
<span class="line-modified">!             guint         collect_flags)</span>
  {
    GVariant **variant_p = collect_values[0].v_pointer;
  
    if (!variant_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
<span class="line-new-header">--- 397,13 ---</span>
    return NULL;
  }
  
  static gchar*
  value_lcopy_variant (const GValue *value,
<span class="line-modified">!         guint         n_collect_values,</span>
<span class="line-modified">!         GTypeCValue  *collect_values,</span>
<span class="line-modified">!         guint         collect_flags)</span>
  {
    GVariant **variant_p = collect_values[0].v_pointer;
  
    if (!variant_p)
      return g_strdup_printf (&quot;value location for &#39;%s&#39; passed as NULL&quot;, G_VALUE_TYPE_NAME (value));
</pre>
<hr />
<pre>
<span class="line-old-header">*** 421,36 ***</span>
  /* --- type initialization --- */
  void
  _g_value_types_init (void)
  {
    GTypeInfo info = {
<span class="line-modified">!     0,              /* class_size */</span>
<span class="line-modified">!     NULL,           /* base_init */</span>
<span class="line-modified">!     NULL,           /* base_destroy */</span>
<span class="line-modified">!     NULL,           /* class_init */</span>
<span class="line-modified">!     NULL,           /* class_destroy */</span>
<span class="line-modified">!     NULL,           /* class_data */</span>
<span class="line-modified">!     0,              /* instance_size */</span>
<span class="line-modified">!     0,              /* n_preallocs */</span>
<span class="line-modified">!     NULL,           /* instance_init */</span>
<span class="line-modified">!     NULL,           /* value_table */</span>
    };
    const GTypeFundamentalInfo finfo = { G_TYPE_FLAG_DERIVABLE, };
<span class="line-modified">!   GType type;</span>
  
    /* G_TYPE_CHAR / G_TYPE_UCHAR
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,     /* value_init */</span>
<span class="line-modified">!       NULL,         /* value_free */</span>
<span class="line-modified">!       value_copy_long0,     /* value_copy */</span>
<span class="line-modified">!       NULL,         /* value_peek_pointer */</span>
<span class="line-modified">!       &quot;i&quot;,          /* collect_format */</span>
<span class="line-modified">!       value_collect_int,    /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_char,     /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_CHAR, g_intern_static_string (&quot;gchar&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_CHAR);
      type = g_type_register_fundamental (G_TYPE_UCHAR, g_intern_static_string (&quot;guchar&quot;), &amp;info, &amp;finfo, 0);
<span class="line-new-header">--- 421,36 ---</span>
  /* --- type initialization --- */
  void
  _g_value_types_init (void)
  {
    GTypeInfo info = {
<span class="line-modified">!     0,        /* class_size */</span>
<span class="line-modified">!     NULL,     /* base_init */</span>
<span class="line-modified">!     NULL,     /* base_destroy */</span>
<span class="line-modified">!     NULL,     /* class_init */</span>
<span class="line-modified">!     NULL,     /* class_destroy */</span>
<span class="line-modified">!     NULL,     /* class_data */</span>
<span class="line-modified">!     0,        /* instance_size */</span>
<span class="line-modified">!     0,        /* n_preallocs */</span>
<span class="line-modified">!     NULL,     /* instance_init */</span>
<span class="line-modified">!     NULL,     /* value_table */</span>
    };
    const GTypeFundamentalInfo finfo = { G_TYPE_FLAG_DERIVABLE, };
<span class="line-modified">!   GType type G_GNUC_UNUSED  /* when compiling with G_DISABLE_ASSERT */;</span>
  
    /* G_TYPE_CHAR / G_TYPE_UCHAR
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,   /* value_init */</span>
<span class="line-modified">!       NULL,     /* value_free */</span>
<span class="line-modified">!       value_copy_long0,   /* value_copy */</span>
<span class="line-modified">!       NULL,     /* value_peek_pointer */</span>
<span class="line-modified">!       &quot;i&quot;,      /* collect_format */</span>
<span class="line-modified">!       value_collect_int,  /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_char,   /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_CHAR, g_intern_static_string (&quot;gchar&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_CHAR);
      type = g_type_register_fundamental (G_TYPE_UCHAR, g_intern_static_string (&quot;guchar&quot;), &amp;info, &amp;finfo, 0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 459,17 ***</span>
  
    /* G_TYPE_BOOLEAN
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,      /* value_init */</span>
<span class="line-modified">!       NULL,          /* value_free */</span>
<span class="line-modified">!       value_copy_long0,      /* value_copy */</span>
        NULL,                      /* value_peek_pointer */
<span class="line-modified">!       &quot;i&quot;,           /* collect_format */</span>
<span class="line-modified">!       value_collect_int,     /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,           /* lcopy_format */</span>
        value_lcopy_boolean,   /* lcopy_value */
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_BOOLEAN, g_intern_static_string (&quot;gboolean&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_BOOLEAN);
<span class="line-new-header">--- 459,17 ---</span>
  
    /* G_TYPE_BOOLEAN
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,    /* value_init */</span>
<span class="line-modified">!       NULL,      /* value_free */</span>
<span class="line-modified">!       value_copy_long0,    /* value_copy */</span>
        NULL,                      /* value_peek_pointer */
<span class="line-modified">!       &quot;i&quot;,       /* collect_format */</span>
<span class="line-modified">!       value_collect_int,   /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,       /* lcopy_format */</span>
        value_lcopy_boolean,   /* lcopy_value */
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_BOOLEAN, g_intern_static_string (&quot;gboolean&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_BOOLEAN);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 477,18 ***</span>
  
    /* G_TYPE_INT / G_TYPE_UINT
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,     /* value_init */</span>
<span class="line-modified">!       NULL,         /* value_free */</span>
<span class="line-modified">!       value_copy_long0,     /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;i&quot;,          /* collect_format */</span>
<span class="line-modified">!       value_collect_int,    /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_int,      /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_INT, g_intern_static_string (&quot;gint&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_INT);
      type = g_type_register_fundamental (G_TYPE_UINT, g_intern_static_string (&quot;guint&quot;), &amp;info, &amp;finfo, 0);
<span class="line-new-header">--- 477,18 ---</span>
  
    /* G_TYPE_INT / G_TYPE_UINT
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,   /* value_init */</span>
<span class="line-modified">!       NULL,     /* value_free */</span>
<span class="line-modified">!       value_copy_long0,   /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;i&quot;,      /* collect_format */</span>
<span class="line-modified">!       value_collect_int,  /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_int,    /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_INT, g_intern_static_string (&quot;gint&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_INT);
      type = g_type_register_fundamental (G_TYPE_UINT, g_intern_static_string (&quot;guint&quot;), &amp;info, &amp;finfo, 0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 497,18 ***</span>
  
    /* G_TYPE_LONG / G_TYPE_ULONG
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,     /* value_init */</span>
<span class="line-modified">!       NULL,         /* value_free */</span>
<span class="line-modified">!       value_copy_long0,     /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;l&quot;,          /* collect_format */</span>
<span class="line-modified">!       value_collect_long,   /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_long,     /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_LONG, g_intern_static_string (&quot;glong&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_LONG);
      type = g_type_register_fundamental (G_TYPE_ULONG, g_intern_static_string (&quot;gulong&quot;), &amp;info, &amp;finfo, 0);
<span class="line-new-header">--- 497,18 ---</span>
  
    /* G_TYPE_LONG / G_TYPE_ULONG
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_long0,   /* value_init */</span>
<span class="line-modified">!       NULL,     /* value_free */</span>
<span class="line-modified">!       value_copy_long0,   /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;l&quot;,      /* collect_format */</span>
<span class="line-modified">!       value_collect_long, /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_long,   /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_LONG, g_intern_static_string (&quot;glong&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_LONG);
      type = g_type_register_fundamental (G_TYPE_ULONG, g_intern_static_string (&quot;gulong&quot;), &amp;info, &amp;finfo, 0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 517,18 ***</span>
  
    /* G_TYPE_INT64 / G_TYPE_UINT64
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_int64,     /* value_init */</span>
<span class="line-modified">!       NULL,         /* value_free */</span>
<span class="line-modified">!       value_copy_int64,     /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;q&quot;,          /* collect_format */</span>
        value_collect_int64,  /* collect_value */
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_int64,    /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_INT64, g_intern_static_string (&quot;gint64&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_INT64);
      type = g_type_register_fundamental (G_TYPE_UINT64, g_intern_static_string (&quot;guint64&quot;), &amp;info, &amp;finfo, 0);
<span class="line-new-header">--- 517,18 ---</span>
  
    /* G_TYPE_INT64 / G_TYPE_UINT64
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_int64,   /* value_init */</span>
<span class="line-modified">!       NULL,     /* value_free */</span>
<span class="line-modified">!       value_copy_int64,   /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;q&quot;,      /* collect_format */</span>
        value_collect_int64,  /* collect_value */
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_int64,  /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_INT64, g_intern_static_string (&quot;gint64&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_INT64);
      type = g_type_register_fundamental (G_TYPE_UINT64, g_intern_static_string (&quot;guint64&quot;), &amp;info, &amp;finfo, 0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 537,71 ***</span>
  
    /* G_TYPE_FLOAT
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_float,      /* value_init */</span>
<span class="line-modified">!       NULL,          /* value_free */</span>
<span class="line-modified">!       value_copy_float,      /* value_copy */</span>
        NULL,                      /* value_peek_pointer */
<span class="line-modified">!       &quot;d&quot;,           /* collect_format */</span>
        value_collect_float,   /* collect_value */
<span class="line-modified">!       &quot;p&quot;,           /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_float,     /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_FLOAT, g_intern_static_string (&quot;gfloat&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_FLOAT);
    }
  
    /* G_TYPE_DOUBLE
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_double,    /* value_init */</span>
<span class="line-modified">!       NULL,         /* value_free */</span>
<span class="line-modified">!       value_copy_double,    /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;d&quot;,          /* collect_format */</span>
        value_collect_double, /* collect_value */
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_double,   /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_DOUBLE, g_intern_static_string (&quot;gdouble&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_DOUBLE);
    }
  
    /* G_TYPE_STRING
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_string,    /* value_init */</span>
<span class="line-modified">!       value_free_string,    /* value_free */</span>
<span class="line-modified">!       value_copy_string,    /* value_copy */</span>
        value_peek_pointer0,  /* value_peek_pointer */
<span class="line-modified">!       &quot;p&quot;,          /* collect_format */</span>
        value_collect_string, /* collect_value */
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_string,   /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_STRING, g_intern_static_string (&quot;gchararray&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_STRING);
    }
  
    /* G_TYPE_POINTER
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_pointer,   /* value_init */</span>
<span class="line-modified">!       NULL,         /* value_free */</span>
<span class="line-modified">!       value_copy_pointer,   /* value_copy */</span>
        value_peek_pointer0,  /* value_peek_pointer */
<span class="line-modified">!       &quot;p&quot;,          /* collect_format */</span>
<span class="line-modified">!       value_collect_pointer,    /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
        value_lcopy_pointer,  /* lcopy_value */
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_POINTER, g_intern_static_string (&quot;gpointer&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_POINTER);
<span class="line-new-header">--- 537,71 ---</span>
  
    /* G_TYPE_FLOAT
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_float,    /* value_init */</span>
<span class="line-modified">!       NULL,      /* value_free */</span>
<span class="line-modified">!       value_copy_float,    /* value_copy */</span>
        NULL,                      /* value_peek_pointer */
<span class="line-modified">!       &quot;d&quot;,       /* collect_format */</span>
        value_collect_float,   /* collect_value */
<span class="line-modified">!       &quot;p&quot;,       /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_float,   /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_FLOAT, g_intern_static_string (&quot;gfloat&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_FLOAT);
    }
  
    /* G_TYPE_DOUBLE
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_double,  /* value_init */</span>
<span class="line-modified">!       NULL,     /* value_free */</span>
<span class="line-modified">!       value_copy_double,  /* value_copy */</span>
        NULL,                     /* value_peek_pointer */
<span class="line-modified">!       &quot;d&quot;,      /* collect_format */</span>
        value_collect_double, /* collect_value */
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_double, /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_DOUBLE, g_intern_static_string (&quot;gdouble&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_DOUBLE);
    }
  
    /* G_TYPE_STRING
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_string,  /* value_init */</span>
<span class="line-modified">!       value_free_string,  /* value_free */</span>
<span class="line-modified">!       value_copy_string,  /* value_copy */</span>
        value_peek_pointer0,  /* value_peek_pointer */
<span class="line-modified">!       &quot;p&quot;,      /* collect_format */</span>
        value_collect_string, /* collect_value */
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
<span class="line-modified">!       value_lcopy_string, /* lcopy_value */</span>
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_STRING, g_intern_static_string (&quot;gchararray&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_STRING);
    }
  
    /* G_TYPE_POINTER
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_pointer, /* value_init */</span>
<span class="line-modified">!       NULL,     /* value_free */</span>
<span class="line-modified">!       value_copy_pointer, /* value_copy */</span>
        value_peek_pointer0,  /* value_peek_pointer */
<span class="line-modified">!       &quot;p&quot;,      /* collect_format */</span>
<span class="line-modified">!       value_collect_pointer,  /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
        value_lcopy_pointer,  /* lcopy_value */
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_POINTER, g_intern_static_string (&quot;gpointer&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_POINTER);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 609,17 ***</span>
  
    /* G_TYPE_VARIANT
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_pointer,   /* value_init */</span>
<span class="line-modified">!       value_free_variant,   /* value_free */</span>
<span class="line-modified">!       value_copy_variant,   /* value_copy */</span>
        value_peek_pointer0,  /* value_peek_pointer */
<span class="line-modified">!       &quot;p&quot;,          /* collect_format */</span>
<span class="line-modified">!       value_collect_variant,    /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,          /* lcopy_format */</span>
        value_lcopy_variant,  /* lcopy_value */
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_VARIANT, g_intern_static_string (&quot;GVariant&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_VARIANT);
<span class="line-new-header">--- 609,17 ---</span>
  
    /* G_TYPE_VARIANT
     */
    {
      static const GTypeValueTable value_table = {
<span class="line-modified">!       value_init_pointer, /* value_init */</span>
<span class="line-modified">!       value_free_variant, /* value_free */</span>
<span class="line-modified">!       value_copy_variant, /* value_copy */</span>
        value_peek_pointer0,  /* value_peek_pointer */
<span class="line-modified">!       &quot;p&quot;,      /* collect_format */</span>
<span class="line-modified">!       value_collect_variant,  /* collect_value */</span>
<span class="line-modified">!       &quot;p&quot;,      /* lcopy_format */</span>
        value_lcopy_variant,  /* lcopy_value */
      };
      info.value_table = &amp;value_table;
      type = g_type_register_fundamental (G_TYPE_VARIANT, g_intern_static_string (&quot;GVariant&quot;), &amp;info, &amp;finfo, 0);
      g_assert (type == G_TYPE_VARIANT);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 636,11 ***</span>
   * Set the contents of a %G_TYPE_CHAR #GValue to @v_char.
   * Deprecated: 2.32: This function&#39;s input type is broken, see g_value_set_schar()
   */
  void
  g_value_set_char (GValue *value,
<span class="line-modified">!           gchar   v_char)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_CHAR (value));
  
    value-&gt;data[0].v_int = v_char;
  }
<span class="line-new-header">--- 636,11 ---</span>
   * Set the contents of a %G_TYPE_CHAR #GValue to @v_char.
   * Deprecated: 2.32: This function&#39;s input type is broken, see g_value_set_schar()
   */
  void
  g_value_set_char (GValue *value,
<span class="line-modified">!       gchar   v_char)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_CHAR (value));
  
    value-&gt;data[0].v_int = v_char;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 674,11 ***</span>
   *
   * Since: 2.32
   */
  void
  g_value_set_schar (GValue *value,
<span class="line-modified">!            gint8   v_char)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_CHAR (value));
  
    value-&gt;data[0].v_int = v_char;
  }
<span class="line-new-header">--- 674,11 ---</span>
   *
   * Since: 2.32
   */
  void
  g_value_set_schar (GValue *value,
<span class="line-modified">!        gint8   v_char)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_CHAR (value));
  
    value-&gt;data[0].v_int = v_char;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 707,11 ***</span>
   *
   * Set the contents of a %G_TYPE_UCHAR #GValue to @v_uchar.
   */
  void
  g_value_set_uchar (GValue *value,
<span class="line-modified">!            guchar  v_uchar)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_UCHAR (value));
  
    value-&gt;data[0].v_uint = v_uchar;
  }
<span class="line-new-header">--- 707,11 ---</span>
   *
   * Set the contents of a %G_TYPE_UCHAR #GValue to @v_uchar.
   */
  void
  g_value_set_uchar (GValue *value,
<span class="line-modified">!        guchar  v_uchar)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_UCHAR (value));
  
    value-&gt;data[0].v_uint = v_uchar;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 739,11 ***</span>
   *
   * Set the contents of a %G_TYPE_BOOLEAN #GValue to @v_boolean.
   */
  void
  g_value_set_boolean (GValue  *value,
<span class="line-modified">!              gboolean v_boolean)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_BOOLEAN (value));
  
    value-&gt;data[0].v_int = v_boolean != FALSE;
  }
<span class="line-new-header">--- 739,11 ---</span>
   *
   * Set the contents of a %G_TYPE_BOOLEAN #GValue to @v_boolean.
   */
  void
  g_value_set_boolean (GValue  *value,
<span class="line-modified">!          gboolean v_boolean)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_BOOLEAN (value));
  
    value-&gt;data[0].v_int = v_boolean != FALSE;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 771,11 ***</span>
   *
   * Set the contents of a %G_TYPE_INT #GValue to @v_int.
   */
  void
  g_value_set_int (GValue *value,
<span class="line-modified">!          gint    v_int)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_INT (value));
  
    value-&gt;data[0].v_int = v_int;
  }
<span class="line-new-header">--- 771,11 ---</span>
   *
   * Set the contents of a %G_TYPE_INT #GValue to @v_int.
   */
  void
  g_value_set_int (GValue *value,
<span class="line-modified">!      gint  v_int)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_INT (value));
  
    value-&gt;data[0].v_int = v_int;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 803,11 ***</span>
   *
   * Set the contents of a %G_TYPE_UINT #GValue to @v_uint.
   */
  void
  g_value_set_uint (GValue *value,
<span class="line-modified">!           guint   v_uint)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_UINT (value));
  
    value-&gt;data[0].v_uint = v_uint;
  }
<span class="line-new-header">--- 803,11 ---</span>
   *
   * Set the contents of a %G_TYPE_UINT #GValue to @v_uint.
   */
  void
  g_value_set_uint (GValue *value,
<span class="line-modified">!       guint   v_uint)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_UINT (value));
  
    value-&gt;data[0].v_uint = v_uint;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 835,11 ***</span>
   *
   * Set the contents of a %G_TYPE_LONG #GValue to @v_long.
   */
  void
  g_value_set_long (GValue *value,
<span class="line-modified">!           glong   v_long)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_LONG (value));
  
    value-&gt;data[0].v_long = v_long;
  }
<span class="line-new-header">--- 835,11 ---</span>
   *
   * Set the contents of a %G_TYPE_LONG #GValue to @v_long.
   */
  void
  g_value_set_long (GValue *value,
<span class="line-modified">!       glong   v_long)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_LONG (value));
  
    value-&gt;data[0].v_long = v_long;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 867,11 ***</span>
   *
   * Set the contents of a %G_TYPE_ULONG #GValue to @v_ulong.
   */
  void
  g_value_set_ulong (GValue *value,
<span class="line-modified">!            gulong  v_ulong)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_ULONG (value));
  
    value-&gt;data[0].v_ulong = v_ulong;
  }
<span class="line-new-header">--- 867,11 ---</span>
   *
   * Set the contents of a %G_TYPE_ULONG #GValue to @v_ulong.
   */
  void
  g_value_set_ulong (GValue *value,
<span class="line-modified">!        gulong  v_ulong)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_ULONG (value));
  
    value-&gt;data[0].v_ulong = v_ulong;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 900,11 ***</span>
   *
   * Returns: 64bit integer contents of @value
   */
  void
  g_value_set_int64 (GValue *value,
<span class="line-modified">!            gint64  v_int64)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_INT64 (value));
  
    value-&gt;data[0].v_int64 = v_int64;
  }
<span class="line-new-header">--- 900,11 ---</span>
   *
   * Returns: 64bit integer contents of @value
   */
  void
  g_value_set_int64 (GValue *value,
<span class="line-modified">!        gint64  v_int64)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_INT64 (value));
  
    value-&gt;data[0].v_int64 = v_int64;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 931,11 ***</span>
   *
   * Set the contents of a %G_TYPE_UINT64 #GValue to @v_uint64.
   */
  void
  g_value_set_uint64 (GValue *value,
<span class="line-modified">!             guint64 v_uint64)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_UINT64 (value));
  
    value-&gt;data[0].v_uint64 = v_uint64;
  }
<span class="line-new-header">--- 931,11 ---</span>
   *
   * Set the contents of a %G_TYPE_UINT64 #GValue to @v_uint64.
   */
  void
  g_value_set_uint64 (GValue *value,
<span class="line-modified">!         guint64 v_uint64)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_UINT64 (value));
  
    value-&gt;data[0].v_uint64 = v_uint64;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 963,11 ***</span>
   *
   * Set the contents of a %G_TYPE_FLOAT #GValue to @v_float.
   */
  void
  g_value_set_float (GValue *value,
<span class="line-modified">!            gfloat  v_float)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_FLOAT (value));
  
    value-&gt;data[0].v_float = v_float;
  }
<span class="line-new-header">--- 963,11 ---</span>
   *
   * Set the contents of a %G_TYPE_FLOAT #GValue to @v_float.
   */
  void
  g_value_set_float (GValue *value,
<span class="line-modified">!        gfloat  v_float)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_FLOAT (value));
  
    value-&gt;data[0].v_float = v_float;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 995,11 ***</span>
   *
   * Set the contents of a %G_TYPE_DOUBLE #GValue to @v_double.
   */
  void
  g_value_set_double (GValue *value,
<span class="line-modified">!             gdouble v_double)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_DOUBLE (value));
  
    value-&gt;data[0].v_double = v_double;
  }
<span class="line-new-header">--- 995,11 ---</span>
   *
   * Set the contents of a %G_TYPE_DOUBLE #GValue to @v_double.
   */
  void
  g_value_set_double (GValue *value,
<span class="line-modified">!         gdouble v_double)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_DOUBLE (value));
  
    value-&gt;data[0].v_double = v_double;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1027,11 ***</span>
   *
   * Set the contents of a %G_TYPE_STRING #GValue to @v_string.
   */
  void
  g_value_set_string (GValue  *value,
<span class="line-modified">!                     const gchar *v_string)</span>
  {
    gchar *new_val;
  
    g_return_if_fail (G_VALUE_HOLDS_STRING (value));
  
<span class="line-new-header">--- 1027,11 ---</span>
   *
   * Set the contents of a %G_TYPE_STRING #GValue to @v_string.
   */
  void
  g_value_set_string (GValue  *value,
<span class="line-modified">!         const gchar *v_string)</span>
  {
    gchar *new_val;
  
    g_return_if_fail (G_VALUE_HOLDS_STRING (value));
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1054,11 ***</span>
   * The string is assumed to be static, and is thus not duplicated
   * when setting the #GValue.
   */
  void
  g_value_set_static_string (GValue      *value,
<span class="line-modified">!                const gchar *v_string)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_STRING (value));
  
    if (!(value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS))
      g_free (value-&gt;data[0].v_pointer);
<span class="line-new-header">--- 1054,11 ---</span>
   * The string is assumed to be static, and is thus not duplicated
   * when setting the #GValue.
   */
  void
  g_value_set_static_string (GValue      *value,
<span class="line-modified">!          const gchar *v_string)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_STRING (value));
  
    if (!(value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS))
      g_free (value-&gt;data[0].v_pointer);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1075,11 ***</span>
   *
   * Deprecated: 2.4: Use g_value_take_string() instead.
   */
  void
  g_value_set_string_take_ownership (GValue *value,
<span class="line-modified">!                    gchar  *v_string)</span>
  {
    g_value_take_string (value, v_string);
  }
  
  /**
<span class="line-new-header">--- 1075,11 ---</span>
   *
   * Deprecated: 2.4: Use g_value_take_string() instead.
   */
  void
  g_value_set_string_take_ownership (GValue *value,
<span class="line-modified">!            gchar  *v_string)</span>
  {
    g_value_take_string (value, v_string);
  }
  
  /**
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1091,11 ***</span>
   *
   * Since: 2.4
   */
  void
  g_value_take_string (GValue *value,
<span class="line-modified">!              gchar  *v_string)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_STRING (value));
  
    if (value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS)
      value-&gt;data[1].v_uint = 0;
<span class="line-new-header">--- 1091,11 ---</span>
   *
   * Since: 2.4
   */
  void
  g_value_take_string (GValue *value,
<span class="line-modified">!          gchar  *v_string)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_STRING (value));
  
    if (value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS)
      value-&gt;data[1].v_uint = 0;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1143,11 ***</span>
   *
   * Set the contents of a pointer #GValue to @v_pointer.
   */
  void
  g_value_set_pointer (GValue  *value,
<span class="line-modified">!              gpointer v_pointer)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_POINTER (value));
  
    value-&gt;data[0].v_pointer = v_pointer;
  }
<span class="line-new-header">--- 1143,11 ---</span>
   *
   * Set the contents of a pointer #GValue to @v_pointer.
   */
  void
  g_value_set_pointer (GValue  *value,
<span class="line-modified">!          gpointer v_pointer)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_POINTER (value));
  
    value-&gt;data[0].v_pointer = v_pointer;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1179,11 ***</span>
   *
   * Since: 2.12
   */
  void
  g_value_set_gtype (GValue *value,
<span class="line-modified">!            GType   v_gtype)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_GTYPE (value));
  
    value-&gt;data[0].v_pointer = GSIZE_TO_POINTER (v_gtype);
  
<span class="line-new-header">--- 1179,11 ---</span>
   *
   * Since: 2.12
   */
  void
  g_value_set_gtype (GValue *value,
<span class="line-modified">!        GType   v_gtype)</span>
  {
    g_return_if_fail (G_VALUE_HOLDS_GTYPE (value));
  
    value-&gt;data[0].v_pointer = GSIZE_TO_POINTER (v_gtype);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1341,18 ***</span>
    if (G_VALUE_HOLDS_STRING (value))
      {
        src = g_value_get_string (value);
  
        if (!src)
<span class="line-modified">!     contents = g_strdup (&quot;NULL&quot;);</span>
        else
<span class="line-modified">!     {</span>
<span class="line-modified">!       gchar *s = g_strescape (src, NULL);</span>
  
<span class="line-modified">!       contents = g_strdup_printf (&quot;\&quot;%s\&quot;&quot;, s);</span>
<span class="line-modified">!       g_free (s);</span>
<span class="line-modified">!     }</span>
      }
    else if (g_value_type_transformable (G_VALUE_TYPE (value), G_TYPE_STRING))
      {
        GValue tmp_value = G_VALUE_INIT;
        gchar *s;
<span class="line-new-header">--- 1341,18 ---</span>
    if (G_VALUE_HOLDS_STRING (value))
      {
        src = g_value_get_string (value);
  
        if (!src)
<span class="line-modified">!   contents = g_strdup (&quot;NULL&quot;);</span>
        else
<span class="line-modified">!   {</span>
<span class="line-modified">!     gchar *s = g_strescape (src, NULL);</span>
  
<span class="line-modified">!     contents = g_strdup_printf (&quot;\&quot;%s\&quot;&quot;, s);</span>
<span class="line-modified">!     g_free (s);</span>
<span class="line-modified">!   }</span>
      }
    else if (g_value_type_transformable (G_VALUE_TYPE (value), G_TYPE_STRING))
      {
        GValue tmp_value = G_VALUE_INIT;
        gchar *s;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1360,27 ***</span>
        g_value_init (&amp;tmp_value, G_TYPE_STRING);
        g_value_transform (value, &amp;tmp_value);
        s = g_strescape (g_value_get_string (&amp;tmp_value), NULL);
        g_value_unset (&amp;tmp_value);
        if (G_VALUE_HOLDS_ENUM (value) || G_VALUE_HOLDS_FLAGS (value))
<span class="line-modified">!     contents = g_strdup_printf (&quot;((%s) %s)&quot;,</span>
<span class="line-modified">!                     g_type_name (G_VALUE_TYPE (value)),</span>
<span class="line-modified">!                     s);</span>
        else
<span class="line-modified">!     contents = g_strdup (s ? s : &quot;NULL&quot;);</span>
        g_free (s);
      }
    else if (g_value_fits_pointer (value))
      {
        gpointer p = g_value_peek_pointer (value);
  
        if (!p)
<span class="line-modified">!     contents = g_strdup (&quot;NULL&quot;);</span>
        else if (G_VALUE_HOLDS_OBJECT (value))
<span class="line-modified">!     contents = g_strdup_printf (&quot;((%s*) %p)&quot;, G_OBJECT_TYPE_NAME (p), p);</span>
        else if (G_VALUE_HOLDS_PARAM (value))
<span class="line-modified">!     contents = g_strdup_printf (&quot;((%s*) %p)&quot;, G_PARAM_SPEC_TYPE_NAME (p), p);</span>
        else if (G_VALUE_HOLDS (value, G_TYPE_STRV))
          {
            GStrv strv = g_value_get_boxed (value);
            GString *tmp = g_string_new (&quot;[&quot;);
  
<span class="line-new-header">--- 1360,27 ---</span>
        g_value_init (&amp;tmp_value, G_TYPE_STRING);
        g_value_transform (value, &amp;tmp_value);
        s = g_strescape (g_value_get_string (&amp;tmp_value), NULL);
        g_value_unset (&amp;tmp_value);
        if (G_VALUE_HOLDS_ENUM (value) || G_VALUE_HOLDS_FLAGS (value))
<span class="line-modified">!   contents = g_strdup_printf (&quot;((%s) %s)&quot;,</span>
<span class="line-modified">!             g_type_name (G_VALUE_TYPE (value)),</span>
<span class="line-modified">!             s);</span>
        else
<span class="line-modified">!   contents = g_strdup (s ? s : &quot;NULL&quot;);</span>
        g_free (s);
      }
    else if (g_value_fits_pointer (value))
      {
        gpointer p = g_value_peek_pointer (value);
  
        if (!p)
<span class="line-modified">!   contents = g_strdup (&quot;NULL&quot;);</span>
        else if (G_VALUE_HOLDS_OBJECT (value))
<span class="line-modified">!   contents = g_strdup_printf (&quot;((%s*) %p)&quot;, G_OBJECT_TYPE_NAME (p), p);</span>
        else if (G_VALUE_HOLDS_PARAM (value))
<span class="line-modified">!   contents = g_strdup_printf (&quot;((%s*) %p)&quot;, G_PARAM_SPEC_TYPE_NAME (p), p);</span>
        else if (G_VALUE_HOLDS (value, G_TYPE_STRV))
          {
            GStrv strv = g_value_get_boxed (value);
            GString *tmp = g_string_new (&quot;[&quot;);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1397,15 ***</span>
  
            g_string_append (tmp, &quot;]&quot;);
            contents = g_string_free (tmp, FALSE);
          }
        else if (G_VALUE_HOLDS_BOXED (value))
<span class="line-modified">!     contents = g_strdup_printf (&quot;((%s*) %p)&quot;, g_type_name (G_VALUE_TYPE (value)), p);</span>
        else if (G_VALUE_HOLDS_POINTER (value))
<span class="line-modified">!     contents = g_strdup_printf (&quot;((gpointer) %p)&quot;, p);</span>
        else
<span class="line-modified">!     contents = g_strdup (&quot;???&quot;);</span>
      }
    else
      contents = g_strdup (&quot;???&quot;);
  
    return contents;
<span class="line-new-header">--- 1397,15 ---</span>
  
            g_string_append (tmp, &quot;]&quot;);
            contents = g_string_free (tmp, FALSE);
          }
        else if (G_VALUE_HOLDS_BOXED (value))
<span class="line-modified">!   contents = g_strdup_printf (&quot;((%s*) %p)&quot;, g_type_name (G_VALUE_TYPE (value)), p);</span>
        else if (G_VALUE_HOLDS_POINTER (value))
<span class="line-modified">!   contents = g_strdup_printf (&quot;((gpointer) %p)&quot;, p);</span>
        else
<span class="line-modified">!   contents = g_strdup (&quot;???&quot;);</span>
      }
    else
      contents = g_strdup (&quot;???&quot;);
  
    return contents;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1422,20 ***</span>
   */
  GType
  g_pointer_type_register_static (const gchar *name)
  {
    const GTypeInfo type_info = {
<span class="line-modified">!     0,          /* class_size */</span>
<span class="line-modified">!     NULL,       /* base_init */</span>
<span class="line-modified">!     NULL,       /* base_finalize */</span>
<span class="line-modified">!     NULL,       /* class_init */</span>
<span class="line-modified">!     NULL,       /* class_finalize */</span>
<span class="line-modified">!     NULL,       /* class_data */</span>
<span class="line-modified">!     0,          /* instance_size */</span>
<span class="line-modified">!     0,          /* n_preallocs */</span>
<span class="line-modified">!     NULL,       /* instance_init */</span>
<span class="line-modified">!     NULL        /* value_table */</span>
    };
    GType type;
  
    g_return_val_if_fail (name != NULL, 0);
    g_return_val_if_fail (g_type_from_name (name) == 0, 0);
<span class="line-new-header">--- 1422,20 ---</span>
   */
  GType
  g_pointer_type_register_static (const gchar *name)
  {
    const GTypeInfo type_info = {
<span class="line-modified">!     0,      /* class_size */</span>
<span class="line-modified">!     NULL,   /* base_init */</span>
<span class="line-modified">!     NULL,   /* base_finalize */</span>
<span class="line-modified">!     NULL,   /* class_init */</span>
<span class="line-modified">!     NULL,   /* class_finalize */</span>
<span class="line-modified">!     NULL,   /* class_data */</span>
<span class="line-modified">!     0,      /* instance_size */</span>
<span class="line-modified">!     0,      /* n_preallocs */</span>
<span class="line-modified">!     NULL,   /* instance_init */</span>
<span class="line-modified">!     NULL    /* value_table */</span>
    };
    GType type;
  
    g_return_val_if_fail (name != NULL, 0);
    g_return_val_if_fail (g_type_from_name (name) == 0, 0);
</pre>
<center><a href="gvaluetransform.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gvaluetypes.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>