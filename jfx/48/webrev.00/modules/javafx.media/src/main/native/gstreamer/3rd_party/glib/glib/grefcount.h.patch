diff a/modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/grefcount.h b/modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/grefcount.h
--- a/modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/grefcount.h
+++ b/modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/grefcount.h
@@ -90,11 +90,11 @@
 
 # define g_atomic_ref_count_init(rc) \
   (G_GNUC_EXTENSION ({ \
     G_STATIC_ASSERT (sizeof *(rc) == sizeof (gatomicrefcount)); \
     (void) (0 ? *(rc) ^ *(rc) : 1); \
-    g_atomic_int_set ((rc), 1); \
+    *(rc) = 1; \
   }))
 
 # define g_atomic_ref_count_inc(rc) \
   (G_GNUC_EXTENSION ({ \
     G_STATIC_ASSERT (sizeof *(rc) == sizeof (gatomicrefcount)); \
