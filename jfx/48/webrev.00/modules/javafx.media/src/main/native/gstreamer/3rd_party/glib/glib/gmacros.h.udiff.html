<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gmacros.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="glist.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gmain.c.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gmacros.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -80,32 +80,146 @@</span>
  # define inline __inline
  #endif
  
  #undef G_INLINE_DEFINE_NEEDED
  
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_INLINE_FUNC:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * This macro used to be used to conditionally define inline functions</span>
<span class="udiff-line-added">+  * in a compatible way before this feature was supported in all</span>
<span class="udiff-line-added">+  * compilers.  These days, GLib requires inlining support from the</span>
<span class="udiff-line-added">+  * compiler, so your GLib-using programs can safely assume that the</span>
<span class="udiff-line-added">+  * &quot;inline&quot; keywork works properly.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Never use this macro anymore.  Just say &quot;static inline&quot;.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Deprecated: 2.48: Use &quot;static inline&quot; instead</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
  /* For historical reasons we need to continue to support those who
   * define G_IMPLEMENT_INLINES to mean &quot;don&#39;t implement this here&quot;.
   */
  #ifdef G_IMPLEMENT_INLINES
<span class="udiff-line-modified-removed">- #  define G_INLINE_FUNC extern</span>
<span class="udiff-line-modified-added">+ #  define G_INLINE_FUNC extern GLIB_DEPRECATED_MACRO_IN_2_48_FOR(static inline)</span>
  #  undef  G_CAN_INLINE
  #else
<span class="udiff-line-modified-removed">- #  define G_INLINE_FUNC static inline</span>
<span class="udiff-line-modified-added">+ #  define G_INLINE_FUNC static inline GLIB_DEPRECATED_MACRO_IN_2_48_FOR(static inline)</span>
  #endif /* G_IMPLEMENT_INLINES */
  
  /* Provide macros to feature the GCC function attribute.
   */
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_PURE:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `pure` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * Declaring a function as `pure` enables better optimization of calls to</span>
<span class="udiff-line-added">+  * the function. A `pure` function has no effects except its return value</span>
<span class="udiff-line-added">+  * and the return value depends only on the parameters and/or global</span>
<span class="udiff-line-added">+  * variables.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gboolean g_type_check_value (const GValue *value) G_GNUC_PURE;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-pure-function-attribute) for more details.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_MALLOC:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the</span>
<span class="udiff-line-added">+  * [GNU C `malloc` function attribute](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-functions-that-behave-like-malloc)</span>
<span class="udiff-line-added">+  * if the compiler is gcc.</span>
<span class="udiff-line-added">+  * Declaring a function as `malloc` enables better optimization of the function,</span>
<span class="udiff-line-added">+  * but must only be done if the allocation behaviour of the function is fully</span>
<span class="udiff-line-added">+  * understood, otherwise miscompilation can result.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * A function can have the `malloc` attribute if it returns a pointer which is</span>
<span class="udiff-line-added">+  * guaranteed to not alias with any other pointer valid when the function</span>
<span class="udiff-line-added">+  * returns, and moreover no pointers to valid objects occur in any storage</span>
<span class="udiff-line-added">+  * addressed by the returned pointer.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * In practice, this means that `G_GNUC_MALLOC` can be used with any function</span>
<span class="udiff-line-added">+  * which returns unallocated or zeroed-out memory, but not with functions which</span>
<span class="udiff-line-added">+  * return initialised structures containing other pointers, or with functions</span>
<span class="udiff-line-added">+  * that reallocate memory. This definition changed in GLib 2.58 to match the</span>
<span class="udiff-line-added">+  * stricter definition introduced around GCC 5.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gpointer g_malloc (gsize n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the</span>
<span class="udiff-line-added">+  * [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-functions-that-behave-like-malloc)</span>
<span class="udiff-line-added">+  * for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.6</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_NO_INLINE:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `noinline` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * If the compiler is not gcc, this macro expands to nothing.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Declaring a function as `noinline` prevents the function from being</span>
<span class="udiff-line-added">+  * considered for inlining.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * The attribute may be placed before the declaration or definition,</span>
<span class="udiff-line-added">+  * right before the `static` keyword.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * G_GNUC_NO_INLINE</span>
<span class="udiff-line-added">+  * static int</span>
<span class="udiff-line-added">+  * do_not_inline_this (void)</span>
<span class="udiff-line-added">+  * {</span>
<span class="udiff-line-added">+  *   ...</span>
<span class="udiff-line-added">+  * }</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the</span>
<span class="udiff-line-added">+  * [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-noinline-function-attribute)</span>
<span class="udiff-line-added">+  * for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.58</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
  #if    __GNUC__ &gt; 2 || (__GNUC__ == 2 &amp;&amp; __GNUC_MINOR__ &gt;= 96)
  #define G_GNUC_PURE __attribute__((__pure__))
  #define G_GNUC_MALLOC __attribute__((__malloc__))
  #define G_GNUC_NO_INLINE __attribute__((noinline))
  #else
  #define G_GNUC_PURE
  #define G_GNUC_MALLOC
  #define G_GNUC_NO_INLINE
  #endif
  
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_NULL_TERMINATED:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `sentinel` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * This function attribute only applies to variadic functions and instructs</span>
<span class="udiff-line-added">+  * the compiler to check that the argument list is terminated with an</span>
<span class="udiff-line-added">+  * explicit %NULL.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gchar *g_strconcat (const gchar *string1,</span>
<span class="udiff-line-added">+  *                     ...) G_GNUC_NULL_TERMINATED;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-sentinel-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.8</span>
<span class="udiff-line-added">+  */</span>
  #if     __GNUC__ &gt;= 4
  #define G_GNUC_NULL_TERMINATED __attribute__((__sentinel__))
  #else
  #define G_GNUC_NULL_TERMINATED
  #endif
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -148,81 +262,380 @@</span>
  #define g_macro__has_builtin __has_builtin
  #else
  #define g_macro__has_builtin(x) 0
  #endif
  
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_ALLOC_SIZE:</span>
<span class="udiff-line-added">+  * @x: the index of the argument specifying the allocation size</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `alloc_size` function attribute if the compiler</span>
<span class="udiff-line-added">+  * is a new enough gcc. This attribute tells the compiler that the</span>
<span class="udiff-line-added">+  * function returns a pointer to memory of a size that is specified</span>
<span class="udiff-line-added">+  * by the @xth function parameter.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the function declaration, just before the</span>
<span class="udiff-line-added">+  * semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gpointer g_malloc (gsize n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-alloc_005fsize-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.18</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_ALLOC_SIZE2:</span>
<span class="udiff-line-added">+  * @x: the index of the argument specifying one factor of the allocation size</span>
<span class="udiff-line-added">+  * @y: the index of the argument specifying the second factor of the allocation size</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `alloc_size` function attribute if the compiler is a</span>
<span class="udiff-line-added">+  * new enough gcc. This attribute tells the compiler that the function returns</span>
<span class="udiff-line-added">+  * a pointer to memory of a size that is specified by the product of two</span>
<span class="udiff-line-added">+  * function parameters.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the function declaration, just before the</span>
<span class="udiff-line-added">+  * semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gpointer g_malloc_n (gsize n_blocks,</span>
<span class="udiff-line-added">+  *                      gsize n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1, 2);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-alloc_005fsize-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.18</span>
<span class="udiff-line-added">+  */</span>
  #if     (!defined(__clang__) &amp;&amp; ((__GNUC__ &gt; 4) || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 3))) || \
          (defined(__clang__) &amp;&amp; g_macro__has_attribute(__alloc_size__))
  #define G_GNUC_ALLOC_SIZE(x) __attribute__((__alloc_size__(x)))
  #define G_GNUC_ALLOC_SIZE2(x,y) __attribute__((__alloc_size__(x,y)))
  #else
  #define G_GNUC_ALLOC_SIZE(x)
  #define G_GNUC_ALLOC_SIZE2(x,y)
  #endif
  
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_PRINTF:</span>
<span class="udiff-line-added">+  * @format_idx: the index of the argument corresponding to the</span>
<span class="udiff-line-added">+  *     format string (the arguments are numbered from 1)</span>
<span class="udiff-line-added">+  * @arg_idx: the index of the first of the format arguments, or 0 if</span>
<span class="udiff-line-added">+  *     there are no format arguments</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `format` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * This is used for declaring functions which take a variable number of</span>
<span class="udiff-line-added">+  * arguments, with the same syntax as `printf()`. It allows the compiler</span>
<span class="udiff-line-added">+  * to type-check the arguments passed to the function.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the function declaration, just before the</span>
<span class="udiff-line-added">+  * semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the</span>
<span class="udiff-line-added">+  * [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-Wformat-3288)</span>
<span class="udiff-line-added">+  * for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gint g_snprintf (gchar  *string,</span>
<span class="udiff-line-added">+  *                  gulong       n,</span>
<span class="udiff-line-added">+  *                  gchar const *format,</span>
<span class="udiff-line-added">+  *                  ...) G_GNUC_PRINTF (3, 4);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_SCANF:</span>
<span class="udiff-line-added">+  * @format_idx: the index of the argument corresponding to</span>
<span class="udiff-line-added">+  *     the format string (the arguments are numbered from 1)</span>
<span class="udiff-line-added">+  * @arg_idx: the index of the first of the format arguments, or 0 if</span>
<span class="udiff-line-added">+  *     there are no format arguments</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `format` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * This is used for declaring functions which take a variable number of</span>
<span class="udiff-line-added">+  * arguments, with the same syntax as `scanf()`. It allows the compiler</span>
<span class="udiff-line-added">+  * to type-check the arguments passed to the function.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * int my_scanf (MyStream *stream,</span>
<span class="udiff-line-added">+  *               const char *format,</span>
<span class="udiff-line-added">+  *               ...) G_GNUC_SCANF (2, 3);</span>
<span class="udiff-line-added">+  * int my_vscanf (MyStream *stream,</span>
<span class="udiff-line-added">+  *                const char *format,</span>
<span class="udiff-line-added">+  *                va_list ap) G_GNUC_SCANF (2, 0);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the</span>
<span class="udiff-line-added">+  * [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-Wformat-3288)</span>
<span class="udiff-line-added">+  * for details.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_STRFTIME:</span>
<span class="udiff-line-added">+  * @format_idx: the index of the argument corresponding to</span>
<span class="udiff-line-added">+  *     the format string (the arguments are numbered from 1)</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `strftime` format function attribute if the compiler</span>
<span class="udiff-line-added">+  * is gcc. This is used for declaring functions which take a format argument</span>
<span class="udiff-line-added">+  * which is passed to `strftime()` or an API implementing its formats. It allows</span>
<span class="udiff-line-added">+  * the compiler check the format passed to the function.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gsize my_strftime (MyBuffer *buffer,</span>
<span class="udiff-line-added">+  *                    const char *format,</span>
<span class="udiff-line-added">+  *                    const struct tm *tm) G_GNUC_STRFTIME (2);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the</span>
<span class="udiff-line-added">+  * [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-Wformat-3288)</span>
<span class="udiff-line-added">+  * for details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.60</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_FORMAT:</span>
<span class="udiff-line-added">+  * @arg_idx: the index of the argument</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `format_arg` function attribute if the compiler</span>
<span class="udiff-line-added">+  * is gcc. This function attribute specifies that a function takes a</span>
<span class="udiff-line-added">+  * format string for a `printf()`, `scanf()`, `strftime()` or `strfmon()` style</span>
<span class="udiff-line-added">+  * function and modifies it, so that the result can be passed to a `printf()`,</span>
<span class="udiff-line-added">+  * `scanf()`, `strftime()` or `strfmon()` style function (with the remaining</span>
<span class="udiff-line-added">+  * arguments to the format function the same as they would have been</span>
<span class="udiff-line-added">+  * for the unmodified string).</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the function declaration, just before the</span>
<span class="udiff-line-added">+  * semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-Wformat-nonliteral-1) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gchar *g_dgettext (gchar *domain_name, gchar *msgid) G_GNUC_FORMAT (2);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_NORETURN:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `noreturn` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * It is used for declaring functions which never return. It enables</span>
<span class="udiff-line-added">+  * optimization of the function, and avoids possible compiler warnings.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * void g_abort (void) G_GNUC_NORETURN;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-noreturn-function-attribute) for more details.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_CONST:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `const` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * Declaring a function as `const` enables better optimization of calls to</span>
<span class="udiff-line-added">+  * the function. A `const` function doesn&#39;t examine any values except its</span>
<span class="udiff-line-added">+  * parameters, and has no effects except its return value.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * gchar g_ascii_tolower (gchar c) G_GNUC_CONST;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-const-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * A function that has pointer arguments and examines the data pointed to</span>
<span class="udiff-line-added">+  * must not be declared `const`. Likewise, a function that calls a non-`const`</span>
<span class="udiff-line-added">+  * function usually must not be `const`. It doesn&#39;t make sense for a `const`</span>
<span class="udiff-line-added">+  * function to return `void`.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_UNUSED:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `unused` function attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * It is used for declaring functions and arguments which may never be used.</span>
<span class="udiff-line-added">+  * It avoids possible compiler warnings.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * For functions, place the attribute after the declaration, just before the</span>
<span class="udiff-line-added">+  * semicolon. For arguments, place the attribute at the beginning of the</span>
<span class="udiff-line-added">+  * argument declaration.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * void my_unused_function (G_GNUC_UNUSED gint unused_argument,</span>
<span class="udiff-line-added">+  *                          gint other_argument) G_GNUC_UNUSED;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-unused-function-attribute) for more details.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_NO_INSTRUMENT:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `no_instrument_function` function attribute if the</span>
<span class="udiff-line-added">+  * compiler is gcc. Functions with this attribute will not be instrumented</span>
<span class="udiff-line-added">+  * for profiling, when the compiler is called with the</span>
<span class="udiff-line-added">+  * `-finstrument-functions` option.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * int do_uninteresting_things (void) G_GNUC_NO_INSTRUMENT;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-no_005finstrument_005ffunction-function-attribute) for more details.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
  #if     __GNUC__ &gt; 2 || (__GNUC__ == 2 &amp;&amp; __GNUC_MINOR__ &gt; 4)
  #if !defined (__clang__) &amp;&amp; G_GNUC_CHECK_VERSION (4, 4)
  #define G_GNUC_PRINTF( format_idx, arg_idx )    \
    __attribute__((__format__ (gnu_printf, format_idx, arg_idx)))
  #define G_GNUC_SCANF( format_idx, arg_idx )     \
    __attribute__((__format__ (gnu_scanf, format_idx, arg_idx)))
<span class="udiff-line-added">+ #define G_GNUC_STRFTIME( format_idx )    \</span>
<span class="udiff-line-added">+   __attribute__((__format__ (gnu_strftime, format_idx, 0)))</span>
  #else
  #define G_GNUC_PRINTF( format_idx, arg_idx )    \
    __attribute__((__format__ (__printf__, format_idx, arg_idx)))
  #define G_GNUC_SCANF( format_idx, arg_idx )     \
    __attribute__((__format__ (__scanf__, format_idx, arg_idx)))
<span class="udiff-line-added">+ #define G_GNUC_STRFTIME( format_idx )    \</span>
<span class="udiff-line-added">+   __attribute__((__format__ (__strftime__, format_idx, 0)))</span>
  #endif
  #define G_GNUC_FORMAT( arg_idx )                \
    __attribute__((__format_arg__ (arg_idx)))
  #define G_GNUC_NORETURN                         \
    __attribute__((__noreturn__))
  #define G_GNUC_CONST                            \
    __attribute__((__const__))
  #define G_GNUC_UNUSED                           \
    __attribute__((__unused__))
<span class="udiff-line-modified-removed">- #define G_GNUC_NO_INSTRUMENT            \</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_NO_INSTRUMENT      \</span>
    __attribute__((__no_instrument_function__))
  #else   /* !__GNUC__ */
  #define G_GNUC_PRINTF( format_idx, arg_idx )
  #define G_GNUC_SCANF( format_idx, arg_idx )
<span class="udiff-line-added">+ #define G_GNUC_STRFTIME( format_idx )</span>
  #define G_GNUC_FORMAT( arg_idx )
<span class="udiff-line-added">+ /* NOTE: MSVC has __declspec(noreturn) but unlike GCC __attribute__,</span>
<span class="udiff-line-added">+  * __declspec can only be placed at the start of the function prototype</span>
<span class="udiff-line-added">+  * and not at the end, so we can&#39;t use it without breaking API.</span>
<span class="udiff-line-added">+  */</span>
  #define G_GNUC_NORETURN
  #define G_GNUC_CONST
  #define G_GNUC_UNUSED
  #define G_GNUC_NO_INSTRUMENT
  #endif  /* !__GNUC__ */
  
<span class="udiff-line-modified-removed">- #if    __GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1)</span>
<span class="udiff-line-modified-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_FALLTHROUGH:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `fallthrough` statement attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * This allows declaring case statement to explicitly fall through in switch</span>
<span class="udiff-line-added">+  * statements. To enable this feature, use `-Wimplicit-fallthrough` during</span>
<span class="udiff-line-added">+  * compilation.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Put the attribute right before the case statement you want to fall through</span>
<span class="udiff-line-added">+  * to.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * switch (foo)</span>
<span class="udiff-line-added">+  *   {</span>
<span class="udiff-line-added">+  *     case 1:</span>
<span class="udiff-line-added">+  *       g_message (&quot;it&#39;s 1&quot;);</span>
<span class="udiff-line-added">+  *       G_GNUC_FALLTHROUGH;</span>
<span class="udiff-line-added">+  *     case 2:</span>
<span class="udiff-line-added">+  *       g_message (&quot;it&#39;s either 1 or 2&quot;);</span>
<span class="udiff-line-added">+  *       break;</span>
<span class="udiff-line-added">+  *   }</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Statement-Attributes.html#index-fallthrough-statement-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.60</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ #if    __GNUC__ &gt; 6</span>
<span class="udiff-line-added">+ #define G_GNUC_FALLTHROUGH __attribute__((fallthrough))</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define G_GNUC_FALLTHROUGH</span>
<span class="udiff-line-added">+ #endif /* __GNUC__ */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_DEPRECATED:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `deprecated` attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * It can be used to mark `typedef`s, variables and functions as deprecated.</span>
<span class="udiff-line-added">+  * When called with the `-Wdeprecated-declarations` option,</span>
<span class="udiff-line-added">+  * gcc will generate warnings when deprecated interfaces are used.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * int my_mistake (void) G_GNUC_DEPRECATED;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-deprecated-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.2</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ #if    __GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1) || defined (__clang__)</span>
  #define G_GNUC_DEPRECATED __attribute__((__deprecated__))
  #else
  #define G_GNUC_DEPRECATED
  #endif /* __GNUC__ */
  
<span class="udiff-line-modified-removed">- #if    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 5)</span>
<span class="udiff-line-modified-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_DEPRECATED_FOR:</span>
<span class="udiff-line-added">+  * @f: the intended replacement for the deprecated symbol,</span>
<span class="udiff-line-added">+  *     such as the name of a function</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Like %G_GNUC_DEPRECATED, but names the intended replacement for the</span>
<span class="udiff-line-added">+  * deprecated symbol if the version of gcc in use is new enough to support</span>
<span class="udiff-line-added">+  * custom deprecation messages.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * int my_mistake (void) G_GNUC_DEPRECATED_FOR(my_replacement);</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-deprecated-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Note that if @f is a macro, it will be expanded in the warning message.</span>
<span class="udiff-line-added">+  * You can enclose it in quotes to prevent this. (The quotes will show up</span>
<span class="udiff-line-added">+  * in the warning, but it&#39;s better than showing the macro expansion.)</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.26</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ #if    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 5) || defined (__clang__)</span>
  #define G_GNUC_DEPRECATED_FOR(f)                        \
    __attribute__((deprecated(&quot;Use &quot; #f &quot; instead&quot;)))
  #else
  #define G_GNUC_DEPRECATED_FOR(f)        G_GNUC_DEPRECATED
  #endif /* __GNUC__ */
  
  #ifdef __ICC
  #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS                \
    _Pragma (&quot;warning (push)&quot;)                            \
    _Pragma (&quot;warning (disable:1478)&quot;)
<span class="udiff-line-modified-removed">- #define G_GNUC_END_IGNORE_DEPRECATIONS          \</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_END_IGNORE_DEPRECATIONS      \</span>
    _Pragma (&quot;warning (pop)&quot;)
  #elif    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 6)
<span class="udiff-line-modified-removed">- #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS        \</span>
<span class="udiff-line-modified-removed">-   _Pragma (&quot;GCC diagnostic push&quot;)           \</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS    \</span>
<span class="udiff-line-modified-added">+   _Pragma (&quot;GCC diagnostic push&quot;)     \</span>
    _Pragma (&quot;GCC diagnostic ignored \&quot;-Wdeprecated-declarations\&quot;&quot;)
<span class="udiff-line-modified-removed">- #define G_GNUC_END_IGNORE_DEPRECATIONS          \</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_END_IGNORE_DEPRECATIONS      \</span>
    _Pragma (&quot;GCC diagnostic pop&quot;)
<span class="udiff-line-modified-removed">- #elif defined (_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1500)</span>
<span class="udiff-line-modified-removed">- #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS        \</span>
<span class="udiff-line-modified-added">+ #elif defined (_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1500) &amp;&amp; !defined (__clang__)</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS    \</span>
    __pragma (warning (push))  \
    __pragma (warning (disable : 4996))
<span class="udiff-line-modified-removed">- #define G_GNUC_END_IGNORE_DEPRECATIONS          \</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_END_IGNORE_DEPRECATIONS      \</span>
    __pragma (warning (pop))
  #elif defined (__clang__)
  #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS \
    _Pragma(&quot;clang diagnostic push&quot;) \
    _Pragma(&quot;clang diagnostic ignored \&quot;-Wdeprecated-declarations\&quot;&quot;)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -231,63 +644,119 @@</span>
  #else
  #define G_GNUC_BEGIN_IGNORE_DEPRECATIONS
  #define G_GNUC_END_IGNORE_DEPRECATIONS
  #endif
  
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_MAY_ALIAS:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `may_alias` type attribute if the compiler is gcc.</span>
<span class="udiff-line-added">+  * Types with this attribute will not be subjected to type-based alias</span>
<span class="udiff-line-added">+  * analysis, but are assumed to alias with any other type, just like `char`.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Type-Attributes.html#index-may_005falias-type-attribute) for details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.14</span>
<span class="udiff-line-added">+  */</span>
  #if     __GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 3)
  #define G_GNUC_MAY_ALIAS __attribute__((may_alias))
  #else
  #define G_GNUC_MAY_ALIAS
  #endif
  
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_WARN_UNUSED_RESULT:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to the GNU C `warn_unused_result` function attribute if the compiler</span>
<span class="udiff-line-added">+  * is gcc. This function attribute makes the compiler emit a warning if the</span>
<span class="udiff-line-added">+  * result of a function call is ignored.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Place the attribute after the declaration, just before the semicolon.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * |[&lt;!-- language=&quot;C&quot; --&gt;</span>
<span class="udiff-line-added">+  * GList *g_list_append (GList *list,</span>
<span class="udiff-line-added">+  *                       gpointer data) G_GNUC_WARN_UNUSED_RESULT;</span>
<span class="udiff-line-added">+  * ]|</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * See the [GNU C documentation](https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html#index-warn_005funused_005fresult-function-attribute) for more details.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.10</span>
<span class="udiff-line-added">+  */</span>
  #if    __GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 4)
  #define G_GNUC_WARN_UNUSED_RESULT __attribute__((warn_unused_result))
  #else
  #define G_GNUC_WARN_UNUSED_RESULT
  #endif /* __GNUC__ */
  
<span class="udiff-line-modified-removed">- #ifndef G_DISABLE_DEPRECATED</span>
<span class="udiff-line-modified-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_FUNCTION:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to &quot;&quot; on all modern compilers, and to  __FUNCTION__ on gcc</span>
<span class="udiff-line-added">+  * version 2.x. Don&#39;t use it.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Deprecated: 2.16: Use G_STRFUNC() instead</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_GNUC_PRETTY_FUNCTION:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Expands to &quot;&quot; on all modern compilers, and to __PRETTY_FUNCTION__</span>
<span class="udiff-line-added">+  * on gcc version 2.x. Don&#39;t use it.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Deprecated: 2.16: Use G_STRFUNC() instead</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
  /* Wrap the gcc __PRETTY_FUNCTION__ and __FUNCTION__ variables with
   * macros, so we can refer to them as strings unconditionally.
   * usage not-recommended since gcc-3.0
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Mark them as deprecated since 2.26, since that&#39;s when version macros were</span>
<span class="udiff-line-added">+  * introduced.</span>
   */
  #if defined (__GNUC__) &amp;&amp; (__GNUC__ &lt; 3)
<span class="udiff-line-modified-removed">- #define G_GNUC_FUNCTION         __FUNCTION__</span>
<span class="udiff-line-modified-removed">- #define G_GNUC_PRETTY_FUNCTION  __PRETTY_FUNCTION__</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_FUNCTION         __FUNCTION__ GLIB_DEPRECATED_MACRO_IN_2_26_FOR(G_STRFUNC)</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_PRETTY_FUNCTION  __PRETTY_FUNCTION__ GLIB_DEPRECATED_MACRO_IN_2_26_FOR(G_STRFUNC)</span>
  #else   /* !__GNUC__ */
<span class="udiff-line-modified-removed">- #define G_GNUC_FUNCTION         &quot;&quot;</span>
<span class="udiff-line-modified-removed">- #define G_GNUC_PRETTY_FUNCTION  &quot;&quot;</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_FUNCTION         &quot;&quot; GLIB_DEPRECATED_MACRO_IN_2_26_FOR(G_STRFUNC)</span>
<span class="udiff-line-modified-added">+ #define G_GNUC_PRETTY_FUNCTION  &quot;&quot; GLIB_DEPRECATED_MACRO_IN_2_26_FOR(G_STRFUNC)</span>
  #endif  /* !__GNUC__ */
<span class="udiff-line-removed">- #endif  /* !G_DISABLE_DEPRECATED */</span>
  
  #if g_macro__has_feature(attribute_analyzer_noreturn) &amp;&amp; defined(__clang_analyzer__)
  #define G_ANALYZER_ANALYZING 1
  #define G_ANALYZER_NORETURN __attribute__((analyzer_noreturn))
  #else
  #define G_ANALYZER_ANALYZING 0
  #define G_ANALYZER_NORETURN
  #endif
  
<span class="udiff-line-modified-removed">- #define G_STRINGIFY(macro_or_string)    G_STRINGIFY_ARG (macro_or_string)</span>
<span class="udiff-line-modified-removed">- #define G_STRINGIFY_ARG(contents)   #contents</span>
<span class="udiff-line-modified-added">+ #define G_STRINGIFY(macro_or_string)  G_STRINGIFY_ARG (macro_or_string)</span>
<span class="udiff-line-modified-added">+ #define G_STRINGIFY_ARG(contents) #contents</span>
  
  #ifndef __GI_SCANNER__ /* The static assert macro really confuses the introspection parser */
  #define G_PASTE_ARGS(identifier1,identifier2) identifier1 ## identifier2
  #define G_PASTE(identifier1,identifier2)      G_PASTE_ARGS (identifier1, identifier2)
<span class="udiff-line-added">+ #if defined(__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 201112L</span>
<span class="udiff-line-added">+ #define G_STATIC_ASSERT(expr) _Static_assert (expr, &quot;Expression evaluates to false&quot;)</span>
<span class="udiff-line-added">+ #elif (defined(__cplusplus) &amp;&amp; __cplusplus &gt;= 201103L) || \</span>
<span class="udiff-line-added">+       (defined(__cplusplus) &amp;&amp; defined (_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600)) || \</span>
<span class="udiff-line-added">+       (defined (_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1800))</span>
<span class="udiff-line-added">+ #define G_STATIC_ASSERT(expr) static_assert (expr, &quot;Expression evaluates to false&quot;)</span>
<span class="udiff-line-added">+ #else</span>
  #ifdef __COUNTER__
  #define G_STATIC_ASSERT(expr) typedef char G_PASTE (_GStaticAssertCompileTimeAssertion_, __COUNTER__)[(expr) ? 1 : -1] G_GNUC_UNUSED
  #else
  #define G_STATIC_ASSERT(expr) typedef char G_PASTE (_GStaticAssertCompileTimeAssertion_, __LINE__)[(expr) ? 1 : -1] G_GNUC_UNUSED
  #endif
<span class="udiff-line-added">+ #endif /* __STDC_VERSION__ */</span>
  #define G_STATIC_ASSERT_EXPR(expr) ((void) sizeof (char[(expr) ? 1 : -1]))
<span class="udiff-line-modified-removed">- #endif</span>
<span class="udiff-line-modified-added">+ #endif /* !__GI_SCANNER__ */</span>
  
  /* Provide a string identifying the current code position */
  #if defined(__GNUC__) &amp;&amp; (__GNUC__ &lt; 3) &amp;&amp; !defined(__cplusplus)
<span class="udiff-line-modified-removed">- #define G_STRLOC    __FILE__ &quot;:&quot; G_STRINGIFY (__LINE__) &quot;:&quot; __PRETTY_FUNCTION__ &quot;()&quot;</span>
<span class="udiff-line-modified-added">+ #define G_STRLOC  __FILE__ &quot;:&quot; G_STRINGIFY (__LINE__) &quot;:&quot; __PRETTY_FUNCTION__ &quot;()&quot;</span>
  #else
<span class="udiff-line-modified-removed">- #define G_STRLOC    __FILE__ &quot;:&quot; G_STRINGIFY (__LINE__)</span>
<span class="udiff-line-modified-added">+ #define G_STRLOC  __FILE__ &quot;:&quot; G_STRINGIFY (__LINE__)</span>
  #endif
  
  /* Provide a string identifying the current function, non-concatenatable */
  #if defined (__GNUC__) &amp;&amp; defined (__cplusplus)
  #define G_STRFUNC     ((const char*) (__PRETTY_FUNCTION__))
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -320,15 +789,15 @@</span>
  #  define NULL        ((void*) 0)
  #  endif /* !__cplusplus */
  #endif
  
  #ifndef FALSE
<span class="udiff-line-modified-removed">- #define FALSE   (0)</span>
<span class="udiff-line-modified-added">+ #define FALSE (0)</span>
  #endif
  
  #ifndef TRUE
<span class="udiff-line-modified-removed">- #define TRUE    (!FALSE)</span>
<span class="udiff-line-modified-added">+ #define TRUE  (!FALSE)</span>
  #endif
  
  #undef  MAX
  #define MAX(a, b)  (((a) &gt; (b)) ? (a) : (b))
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -346,11 +815,11 @@</span>
  
  /* Count the number of elements in an array. The array must be defined
   * as such; using this with a dynamically allocated array will give
   * incorrect results.
   */
<span class="udiff-line-modified-removed">- #define G_N_ELEMENTS(arr)       (sizeof (arr) / sizeof ((arr)[0]))</span>
<span class="udiff-line-modified-added">+ #define G_N_ELEMENTS(arr)   (sizeof (arr) / sizeof ((arr)[0]))</span>
  
  /* Macros by analogy to GINT_TO_POINTER, GPOINTER_TO_INT
   */
  #define GPOINTER_TO_SIZE(p) ((gsize) (p))
  #define GSIZE_TO_POINTER(s) ((gpointer) (gsize) (s))
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -361,11 +830,11 @@</span>
  
  #if (defined(__GNUC__)  &amp;&amp; __GNUC__ &gt;= 4) || defined (_MSC_VER)
  #define G_STRUCT_OFFSET(struct_type, member) \
        ((glong) offsetof (struct_type, member))
  #else
<span class="udiff-line-modified-removed">- #define G_STRUCT_OFFSET(struct_type, member)    \</span>
<span class="udiff-line-modified-added">+ #define G_STRUCT_OFFSET(struct_type, member)  \</span>
        ((glong) ((guint8*) &amp;((struct_type*) 0)-&gt;member))
  #endif
  
  #define G_STRUCT_MEMBER_P(struct_p, struct_offset)   \
      ((gpointer) ((guint8*) (struct_p) + (glong) (struct_offset)))
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -392,17 +861,58 @@</span>
  #else
  #define G_STMT_END    while (0)
  #endif
  #endif
  
<span class="udiff-line-modified-removed">- /* Deprecated -- do not use. */</span>
<span class="udiff-line-modified-removed">- #ifndef G_DISABLE_DEPRECATED</span>
<span class="udiff-line-modified-removed">- #ifdef G_DISABLE_CONST_RETURNS</span>
<span class="udiff-line-modified-removed">- #define G_CONST_RETURN</span>
<span class="udiff-line-modified-added">+ /* Provide G_ALIGNOF alignment macro.</span>
<span class="udiff-line-modified-added">+  *</span>
<span class="udiff-line-modified-added">+  * Note we cannot use the gcc __alignof__ operator here, as that returns the</span>
<span class="udiff-line-modified-added">+  * preferred alignment rather than the minimal alignment. See</span>
<span class="udiff-line-added">+  * https://gitlab.gnome.org/GNOME/glib/merge_requests/538/diffs#note_390790.</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_ALIGNOF</span>
<span class="udiff-line-added">+  * @type: a type-name</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Return the minimal alignment required by the platform ABI for values of the given</span>
<span class="udiff-line-added">+  * type. The address of a variable or struct member of the given type must always be</span>
<span class="udiff-line-added">+  * a multiple of this alignment. For example, most platforms require int variables</span>
<span class="udiff-line-added">+  * to be aligned at a 4-byte boundary, so `G_ALIGNOF (int)` is 4 on most platforms.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Note this is not necessarily the same as the value returned by GCC&#39;s</span>
<span class="udiff-line-added">+  * `__alignof__` operator, which returns the preferred alignment for a type.</span>
<span class="udiff-line-added">+  * The preferred alignment may be a stricter alignment than the minimal</span>
<span class="udiff-line-added">+  * alignment.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Since: 2.60</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ #if defined(__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 201112L &amp;&amp; !defined(__cplusplus)</span>
<span class="udiff-line-added">+ #define G_ALIGNOF(type) _Alignof (type)</span>
  #else
<span class="udiff-line-modified-removed">- #define G_CONST_RETURN const</span>
<span class="udiff-line-modified-added">+ #define G_ALIGNOF(type) (G_STRUCT_OFFSET (struct { char a; type b; }, b))</span>
  #endif
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ /**</span>
<span class="udiff-line-added">+  * G_CONST_RETURN:</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * If %G_DISABLE_CONST_RETURNS is defined, this macro expands</span>
<span class="udiff-line-added">+  * to nothing. By default, the macro expands to const. The macro</span>
<span class="udiff-line-added">+  * can be used in place of const for functions that return a value</span>
<span class="udiff-line-added">+  * that should not be modified. The purpose of this macro is to allow</span>
<span class="udiff-line-added">+  * us to turn on const for returned constant strings by default, while</span>
<span class="udiff-line-added">+  * allowing programmers who find that annoying to turn it off. This macro</span>
<span class="udiff-line-added">+  * should only be used for return values and for &quot;out&quot; parameters, it</span>
<span class="udiff-line-added">+  * doesn&#39;t make sense for &quot;in&quot; parameters.</span>
<span class="udiff-line-added">+  *</span>
<span class="udiff-line-added">+  * Deprecated: 2.30: API providers should replace all existing uses with</span>
<span class="udiff-line-added">+  * const and API consumers should adjust their code accordingly</span>
<span class="udiff-line-added">+  */</span>
<span class="udiff-line-added">+ #ifdef G_DISABLE_CONST_RETURNS</span>
<span class="udiff-line-added">+ #define G_CONST_RETURN GLIB_DEPRECATED_MACRO_IN_2_30_FOR(const)</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define G_CONST_RETURN const GLIB_DEPRECATED_MACRO_IN_2_30_FOR(const)</span>
  #endif
  
  /*
   * The G_LIKELY and G_UNLIKELY macros let the programmer give hints to
   * the compiler about the expected result of an expression. Some compilers
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -419,34 +929,34 @@</span>
        _g_boolean_var_ = 1;                      \
     else                                         \
        _g_boolean_var_ = 0;                      \
     _g_boolean_var_;                             \
  })
<span class="udiff-line-modified-removed">- #define G_LIKELY(expr) (__builtin_expect (_G_BOOLEAN_EXPR((expr)), 1))</span>
<span class="udiff-line-modified-removed">- #define G_UNLIKELY(expr) (__builtin_expect (_G_BOOLEAN_EXPR((expr)), 0))</span>
<span class="udiff-line-modified-added">+ #define G_LIKELY(expr) (__builtin_expect (_G_BOOLEAN_EXPR(expr), 1))</span>
<span class="udiff-line-modified-added">+ #define G_UNLIKELY(expr) (__builtin_expect (_G_BOOLEAN_EXPR(expr), 0))</span>
  #else
  #define G_LIKELY(expr) (expr)
  #define G_UNLIKELY(expr) (expr)
  #endif
  
<span class="udiff-line-modified-removed">- #if    __GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1)</span>
<span class="udiff-line-modified-added">+ #if    __GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1) || defined (__clang__)</span>
  #define G_DEPRECATED __attribute__((__deprecated__))
  #elif defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1300)
  #define G_DEPRECATED __declspec(deprecated)
  #else
  #define G_DEPRECATED
  #endif
  
<span class="udiff-line-modified-removed">- #if    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 5)</span>
<span class="udiff-line-modified-added">+ #if    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 5) || defined (__clang__)</span>
  #define G_DEPRECATED_FOR(f) __attribute__((__deprecated__(&quot;Use &#39;&quot; #f &quot;&#39; instead&quot;)))
  #elif defined(_MSC_FULL_VER) &amp;&amp; (_MSC_FULL_VER &gt; 140050320)
  #define G_DEPRECATED_FOR(f) __declspec(deprecated(&quot;is deprecated. Use &#39;&quot; #f &quot;&#39; instead&quot;))
  #else
  #define G_DEPRECATED_FOR(f) G_DEPRECATED
  #endif
  
<span class="udiff-line-modified-removed">- #if    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 5)</span>
<span class="udiff-line-modified-added">+ #if    __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 5) || defined (__clang__)</span>
  #define G_UNAVAILABLE(maj,min) __attribute__((deprecated(&quot;Not available before &quot; #maj &quot;.&quot; #min)))
  #elif defined(_MSC_FULL_VER) &amp;&amp; (_MSC_FULL_VER &gt; 140050320)
  #define G_UNAVAILABLE(maj,min) __declspec(deprecated(&quot;is not available before &quot; #maj &quot;.&quot; #min))
  #else
  #define G_UNAVAILABLE(maj,min) G_DEPRECATED
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -454,11 +964,11 @@</span>
  
  #ifndef _GLIB_EXTERN
  #define _GLIB_EXTERN extern
  #endif
  
<span class="udiff-line-modified-removed">- /* These macros are used to mark deprecated functions in GLib headers,</span>
<span class="udiff-line-modified-added">+ /* These macros are used to mark deprecated symbols in GLib headers,</span>
   * and thus have to be exposed in installed headers. But please
   * do *not* use them in other projects. Instead, use G_DEPRECATED
   * or define your own wrappers around it.
   */
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -470,39 +980,87 @@</span>
  #define GLIB_DEPRECATED G_DEPRECATED _GLIB_EXTERN
  #define GLIB_DEPRECATED_FOR(f) G_DEPRECATED_FOR(f) _GLIB_EXTERN
  #define GLIB_UNAVAILABLE(maj,min) G_UNAVAILABLE(maj,min) _GLIB_EXTERN
  #endif
  
<span class="udiff-line-added">+ #if !defined(GLIB_DISABLE_DEPRECATION_WARNINGS) &amp;&amp; \</span>
<span class="udiff-line-added">+     (__GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt;= 6) || \</span>
<span class="udiff-line-added">+      __clang_major__ &gt; 3 || (__clang_major__ == 3 &amp;&amp; __clang_minor__ &gt;= 4))</span>
<span class="udiff-line-added">+ #define _GLIB_GNUC_DO_PRAGMA(x) _Pragma(G_STRINGIFY (x))</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_MACRO _GLIB_GNUC_DO_PRAGMA(GCC warning &quot;Deprecated pre-processor symbol&quot;)</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_MACRO_FOR(f) _GLIB_GNUC_DO_PRAGMA(GCC warning #f)</span>
<span class="udiff-line-added">+ #define GLIB_UNAVAILABLE_MACRO(maj,min) _GLIB_GNUC_DO_PRAGMA(GCC warning &quot;Not available before &quot; #maj &quot;.&quot; #min)</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_MACRO</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_MACRO_FOR(f)</span>
<span class="udiff-line-added">+ #define GLIB_UNAVAILABLE_MACRO(maj,min)</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if !defined(GLIB_DISABLE_DEPRECATION_WARNINGS) &amp;&amp; \</span>
<span class="udiff-line-added">+     ((defined (__GNUC__) &amp;&amp; (__GNUC__ &gt; 6 || (__GNUC__ == 6 &amp;&amp; __GNUC_MINOR__ &gt;= 1))) || \</span>
<span class="udiff-line-added">+      (defined (__clang_major__) &amp;&amp; (__clang_major__ &gt; 3 || (__clang_major__ == 3 &amp;&amp; __clang_minor__ &gt;= 0))))</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_ENUMERATOR G_DEPRECATED</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_ENUMERATOR_FOR(f) G_DEPRECATED_FOR(f)</span>
<span class="udiff-line-added">+ #define GLIB_UNAVAILABLE_ENUMERATOR(maj,min) G_UNAVAILABLE(maj,min)</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_ENUMERATOR</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_ENUMERATOR_FOR(f)</span>
<span class="udiff-line-added">+ #define GLIB_UNAVAILABLE_ENUMERATOR(maj,min)</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #if !defined(GLIB_DISABLE_DEPRECATION_WARNINGS) &amp;&amp; \</span>
<span class="udiff-line-added">+     ((defined (__GNUC__) &amp;&amp; (__GNUC__ &gt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1))) || \</span>
<span class="udiff-line-added">+      (defined (__clang_major__) &amp;&amp; (__clang_major__ &gt; 3 || (__clang_major__ == 3 &amp;&amp; __clang_minor__ &gt;= 0))))</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_TYPE G_DEPRECATED</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_TYPE_FOR(f) G_DEPRECATED_FOR(f)</span>
<span class="udiff-line-added">+ #define GLIB_UNAVAILABLE_TYPE(maj,min) G_UNAVAILABLE(maj,min)</span>
<span class="udiff-line-added">+ #else</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_TYPE</span>
<span class="udiff-line-added">+ #define GLIB_DEPRECATED_TYPE_FOR(f)</span>
<span class="udiff-line-added">+ #define GLIB_UNAVAILABLE_TYPE(maj,min)</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
  #ifndef __GI_SCANNER__
  
<span class="udiff-line-modified-removed">- #ifdef __GNUC__</span>
<span class="udiff-line-modified-added">+ #if defined (__GNUC__) || defined (__clang__)</span>
  
  /* these macros are private */
  #define _GLIB_AUTOPTR_FUNC_NAME(TypeName) glib_autoptr_cleanup_##TypeName
<span class="udiff-line-added">+ #define _GLIB_AUTOPTR_CLEAR_FUNC_NAME(TypeName) glib_autoptr_clear_##TypeName</span>
  #define _GLIB_AUTOPTR_TYPENAME(TypeName)  TypeName##_autoptr
  #define _GLIB_AUTOPTR_LIST_FUNC_NAME(TypeName) glib_listautoptr_cleanup_##TypeName
  #define _GLIB_AUTOPTR_LIST_TYPENAME(TypeName)  TypeName##_listautoptr
  #define _GLIB_AUTOPTR_SLIST_FUNC_NAME(TypeName) glib_slistautoptr_cleanup_##TypeName
  #define _GLIB_AUTOPTR_SLIST_TYPENAME(TypeName)  TypeName##_slistautoptr
<span class="udiff-line-added">+ #define _GLIB_AUTOPTR_QUEUE_FUNC_NAME(TypeName) glib_queueautoptr_cleanup_##TypeName</span>
<span class="udiff-line-added">+ #define _GLIB_AUTOPTR_QUEUE_TYPENAME(TypeName)  TypeName##_queueautoptr</span>
  #define _GLIB_AUTO_FUNC_NAME(TypeName)    glib_auto_cleanup_##TypeName
  #define _GLIB_CLEANUP(func)               __attribute__((cleanup(func)))
<span class="udiff-line-added">+ #define _GLIB_DEFINE_AUTOPTR_CLEANUP_FUNCS(TypeName, ParentName, cleanup) \</span>
<span class="udiff-line-added">+   typedef TypeName *_GLIB_AUTOPTR_TYPENAME(TypeName);                                                           \</span>
<span class="udiff-line-added">+   typedef GList *_GLIB_AUTOPTR_LIST_TYPENAME(TypeName);                                                         \</span>
<span class="udiff-line-added">+   typedef GSList *_GLIB_AUTOPTR_SLIST_TYPENAME(TypeName);                                                       \</span>
<span class="udiff-line-added">+   typedef GQueue *_GLIB_AUTOPTR_QUEUE_TYPENAME(TypeName);                                                       \</span>
<span class="udiff-line-added">+   G_GNUC_BEGIN_IGNORE_DEPRECATIONS                                                                              \</span>
<span class="udiff-line-added">+   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_CLEAR_FUNC_NAME(TypeName) (TypeName *_ptr)                     \</span>
<span class="udiff-line-added">+     { if (_ptr) (cleanup) ((ParentName *) _ptr); }                                                              \</span>
<span class="udiff-line-added">+   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_FUNC_NAME(TypeName) (TypeName **_ptr)                          \</span>
<span class="udiff-line-added">+     { _GLIB_AUTOPTR_CLEAR_FUNC_NAME(TypeName) (*_ptr); }                                                        \</span>
<span class="udiff-line-added">+   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_LIST_FUNC_NAME(TypeName) (GList **_l)                          \</span>
<span class="udiff-line-added">+     { g_list_free_full (*_l, (GDestroyNotify) (void(*)(void)) cleanup); }                                       \</span>
<span class="udiff-line-added">+   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_SLIST_FUNC_NAME(TypeName) (GSList **_l)                        \</span>
<span class="udiff-line-added">+     { g_slist_free_full (*_l, (GDestroyNotify) (void(*)(void)) cleanup); }                                      \</span>
<span class="udiff-line-added">+   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_QUEUE_FUNC_NAME(TypeName) (GQueue **_q)                        \</span>
<span class="udiff-line-added">+     { if (*_q) g_queue_free_full (*_q, (GDestroyNotify) (void(*)(void)) cleanup); }                             \</span>
<span class="udiff-line-added">+   G_GNUC_END_IGNORE_DEPRECATIONS</span>
  #define _GLIB_DEFINE_AUTOPTR_CHAINUP(ModuleObjName, ParentName) \
<span class="udiff-line-modified-removed">-   typedef ModuleObjName *_GLIB_AUTOPTR_TYPENAME(ModuleObjName);                                          \</span>
<span class="udiff-line-removed">-   static inline void _GLIB_AUTOPTR_FUNC_NAME(ModuleObjName) (ModuleObjName **_ptr) {                     \</span>
<span class="udiff-line-removed">-     _GLIB_AUTOPTR_FUNC_NAME(ParentName) ((ParentName **) _ptr); }                                        \</span>
<span class="udiff-line-modified-added">+   _GLIB_DEFINE_AUTOPTR_CLEANUP_FUNCS(ModuleObjName, ParentName, _GLIB_AUTOPTR_CLEAR_FUNC_NAME(ParentName))</span>
  
  
  /* these macros are API */
  #define G_DEFINE_AUTOPTR_CLEANUP_FUNC(TypeName, func) \
<span class="udiff-line-modified-removed">-   typedef TypeName *_GLIB_AUTOPTR_TYPENAME(TypeName);                                                           \</span>
<span class="udiff-line-removed">-   typedef GList *_GLIB_AUTOPTR_LIST_TYPENAME(TypeName);                                                         \</span>
<span class="udiff-line-removed">-   typedef GSList *_GLIB_AUTOPTR_SLIST_TYPENAME(TypeName);                                                         \</span>
<span class="udiff-line-removed">-   G_GNUC_BEGIN_IGNORE_DEPRECATIONS                                                                              \</span>
<span class="udiff-line-removed">-   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_FUNC_NAME(TypeName) (TypeName **_ptr) { if (*_ptr) (func) (*_ptr); }         \</span>
<span class="udiff-line-removed">-   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_LIST_FUNC_NAME(TypeName) (GList **_l) { g_list_free_full (*_l, (GDestroyNotify) (void(*)(void)) func); } \</span>
<span class="udiff-line-removed">-   static G_GNUC_UNUSED inline void _GLIB_AUTOPTR_SLIST_FUNC_NAME(TypeName) (GSList **_l) { g_slist_free_full (*_l, (GDestroyNotify) (void(*)(void)) func); } \</span>
<span class="udiff-line-removed">-   G_GNUC_END_IGNORE_DEPRECATIONS</span>
<span class="udiff-line-modified-added">+   _GLIB_DEFINE_AUTOPTR_CLEANUP_FUNCS(TypeName, TypeName, func)</span>
  #define G_DEFINE_AUTO_CLEANUP_CLEAR_FUNC(TypeName, func) \
    G_GNUC_BEGIN_IGNORE_DEPRECATIONS                                                                              \
    static inline void _GLIB_AUTO_FUNC_NAME(TypeName) (TypeName *_ptr) { (func) (_ptr); }                         \
    G_GNUC_END_IGNORE_DEPRECATIONS
  #define G_DEFINE_AUTO_CLEANUP_FREE_FUNC(TypeName, func, none) \
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -510,10 +1068,11 @@</span>
    static inline void _GLIB_AUTO_FUNC_NAME(TypeName) (TypeName *_ptr) { if (*_ptr != none) (func) (*_ptr); }     \
    G_GNUC_END_IGNORE_DEPRECATIONS
  #define g_autoptr(TypeName) _GLIB_CLEANUP(_GLIB_AUTOPTR_FUNC_NAME(TypeName)) _GLIB_AUTOPTR_TYPENAME(TypeName)
  #define g_autolist(TypeName) _GLIB_CLEANUP(_GLIB_AUTOPTR_LIST_FUNC_NAME(TypeName)) _GLIB_AUTOPTR_LIST_TYPENAME(TypeName)
  #define g_autoslist(TypeName) _GLIB_CLEANUP(_GLIB_AUTOPTR_SLIST_FUNC_NAME(TypeName)) _GLIB_AUTOPTR_SLIST_TYPENAME(TypeName)
<span class="udiff-line-added">+ #define g_autoqueue(TypeName) _GLIB_CLEANUP(_GLIB_AUTOPTR_QUEUE_FUNC_NAME(TypeName)) _GLIB_AUTOPTR_QUEUE_TYPENAME(TypeName)</span>
  #define g_auto(TypeName) _GLIB_CLEANUP(_GLIB_AUTO_FUNC_NAME(TypeName)) TypeName
  #define g_autofree _GLIB_CLEANUP(g_autoptr_cleanup_generic_gfree)
  
  #else /* not GNU C */
  /* this (dummy) macro is private */
</pre>
<center><a href="glist.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gmain.c.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>