<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstelement.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstelement.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstelementfactory.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstelement.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  11  *
  12  * This library is distributed in the hope that it will be useful,
  13  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  14  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  15  * Library General Public License for more details.
  16  *
  17  * You should have received a copy of the GNU Library General Public
  18  * License along with this library; if not, write to the
  19  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  20  * Boston, MA 02110-1301, USA.
  21  */
  22 
  23 
  24 #ifndef __GST_ELEMENT_H__
  25 #define __GST_ELEMENT_H__
  26 
  27 #include &lt;glib.h&gt;
  28 
  29 G_BEGIN_DECLS
  30 
<span class="line-modified">  31 /* gstelement.h and gstelementfactory.h include eachother */</span>
  32 typedef struct _GstElement GstElement;
  33 typedef struct _GstElementClass GstElementClass;
  34 
  35 /* gstmessage.h needs State */
  36 /**
  37  * GstState:
  38  * @GST_STATE_VOID_PENDING: no pending state.
  39  * @GST_STATE_NULL        : the NULL state or initial state of an element.
  40  * @GST_STATE_READY       : the element is ready to go to PAUSED.
  41  * @GST_STATE_PAUSED      : the element is PAUSED, it is ready to accept and
  42  *                          process data. Sink elements however only accept one
  43  *                          buffer and then block.
  44  * @GST_STATE_PLAYING     : the element is PLAYING, the #GstClock is running and
  45  *                          the data is flowing.
  46  *
  47  * The possible states an element can be in. States can be changed using
  48  * gst_element_set_state() and checked using gst_element_get_state().
  49  */
  50 typedef enum {
  51   GST_STATE_VOID_PENDING        = 0,
</pre>
<hr />
<pre>
 213  *     playback when going back to the PLAYING state.
 214  *   * Sinks unblock any #GstClock wait calls.
 215  *   * When a sink does not have a pending buffer to play, it returns
 216  *     #GST_STATE_CHANGE_ASYNC from this state change and completes the state
 217  *     change when it receives a new buffer or an %GST_EVENT_EOS.
 218  *   * Any queued %GST_MESSAGE_EOS items are removed since they will be reposted
 219  *     when going back to the PLAYING state. The EOS messages are queued in
 220  *     #GstBin containers.
 221  *   * Live sources stop generating data and return %GST_STATE_CHANGE_NO_PREROLL.
 222  * @GST_STATE_CHANGE_PAUSED_TO_READY  : state change from PAUSED to READY.
 223  *   * Sinks unblock any waits in the preroll.
 224  *   * Elements unblock any waits on devices
 225  *   * Chain or get_range functions return %GST_FLOW_FLUSHING.
 226  *   * The element pads are deactivated so that streaming becomes impossible and
 227  *     all streaming threads are stopped.
 228  *   * The sink forgets all negotiated formats
 229  *   * Elements remove all sometimes pads
 230  * @GST_STATE_CHANGE_READY_TO_NULL    : state change from READY to NULL.
 231  *   * Elements close devices
 232  *   * Elements reset any internal state.
<span class="line-modified"> 233  * @GST_STATE_CHANGE_NULL_TO_NULL       : state change from NULL to NULL. (Since 1.14)</span>
 234  * @GST_STATE_CHANGE_READY_TO_READY     : state change from READY to READY,
 235  * This might happen when going to PAUSED asynchronously failed, in that case
<span class="line-modified"> 236  * elements should make sure they are in a proper, coherent READY state. (Since 1.14)</span>
 237  * @GST_STATE_CHANGE_PAUSED_TO_PAUSED   : state change from PAUSED to PAUSED.
 238  * This might happen when elements were in PLAYING state and &#39;lost state&#39;,
<span class="line-modified"> 239  * they should make sure to go back to real &#39;PAUSED&#39; state (prerolling for example). (Since 1.14)</span>
<span class="line-modified"> 240  * @GST_STATE_CHANGE_PLAYING_TO_PLAYING : state change from PLAYING to PLAYING. (Since 1.14)</span>
 241  *
 242  * These are the different state changes an element goes through.
 243  * %GST_STATE_NULL &amp;rArr; %GST_STATE_PLAYING is called an upwards state change
 244  * and %GST_STATE_PLAYING &amp;rArr; %GST_STATE_NULL a downwards state change.
 245  */
 246 typedef enum /*&lt; flags=0 &gt;*/
 247 {
 248   GST_STATE_CHANGE_NULL_TO_READY        = (GST_STATE_NULL&lt;&lt;3) | GST_STATE_READY,
 249   GST_STATE_CHANGE_READY_TO_PAUSED      = (GST_STATE_READY&lt;&lt;3) | GST_STATE_PAUSED,
 250   GST_STATE_CHANGE_PAUSED_TO_PLAYING    = (GST_STATE_PAUSED&lt;&lt;3) | GST_STATE_PLAYING,
 251   GST_STATE_CHANGE_PLAYING_TO_PAUSED    = (GST_STATE_PLAYING&lt;&lt;3) | GST_STATE_PAUSED,
 252   GST_STATE_CHANGE_PAUSED_TO_READY      = (GST_STATE_PAUSED&lt;&lt;3) | GST_STATE_READY,
 253   GST_STATE_CHANGE_READY_TO_NULL        = (GST_STATE_READY&lt;&lt;3) | GST_STATE_NULL,
 254   GST_STATE_CHANGE_NULL_TO_NULL         = (GST_STATE_NULL&lt;&lt;3) | GST_STATE_NULL,
 255   GST_STATE_CHANGE_READY_TO_READY       = (GST_STATE_READY&lt;&lt;3) | GST_STATE_READY,
 256   GST_STATE_CHANGE_PAUSED_TO_PAUSED     = (GST_STATE_PAUSED&lt;&lt;3) | GST_STATE_PAUSED,
 257   GST_STATE_CHANGE_PLAYING_TO_PLAYING   = (GST_STATE_PLAYING&lt;&lt;3) | GST_STATE_PLAYING
 258 } GstStateChange;
 259 
 260 /**
</pre>
<hr />
<pre>
 672  * @change_state: called by @set_state to perform an incremental state change
 673  * @set_bus: set a #GstBus on the element
 674  * @provide_clock: gets the #GstClock provided by the element
 675  * @set_clock: set the #GstClock on the element
 676  * @send_event: send a #GstEvent to the element
 677  * @query: perform a #GstQuery on the element
 678  * @state_changed: called immediately after a new state was set.
 679  * @post_message: called when a message is posted on the element. Chain up to
 680  *                the parent class&#39; handler to have it posted on the bus.
 681  * @set_context: set a #GstContext on the element
 682  *
 683  * GStreamer element class. Override the vmethods to implement the element
 684  * functionality.
 685  */
 686 struct _GstElementClass
 687 {
 688   GstObjectClass         parent_class;
 689 
 690   /*&lt; public &gt;*/
 691   /* the element metadata */
<span class="line-modified"> 692   gpointer       metadata;</span>
 693 
 694   /* factory that the element was created from */
 695   GstElementFactory     *elementfactory;
 696 
 697   /* templates for our pads */
 698   GList                 *padtemplates;
 699   gint                   numpadtemplates;
 700   guint32                pad_templ_cookie;
 701 
 702   /*&lt; private &gt;*/
 703   /* signal callbacks */
 704   void (*pad_added)     (GstElement *element, GstPad *pad);
 705   void (*pad_removed)   (GstElement *element, GstPad *pad);
 706   void (*no_more_pads)  (GstElement *element);
 707 
 708   /*&lt; public &gt;*/
 709   /* virtual methods for subclasses */
 710 
 711   /* request/release pads */
 712   /* FIXME 2.0 harmonize naming with gst_element_request_pad */
</pre>
<hr />
<pre>
 884 
 885 /* pad management */
 886 
 887 GST_API
 888 gboolean                gst_element_add_pad             (GstElement *element, GstPad *pad);
 889 
 890 GST_API
 891 gboolean                gst_element_remove_pad          (GstElement *element, GstPad *pad);
 892 
 893 GST_API
 894 void                    gst_element_no_more_pads        (GstElement *element);
 895 
 896 GST_API
 897 GstPad*                 gst_element_get_static_pad      (GstElement *element, const gchar *name);
 898 
 899 GST_API
 900 GstPad*                 gst_element_get_request_pad     (GstElement *element, const gchar *name);
 901 
 902 GST_API
 903 GstPad*                 gst_element_request_pad         (GstElement *element, GstPadTemplate *templ,
<span class="line-modified"> 904                              const gchar * name, const GstCaps *caps);</span>
 905 GST_API
 906 void                    gst_element_release_request_pad (GstElement *element, GstPad *pad);
 907 
 908 GST_API
 909 GstIterator *           gst_element_iterate_pads        (GstElement * element);
 910 
 911 GST_API
 912 GstIterator *           gst_element_iterate_src_pads    (GstElement * element);
 913 
 914 GST_API
 915 GstIterator *           gst_element_iterate_sink_pads   (GstElement * element);
 916 
 917 /**
 918  * GstElementForeachPadFunc:
 919  * @element: the #GstElement
 920  * @pad: a #GstPad
 921  * @user_data: user data passed to the foreach function
 922  *
 923  * Function called for each pad when using gst_element_foreach_sink_pad(),
 924  * gst_element_foreach_src_pad(), or gst_element_foreach_pad().
</pre>
</td>
<td>
<hr />
<pre>
  11  *
  12  * This library is distributed in the hope that it will be useful,
  13  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  14  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  15  * Library General Public License for more details.
  16  *
  17  * You should have received a copy of the GNU Library General Public
  18  * License along with this library; if not, write to the
  19  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  20  * Boston, MA 02110-1301, USA.
  21  */
  22 
  23 
  24 #ifndef __GST_ELEMENT_H__
  25 #define __GST_ELEMENT_H__
  26 
  27 #include &lt;glib.h&gt;
  28 
  29 G_BEGIN_DECLS
  30 
<span class="line-modified">  31 /* gstelement.h and gstelementfactory.h include each other */</span>
  32 typedef struct _GstElement GstElement;
  33 typedef struct _GstElementClass GstElementClass;
  34 
  35 /* gstmessage.h needs State */
  36 /**
  37  * GstState:
  38  * @GST_STATE_VOID_PENDING: no pending state.
  39  * @GST_STATE_NULL        : the NULL state or initial state of an element.
  40  * @GST_STATE_READY       : the element is ready to go to PAUSED.
  41  * @GST_STATE_PAUSED      : the element is PAUSED, it is ready to accept and
  42  *                          process data. Sink elements however only accept one
  43  *                          buffer and then block.
  44  * @GST_STATE_PLAYING     : the element is PLAYING, the #GstClock is running and
  45  *                          the data is flowing.
  46  *
  47  * The possible states an element can be in. States can be changed using
  48  * gst_element_set_state() and checked using gst_element_get_state().
  49  */
  50 typedef enum {
  51   GST_STATE_VOID_PENDING        = 0,
</pre>
<hr />
<pre>
 213  *     playback when going back to the PLAYING state.
 214  *   * Sinks unblock any #GstClock wait calls.
 215  *   * When a sink does not have a pending buffer to play, it returns
 216  *     #GST_STATE_CHANGE_ASYNC from this state change and completes the state
 217  *     change when it receives a new buffer or an %GST_EVENT_EOS.
 218  *   * Any queued %GST_MESSAGE_EOS items are removed since they will be reposted
 219  *     when going back to the PLAYING state. The EOS messages are queued in
 220  *     #GstBin containers.
 221  *   * Live sources stop generating data and return %GST_STATE_CHANGE_NO_PREROLL.
 222  * @GST_STATE_CHANGE_PAUSED_TO_READY  : state change from PAUSED to READY.
 223  *   * Sinks unblock any waits in the preroll.
 224  *   * Elements unblock any waits on devices
 225  *   * Chain or get_range functions return %GST_FLOW_FLUSHING.
 226  *   * The element pads are deactivated so that streaming becomes impossible and
 227  *     all streaming threads are stopped.
 228  *   * The sink forgets all negotiated formats
 229  *   * Elements remove all sometimes pads
 230  * @GST_STATE_CHANGE_READY_TO_NULL    : state change from READY to NULL.
 231  *   * Elements close devices
 232  *   * Elements reset any internal state.
<span class="line-modified"> 233  * @GST_STATE_CHANGE_NULL_TO_NULL       : state change from NULL to NULL. (Since: 1.14)</span>
 234  * @GST_STATE_CHANGE_READY_TO_READY     : state change from READY to READY,
 235  * This might happen when going to PAUSED asynchronously failed, in that case
<span class="line-modified"> 236  * elements should make sure they are in a proper, coherent READY state. (Since: 1.14)</span>
 237  * @GST_STATE_CHANGE_PAUSED_TO_PAUSED   : state change from PAUSED to PAUSED.
 238  * This might happen when elements were in PLAYING state and &#39;lost state&#39;,
<span class="line-modified"> 239  * they should make sure to go back to real &#39;PAUSED&#39; state (prerolling for example). (Since: 1.14)</span>
<span class="line-modified"> 240  * @GST_STATE_CHANGE_PLAYING_TO_PLAYING : state change from PLAYING to PLAYING. (Since: 1.14)</span>
 241  *
 242  * These are the different state changes an element goes through.
 243  * %GST_STATE_NULL &amp;rArr; %GST_STATE_PLAYING is called an upwards state change
 244  * and %GST_STATE_PLAYING &amp;rArr; %GST_STATE_NULL a downwards state change.
 245  */
 246 typedef enum /*&lt; flags=0 &gt;*/
 247 {
 248   GST_STATE_CHANGE_NULL_TO_READY        = (GST_STATE_NULL&lt;&lt;3) | GST_STATE_READY,
 249   GST_STATE_CHANGE_READY_TO_PAUSED      = (GST_STATE_READY&lt;&lt;3) | GST_STATE_PAUSED,
 250   GST_STATE_CHANGE_PAUSED_TO_PLAYING    = (GST_STATE_PAUSED&lt;&lt;3) | GST_STATE_PLAYING,
 251   GST_STATE_CHANGE_PLAYING_TO_PAUSED    = (GST_STATE_PLAYING&lt;&lt;3) | GST_STATE_PAUSED,
 252   GST_STATE_CHANGE_PAUSED_TO_READY      = (GST_STATE_PAUSED&lt;&lt;3) | GST_STATE_READY,
 253   GST_STATE_CHANGE_READY_TO_NULL        = (GST_STATE_READY&lt;&lt;3) | GST_STATE_NULL,
 254   GST_STATE_CHANGE_NULL_TO_NULL         = (GST_STATE_NULL&lt;&lt;3) | GST_STATE_NULL,
 255   GST_STATE_CHANGE_READY_TO_READY       = (GST_STATE_READY&lt;&lt;3) | GST_STATE_READY,
 256   GST_STATE_CHANGE_PAUSED_TO_PAUSED     = (GST_STATE_PAUSED&lt;&lt;3) | GST_STATE_PAUSED,
 257   GST_STATE_CHANGE_PLAYING_TO_PLAYING   = (GST_STATE_PLAYING&lt;&lt;3) | GST_STATE_PLAYING
 258 } GstStateChange;
 259 
 260 /**
</pre>
<hr />
<pre>
 672  * @change_state: called by @set_state to perform an incremental state change
 673  * @set_bus: set a #GstBus on the element
 674  * @provide_clock: gets the #GstClock provided by the element
 675  * @set_clock: set the #GstClock on the element
 676  * @send_event: send a #GstEvent to the element
 677  * @query: perform a #GstQuery on the element
 678  * @state_changed: called immediately after a new state was set.
 679  * @post_message: called when a message is posted on the element. Chain up to
 680  *                the parent class&#39; handler to have it posted on the bus.
 681  * @set_context: set a #GstContext on the element
 682  *
 683  * GStreamer element class. Override the vmethods to implement the element
 684  * functionality.
 685  */
 686 struct _GstElementClass
 687 {
 688   GstObjectClass         parent_class;
 689 
 690   /*&lt; public &gt;*/
 691   /* the element metadata */
<span class="line-modified"> 692   gpointer     metadata;</span>
 693 
 694   /* factory that the element was created from */
 695   GstElementFactory     *elementfactory;
 696 
 697   /* templates for our pads */
 698   GList                 *padtemplates;
 699   gint                   numpadtemplates;
 700   guint32                pad_templ_cookie;
 701 
 702   /*&lt; private &gt;*/
 703   /* signal callbacks */
 704   void (*pad_added)     (GstElement *element, GstPad *pad);
 705   void (*pad_removed)   (GstElement *element, GstPad *pad);
 706   void (*no_more_pads)  (GstElement *element);
 707 
 708   /*&lt; public &gt;*/
 709   /* virtual methods for subclasses */
 710 
 711   /* request/release pads */
 712   /* FIXME 2.0 harmonize naming with gst_element_request_pad */
</pre>
<hr />
<pre>
 884 
 885 /* pad management */
 886 
 887 GST_API
 888 gboolean                gst_element_add_pad             (GstElement *element, GstPad *pad);
 889 
 890 GST_API
 891 gboolean                gst_element_remove_pad          (GstElement *element, GstPad *pad);
 892 
 893 GST_API
 894 void                    gst_element_no_more_pads        (GstElement *element);
 895 
 896 GST_API
 897 GstPad*                 gst_element_get_static_pad      (GstElement *element, const gchar *name);
 898 
 899 GST_API
 900 GstPad*                 gst_element_get_request_pad     (GstElement *element, const gchar *name);
 901 
 902 GST_API
 903 GstPad*                 gst_element_request_pad         (GstElement *element, GstPadTemplate *templ,
<span class="line-modified"> 904                const gchar * name, const GstCaps *caps);</span>
 905 GST_API
 906 void                    gst_element_release_request_pad (GstElement *element, GstPad *pad);
 907 
 908 GST_API
 909 GstIterator *           gst_element_iterate_pads        (GstElement * element);
 910 
 911 GST_API
 912 GstIterator *           gst_element_iterate_src_pads    (GstElement * element);
 913 
 914 GST_API
 915 GstIterator *           gst_element_iterate_sink_pads   (GstElement * element);
 916 
 917 /**
 918  * GstElementForeachPadFunc:
 919  * @element: the #GstElement
 920  * @pad: a #GstPad
 921  * @user_data: user data passed to the foreach function
 922  *
 923  * Function called for each pad when using gst_element_foreach_sink_pad(),
 924  * gst_element_foreach_src_pad(), or gst_element_foreach_pad().
</pre>
</td>
</tr>
</table>
<center><a href="gstelement.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstelementfactory.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>