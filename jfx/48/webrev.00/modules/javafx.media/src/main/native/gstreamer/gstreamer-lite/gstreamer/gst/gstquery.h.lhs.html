<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstquery.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /* GStreamer
  2  * Copyright (C) 1999,2000 Erik Walthinsen &lt;omega@cse.ogi.edu&gt;
  3  *                    2000 Wim Taymans &lt;wim.taymans@chello.be&gt;
  4  *                    2005 Wim Taymans &lt;wim@fluendo.com&gt;
  5  *                    2011 Wim Taymans &lt;wim.taymans@gmail.com&gt;
  6  *
  7  * gstquery.h: GstQuery API declaration
  8  *
  9  * This library is free software; you can redistribute it and/or
 10  * modify it under the terms of the GNU Library General Public
 11  * License as published by the Free Software Foundation; either
 12  * version 2 of the License, or (at your option) any later version.
 13  *
 14  * This library is distributed in the hope that it will be useful,
 15  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 16  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 17  * Library General Public License for more details.
 18  *
 19  * You should have received a copy of the GNU Library General Public
 20  * License along with this library; if not, write to the
 21  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 22  * Boston, MA 02110-1301, USA.
 23  */
 24 
 25 
 26 #ifndef __GST_QUERY_H__
 27 #define __GST_QUERY_H__
 28 
 29 #include &lt;glib.h&gt;
 30 #include &lt;glib-object.h&gt;
 31 #include &lt;gst/gstconfig.h&gt;
 32 
 33 G_BEGIN_DECLS
 34 
 35 typedef struct _GstQuery GstQuery;
 36 
 37 #include &lt;gst/gstminiobject.h&gt;
 38 
 39 /**
 40  * GstQueryTypeFlags:
 41  * @GST_QUERY_TYPE_UPSTREAM:     Set if the query can travel upstream.
 42  * @GST_QUERY_TYPE_DOWNSTREAM:   Set if the query can travel downstream.
 43  * @GST_QUERY_TYPE_SERIALIZED:   Set if the query should be serialized with data
 44  *                               flow.
 45  *
 46  * #GstQueryTypeFlags indicate the aspects of the different #GstQueryType
 47  * values. You can get the type flags of a #GstQueryType with the
 48  * gst_query_type_get_flags() function.
 49  */
 50 typedef enum {
 51   GST_QUERY_TYPE_UPSTREAM       = 1 &lt;&lt; 0,
 52   GST_QUERY_TYPE_DOWNSTREAM     = 1 &lt;&lt; 1,
 53   GST_QUERY_TYPE_SERIALIZED     = 1 &lt;&lt; 2
 54 } GstQueryTypeFlags;
 55 
 56 /**
 57  * GST_QUERY_TYPE_BOTH: (value 3) (type GstQueryTypeFlags)
 58  *
 59  * The same thing as #GST_QUERY_TYPE_UPSTREAM | #GST_QUERY_TYPE_DOWNSTREAM.
 60  */
 61 #define GST_QUERY_TYPE_BOTH \
 62     ((GstQueryTypeFlags)(GST_QUERY_TYPE_UPSTREAM | GST_QUERY_TYPE_DOWNSTREAM))
 63 
 64 #define GST_QUERY_NUM_SHIFT     (8)
 65 
 66 /**
 67  * GST_QUERY_MAKE_TYPE:
 68  * @num: the query number to create
 69  * @flags: the query flags
 70  *
 71  * when making custom query types, use this macro with the num and
 72  * the given flags
 73  */
 74 #define GST_QUERY_MAKE_TYPE(num,flags) \
 75     (((num) &lt;&lt; GST_QUERY_NUM_SHIFT) | (flags))
 76 
 77 #define FLAG(name) GST_QUERY_TYPE_##name
 78 
 79 
 80 /**
 81  * GstQueryType:
 82  * @GST_QUERY_UNKNOWN: unknown query type
 83  * @GST_QUERY_POSITION: current position in stream
 84  * @GST_QUERY_DURATION: total duration of the stream
 85  * @GST_QUERY_LATENCY: latency of stream
 86  * @GST_QUERY_JITTER: current jitter of stream
 87  * @GST_QUERY_RATE: current rate of the stream
 88  * @GST_QUERY_SEEKING: seeking capabilities
 89  * @GST_QUERY_SEGMENT: segment start/stop positions
 90  * @GST_QUERY_CONVERT: convert values between formats
 91  * @GST_QUERY_FORMATS: query supported formats for convert
 92  * @GST_QUERY_BUFFERING: query available media for efficient seeking.
 93  * @GST_QUERY_CUSTOM: a custom application or element defined query.
 94  * @GST_QUERY_URI: query the URI of the source or sink.
 95  * @GST_QUERY_ALLOCATION: the buffer allocation properties
 96  * @GST_QUERY_SCHEDULING: the scheduling properties
 97  * @GST_QUERY_ACCEPT_CAPS: the accept caps query
 98  * @GST_QUERY_CAPS: the caps query
 99  * @GST_QUERY_DRAIN: wait till all serialized data is consumed downstream
100  * @GST_QUERY_CONTEXT: query the pipeline-local context from
101  *     downstream or upstream (since 1.2)
<a name="1" id="anc1"></a>
102  *
103  * Standard predefined Query types
104  */
105 /* NOTE: don&#39;t forget to update the table in gstquery.c when changing
106  * this enum */
107 typedef enum {
108   GST_QUERY_UNKNOWN      = GST_QUERY_MAKE_TYPE (0, 0),
109   GST_QUERY_POSITION     = GST_QUERY_MAKE_TYPE (10, FLAG(BOTH)),
110   GST_QUERY_DURATION     = GST_QUERY_MAKE_TYPE (20, FLAG(BOTH)),
111   GST_QUERY_LATENCY      = GST_QUERY_MAKE_TYPE (30, FLAG(BOTH)),
112   GST_QUERY_JITTER       = GST_QUERY_MAKE_TYPE (40, FLAG(BOTH)),
113   GST_QUERY_RATE         = GST_QUERY_MAKE_TYPE (50, FLAG(BOTH)),
114   GST_QUERY_SEEKING      = GST_QUERY_MAKE_TYPE (60, FLAG(BOTH)),
115   GST_QUERY_SEGMENT      = GST_QUERY_MAKE_TYPE (70, FLAG(BOTH)),
116   GST_QUERY_CONVERT      = GST_QUERY_MAKE_TYPE (80, FLAG(BOTH)),
117   GST_QUERY_FORMATS      = GST_QUERY_MAKE_TYPE (90, FLAG(BOTH)),
118   GST_QUERY_BUFFERING    = GST_QUERY_MAKE_TYPE (110, FLAG(BOTH)),
119   GST_QUERY_CUSTOM       = GST_QUERY_MAKE_TYPE (120, FLAG(BOTH)),
120   GST_QUERY_URI          = GST_QUERY_MAKE_TYPE (130, FLAG(BOTH)),
121   GST_QUERY_ALLOCATION   = GST_QUERY_MAKE_TYPE (140, FLAG(DOWNSTREAM) | FLAG(SERIALIZED)),
122   GST_QUERY_SCHEDULING   = GST_QUERY_MAKE_TYPE (150, FLAG(UPSTREAM)),
123   GST_QUERY_ACCEPT_CAPS  = GST_QUERY_MAKE_TYPE (160, FLAG(BOTH)),
124   GST_QUERY_CAPS         = GST_QUERY_MAKE_TYPE (170, FLAG(BOTH)),
125   GST_QUERY_DRAIN        = GST_QUERY_MAKE_TYPE (180, FLAG(DOWNSTREAM) | FLAG(SERIALIZED)),
<a name="2" id="anc2"></a><span class="line-modified">126   GST_QUERY_CONTEXT      = GST_QUERY_MAKE_TYPE (190, FLAG(BOTH))</span>

127 } GstQueryType;
128 #undef FLAG
129 
130 #ifndef GSTREAMER_LITE
131 GST_API GType _gst_query_type;
132 #else // GSTREAMER_LITE
133 GST_EXPORT GType _gst_query_type;
134 #endif // GSTREAMER_LITE
135 
136 #define GST_TYPE_QUERY                         (_gst_query_type)
137 #define GST_IS_QUERY(obj)                      (GST_IS_MINI_OBJECT_TYPE (obj, GST_TYPE_QUERY))
138 #define GST_QUERY_CAST(obj)                    ((GstQuery*)(obj))
139 #define GST_QUERY(obj)                         (GST_QUERY_CAST(obj))
140 
141 /**
142  * GST_QUERY_TYPE:
143  * @query: the query to query
144  *
145  * Get the #GstQueryType of the query.
146  */
147 #define GST_QUERY_TYPE(query)  (((GstQuery*)(query))-&gt;type)
148 
149 /**
150  * GST_QUERY_TYPE_NAME:
151  * @query: the query to query
152  *
153  * Get a constant string representation of the #GstQueryType of the query.
154  */
155 #define GST_QUERY_TYPE_NAME(query) (gst_query_type_get_name(GST_QUERY_TYPE(query)))
156 
157 /**
158  * GST_QUERY_IS_UPSTREAM:
159  * @ev: the query to query
160  *
161  * Check if an query can travel upstream.
162  */
163 #define GST_QUERY_IS_UPSTREAM(ev)       !!(GST_QUERY_TYPE (ev) &amp; GST_QUERY_TYPE_UPSTREAM)
164 /**
165  * GST_QUERY_IS_DOWNSTREAM:
166  * @ev: the query to query
167  *
168  * Check if an query can travel downstream.
169  */
170 #define GST_QUERY_IS_DOWNSTREAM(ev)     !!(GST_QUERY_TYPE (ev) &amp; GST_QUERY_TYPE_DOWNSTREAM)
171 /**
172  * GST_QUERY_IS_SERIALIZED:
173  * @ev: the query to query
174  *
175  * Check if an query is serialized with the data stream.
176  */
177 #define GST_QUERY_IS_SERIALIZED(ev)     !!(GST_QUERY_TYPE (ev) &amp; GST_QUERY_TYPE_SERIALIZED)
178 
179 
180 /**
181  * GstQuery:
182  * @mini_object: The parent #GstMiniObject type
183  * @type: the #GstQueryType
184  *
185  * The #GstQuery structure.
186  */
187 struct _GstQuery
188 {
189   GstMiniObject mini_object;
190 
191   /*&lt; public &gt; *//* with COW */
192   GstQueryType type;
193 };
194 
195 /**
196  * GstBufferingMode:
197  * @GST_BUFFERING_STREAM: a small amount of data is buffered
198  * @GST_BUFFERING_DOWNLOAD: the stream is being downloaded
199  * @GST_BUFFERING_TIMESHIFT: the stream is being downloaded in a ringbuffer
200  * @GST_BUFFERING_LIVE: the stream is a live stream
201  *
202  * The different types of buffering methods.
203  */
204 typedef enum {
205   GST_BUFFERING_STREAM,
206   GST_BUFFERING_DOWNLOAD,
207   GST_BUFFERING_TIMESHIFT,
208   GST_BUFFERING_LIVE
209 } GstBufferingMode;
210 
211 #include &lt;gst/gstiterator.h&gt;
212 #include &lt;gst/gststructure.h&gt;
213 #include &lt;gst/gstformat.h&gt;
214 #include &lt;gst/gstpad.h&gt;
215 #include &lt;gst/gstallocator.h&gt;
216 #include &lt;gst/gsttoc.h&gt;
217 #include &lt;gst/gstcontext.h&gt;
218 
219 GST_API
220 const gchar*    gst_query_type_get_name        (GstQueryType type);
221 
222 GST_API
223 GQuark          gst_query_type_to_quark        (GstQueryType type);
224 
225 GST_API
226 GstQueryTypeFlags
227                 gst_query_type_get_flags       (GstQueryType type);
228 
229 
230 GST_API
231 GType           gst_query_get_type             (void);
232 
233 /* refcounting */
234 /**
235  * gst_query_ref:
236  * @q: a #GstQuery to increase the refcount of.
237  *
238  * Increases the refcount of the given query by one.
239  *
240  * Returns: @q
241  */
242 static inline GstQuery *
243 gst_query_ref (GstQuery * q)
244 {
245   return GST_QUERY_CAST (gst_mini_object_ref (GST_MINI_OBJECT_CAST (q)));
246 }
247 
248 /**
249  * gst_query_unref:
250  * @q: a #GstQuery to decrease the refcount of.
251  *
252  * Decreases the refcount of the query. If the refcount reaches 0, the query
253  * will be freed.
254  */
255 static inline void
256 gst_query_unref (GstQuery * q)
257 {
258   gst_mini_object_unref (GST_MINI_OBJECT_CAST (q));
259 }
260 
<a name="3" id="anc3"></a>


















261 /* copy query */
262 /**
263  * gst_query_copy:
264  * @q: a #GstQuery to copy.
265  *
266  * Copies the given query using the copy function of the parent #GstStructure.
267  *
268  * Free-function: gst_query_unref
269  *
270  * Returns: (transfer full): a new copy of @q.
271  */
272 static inline GstQuery *
273 gst_query_copy (const GstQuery * q)
274 {
275   return GST_QUERY_CAST (gst_mini_object_copy (GST_MINI_OBJECT_CONST_CAST (q)));
276 }
277 
278 /**
279  * gst_query_is_writable:
280  * @q: a #GstQuery
281  *
282  * Tests if you can safely write data into a query&#39;s structure.
283  */
284 #define         gst_query_is_writable(q)     gst_mini_object_is_writable (GST_MINI_OBJECT_CAST (q))
285 /**
286  * gst_query_make_writable:
287  * @q: (transfer full): a #GstQuery to make writable
288  *
289  * Makes a writable query from the given query.
290  *
291  * Returns: (transfer full): a new writable query (possibly same as @q)
292  */
293 #define         gst_query_make_writable(q)      GST_QUERY_CAST (gst_mini_object_make_writable (GST_MINI_OBJECT_CAST (q)))
294 /**
295  * gst_query_replace:
296  * @old_query: (inout) (transfer full) (nullable): pointer to a pointer to a
297  *     #GstQuery to be replaced.
298  * @new_query: (allow-none) (transfer none): pointer to a #GstQuery that will
299  *     replace the query pointed to by @old_query.
300  *
301  * Modifies a pointer to a #GstQuery to point to a different #GstQuery. The
302  * modification is done atomically (so this is useful for ensuring thread safety
303  * in some cases), and the reference counts are updated appropriately (the old
304  * query is unreffed, the new one is reffed).
305  *
306  * Either @new_query or the #GstQuery pointed to by @old_query may be %NULL.
307  *
308  * Returns: %TRUE if @new_query was different from @old_query
309  */
310 static inline gboolean
311 gst_query_replace (GstQuery **old_query, GstQuery *new_query)
312 {
313   return gst_mini_object_replace ((GstMiniObject **) old_query, (GstMiniObject *) new_query);
314 }
315 
<a name="4" id="anc4"></a>























316 /* application specific query */
317 
318 GST_API
319 GstQuery *      gst_query_new_custom            (GstQueryType type, GstStructure *structure) G_GNUC_MALLOC;
320 
321 GST_API
322 const GstStructure *
323                 gst_query_get_structure         (GstQuery *query);
324 
325 GST_API
326 GstStructure *  gst_query_writable_structure    (GstQuery *query);
327 
328 /* position query */
329 
330 GST_API
331 GstQuery*       gst_query_new_position          (GstFormat format) G_GNUC_MALLOC;
332 
333 GST_API
334 void            gst_query_set_position          (GstQuery *query, GstFormat format, gint64 cur);
335 
336 GST_API
337 void            gst_query_parse_position        (GstQuery *query, GstFormat *format, gint64 *cur);
338 
339 /* duration query */
340 
341 GST_API
342 GstQuery*       gst_query_new_duration          (GstFormat format) G_GNUC_MALLOC;
343 
344 GST_API
345 void            gst_query_set_duration          (GstQuery *query, GstFormat format, gint64 duration);
346 
347 GST_API
348 void            gst_query_parse_duration        (GstQuery *query, GstFormat *format, gint64 *duration);
349 
350 /* latency query */
351 
352 GST_API
353 GstQuery*       gst_query_new_latency           (void) G_GNUC_MALLOC;
354 
355 GST_API
356 void            gst_query_set_latency           (GstQuery *query, gboolean live, GstClockTime min_latency,
357                                                  GstClockTime max_latency);
358 
359 GST_API
360 void            gst_query_parse_latency         (GstQuery *query, gboolean *live, GstClockTime *min_latency,
361                                                  GstClockTime *max_latency);
362 
363 /* convert query */
364 
365 GST_API
366 GstQuery*       gst_query_new_convert           (GstFormat src_format, gint64 value, GstFormat dest_format) G_GNUC_MALLOC;
367 
368 GST_API
369 void            gst_query_set_convert           (GstQuery *query, GstFormat src_format, gint64 src_value,
370                                                  GstFormat dest_format, gint64 dest_value);
371 
372 GST_API
373 void            gst_query_parse_convert         (GstQuery *query, GstFormat *src_format, gint64 *src_value,
374                                                  GstFormat *dest_format, gint64 *dest_value);
375 /* segment query */
376 
377 GST_API
378 GstQuery*       gst_query_new_segment           (GstFormat format) G_GNUC_MALLOC;
379 
380 GST_API
381 void            gst_query_set_segment           (GstQuery *query, gdouble rate, GstFormat format,
382                                                  gint64 start_value, gint64 stop_value);
383 
384 GST_API
385 void            gst_query_parse_segment         (GstQuery *query, gdouble *rate, GstFormat *format,
386                                                  gint64 *start_value, gint64 *stop_value);
387 
388 /* seeking query */
389 
390 GST_API
391 GstQuery*       gst_query_new_seeking           (GstFormat format) G_GNUC_MALLOC;
392 
393 GST_API
394 void            gst_query_set_seeking           (GstQuery *query, GstFormat format,
395                                                  gboolean seekable,
396                                                  gint64 segment_start,
397                                                  gint64 segment_end);
398 
399 GST_API
400 void            gst_query_parse_seeking         (GstQuery *query, GstFormat *format,
401                                                  gboolean *seekable,
402                                                  gint64 *segment_start,
403                                                  gint64 *segment_end);
404 /* formats query */
405 
406 GST_API
407 GstQuery*       gst_query_new_formats           (void) G_GNUC_MALLOC;
408 
409 GST_API
410 void            gst_query_set_formats           (GstQuery *query, gint n_formats, ...);
411 
412 GST_API
413 void            gst_query_set_formatsv          (GstQuery *query, gint n_formats, const GstFormat *formats);
414 
415 GST_API
416 void            gst_query_parse_n_formats       (GstQuery *query, guint *n_formats);
417 
418 GST_API
419 void            gst_query_parse_nth_format      (GstQuery *query, guint nth, GstFormat *format);
420 
421 /* buffering query */
422 
423 GST_API
424 GstQuery*       gst_query_new_buffering           (GstFormat format) G_GNUC_MALLOC;
425 
426 GST_API
427 void            gst_query_set_buffering_percent   (GstQuery *query, gboolean busy, gint percent);
428 
429 GST_API
430 void            gst_query_parse_buffering_percent (GstQuery *query, gboolean *busy, gint *percent);
431 
432 GST_API
433 void            gst_query_set_buffering_stats     (GstQuery *query, GstBufferingMode mode,
434                                                    gint avg_in, gint avg_out,
435                                                    gint64 buffering_left);
436 
437 GST_API
438 void            gst_query_parse_buffering_stats    (GstQuery *query, GstBufferingMode *mode,
439                                                    gint *avg_in, gint *avg_out,
440                                                    gint64 *buffering_left);
441 
442 GST_API
443 void            gst_query_set_buffering_range     (GstQuery *query, GstFormat format,
444                                                    gint64 start, gint64 stop,
445                                                    gint64 estimated_total);
446 
447 GST_API
448 void            gst_query_parse_buffering_range   (GstQuery *query, GstFormat *format,
449                                                    gint64 *start, gint64 *stop,
450                                                    gint64 *estimated_total);
451 
452 GST_API
453 gboolean        gst_query_add_buffering_range       (GstQuery *query,
454                                                      gint64 start, gint64 stop);
455 
456 GST_API
457 guint           gst_query_get_n_buffering_ranges    (GstQuery *query);
458 
459 GST_API
460 gboolean        gst_query_parse_nth_buffering_range (GstQuery *query,
461                                                      guint index, gint64 *start,
462                                                      gint64 *stop);
463 
464 /* URI query */
465 
466 GST_API
467 GstQuery *      gst_query_new_uri                    (void) G_GNUC_MALLOC;
468 
469 GST_API
470 void            gst_query_parse_uri                  (GstQuery *query, gchar **uri);
471 
472 GST_API
473 void            gst_query_set_uri                    (GstQuery *query, const gchar *uri);
474 
475 GST_API
476 void            gst_query_parse_uri_redirection      (GstQuery *query, gchar **uri);
477 
478 GST_API
479 void            gst_query_set_uri_redirection        (GstQuery *query, const gchar *uri);
480 
481 GST_API
482 void            gst_query_parse_uri_redirection_permanent (GstQuery *query, gboolean * permanent);
483 
484 GST_API
485 void            gst_query_set_uri_redirection_permanent (GstQuery *query, gboolean permanent);
486 
487 /* allocation query */
488 
489 GST_API
490 GstQuery *      gst_query_new_allocation             (GstCaps *caps, gboolean need_pool) G_GNUC_MALLOC;
491 
492 GST_API
493 void            gst_query_parse_allocation           (GstQuery *query, GstCaps **caps, gboolean *need_pool);
494 
495 /* pools */
496 
497 GST_API
498 void            gst_query_add_allocation_pool        (GstQuery *query, GstBufferPool *pool,
499                                                       guint size, guint min_buffers,
500                                                       guint max_buffers);
501 
502 GST_API
503 guint           gst_query_get_n_allocation_pools     (GstQuery *query);
504 
505 GST_API
506 void            gst_query_parse_nth_allocation_pool  (GstQuery *query, guint index,
507                                                       GstBufferPool **pool,
508                                                       guint *size, guint *min_buffers,
509                                                       guint *max_buffers);
510 
511 GST_API
512 void            gst_query_set_nth_allocation_pool    (GstQuery *query, guint index,
513                                                       GstBufferPool *pool,
514                                                       guint size, guint min_buffers,
515                                                       guint max_buffers);
516 
517 GST_API
518 void            gst_query_remove_nth_allocation_pool (GstQuery *query, guint index);
519 
520 /* allocators */
521 
522 GST_API
523 void            gst_query_add_allocation_param       (GstQuery *query, GstAllocator *allocator,
524                                                       const GstAllocationParams *params);
525 
526 GST_API
527 guint           gst_query_get_n_allocation_params    (GstQuery *query);
528 
529 GST_API
530 void            gst_query_parse_nth_allocation_param (GstQuery *query, guint index,
531                                                       GstAllocator **allocator,
532                                                       GstAllocationParams *params);
533 
534 GST_API
535 void            gst_query_set_nth_allocation_param   (GstQuery *query, guint index,
536                                                       GstAllocator *allocator,
537                                                       const GstAllocationParams *params);
538 
539 GST_API
540 void            gst_query_remove_nth_allocation_param (GstQuery *query, guint index);
541 
542 /* metadata */
543 
544 GST_API
545 void            gst_query_add_allocation_meta        (GstQuery *query, GType api, const GstStructure *params);
546 
547 GST_API
548 guint           gst_query_get_n_allocation_metas     (GstQuery *query);
549 
550 GST_API
551 GType           gst_query_parse_nth_allocation_meta  (GstQuery *query, guint index,
552                                                       const GstStructure **params);
553 
554 GST_API
555 void            gst_query_remove_nth_allocation_meta (GstQuery *query, guint index);
556 
557 GST_API
558 gboolean        gst_query_find_allocation_meta       (GstQuery *query, GType api, guint *index);
559 
560 
561 /* scheduling query */
562 /**
563  * GstSchedulingFlags:
564  * @GST_SCHEDULING_FLAG_SEEKABLE: if seeking is possible
565  * @GST_SCHEDULING_FLAG_SEQUENTIAL: if sequential access is recommended
566  * @GST_SCHEDULING_FLAG_BANDWIDTH_LIMITED: if bandwidth is limited and buffering possible (since 1.2)
567  *
568  * The different scheduling flags.
569  */
570 typedef enum {
571   GST_SCHEDULING_FLAG_SEEKABLE          = (1 &lt;&lt; 0),
572   GST_SCHEDULING_FLAG_SEQUENTIAL        = (1 &lt;&lt; 1),
573   GST_SCHEDULING_FLAG_BANDWIDTH_LIMITED = (1 &lt;&lt; 2)
574 } GstSchedulingFlags;
575 
576 GST_API
577 GstQuery *      gst_query_new_scheduling          (void) G_GNUC_MALLOC;
578 
579 GST_API
580 void            gst_query_set_scheduling          (GstQuery *query, GstSchedulingFlags flags,
581                                                    gint minsize, gint maxsize, gint align);
582 
583 GST_API
584 void            gst_query_parse_scheduling        (GstQuery *query, GstSchedulingFlags *flags,
585                                                    gint *minsize, gint *maxsize, gint *align);
586 
587 GST_API
588 void            gst_query_add_scheduling_mode       (GstQuery *query, GstPadMode mode);
589 
590 GST_API
591 guint           gst_query_get_n_scheduling_modes    (GstQuery *query);
592 
593 GST_API
594 GstPadMode      gst_query_parse_nth_scheduling_mode (GstQuery *query, guint index);
595 
596 GST_API
597 gboolean        gst_query_has_scheduling_mode       (GstQuery *query, GstPadMode mode);
598 
599 GST_API
600 gboolean        gst_query_has_scheduling_mode_with_flags (GstQuery * query, GstPadMode mode,
601                                                     GstSchedulingFlags flags);
602 
603 /* accept-caps query */
604 
605 GST_API
606 GstQuery *      gst_query_new_accept_caps          (GstCaps *caps) G_GNUC_MALLOC;
607 
608 GST_API
609 void            gst_query_parse_accept_caps        (GstQuery *query, GstCaps **caps);
610 
611 GST_API
612 void            gst_query_set_accept_caps_result   (GstQuery *query, gboolean result);
613 
614 GST_API
615 void            gst_query_parse_accept_caps_result (GstQuery *query, gboolean *result);
616 
617 /* caps query */
618 
619 GST_API
620 GstQuery *      gst_query_new_caps                 (GstCaps *filter) G_GNUC_MALLOC;
621 
622 GST_API
623 void            gst_query_parse_caps               (GstQuery *query, GstCaps **filter);
624 
625 GST_API
626 void            gst_query_set_caps_result          (GstQuery *query, GstCaps *caps);
627 
628 GST_API
629 void            gst_query_parse_caps_result        (GstQuery *query, GstCaps **caps);
630 
631 /* drain query */
632 
633 GST_API
634 GstQuery *      gst_query_new_drain                (void) G_GNUC_MALLOC;
635 
636 /* context query */
637 
638 GST_API
639 GstQuery *      gst_query_new_context              (const gchar * context_type) G_GNUC_MALLOC;
640 
641 GST_API
642 gboolean        gst_query_parse_context_type       (GstQuery * query, const gchar ** context_type);
643 
644 GST_API
645 void            gst_query_set_context              (GstQuery *query, GstContext *context);
646 
647 GST_API
648 void            gst_query_parse_context            (GstQuery *query, GstContext **context);
649 
<a name="5" id="anc5"></a>










650 #ifdef G_DEFINE_AUTOPTR_CLEANUP_FUNC
651 G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstQuery, gst_query_unref)
652 #endif
653 
654 G_END_DECLS
655 
656 #endif /* __GST_QUERY_H__ */
657 
<a name="6" id="anc6"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="6" type="hidden" />
</body>
</html>