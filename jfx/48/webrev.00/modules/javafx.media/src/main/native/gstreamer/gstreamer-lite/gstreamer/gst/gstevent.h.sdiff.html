<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstevent.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstevent.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstghostpad.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstevent.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 62 /**
 63  * GST_EVENT_MAKE_TYPE:
 64  * @num: the event number to create
 65  * @flags: the event flags
 66  *
 67  * when making custom event types, use this macro with the num and
 68  * the given flags
 69  */
 70 #define GST_EVENT_MAKE_TYPE(num,flags) \
 71     (((num) &lt;&lt; GST_EVENT_NUM_SHIFT) | (flags))
 72 
 73 #define FLAG(name) GST_EVENT_TYPE_##name
 74 
 75 /**
 76  * GstEventType:
 77  * @GST_EVENT_UNKNOWN: unknown event.
 78  * @GST_EVENT_FLUSH_START: Start a flush operation. This event clears all data
 79  *                 from the pipeline and unblock all streaming threads.
 80  * @GST_EVENT_FLUSH_STOP: Stop a flush operation. This event resets the
 81  *                 running-time of the pipeline.
<span class="line-modified"> 82  * @GST_EVENT_SELECT_STREAMS: A request to select one or more streams (Since 1.10)</span>
 83  * @GST_EVENT_STREAM_START: Event to mark the start of a new stream. Sent before any
 84  *                 other serialized event and only sent at the start of a new stream,
 85  *                 not after flushing seeks.
 86  * @GST_EVENT_CAPS: #GstCaps event. Notify the pad of a new media type.
 87  * @GST_EVENT_SEGMENT: A new media segment follows in the dataflow. The
 88  *                 segment events contains information for clipping buffers and
 89  *                 converting buffer timestamps to running-time and
 90  *                 stream-time.
<span class="line-modified"> 91  * @GST_EVENT_STREAM_COLLECTION: A new #GstStreamCollection is available (Since 1.10)</span>
 92  * @GST_EVENT_TAG: A new set of metadata tags has been found in the stream.
 93  * @GST_EVENT_BUFFERSIZE: Notification of buffering requirements. Currently not
 94  *                 used yet.
 95  * @GST_EVENT_SINK_MESSAGE: An event that sinks turn into a message. Used to
 96  *                          send messages that should be emitted in sync with
 97  *                          rendering.
 98  * @GST_EVENT_STREAM_GROUP_DONE: Indicates that there is no more data for
 99  *                 the stream group ID in the message. Sent before EOS
<span class="line-modified">100  *                 in some instances and should be handled mostly the same. (Since 1.10)</span>
101  * @GST_EVENT_EOS: End-Of-Stream. No more data is to be expected to follow
102  *                 without either a STREAM_START event, or a FLUSH_STOP and a SEGMENT
103  *                 event.
104  * @GST_EVENT_SEGMENT_DONE: Marks the end of a segment playback.
105  * @GST_EVENT_GAP: Marks a gap in the datastream.
106  * @GST_EVENT_TOC: An event which indicates that a new table of contents (TOC)
107  *                 was found or updated.
108  * @GST_EVENT_PROTECTION: An event which indicates that new or updated
109  *                 encryption information has been found in the stream.
110  * @GST_EVENT_QOS: A quality message. Used to indicate to upstream elements
111  *                 that the downstream elements should adjust their processing
112  *                 rate.
113  * @GST_EVENT_SEEK: A request for a new playback position and rate.
114  * @GST_EVENT_NAVIGATION: Navigation events are usually used for communicating
115  *                        user requests, such as mouse or keyboard movements,
116  *                        to upstream elements.
117  * @GST_EVENT_LATENCY: Notification of new latency adjustment. Sinks will use
118  *                     the latency information to adjust their synchronisation.
119  * @GST_EVENT_STEP: A request for stepping through the media. Sinks will usually
120  *                  execute the step operation.
</pre>
<hr />
<pre>
239  *
240  * Get the #GstEventType of the event.
241  */
242 #define GST_EVENT_TYPE(event)           (GST_EVENT_CAST(event)-&gt;type)
243 
244 /**
245  * GST_EVENT_TYPE_NAME:
246  * @event: the event to query
247  *
248  * Get a constant string representation of the #GstEventType of the event.
249  */
250 #define GST_EVENT_TYPE_NAME(event)      (gst_event_type_get_name(GST_EVENT_TYPE(event)))
251 
252 /**
253  * GST_EVENT_TIMESTAMP:
254  * @event: the event to query
255  *
256  * Get the #GstClockTime timestamp of the event. This is the time when the event
257  * was created.
258  */

259 #define GST_EVENT_TIMESTAMP(event)      (GST_EVENT_CAST(event)-&gt;timestamp)
260 
261 /**
262  * GST_EVENT_SEQNUM:
263  * @event: the event to query
264  *
265  * The sequence number of @event.
266  */
267 #define GST_EVENT_SEQNUM(event)         (GST_EVENT_CAST(event)-&gt;seqnum)
268 
269 /**
270  * GST_EVENT_IS_UPSTREAM:
271  * @ev: the event to query
272  *
273  * Check if an event can travel upstream.
274  */
275 #define GST_EVENT_IS_UPSTREAM(ev)       !!(GST_EVENT_TYPE (ev) &amp; GST_EVENT_TYPE_UPSTREAM)
276 /**
277  * GST_EVENT_IS_DOWNSTREAM:
278  * @ev: the event to query
</pre>
<hr />
<pre>
393   GST_QOS_TYPE_OVERFLOW        = 0,
394   GST_QOS_TYPE_UNDERFLOW       = 1,
395   GST_QOS_TYPE_THROTTLE        = 2
396 } GstQOSType;
397 
398 
399 /**
400  * GstEvent:
401  * @mini_object: the parent structure
402  * @type: the #GstEventType of the event
403  * @timestamp: the timestamp of the event
404  * @seqnum: the sequence number of the event
405  *
406  * A #GstEvent.
407  */
408 struct _GstEvent {
409   GstMiniObject mini_object;
410 
411   /*&lt; public &gt;*/ /* with COW */
412   GstEventType  type;

413   guint64       timestamp;
414   guint32       seqnum;
415 };
416 
417 GST_API
418 const gchar*    gst_event_type_get_name         (GstEventType type);
419 
420 GST_API
421 GQuark          gst_event_type_to_quark         (GstEventType type);
422 
423 GST_API
424 GstEventTypeFlags
425                 gst_event_type_get_flags        (GstEventType type);
426 
427 
428 /* refcounting */
429 /**
430  * gst_event_ref:
431  * @event: The event to refcount
432  *
</pre>
<hr />
<pre>
435  * Returns: (transfer full): @event (for convenience when doing assignments)
436  */
437 static inline GstEvent *
438 gst_event_ref (GstEvent * event)
439 {
440   return (GstEvent *) gst_mini_object_ref (GST_MINI_OBJECT_CAST (event));
441 }
442 
443 /**
444  * gst_event_unref:
445  * @event: (transfer full): the event to refcount
446  *
447  * Decrease the refcount of an event, freeing it if the refcount reaches 0.
448  */
449 static inline void
450 gst_event_unref (GstEvent * event)
451 {
452   gst_mini_object_unref (GST_MINI_OBJECT_CAST (event));
453 }
454 



















455 /* copy event */
456 /**
457  * gst_event_copy:
458  * @event: The event to copy
459  *
460  * Copy the event using the event specific copy function.
461  *
462  * Returns: (transfer full): the new event
463  */
464 static inline GstEvent *
465 gst_event_copy (const GstEvent * event)
466 {
467   return GST_EVENT_CAST (gst_mini_object_copy (GST_MINI_OBJECT_CONST_CAST (event)));
468 }
469 
470 GST_API
471 GType           gst_event_get_type              (void);
472 
473 /* custom event */
474 
</pre>
<hr />
<pre>
493 GST_API
494 void            gst_event_set_seqnum            (GstEvent *event, guint32 seqnum);
495 
496 /* accumulated pad offsets for the event */
497 
498 GST_API
499 gint64          gst_event_get_running_time_offset (GstEvent *event);
500 
501 GST_API
502 void            gst_event_set_running_time_offset (GstEvent *event, gint64 offset);
503 
504 /* Stream start event */
505 
506 GST_API
507 GstEvent *      gst_event_new_stream_start      (const gchar *stream_id) G_GNUC_MALLOC;
508 
509 GST_API
510 void            gst_event_parse_stream_start    (GstEvent *event, const gchar **stream_id);
511 
512 GST_API
<span class="line-modified">513 void            gst_event_set_stream        (GstEvent *event, GstStream *stream);</span>
514 
515 GST_API
<span class="line-modified">516 void            gst_event_parse_stream      (GstEvent *event, GstStream **stream);</span>
517 
518 GST_API
519 void            gst_event_set_stream_flags      (GstEvent *event, GstStreamFlags flags);
520 
521 GST_API
522 void            gst_event_parse_stream_flags    (GstEvent *event, GstStreamFlags *flags);
523 
524 GST_API
525 void            gst_event_set_group_id          (GstEvent *event, guint group_id);
526 
527 GST_API
528 gboolean        gst_event_parse_group_id        (GstEvent *event, guint *group_id);
529 
530 /* flush events */
531 
532 GST_API
533 GstEvent *      gst_event_new_flush_start       (void) G_GNUC_MALLOC;
534 
535 GST_API
536 GstEvent *      gst_event_new_flush_stop        (gboolean reset_time) G_GNUC_MALLOC;
</pre>
<hr />
<pre>
642 
643 GST_API
644 GstEvent*       gst_event_new_qos               (GstQOSType type, gdouble proportion,
645                                                  GstClockTimeDiff diff, GstClockTime timestamp) G_GNUC_MALLOC;
646 GST_API
647 void            gst_event_parse_qos             (GstEvent *event, GstQOSType *type,
648                                                  gdouble *proportion, GstClockTimeDiff *diff,
649                                                  GstClockTime *timestamp);
650 /* seek event */
651 
652 GST_API
653 GstEvent*       gst_event_new_seek              (gdouble rate, GstFormat format, GstSeekFlags flags,
654                                                  GstSeekType start_type, gint64 start,
655                                                  GstSeekType stop_type, gint64 stop) G_GNUC_MALLOC;
656 GST_API
657 void            gst_event_parse_seek            (GstEvent *event, gdouble *rate, GstFormat *format,
658                                                  GstSeekFlags *flags,
659                                                  GstSeekType *start_type, gint64 *start,
660                                                  GstSeekType *stop_type, gint64 *stop);
661 






662 /* navigation event */
663 
664 GST_API
665 GstEvent*       gst_event_new_navigation        (GstStructure *structure) G_GNUC_MALLOC;
666 
667 /* latency event */
668 
669 GST_API
670 GstEvent*       gst_event_new_latency           (GstClockTime latency) G_GNUC_MALLOC;
671 
672 GST_API
673 void            gst_event_parse_latency         (GstEvent *event, GstClockTime *latency);
674 
675 /* step event */
676 
677 GST_API
678 GstEvent*       gst_event_new_step              (GstFormat format, guint64 amount, gdouble rate,
679                                                  gboolean flush, gboolean intermediate) G_GNUC_MALLOC;
680 GST_API
681 void            gst_event_parse_step            (GstEvent *event, GstFormat *format, guint64 *amount,
</pre>
</td>
<td>
<hr />
<pre>
 62 /**
 63  * GST_EVENT_MAKE_TYPE:
 64  * @num: the event number to create
 65  * @flags: the event flags
 66  *
 67  * when making custom event types, use this macro with the num and
 68  * the given flags
 69  */
 70 #define GST_EVENT_MAKE_TYPE(num,flags) \
 71     (((num) &lt;&lt; GST_EVENT_NUM_SHIFT) | (flags))
 72 
 73 #define FLAG(name) GST_EVENT_TYPE_##name
 74 
 75 /**
 76  * GstEventType:
 77  * @GST_EVENT_UNKNOWN: unknown event.
 78  * @GST_EVENT_FLUSH_START: Start a flush operation. This event clears all data
 79  *                 from the pipeline and unblock all streaming threads.
 80  * @GST_EVENT_FLUSH_STOP: Stop a flush operation. This event resets the
 81  *                 running-time of the pipeline.
<span class="line-modified"> 82  * @GST_EVENT_SELECT_STREAMS: A request to select one or more streams (Since: 1.10)</span>
 83  * @GST_EVENT_STREAM_START: Event to mark the start of a new stream. Sent before any
 84  *                 other serialized event and only sent at the start of a new stream,
 85  *                 not after flushing seeks.
 86  * @GST_EVENT_CAPS: #GstCaps event. Notify the pad of a new media type.
 87  * @GST_EVENT_SEGMENT: A new media segment follows in the dataflow. The
 88  *                 segment events contains information for clipping buffers and
 89  *                 converting buffer timestamps to running-time and
 90  *                 stream-time.
<span class="line-modified"> 91  * @GST_EVENT_STREAM_COLLECTION: A new #GstStreamCollection is available (Since: 1.10)</span>
 92  * @GST_EVENT_TAG: A new set of metadata tags has been found in the stream.
 93  * @GST_EVENT_BUFFERSIZE: Notification of buffering requirements. Currently not
 94  *                 used yet.
 95  * @GST_EVENT_SINK_MESSAGE: An event that sinks turn into a message. Used to
 96  *                          send messages that should be emitted in sync with
 97  *                          rendering.
 98  * @GST_EVENT_STREAM_GROUP_DONE: Indicates that there is no more data for
 99  *                 the stream group ID in the message. Sent before EOS
<span class="line-modified">100  *                 in some instances and should be handled mostly the same. (Since: 1.10)</span>
101  * @GST_EVENT_EOS: End-Of-Stream. No more data is to be expected to follow
102  *                 without either a STREAM_START event, or a FLUSH_STOP and a SEGMENT
103  *                 event.
104  * @GST_EVENT_SEGMENT_DONE: Marks the end of a segment playback.
105  * @GST_EVENT_GAP: Marks a gap in the datastream.
106  * @GST_EVENT_TOC: An event which indicates that a new table of contents (TOC)
107  *                 was found or updated.
108  * @GST_EVENT_PROTECTION: An event which indicates that new or updated
109  *                 encryption information has been found in the stream.
110  * @GST_EVENT_QOS: A quality message. Used to indicate to upstream elements
111  *                 that the downstream elements should adjust their processing
112  *                 rate.
113  * @GST_EVENT_SEEK: A request for a new playback position and rate.
114  * @GST_EVENT_NAVIGATION: Navigation events are usually used for communicating
115  *                        user requests, such as mouse or keyboard movements,
116  *                        to upstream elements.
117  * @GST_EVENT_LATENCY: Notification of new latency adjustment. Sinks will use
118  *                     the latency information to adjust their synchronisation.
119  * @GST_EVENT_STEP: A request for stepping through the media. Sinks will usually
120  *                  execute the step operation.
</pre>
<hr />
<pre>
239  *
240  * Get the #GstEventType of the event.
241  */
242 #define GST_EVENT_TYPE(event)           (GST_EVENT_CAST(event)-&gt;type)
243 
244 /**
245  * GST_EVENT_TYPE_NAME:
246  * @event: the event to query
247  *
248  * Get a constant string representation of the #GstEventType of the event.
249  */
250 #define GST_EVENT_TYPE_NAME(event)      (gst_event_type_get_name(GST_EVENT_TYPE(event)))
251 
252 /**
253  * GST_EVENT_TIMESTAMP:
254  * @event: the event to query
255  *
256  * Get the #GstClockTime timestamp of the event. This is the time when the event
257  * was created.
258  */
<span class="line-added">259 /* FIXME 2.0: Remove the GstEvent::timestamp field */</span>
260 #define GST_EVENT_TIMESTAMP(event)      (GST_EVENT_CAST(event)-&gt;timestamp)
261 
262 /**
263  * GST_EVENT_SEQNUM:
264  * @event: the event to query
265  *
266  * The sequence number of @event.
267  */
268 #define GST_EVENT_SEQNUM(event)         (GST_EVENT_CAST(event)-&gt;seqnum)
269 
270 /**
271  * GST_EVENT_IS_UPSTREAM:
272  * @ev: the event to query
273  *
274  * Check if an event can travel upstream.
275  */
276 #define GST_EVENT_IS_UPSTREAM(ev)       !!(GST_EVENT_TYPE (ev) &amp; GST_EVENT_TYPE_UPSTREAM)
277 /**
278  * GST_EVENT_IS_DOWNSTREAM:
279  * @ev: the event to query
</pre>
<hr />
<pre>
394   GST_QOS_TYPE_OVERFLOW        = 0,
395   GST_QOS_TYPE_UNDERFLOW       = 1,
396   GST_QOS_TYPE_THROTTLE        = 2
397 } GstQOSType;
398 
399 
400 /**
401  * GstEvent:
402  * @mini_object: the parent structure
403  * @type: the #GstEventType of the event
404  * @timestamp: the timestamp of the event
405  * @seqnum: the sequence number of the event
406  *
407  * A #GstEvent.
408  */
409 struct _GstEvent {
410   GstMiniObject mini_object;
411 
412   /*&lt; public &gt;*/ /* with COW */
413   GstEventType  type;
<span class="line-added">414   /* FIXME 2.0: Remove the GstEvent::timestamp field */</span>
415   guint64       timestamp;
416   guint32       seqnum;
417 };
418 
419 GST_API
420 const gchar*    gst_event_type_get_name         (GstEventType type);
421 
422 GST_API
423 GQuark          gst_event_type_to_quark         (GstEventType type);
424 
425 GST_API
426 GstEventTypeFlags
427                 gst_event_type_get_flags        (GstEventType type);
428 
429 
430 /* refcounting */
431 /**
432  * gst_event_ref:
433  * @event: The event to refcount
434  *
</pre>
<hr />
<pre>
437  * Returns: (transfer full): @event (for convenience when doing assignments)
438  */
439 static inline GstEvent *
440 gst_event_ref (GstEvent * event)
441 {
442   return (GstEvent *) gst_mini_object_ref (GST_MINI_OBJECT_CAST (event));
443 }
444 
445 /**
446  * gst_event_unref:
447  * @event: (transfer full): the event to refcount
448  *
449  * Decrease the refcount of an event, freeing it if the refcount reaches 0.
450  */
451 static inline void
452 gst_event_unref (GstEvent * event)
453 {
454   gst_mini_object_unref (GST_MINI_OBJECT_CAST (event));
455 }
456 
<span class="line-added">457 /**</span>
<span class="line-added">458  * gst_clear_event: (skip)</span>
<span class="line-added">459  * @event_ptr: a pointer to a #GstEvent reference</span>
<span class="line-added">460  *</span>
<span class="line-added">461  * Clears a reference to a #GstEvent.</span>
<span class="line-added">462  *</span>
<span class="line-added">463  * @event_ptr must not be %NULL.</span>
<span class="line-added">464  *</span>
<span class="line-added">465  * If the reference is %NULL then this function does nothing. Otherwise, the</span>
<span class="line-added">466  * reference count of the event is decreased and the pointer is set to %NULL.</span>
<span class="line-added">467  *</span>
<span class="line-added">468  * Since: 1.16</span>
<span class="line-added">469  */</span>
<span class="line-added">470 static inline void</span>
<span class="line-added">471 gst_clear_event (GstEvent ** event_ptr)</span>
<span class="line-added">472 {</span>
<span class="line-added">473   gst_clear_mini_object ((GstMiniObject **) event_ptr);</span>
<span class="line-added">474 }</span>
<span class="line-added">475 </span>
476 /* copy event */
477 /**
478  * gst_event_copy:
479  * @event: The event to copy
480  *
481  * Copy the event using the event specific copy function.
482  *
483  * Returns: (transfer full): the new event
484  */
485 static inline GstEvent *
486 gst_event_copy (const GstEvent * event)
487 {
488   return GST_EVENT_CAST (gst_mini_object_copy (GST_MINI_OBJECT_CONST_CAST (event)));
489 }
490 
491 GST_API
492 GType           gst_event_get_type              (void);
493 
494 /* custom event */
495 
</pre>
<hr />
<pre>
514 GST_API
515 void            gst_event_set_seqnum            (GstEvent *event, guint32 seqnum);
516 
517 /* accumulated pad offsets for the event */
518 
519 GST_API
520 gint64          gst_event_get_running_time_offset (GstEvent *event);
521 
522 GST_API
523 void            gst_event_set_running_time_offset (GstEvent *event, gint64 offset);
524 
525 /* Stream start event */
526 
527 GST_API
528 GstEvent *      gst_event_new_stream_start      (const gchar *stream_id) G_GNUC_MALLOC;
529 
530 GST_API
531 void            gst_event_parse_stream_start    (GstEvent *event, const gchar **stream_id);
532 
533 GST_API
<span class="line-modified">534 void            gst_event_set_stream    (GstEvent *event, GstStream *stream);</span>
535 
536 GST_API
<span class="line-modified">537 void            gst_event_parse_stream    (GstEvent *event, GstStream **stream);</span>
538 
539 GST_API
540 void            gst_event_set_stream_flags      (GstEvent *event, GstStreamFlags flags);
541 
542 GST_API
543 void            gst_event_parse_stream_flags    (GstEvent *event, GstStreamFlags *flags);
544 
545 GST_API
546 void            gst_event_set_group_id          (GstEvent *event, guint group_id);
547 
548 GST_API
549 gboolean        gst_event_parse_group_id        (GstEvent *event, guint *group_id);
550 
551 /* flush events */
552 
553 GST_API
554 GstEvent *      gst_event_new_flush_start       (void) G_GNUC_MALLOC;
555 
556 GST_API
557 GstEvent *      gst_event_new_flush_stop        (gboolean reset_time) G_GNUC_MALLOC;
</pre>
<hr />
<pre>
663 
664 GST_API
665 GstEvent*       gst_event_new_qos               (GstQOSType type, gdouble proportion,
666                                                  GstClockTimeDiff diff, GstClockTime timestamp) G_GNUC_MALLOC;
667 GST_API
668 void            gst_event_parse_qos             (GstEvent *event, GstQOSType *type,
669                                                  gdouble *proportion, GstClockTimeDiff *diff,
670                                                  GstClockTime *timestamp);
671 /* seek event */
672 
673 GST_API
674 GstEvent*       gst_event_new_seek              (gdouble rate, GstFormat format, GstSeekFlags flags,
675                                                  GstSeekType start_type, gint64 start,
676                                                  GstSeekType stop_type, gint64 stop) G_GNUC_MALLOC;
677 GST_API
678 void            gst_event_parse_seek            (GstEvent *event, gdouble *rate, GstFormat *format,
679                                                  GstSeekFlags *flags,
680                                                  GstSeekType *start_type, gint64 *start,
681                                                  GstSeekType *stop_type, gint64 *stop);
682 
<span class="line-added">683 GST_API</span>
<span class="line-added">684 void            gst_event_set_seek_trickmode_interval (GstEvent *event, GstClockTime interval);</span>
<span class="line-added">685 </span>
<span class="line-added">686 GST_API</span>
<span class="line-added">687 void            gst_event_parse_seek_trickmode_interval (GstEvent *event, GstClockTime *interval);</span>
<span class="line-added">688 </span>
689 /* navigation event */
690 
691 GST_API
692 GstEvent*       gst_event_new_navigation        (GstStructure *structure) G_GNUC_MALLOC;
693 
694 /* latency event */
695 
696 GST_API
697 GstEvent*       gst_event_new_latency           (GstClockTime latency) G_GNUC_MALLOC;
698 
699 GST_API
700 void            gst_event_parse_latency         (GstEvent *event, GstClockTime *latency);
701 
702 /* step event */
703 
704 GST_API
705 GstEvent*       gst_event_new_step              (GstFormat format, guint64 amount, gdouble rate,
706                                                  gboolean flush, gboolean intermediate) G_GNUC_MALLOC;
707 GST_API
708 void            gst_event_parse_step            (GstEvent *event, GstFormat *format, guint64 *amount,
</pre>
</td>
</tr>
</table>
<center><a href="gstevent.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstghostpad.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>