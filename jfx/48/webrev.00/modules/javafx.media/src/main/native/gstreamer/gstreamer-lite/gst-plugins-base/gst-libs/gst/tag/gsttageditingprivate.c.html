<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>New modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-base/gst-libs/gst/tag/gsttageditingprivate.c</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /* GStreamer
  2  * Copyright (C) 2010 Thiago Santos &lt;thiago.sousa.santos@collabora.co.uk&gt;
  3  *
  4  * This library is free software; you can redistribute it and/or
  5  * modify it under the terms of the GNU Library General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Library General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Library General Public
 15  * License along with this library; if not, write to the
 16  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 17  * Boston, MA 02110-1301, USA.
 18  */
 19 #ifdef HAVE_CONFIG_H
 20 #include &quot;config.h&quot;
 21 #endif
 22 
 23 #include &quot;gsttageditingprivate.h&quot;
 24 
 25 #include &lt;string.h&gt;
 26 
 27 gint
 28 __exif_tag_image_orientation_to_exif_value (const gchar * str)
 29 {
 30   if (str == NULL)
 31     goto end;
 32 
 33   if (strcmp (str, &quot;rotate-0&quot;) == 0)
 34     return 1;
 35   else if (strcmp (str, &quot;flip-rotate-0&quot;) == 0)
 36     return 2;
 37   else if (strcmp (str, &quot;rotate-180&quot;) == 0)
 38     return 3;
 39   else if (strcmp (str, &quot;flip-rotate-180&quot;) == 0)
 40     return 4;
 41   else if (strcmp (str, &quot;flip-rotate-270&quot;) == 0)
 42     return 5;
 43   else if (strcmp (str, &quot;rotate-90&quot;) == 0)
 44     return 6;
 45   else if (strcmp (str, &quot;flip-rotate-90&quot;) == 0)
 46     return 7;
 47   else if (strcmp (str, &quot;rotate-270&quot;) == 0)
 48     return 8;
 49 
 50 end:
 51   GST_WARNING (&quot;Invalid image orientation tag: %s&quot;, str);
 52   return -1;
 53 }
 54 
 55 const gchar *
 56 __exif_tag_image_orientation_from_exif_value (gint value)
 57 {
 58   switch (value) {
 59     case 1:
 60       return &quot;rotate-0&quot;;
 61     case 2:
 62       return &quot;flip-rotate-0&quot;;
 63     case 3:
 64       return &quot;rotate-180&quot;;
 65     case 4:
 66       return &quot;flip-rotate-180&quot;;
 67     case 5:
 68       return &quot;flip-rotate-270&quot;;
 69     case 6:
 70       return &quot;rotate-90&quot;;
 71     case 7:
 72       return &quot;flip-rotate-90&quot;;
 73     case 8:
 74       return &quot;rotate-270&quot;;
 75     default:
 76       GST_WARNING (&quot;Invalid tiff orientation tag value: %d&quot;, value);
 77       return NULL;
 78   }
 79 }
 80 
 81 gint
 82 __exif_tag_capturing_exposure_program_to_exif_value (const gchar * str)
 83 {
 84   if (str == NULL)
 85     goto end;
 86 
 87   if (strcmp (str, &quot;undefined&quot;) == 0)
 88     return 0;
 89   else if (strcmp (str, &quot;manual&quot;) == 0)
 90     return 1;
 91   else if (strcmp (str, &quot;normal&quot;) == 0)
 92     return 2;
 93   else if (strcmp (str, &quot;aperture-priority&quot;) == 0)
 94     return 3;
 95   else if (strcmp (str, &quot;shutter-priority&quot;) == 0)
 96     return 4;
 97   else if (strcmp (str, &quot;creative&quot;) == 0)
 98     return 5;
 99   else if (strcmp (str, &quot;action&quot;) == 0)
100     return 6;
101   else if (strcmp (str, &quot;portrait&quot;) == 0)
102     return 7;
103   else if (strcmp (str, &quot;landscape&quot;) == 0)
104     return 8;
105 
106 end:
107   GST_WARNING (&quot;Invalid capturing exposure program tag: %s&quot;, str);
108   return -1;
109 }
110 
111 const gchar *
112 __exif_tag_capturing_exposure_program_from_exif_value (gint value)
113 {
114   switch (value) {
115     case 0:
116       return &quot;undefined&quot;;
117     case 1:
118       return &quot;manual&quot;;
119     case 2:
120       return &quot;normal&quot;;
121     case 3:
122       return &quot;aperture-priority&quot;;
123     case 4:
124       return &quot;shutter-priority&quot;;
125     case 5:
126       return &quot;creative&quot;;
127     case 6:
128       return &quot;action&quot;;
129     case 7:
130       return &quot;portrait&quot;;
131     case 8:
132       return &quot;landscape&quot;;
133     default:
134       GST_WARNING (&quot;Invalid exif exposure program: %d&quot;, value);
135       return NULL;
136   }
137 }
138 
139 gint
140 __exif_tag_capturing_exposure_mode_to_exif_value (const gchar * str)
141 {
142   if (str == NULL)
143     goto end;
144 
145   if (strcmp (str, &quot;auto-exposure&quot;) == 0)
146     return 0;
147   else if (strcmp (str, &quot;manual-exposure&quot;) == 0)
148     return 1;
149   else if (strcmp (str, &quot;auto-bracket&quot;) == 0)
150     return 2;
151 
152 end:
153   GST_WARNING (&quot;Invalid capturing exposure mode tag: %s&quot;, str);
154   return -1;
155 }
156 
157 const gchar *
158 __exif_tag_capturing_exposure_mode_from_exif_value (gint value)
159 {
160   switch (value) {
161     case 0:
162       return &quot;auto-exposure&quot;;
163     case 1:
164       return &quot;manual-exposure&quot;;
165     case 2:
166       return &quot;auto-bracket&quot;;
167     default:
168       GST_WARNING (&quot;Invalid exif exposure mode: %d&quot;, value);
169       return NULL;
170   }
171 }
172 
173 gint
174 __exif_tag_capturing_scene_capture_type_to_exif_value (const gchar * str)
175 {
176   if (str == NULL)
177     goto end;
178 
179   if (strcmp (str, &quot;standard&quot;) == 0)
180     return 0;
181   else if (strcmp (str, &quot;landscape&quot;) == 0)
182     return 1;
183   else if (strcmp (str, &quot;portrait&quot;) == 0)
184     return 2;
185   else if (strcmp (str, &quot;night-scene&quot;) == 0)
186     return 3;
187 
188 end:
189   GST_WARNING (&quot;Invalid capturing scene capture type: %s&quot;, str);
190   return -1;
191 }
192 
193 const gchar *
194 __exif_tag_capturing_scene_capture_type_from_exif_value (gint value)
195 {
196   switch (value) {
197     case 0:
198       return &quot;standard&quot;;
199     case 1:
200       return &quot;landscape&quot;;
201     case 2:
202       return &quot;portrait&quot;;
203     case 3:
204       return &quot;night-scene&quot;;
205     default:
206       GST_WARNING (&quot;Invalid exif scene capture type: %d&quot;, value);
207       return NULL;
208   }
209 }
210 
211 gint
212 __exif_tag_capturing_gain_adjustment_to_exif_value (const gchar * str)
213 {
214   if (str == NULL)
215     goto end;
216 
217   if (strcmp (str, &quot;none&quot;) == 0)
218     return 0;
219   else if (strcmp (str, &quot;low-gain-up&quot;) == 0)
220     return 1;
221   else if (strcmp (str, &quot;high-gain-up&quot;) == 0)
222     return 2;
223   else if (strcmp (str, &quot;low-gain-down&quot;) == 0)
224     return 3;
225   else if (strcmp (str, &quot;high-gain-down&quot;) == 0)
226     return 4;
227 
228 end:
229   GST_WARNING (&quot;Invalid capturing gain adjustment type: %s&quot;, str);
230   return -1;
231 }
232 
233 const gchar *
234 __exif_tag_capturing_gain_adjustment_from_exif_value (gint value)
235 {
236   switch (value) {
237     case 0:
238       return &quot;none&quot;;
239     case 1:
240       return &quot;low-gain-up&quot;;
241     case 2:
242       return &quot;high-gain-up&quot;;
243     case 3:
244       return &quot;low-gain-down&quot;;
245     case 4:
246       return &quot;high-gain-down&quot;;
247     default:
248       GST_WARNING (&quot;Invalid exif gain control type: %d&quot;, value);
249       return NULL;
250   }
251 }
252 
253 gint
254 __exif_tag_capturing_white_balance_to_exif_value (const gchar * str)
255 {
256   if (str == NULL)
257     goto end;
258 
259   if (strcmp (str, &quot;auto&quot;) == 0)
260     return 0;
261   else                          /* everything else is just manual */
262     return 1;
263 
264 end:
265   GST_WARNING (&quot;Invalid white balance: %s&quot;, str);
266   return -1;
267 }
268 
269 const gchar *
270 __exif_tag_capturing_white_balance_from_exif_value (gint value)
271 {
272   switch (value) {
273     case 0:
274       return &quot;auto&quot;;
275     case 1:
276       return &quot;manual&quot;;
277     default:
278       GST_WARNING (&quot;Invalid white balance type: %d&quot;, value);
279       return NULL;
280   }
281 }
282 
283 static gint
284 __exif_tag_capturing_contrast_sharpness_to_exif_value (const gchar * str,
285     const gchar * tag_name)
286 {
287   if (str == NULL)
288     goto end;
289 
290   if (strcmp (str, &quot;normal&quot;) == 0)
291     return 0;
292   else if (strcmp (str, &quot;soft&quot;) == 0)
293     return 1;
294   else if (strcmp (str, &quot;hard&quot;) == 0)
295     return 2;
296 
297 end:
298   GST_WARNING (&quot;Invalid %s type: %s&quot;, tag_name, str);
299   return -1;
300 }
301 
302 static const gchar *
303 __exif_tag_capturing_contrast_sharpness_from_exif_value (gint value,
304     const gchar * tag_name)
305 {
306   switch (value) {
307     case 0:
308       return &quot;normal&quot;;
309     case 1:
310       return &quot;soft&quot;;
311     case 2:
312       return &quot;hard&quot;;
313     default:
314       GST_WARNING (&quot;Invalid %s type: %d&quot;, tag_name, value);
315       return NULL;
316   }
317 }
318 
319 gint
320 __exif_tag_capturing_contrast_to_exif_value (const gchar * str)
321 {
322   return __exif_tag_capturing_contrast_sharpness_to_exif_value (str,
323       &quot;contrast&quot;);
324 }
325 
326 const gchar *
327 __exif_tag_capturing_contrast_from_exif_value (gint value)
328 {
329   return __exif_tag_capturing_contrast_sharpness_from_exif_value (value,
330       &quot;contrast&quot;);
331 }
332 
333 gint
334 __exif_tag_capturing_saturation_to_exif_value (const gchar * str)
335 {
336   if (str == NULL)
337     goto end;
338 
339   if (strcmp (str, &quot;normal&quot;) == 0)
340     return 0;
341   else if (strcmp (str, &quot;low-saturation&quot;) == 0)
342     return 1;
343   else if (strcmp (str, &quot;high-saturation&quot;) == 0)
344     return 2;
345 
346 end:
347   GST_WARNING (&quot;Invalid saturation type: %s&quot;, str);
348   return -1;
349 }
350 
351 const gchar *
352 __exif_tag_capturing_saturation_from_exif_value (gint value)
353 {
354   switch (value) {
355     case 0:
356       return &quot;normal&quot;;
357     case 1:
358       return &quot;low-saturation&quot;;
359     case 2:
360       return &quot;high-saturation&quot;;
361     default:
362       GST_WARNING (&quot;Invalid saturation type: %d&quot;, value);
363       return NULL;
364   }
365 }
366 
367 gint
368 __exif_tag_capturing_sharpness_to_exif_value (const gchar * str)
369 {
370   return __exif_tag_capturing_contrast_sharpness_to_exif_value (str,
371       &quot;sharpness&quot;);
372 }
373 
374 const gchar *
375 __exif_tag_capturing_sharpness_from_exif_value (gint value)
376 {
377   return __exif_tag_capturing_contrast_sharpness_from_exif_value (value,
378       &quot;sharpness&quot;);
379 }
380 
381 gint
382 __exif_tag_capturing_metering_mode_to_exif_value (const gchar * str)
383 {
384   if (str == NULL)
385     goto end;
386 
387   if (strcmp (str, &quot;unknown&quot;) == 0)
388     return 0;
389   else if (strcmp (str, &quot;average&quot;) == 0)
390     return 1;
391   else if (strcmp (str, &quot;center-weighted-average&quot;) == 0)
392     return 2;
393   else if (strcmp (str, &quot;spot&quot;) == 0)
394     return 3;
395   else if (strcmp (str, &quot;multi-spot&quot;) == 0)
396     return 4;
397   else if (strcmp (str, &quot;pattern&quot;) == 0)
398     return 5;
399   else if (strcmp (str, &quot;partial&quot;) == 0)
400     return 6;
401   else if (strcmp (str, &quot;other&quot;) == 0)
402     return 255;
403 
404 end:
405   GST_WARNING (&quot;Invalid metering mode type: %s&quot;, str);
406   return -1;
407 }
408 
409 const gchar *
410 __exif_tag_capturing_metering_mode_from_exif_value (gint value)
411 {
412   switch (value) {
413     case 0:
414       return &quot;unknown&quot;;
415     case 1:
416       return &quot;average&quot;;
417     case 2:
418       return &quot;center-weighted-average&quot;;
419     case 3:
420       return &quot;spot&quot;;
421     case 4:
422       return &quot;multi-spot&quot;;
423     case 5:
424       return &quot;pattern&quot;;
425     case 6:
426       return &quot;partial&quot;;
427     case 255:
428       return &quot;other&quot;;
429     default:
430       GST_WARNING (&quot;Invalid metering mode type: %d&quot;, value);
431       return NULL;
432   }
433 }
434 
435 gint
436 __exif_tag_capturing_source_to_exif_value (const gchar * str)
437 {
438   if (str == NULL)
439     goto end;
440 
441   if (strcmp (str, &quot;dsc&quot;) == 0)
442     return 3;
443   else if (strcmp (str, &quot;other&quot;) == 0)
444     return 0;
445   else if (strcmp (str, &quot;transparent-scanner&quot;) == 0)
446     return 1;
447   else if (strcmp (str, &quot;reflex-scanner&quot;) == 0)
448     return 2;
449 
450 end:
451   GST_WARNING (&quot;Invalid capturing source type: %s&quot;, str);
452   return -1;
453 }
454 
455 const gchar *
456 __exif_tag_capturing_source_from_exif_value (gint value)
457 {
458   switch (value) {
459     case 0:
460       return &quot;other&quot;;
461     case 1:
462       return &quot;transparent-scanner&quot;;
463     case 2:
464       return &quot;reflex-scanner&quot;;
465     case 3:
466       return &quot;dsc&quot;;
467     default:
468       GST_WARNING (&quot;Invalid capturing source type: %d&quot;, value);
469       return NULL;
470   }
471 }
    </pre>
  </body>
</html>