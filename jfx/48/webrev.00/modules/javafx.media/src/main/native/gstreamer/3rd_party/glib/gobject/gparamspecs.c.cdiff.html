<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gparamspecs.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gparam.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gparamspecs.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gparamspecs.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 51,12 ***</span>
   * characters can be letters, numbers or a &#39;-&#39;.
   * All other characters are replaced by a &#39;-&#39; during construction.
   */
  
  
<span class="line-modified">! #define G_FLOAT_EPSILON     (1e-30)</span>
<span class="line-modified">! #define G_DOUBLE_EPSILON    (1e-90)</span>
  
  
  /* --- param spec functions --- */
  static void
  param_char_init (GParamSpec *pspec)
<span class="line-new-header">--- 51,12 ---</span>
   * characters can be letters, numbers or a &#39;-&#39;.
   * All other characters are replaced by a &#39;-&#39; during construction.
   */
  
  
<span class="line-modified">! #define G_FLOAT_EPSILON   (1e-30)</span>
<span class="line-modified">! #define G_DOUBLE_EPSILON  (1e-90)</span>
  
  
  /* --- param spec functions --- */
  static void
  param_char_init (GParamSpec *pspec)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 68,18 ***</span>
    cspec-&gt;default_value = 0;
  }
  
  static void
  param_char_set_default (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    value-&gt;data[0].v_int = G_PARAM_SPEC_CHAR (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_char_validate (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecChar *cspec = G_PARAM_SPEC_CHAR (pspec);
    gint oval = value-&gt;data[0].v_int;
  
    value-&gt;data[0].v_int = CLAMP (value-&gt;data[0].v_int, cspec-&gt;minimum, cspec-&gt;maximum);
<span class="line-new-header">--- 68,18 ---</span>
    cspec-&gt;default_value = 0;
  }
  
  static void
  param_char_set_default (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    value-&gt;data[0].v_int = G_PARAM_SPEC_CHAR (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_char_validate (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    GParamSpecChar *cspec = G_PARAM_SPEC_CHAR (pspec);
    gint oval = value-&gt;data[0].v_int;
  
    value-&gt;data[0].v_int = CLAMP (value-&gt;data[0].v_int, cspec-&gt;minimum, cspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 97,18 ***</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_uchar_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_uint = G_PARAM_SPEC_UCHAR (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_uchar_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    GParamSpecUChar *uspec = G_PARAM_SPEC_UCHAR (pspec);
    guint oval = value-&gt;data[0].v_uint;
  
    value-&gt;data[0].v_uint = CLAMP (value-&gt;data[0].v_uint, uspec-&gt;minimum, uspec-&gt;maximum);
<span class="line-new-header">--- 97,18 ---</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_uchar_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_uint = G_PARAM_SPEC_UCHAR (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_uchar_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecUChar *uspec = G_PARAM_SPEC_UCHAR (pspec);
    guint oval = value-&gt;data[0].v_uint;
  
    value-&gt;data[0].v_uint = CLAMP (value-&gt;data[0].v_uint, uspec-&gt;minimum, uspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 116,18 ***</span>
    return value-&gt;data[0].v_uint != oval;
  }
  
  static void
  param_boolean_set_default (GParamSpec *pspec,
<span class="line-modified">!                GValue     *value)</span>
  {
    value-&gt;data[0].v_int = G_PARAM_SPEC_BOOLEAN (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_boolean_validate (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    gint oval = value-&gt;data[0].v_int;
  
    value-&gt;data[0].v_int = value-&gt;data[0].v_int != FALSE;
  
<span class="line-new-header">--- 116,18 ---</span>
    return value-&gt;data[0].v_uint != oval;
  }
  
  static void
  param_boolean_set_default (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    value-&gt;data[0].v_int = G_PARAM_SPEC_BOOLEAN (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_boolean_validate (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    gint oval = value-&gt;data[0].v_int;
  
    value-&gt;data[0].v_int = value-&gt;data[0].v_int != FALSE;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 144,18 ***</span>
    ispec-&gt;default_value = 0;
  }
  
  static void
  param_int_set_default (GParamSpec *pspec,
<span class="line-modified">!                GValue     *value)</span>
  {
    value-&gt;data[0].v_int = G_PARAM_SPEC_INT (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_int_validate (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    GParamSpecInt *ispec = G_PARAM_SPEC_INT (pspec);
    gint oval = value-&gt;data[0].v_int;
  
    value-&gt;data[0].v_int = CLAMP (value-&gt;data[0].v_int, ispec-&gt;minimum, ispec-&gt;maximum);
<span class="line-new-header">--- 144,18 ---</span>
    ispec-&gt;default_value = 0;
  }
  
  static void
  param_int_set_default (GParamSpec *pspec,
<span class="line-modified">!            GValue     *value)</span>
  {
    value-&gt;data[0].v_int = G_PARAM_SPEC_INT (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_int_validate (GParamSpec *pspec,
<span class="line-modified">!         GValue     *value)</span>
  {
    GParamSpecInt *ispec = G_PARAM_SPEC_INT (pspec);
    gint oval = value-&gt;data[0].v_int;
  
    value-&gt;data[0].v_int = CLAMP (value-&gt;data[0].v_int, ispec-&gt;minimum, ispec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 163,12 ***</span>
    return value-&gt;data[0].v_int != oval;
  }
  
  static gint
  param_int_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!               const GValue *value1,</span>
<span class="line-modified">!               const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_int &lt; value2-&gt;data[0].v_int)
      return -1;
    else
      return value1-&gt;data[0].v_int &gt; value2-&gt;data[0].v_int;
<span class="line-new-header">--- 163,12 ---</span>
    return value-&gt;data[0].v_int != oval;
  }
  
  static gint
  param_int_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!           const GValue *value1,</span>
<span class="line-modified">!           const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_int &lt; value2-&gt;data[0].v_int)
      return -1;
    else
      return value1-&gt;data[0].v_int &gt; value2-&gt;data[0].v_int;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 184,18 ***</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_uint_set_default (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    value-&gt;data[0].v_uint = G_PARAM_SPEC_UINT (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_uint_validate (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecUInt *uspec = G_PARAM_SPEC_UINT (pspec);
    guint oval = value-&gt;data[0].v_uint;
  
    value-&gt;data[0].v_uint = CLAMP (value-&gt;data[0].v_uint, uspec-&gt;minimum, uspec-&gt;maximum);
<span class="line-new-header">--- 184,18 ---</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_uint_set_default (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    value-&gt;data[0].v_uint = G_PARAM_SPEC_UINT (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_uint_validate (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    GParamSpecUInt *uspec = G_PARAM_SPEC_UINT (pspec);
    guint oval = value-&gt;data[0].v_uint;
  
    value-&gt;data[0].v_uint = CLAMP (value-&gt;data[0].v_uint, uspec-&gt;minimum, uspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 203,12 ***</span>
    return value-&gt;data[0].v_uint != oval;
  }
  
  static gint
  param_uint_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!                const GValue *value1,</span>
<span class="line-modified">!                const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_uint &lt; value2-&gt;data[0].v_uint)
      return -1;
    else
      return value1-&gt;data[0].v_uint &gt; value2-&gt;data[0].v_uint;
<span class="line-new-header">--- 203,12 ---</span>
    return value-&gt;data[0].v_uint != oval;
  }
  
  static gint
  param_uint_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!            const GValue *value1,</span>
<span class="line-modified">!            const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_uint &lt; value2-&gt;data[0].v_uint)
      return -1;
    else
      return value1-&gt;data[0].v_uint &gt; value2-&gt;data[0].v_uint;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 229,18 ***</span>
    lspec-&gt;default_value = 0;
  }
  
  static void
  param_long_set_default (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    value-&gt;data[0].v_long = G_PARAM_SPEC_LONG (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_long_validate (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecLong *lspec = G_PARAM_SPEC_LONG (pspec);
    glong oval = value-&gt;data[0].v_long;
  
    value-&gt;data[0].v_long = CLAMP (value-&gt;data[0].v_long, lspec-&gt;minimum, lspec-&gt;maximum);
<span class="line-new-header">--- 229,18 ---</span>
    lspec-&gt;default_value = 0;
  }
  
  static void
  param_long_set_default (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    value-&gt;data[0].v_long = G_PARAM_SPEC_LONG (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_long_validate (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    GParamSpecLong *lspec = G_PARAM_SPEC_LONG (pspec);
    glong oval = value-&gt;data[0].v_long;
  
    value-&gt;data[0].v_long = CLAMP (value-&gt;data[0].v_long, lspec-&gt;minimum, lspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 248,12 ***</span>
    return value-&gt;data[0].v_long != oval;
  }
  
  static gint
  param_long_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!                const GValue *value1,</span>
<span class="line-modified">!                const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_long &lt; value2-&gt;data[0].v_long)
      return -1;
    else
      return value1-&gt;data[0].v_long &gt; value2-&gt;data[0].v_long;
<span class="line-new-header">--- 248,12 ---</span>
    return value-&gt;data[0].v_long != oval;
  }
  
  static gint
  param_long_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!            const GValue *value1,</span>
<span class="line-modified">!            const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_long &lt; value2-&gt;data[0].v_long)
      return -1;
    else
      return value1-&gt;data[0].v_long &gt; value2-&gt;data[0].v_long;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 273,18 ***</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_ulong_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_ulong = G_PARAM_SPEC_ULONG (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_ulong_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    GParamSpecULong *uspec = G_PARAM_SPEC_ULONG (pspec);
    gulong oval = value-&gt;data[0].v_ulong;
  
    value-&gt;data[0].v_ulong = CLAMP (value-&gt;data[0].v_ulong, uspec-&gt;minimum, uspec-&gt;maximum);
<span class="line-new-header">--- 273,18 ---</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_ulong_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_ulong = G_PARAM_SPEC_ULONG (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_ulong_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecULong *uspec = G_PARAM_SPEC_ULONG (pspec);
    gulong oval = value-&gt;data[0].v_ulong;
  
    value-&gt;data[0].v_ulong = CLAMP (value-&gt;data[0].v_ulong, uspec-&gt;minimum, uspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 292,12 ***</span>
    return value-&gt;data[0].v_ulong != oval;
  }
  
  static gint
  param_ulong_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!             const GValue *value1,</span>
<span class="line-modified">!             const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_ulong &lt; value2-&gt;data[0].v_ulong)
      return -1;
    else
      return value1-&gt;data[0].v_ulong &gt; value2-&gt;data[0].v_ulong;
<span class="line-new-header">--- 292,12 ---</span>
    return value-&gt;data[0].v_ulong != oval;
  }
  
  static gint
  param_ulong_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!       const GValue *value1,</span>
<span class="line-modified">!       const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_ulong &lt; value2-&gt;data[0].v_ulong)
      return -1;
    else
      return value1-&gt;data[0].v_ulong &gt; value2-&gt;data[0].v_ulong;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 313,18 ***</span>
    lspec-&gt;default_value = 0;
  }
  
  static void
  param_int64_set_default (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    value-&gt;data[0].v_int64 = G_PARAM_SPEC_INT64 (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_int64_validate (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecInt64 *lspec = G_PARAM_SPEC_INT64 (pspec);
    gint64 oval = value-&gt;data[0].v_int64;
  
    value-&gt;data[0].v_int64 = CLAMP (value-&gt;data[0].v_int64, lspec-&gt;minimum, lspec-&gt;maximum);
<span class="line-new-header">--- 313,18 ---</span>
    lspec-&gt;default_value = 0;
  }
  
  static void
  param_int64_set_default (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    value-&gt;data[0].v_int64 = G_PARAM_SPEC_INT64 (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_int64_validate (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    GParamSpecInt64 *lspec = G_PARAM_SPEC_INT64 (pspec);
    gint64 oval = value-&gt;data[0].v_int64;
  
    value-&gt;data[0].v_int64 = CLAMP (value-&gt;data[0].v_int64, lspec-&gt;minimum, lspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 332,12 ***</span>
    return value-&gt;data[0].v_int64 != oval;
  }
  
  static gint
  param_int64_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!                const GValue *value1,</span>
<span class="line-modified">!                const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_int64 &lt; value2-&gt;data[0].v_int64)
      return -1;
    else
      return value1-&gt;data[0].v_int64 &gt; value2-&gt;data[0].v_int64;
<span class="line-new-header">--- 332,12 ---</span>
    return value-&gt;data[0].v_int64 != oval;
  }
  
  static gint
  param_int64_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!            const GValue *value1,</span>
<span class="line-modified">!            const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_int64 &lt; value2-&gt;data[0].v_int64)
      return -1;
    else
      return value1-&gt;data[0].v_int64 &gt; value2-&gt;data[0].v_int64;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 353,18 ***</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_uint64_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_uint64 = G_PARAM_SPEC_UINT64 (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_uint64_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    GParamSpecUInt64 *uspec = G_PARAM_SPEC_UINT64 (pspec);
    guint64 oval = value-&gt;data[0].v_uint64;
  
    value-&gt;data[0].v_uint64 = CLAMP (value-&gt;data[0].v_uint64, uspec-&gt;minimum, uspec-&gt;maximum);
<span class="line-new-header">--- 353,18 ---</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_uint64_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_uint64 = G_PARAM_SPEC_UINT64 (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_uint64_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecUInt64 *uspec = G_PARAM_SPEC_UINT64 (pspec);
    guint64 oval = value-&gt;data[0].v_uint64;
  
    value-&gt;data[0].v_uint64 = CLAMP (value-&gt;data[0].v_uint64, uspec-&gt;minimum, uspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 372,12 ***</span>
    return value-&gt;data[0].v_uint64 != oval;
  }
  
  static gint
  param_uint64_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!             const GValue *value1,</span>
<span class="line-modified">!             const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_uint64 &lt; value2-&gt;data[0].v_uint64)
      return -1;
    else
      return value1-&gt;data[0].v_uint64 &gt; value2-&gt;data[0].v_uint64;
<span class="line-new-header">--- 372,12 ---</span>
    return value-&gt;data[0].v_uint64 != oval;
  }
  
  static gint
  param_uint64_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!       const GValue *value1,</span>
<span class="line-modified">!       const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_uint64 &lt; value2-&gt;data[0].v_uint64)
      return -1;
    else
      return value1-&gt;data[0].v_uint64 &gt; value2-&gt;data[0].v_uint64;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 391,18 ***</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_unichar_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_uint = G_PARAM_SPEC_UNICHAR (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_unichar_validate (GParamSpec *pspec,
<span class="line-modified">!                 GValue     *value)</span>
  {
    gunichar oval = value-&gt;data[0].v_uint;
    gboolean changed = FALSE;
  
    if (!g_unichar_validate (oval))
<span class="line-new-header">--- 391,18 ---</span>
    uspec-&gt;default_value = 0;
  }
  
  static void
  param_unichar_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_uint = G_PARAM_SPEC_UNICHAR (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_unichar_validate (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    gunichar oval = value-&gt;data[0].v_uint;
    gboolean changed = FALSE;
  
    if (!g_unichar_validate (oval))
</pre>
<hr />
<pre>
<span class="line-old-header">*** 414,12 ***</span>
    return changed;
  }
  
  static gint
  param_unichar_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!             const GValue *value1,</span>
<span class="line-modified">!             const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_uint &lt; value2-&gt;data[0].v_uint)
      return -1;
    else
      return value1-&gt;data[0].v_uint &gt; value2-&gt;data[0].v_uint;
<span class="line-new-header">--- 414,12 ---</span>
    return changed;
  }
  
  static gint
  param_unichar_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!       const GValue *value1,</span>
<span class="line-modified">!       const GValue *value2)</span>
  {
    if (value1-&gt;data[0].v_uint &lt; value2-&gt;data[0].v_uint)
      return -1;
    else
      return value1-&gt;data[0].v_uint &gt; value2-&gt;data[0].v_uint;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 449,18 ***</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_enum_set_default (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    value-&gt;data[0].v_long = G_PARAM_SPEC_ENUM (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_enum_validate (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecEnum *espec = G_PARAM_SPEC_ENUM (pspec);
    glong oval = value-&gt;data[0].v_long;
  
    if (!espec-&gt;enum_class ||
<span class="line-new-header">--- 449,18 ---</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_enum_set_default (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    value-&gt;data[0].v_long = G_PARAM_SPEC_ENUM (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_enum_validate (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    GParamSpecEnum *espec = G_PARAM_SPEC_ENUM (pspec);
    glong oval = value-&gt;data[0].v_long;
  
    if (!espec-&gt;enum_class ||
</pre>
<hr />
<pre>
<span class="line-old-header">*** 494,18 ***</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_flags_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_ulong = G_PARAM_SPEC_FLAGS (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_flags_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    GParamSpecFlags *fspec = G_PARAM_SPEC_FLAGS (pspec);
    gulong oval = value-&gt;data[0].v_ulong;
  
    if (fspec-&gt;flags_class)
<span class="line-new-header">--- 494,18 ---</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_flags_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_ulong = G_PARAM_SPEC_FLAGS (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_flags_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecFlags *fspec = G_PARAM_SPEC_FLAGS (pspec);
    gulong oval = value-&gt;data[0].v_ulong;
  
    if (fspec-&gt;flags_class)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 527,18 ***</span>
    fspec-&gt;epsilon = G_FLOAT_EPSILON;
  }
  
  static void
  param_float_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_float = G_PARAM_SPEC_FLOAT (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_float_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    GParamSpecFloat *fspec = G_PARAM_SPEC_FLOAT (pspec);
    gfloat oval = value-&gt;data[0].v_float;
  
    value-&gt;data[0].v_float = CLAMP (value-&gt;data[0].v_float, fspec-&gt;minimum, fspec-&gt;maximum);
<span class="line-new-header">--- 527,18 ---</span>
    fspec-&gt;epsilon = G_FLOAT_EPSILON;
  }
  
  static void
  param_float_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_float = G_PARAM_SPEC_FLOAT (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_float_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecFloat *fspec = G_PARAM_SPEC_FLOAT (pspec);
    gfloat oval = value-&gt;data[0].v_float;
  
    value-&gt;data[0].v_float = CLAMP (value-&gt;data[0].v_float, fspec-&gt;minimum, fspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 546,12 ***</span>
    return value-&gt;data[0].v_float != oval;
  }
  
  static gint
  param_float_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!             const GValue *value1,</span>
<span class="line-modified">!             const GValue *value2)</span>
  {
    gfloat epsilon = G_PARAM_SPEC_FLOAT (pspec)-&gt;epsilon;
  
    if (value1-&gt;data[0].v_float &lt; value2-&gt;data[0].v_float)
      return - (value2-&gt;data[0].v_float - value1-&gt;data[0].v_float &gt; epsilon);
<span class="line-new-header">--- 546,12 ---</span>
    return value-&gt;data[0].v_float != oval;
  }
  
  static gint
  param_float_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!       const GValue *value1,</span>
<span class="line-modified">!       const GValue *value2)</span>
  {
    gfloat epsilon = G_PARAM_SPEC_FLOAT (pspec)-&gt;epsilon;
  
    if (value1-&gt;data[0].v_float &lt; value2-&gt;data[0].v_float)
      return - (value2-&gt;data[0].v_float - value1-&gt;data[0].v_float &gt; epsilon);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 570,18 ***</span>
    dspec-&gt;epsilon = G_DOUBLE_EPSILON;
  }
  
  static void
  param_double_set_default (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    value-&gt;data[0].v_double = G_PARAM_SPEC_DOUBLE (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_double_validate (GParamSpec *pspec,
<span class="line-modified">!                GValue     *value)</span>
  {
    GParamSpecDouble *dspec = G_PARAM_SPEC_DOUBLE (pspec);
    gdouble oval = value-&gt;data[0].v_double;
  
    value-&gt;data[0].v_double = CLAMP (value-&gt;data[0].v_double, dspec-&gt;minimum, dspec-&gt;maximum);
<span class="line-new-header">--- 570,18 ---</span>
    dspec-&gt;epsilon = G_DOUBLE_EPSILON;
  }
  
  static void
  param_double_set_default (GParamSpec *pspec,
<span class="line-modified">!         GValue     *value)</span>
  {
    value-&gt;data[0].v_double = G_PARAM_SPEC_DOUBLE (pspec)-&gt;default_value;
  }
  
  static gboolean
  param_double_validate (GParamSpec *pspec,
<span class="line-modified">!            GValue     *value)</span>
  {
    GParamSpecDouble *dspec = G_PARAM_SPEC_DOUBLE (pspec);
    gdouble oval = value-&gt;data[0].v_double;
  
    value-&gt;data[0].v_double = CLAMP (value-&gt;data[0].v_double, dspec-&gt;minimum, dspec-&gt;maximum);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 589,12 ***</span>
    return value-&gt;data[0].v_double != oval;
  }
  
  static gint
  param_double_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!              const GValue *value1,</span>
<span class="line-modified">!              const GValue *value2)</span>
  {
    gdouble epsilon = G_PARAM_SPEC_DOUBLE (pspec)-&gt;epsilon;
  
    if (value1-&gt;data[0].v_double &lt; value2-&gt;data[0].v_double)
      return - (value2-&gt;data[0].v_double - value1-&gt;data[0].v_double &gt; epsilon);
<span class="line-new-header">--- 589,12 ---</span>
    return value-&gt;data[0].v_double != oval;
  }
  
  static gint
  param_double_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!        const GValue *value1,</span>
<span class="line-modified">!        const GValue *value2)</span>
  {
    gdouble epsilon = G_PARAM_SPEC_DOUBLE (pspec)-&gt;epsilon;
  
    if (value1-&gt;data[0].v_double &lt; value2-&gt;data[0].v_double)
      return - (value2-&gt;data[0].v_double - value1-&gt;data[0].v_double &gt; epsilon);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 631,52 ***</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_string_set_default (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = g_strdup (G_PARAM_SPEC_STRING (pspec)-&gt;default_value);
  }
  
  static gboolean
  param_string_validate (GParamSpec *pspec,
<span class="line-modified">!                GValue     *value)</span>
  {
    GParamSpecString *sspec = G_PARAM_SPEC_STRING (pspec);
    gchar *string = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
    if (string &amp;&amp; string[0])
      {
        gchar *s;
  
        if (sspec-&gt;cset_first &amp;&amp; !strchr (sspec-&gt;cset_first, string[0]))
<span class="line-modified">!     {</span>
            if (value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS)
              {
                value-&gt;data[0].v_pointer = g_strdup (string);
                string = value-&gt;data[0].v_pointer;
                value-&gt;data[1].v_uint &amp;= ~G_VALUE_NOCOPY_CONTENTS;
              }
<span class="line-modified">!       string[0] = sspec-&gt;substitutor;</span>
<span class="line-modified">!       changed++;</span>
<span class="line-modified">!     }</span>
        if (sspec-&gt;cset_nth)
<span class="line-modified">!     for (s = string + 1; *s; s++)</span>
<span class="line-modified">!       if (!strchr (sspec-&gt;cset_nth, *s))</span>
<span class="line-modified">!         {</span>
                if (value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS)
                  {
                    value-&gt;data[0].v_pointer = g_strdup (string);
                    s = (gchar*) value-&gt;data[0].v_pointer + (s - string);
                    string = value-&gt;data[0].v_pointer;
                    value-&gt;data[1].v_uint &amp;= ~G_VALUE_NOCOPY_CONTENTS;
                  }
<span class="line-modified">!           *s = sspec-&gt;substitutor;</span>
<span class="line-modified">!           changed++;</span>
<span class="line-modified">!         }</span>
      }
    if (sspec-&gt;null_fold_if_empty &amp;&amp; string &amp;&amp; string[0] == 0)
      {
        if (!(value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS))
          g_free (value-&gt;data[0].v_pointer);
<span class="line-new-header">--- 631,52 ---</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_string_set_default (GParamSpec *pspec,
<span class="line-modified">!         GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = g_strdup (G_PARAM_SPEC_STRING (pspec)-&gt;default_value);
  }
  
  static gboolean
  param_string_validate (GParamSpec *pspec,
<span class="line-modified">!            GValue     *value)</span>
  {
    GParamSpecString *sspec = G_PARAM_SPEC_STRING (pspec);
    gchar *string = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
    if (string &amp;&amp; string[0])
      {
        gchar *s;
  
        if (sspec-&gt;cset_first &amp;&amp; !strchr (sspec-&gt;cset_first, string[0]))
<span class="line-modified">!   {</span>
            if (value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS)
              {
                value-&gt;data[0].v_pointer = g_strdup (string);
                string = value-&gt;data[0].v_pointer;
                value-&gt;data[1].v_uint &amp;= ~G_VALUE_NOCOPY_CONTENTS;
              }
<span class="line-modified">!     string[0] = sspec-&gt;substitutor;</span>
<span class="line-modified">!     changed++;</span>
<span class="line-modified">!   }</span>
        if (sspec-&gt;cset_nth)
<span class="line-modified">!   for (s = string + 1; *s; s++)</span>
<span class="line-modified">!     if (!strchr (sspec-&gt;cset_nth, *s))</span>
<span class="line-modified">!       {</span>
                if (value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS)
                  {
                    value-&gt;data[0].v_pointer = g_strdup (string);
                    s = (gchar*) value-&gt;data[0].v_pointer + (s - string);
                    string = value-&gt;data[0].v_pointer;
                    value-&gt;data[1].v_uint &amp;= ~G_VALUE_NOCOPY_CONTENTS;
                  }
<span class="line-modified">!         *s = sspec-&gt;substitutor;</span>
<span class="line-modified">!         changed++;</span>
<span class="line-modified">!       }</span>
      }
    if (sspec-&gt;null_fold_if_empty &amp;&amp; string &amp;&amp; string[0] == 0)
      {
        if (!(value-&gt;data[1].v_uint &amp; G_VALUE_NOCOPY_CONTENTS))
          g_free (value-&gt;data[0].v_pointer);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 697,12 ***</span>
    return changed;
  }
  
  static gint
  param_string_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!              const GValue *value1,</span>
<span class="line-modified">!              const GValue *value2)</span>
  {
    if (!value1-&gt;data[0].v_pointer)
      return value2-&gt;data[0].v_pointer != NULL ? -1 : 0;
    else if (!value2-&gt;data[0].v_pointer)
      return value1-&gt;data[0].v_pointer != NULL;
<span class="line-new-header">--- 697,12 ---</span>
    return changed;
  }
  
  static gint
  param_string_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!        const GValue *value1,</span>
<span class="line-modified">!        const GValue *value2)</span>
  {
    if (!value1-&gt;data[0].v_pointer)
      return value2-&gt;data[0].v_pointer != NULL ? -1 : 0;
    else if (!value2-&gt;data[0].v_pointer)
      return value1-&gt;data[0].v_pointer != NULL;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 716,18 ***</span>
    /* GParamSpecParam *spec = G_PARAM_SPEC_PARAM (pspec); */
  }
  
  static void
  param_param_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_param_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    /* GParamSpecParam *spec = G_PARAM_SPEC_PARAM (pspec); */
    GParamSpec *param = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
<span class="line-new-header">--- 716,18 ---</span>
    /* GParamSpecParam *spec = G_PARAM_SPEC_PARAM (pspec); */
  }
  
  static void
  param_param_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_param_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    /* GParamSpecParam *spec = G_PARAM_SPEC_PARAM (pspec); */
    GParamSpec *param = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 747,18 ***</span>
    /* GParamSpecBoxed *bspec = G_PARAM_SPEC_BOXED (pspec); */
  }
  
  static void
  param_boxed_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_boxed_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    /* GParamSpecBoxed *bspec = G_PARAM_SPEC_BOXED (pspec); */
    guint changed = 0;
  
    /* can&#39;t do a whole lot here since we haven&#39;t even G_BOXED_TYPE() */
<span class="line-new-header">--- 747,18 ---</span>
    /* GParamSpecBoxed *bspec = G_PARAM_SPEC_BOXED (pspec); */
  }
  
  static void
  param_boxed_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_boxed_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    /* GParamSpecBoxed *bspec = G_PARAM_SPEC_BOXED (pspec); */
    guint changed = 0;
  
    /* can&#39;t do a whole lot here since we haven&#39;t even G_BOXED_TYPE() */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 766,12 ***</span>
    return changed;
  }
  
  static gint
  param_boxed_values_cmp (GParamSpec    *pspec,
<span class="line-modified">!              const GValue *value1,</span>
<span class="line-modified">!              const GValue *value2)</span>
  {
    guint8 *p1 = value1-&gt;data[0].v_pointer;
    guint8 *p2 = value2-&gt;data[0].v_pointer;
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
<span class="line-new-header">--- 766,12 ---</span>
    return changed;
  }
  
  static gint
  param_boxed_values_cmp (GParamSpec    *pspec,
<span class="line-modified">!        const GValue *value1,</span>
<span class="line-modified">!        const GValue *value2)</span>
  {
    guint8 *p1 = value1-&gt;data[0].v_pointer;
    guint8 *p2 = value2-&gt;data[0].v_pointer;
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 785,29 ***</span>
    /* GParamSpecPointer *spec = G_PARAM_SPEC_POINTER (pspec); */
  }
  
  static void
  param_pointer_set_default (GParamSpec *pspec,
<span class="line-modified">!                GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_pointer_validate (GParamSpec *pspec,
<span class="line-modified">!             GValue     *value)</span>
  {
    /* GParamSpecPointer *spec = G_PARAM_SPEC_POINTER (pspec); */
    guint changed = 0;
  
    return changed;
  }
  
  static gint
  param_pointer_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!               const GValue *value1,</span>
<span class="line-modified">!               const GValue *value2)</span>
  {
    guint8 *p1 = value1-&gt;data[0].v_pointer;
    guint8 *p2 = value2-&gt;data[0].v_pointer;
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
<span class="line-new-header">--- 785,29 ---</span>
    /* GParamSpecPointer *spec = G_PARAM_SPEC_POINTER (pspec); */
  }
  
  static void
  param_pointer_set_default (GParamSpec *pspec,
<span class="line-modified">!          GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_pointer_validate (GParamSpec *pspec,
<span class="line-modified">!       GValue     *value)</span>
  {
    /* GParamSpecPointer *spec = G_PARAM_SPEC_POINTER (pspec); */
    guint changed = 0;
  
    return changed;
  }
  
  static gint
  param_pointer_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!         const GValue *value1,</span>
<span class="line-modified">!         const GValue *value2)</span>
  {
    guint8 *p1 = value1-&gt;data[0].v_pointer;
    guint8 *p2 = value2-&gt;data[0].v_pointer;
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 824,26 ***</span>
    aspec-&gt;fixed_n_elements = 0; /* disable */
  }
  
  static inline guint
  value_array_ensure_size (GValueArray *value_array,
<span class="line-modified">!              guint        fixed_n_elements)</span>
  {
    guint changed = 0;
  
    if (fixed_n_elements)
      {
        while (value_array-&gt;n_values &lt; fixed_n_elements)
<span class="line-modified">!     {</span>
<span class="line-modified">!       g_value_array_append (value_array, NULL);</span>
<span class="line-modified">!       changed++;</span>
<span class="line-modified">!     }</span>
        while (value_array-&gt;n_values &gt; fixed_n_elements)
<span class="line-modified">!     {</span>
<span class="line-modified">!       g_value_array_remove (value_array, value_array-&gt;n_values - 1);</span>
<span class="line-modified">!       changed++;</span>
<span class="line-modified">!     }</span>
      }
    return changed;
  }
  
  static void
<span class="line-new-header">--- 824,26 ---</span>
    aspec-&gt;fixed_n_elements = 0; /* disable */
  }
  
  static inline guint
  value_array_ensure_size (GValueArray *value_array,
<span class="line-modified">!        guint        fixed_n_elements)</span>
  {
    guint changed = 0;
  
    if (fixed_n_elements)
      {
        while (value_array-&gt;n_values &lt; fixed_n_elements)
<span class="line-modified">!   {</span>
<span class="line-modified">!     g_value_array_append (value_array, NULL);</span>
<span class="line-modified">!     changed++;</span>
<span class="line-modified">!   }</span>
        while (value_array-&gt;n_values &gt; fixed_n_elements)
<span class="line-modified">!   {</span>
<span class="line-modified">!     g_value_array_remove (value_array, value_array-&gt;n_values - 1);</span>
<span class="line-modified">!     changed++;</span>
<span class="line-modified">!   }</span>
      }
    return changed;
  }
  
  static void
</pre>
<hr />
<pre>
<span class="line-old-header">*** 861,11 ***</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_value_array_set_default (GParamSpec *pspec,
<span class="line-modified">!                    GValue     *value)</span>
  {
    GParamSpecValueArray *aspec = G_PARAM_SPEC_VALUE_ARRAY (pspec);
  
    if (!value-&gt;data[0].v_pointer &amp;&amp; aspec-&gt;fixed_n_elements)
      value-&gt;data[0].v_pointer = g_value_array_new (aspec-&gt;fixed_n_elements);
<span class="line-new-header">--- 861,11 ---</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_value_array_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecValueArray *aspec = G_PARAM_SPEC_VALUE_ARRAY (pspec);
  
    if (!value-&gt;data[0].v_pointer &amp;&amp; aspec-&gt;fixed_n_elements)
      value-&gt;data[0].v_pointer = g_value_array_new (aspec-&gt;fixed_n_elements);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 877,11 ***</span>
      }
  }
  
  static gboolean
  param_value_array_validate (GParamSpec *pspec,
<span class="line-modified">!                 GValue     *value)</span>
  {
    GParamSpecValueArray *aspec = G_PARAM_SPEC_VALUE_ARRAY (pspec);
    GValueArray *value_array = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
<span class="line-new-header">--- 877,11 ---</span>
      }
  }
  
  static gboolean
  param_value_array_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecValueArray *aspec = G_PARAM_SPEC_VALUE_ARRAY (pspec);
    GValueArray *value_array = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 893,40 ***</span>
        /* ensure array size validity */
        changed += value_array_ensure_size (value_array, aspec-&gt;fixed_n_elements);
  
        /* ensure array values validity against a present element spec */
        if (aspec-&gt;element_spec)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GParamSpec *element_spec = aspec-&gt;element_spec;</span>
<span class="line-modified">!       guint i;</span>
  
<span class="line-modified">!       for (i = 0; i &lt; value_array-&gt;n_values; i++)</span>
<span class="line-modified">!         {</span>
<span class="line-modified">!           GValue *element = value_array-&gt;values + i;</span>
<span class="line-modified">! </span>
<span class="line-modified">!           /* need to fixup value type, or ensure that the array value is initialized at all */</span>
<span class="line-modified">!           if (!g_value_type_compatible (G_VALUE_TYPE (element), G_PARAM_SPEC_VALUE_TYPE (element_spec)))</span>
<span class="line-modified">!         {</span>
<span class="line-modified">!           if (G_VALUE_TYPE (element) != 0)</span>
<span class="line-modified">!             g_value_unset (element);</span>
<span class="line-modified">!           g_value_init (element, G_PARAM_SPEC_VALUE_TYPE (element_spec));</span>
<span class="line-modified">!           g_param_value_set_default (element_spec, element);</span>
<span class="line-modified">!           changed++;</span>
<span class="line-removed">-         }</span>
<span class="line-removed">-           /* validate array value against element_spec */</span>
<span class="line-removed">-           changed += g_param_value_validate (element_spec, element);</span>
<span class="line-removed">-         }</span>
      }
      }
  
    return changed;
  }
  
  static gint
  param_value_array_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!                   const GValue *value1,</span>
<span class="line-modified">!                   const GValue *value2)</span>
  {
    GParamSpecValueArray *aspec = G_PARAM_SPEC_VALUE_ARRAY (pspec);
    GValueArray *value_array1 = value1-&gt;data[0].v_pointer;
    GValueArray *value_array2 = value2-&gt;data[0].v_pointer;
  
<span class="line-new-header">--- 893,40 ---</span>
        /* ensure array size validity */
        changed += value_array_ensure_size (value_array, aspec-&gt;fixed_n_elements);
  
        /* ensure array values validity against a present element spec */
        if (aspec-&gt;element_spec)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GParamSpec *element_spec = aspec-&gt;element_spec;</span>
<span class="line-modified">!     guint i;</span>
  
<span class="line-modified">!     for (i = 0; i &lt; value_array-&gt;n_values; i++)</span>
<span class="line-modified">!       {</span>
<span class="line-modified">!         GValue *element = value_array-&gt;values + i;</span>
<span class="line-modified">! </span>
<span class="line-modified">!         /* need to fixup value type, or ensure that the array value is initialized at all */</span>
<span class="line-modified">!         if (!g_value_type_compatible (G_VALUE_TYPE (element), G_PARAM_SPEC_VALUE_TYPE (element_spec)))</span>
<span class="line-modified">!     {</span>
<span class="line-modified">!       if (G_VALUE_TYPE (element) != 0)</span>
<span class="line-modified">!         g_value_unset (element);</span>
<span class="line-modified">!       g_value_init (element, G_PARAM_SPEC_VALUE_TYPE (element_spec));</span>
<span class="line-modified">!       g_param_value_set_default (element_spec, element);</span>
<span class="line-modified">!       changed++;</span>
      }
<span class="line-added">+         /* validate array value against element_spec */</span>
<span class="line-added">+         changed += g_param_value_validate (element_spec, element);</span>
<span class="line-added">+       }</span>
<span class="line-added">+   }</span>
      }
  
    return changed;
  }
  
  static gint
  param_value_array_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!             const GValue *value1,</span>
<span class="line-modified">!             const GValue *value2)</span>
  {
    GParamSpecValueArray *aspec = G_PARAM_SPEC_VALUE_ARRAY (pspec);
    GValueArray *value_array1 = value1-&gt;data[0].v_pointer;
    GValueArray *value_array2 = value2-&gt;data[0].v_pointer;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 945,22 ***</span>
    else /* value_array1-&gt;n_values == value_array2-&gt;n_values */
      {
        guint i;
  
        for (i = 0; i &lt; value_array1-&gt;n_values; i++)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GValue *element1 = value_array1-&gt;values + i;</span>
<span class="line-modified">!       GValue *element2 = value_array2-&gt;values + i;</span>
<span class="line-modified">!       gint cmp;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       /* need corresponding element types, provide stable result otherwise */</span>
<span class="line-modified">!       if (G_VALUE_TYPE (element1) != G_VALUE_TYPE (element2))</span>
<span class="line-modified">!         return G_VALUE_TYPE (element1) &lt; G_VALUE_TYPE (element2) ? -1 : 1;</span>
<span class="line-modified">!       cmp = g_param_values_cmp (aspec-&gt;element_spec, element1, element2);</span>
<span class="line-modified">!       if (cmp)</span>
<span class="line-modified">!         return cmp;</span>
<span class="line-modified">!     }</span>
        return 0;
      }
  }
  
  static void
<span class="line-new-header">--- 945,22 ---</span>
    else /* value_array1-&gt;n_values == value_array2-&gt;n_values */
      {
        guint i;
  
        for (i = 0; i &lt; value_array1-&gt;n_values; i++)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GValue *element1 = value_array1-&gt;values + i;</span>
<span class="line-modified">!     GValue *element2 = value_array2-&gt;values + i;</span>
<span class="line-modified">!     gint cmp;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     /* need corresponding element types, provide stable result otherwise */</span>
<span class="line-modified">!     if (G_VALUE_TYPE (element1) != G_VALUE_TYPE (element2))</span>
<span class="line-modified">!       return G_VALUE_TYPE (element1) &lt; G_VALUE_TYPE (element2) ? -1 : 1;</span>
<span class="line-modified">!     cmp = g_param_values_cmp (aspec-&gt;element_spec, element1, element2);</span>
<span class="line-modified">!     if (cmp)</span>
<span class="line-modified">!       return cmp;</span>
<span class="line-modified">!   }</span>
        return 0;
      }
  }
  
  static void
</pre>
<hr />
<pre>
<span class="line-old-header">*** 969,18 ***</span>
    /* GParamSpecObject *ospec = G_PARAM_SPEC_OBJECT (pspec); */
  }
  
  static void
  param_object_set_default (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_object_validate (GParamSpec *pspec,
<span class="line-modified">!                GValue     *value)</span>
  {
    GParamSpecObject *ospec = G_PARAM_SPEC_OBJECT (pspec);
    GObject *object = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
<span class="line-new-header">--- 969,18 ---</span>
    /* GParamSpecObject *ospec = G_PARAM_SPEC_OBJECT (pspec); */
  }
  
  static void
  param_object_set_default (GParamSpec *pspec,
<span class="line-modified">!         GValue     *value)</span>
  {
    value-&gt;data[0].v_pointer = NULL;
  }
  
  static gboolean
  param_object_validate (GParamSpec *pspec,
<span class="line-modified">!            GValue     *value)</span>
  {
    GParamSpecObject *ospec = G_PARAM_SPEC_OBJECT (pspec);
    GObject *object = value-&gt;data[0].v_pointer;
    guint changed = 0;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 994,12 ***</span>
    return changed;
  }
  
  static gint
  param_object_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!              const GValue *value1,</span>
<span class="line-modified">!              const GValue *value2)</span>
  {
    guint8 *p1 = value1-&gt;data[0].v_pointer;
    guint8 *p2 = value2-&gt;data[0].v_pointer;
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
<span class="line-new-header">--- 994,12 ---</span>
    return changed;
  }
  
  static gint
  param_object_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!        const GValue *value1,</span>
<span class="line-modified">!        const GValue *value2)</span>
  {
    guint8 *p1 = value1-&gt;data[0].v_pointer;
    guint8 *p2 = value2-&gt;data[0].v_pointer;
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1028,30 ***</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_override_set_default (GParamSpec *pspec,
<span class="line-modified">!                 GValue     *value)</span>
  {
    GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);
  
    g_param_value_set_default (ospec-&gt;overridden, value);
  }
  
  static gboolean
  param_override_validate (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);
  
    return g_param_value_validate (ospec-&gt;overridden, value);
  }
  
  static gint
  param_override_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!                const GValue *value1,</span>
<span class="line-modified">!                const GValue *value2)</span>
  {
    GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);
  
    return g_param_values_cmp (ospec-&gt;overridden, value1, value2);
  }
<span class="line-new-header">--- 1028,30 ---</span>
    parent_class-&gt;finalize (pspec);
  }
  
  static void
  param_override_set_default (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);
  
    g_param_value_set_default (ospec-&gt;overridden, value);
  }
  
  static gboolean
  param_override_validate (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);
  
    return g_param_value_validate (ospec-&gt;overridden, value);
  }
  
  static gint
  param_override_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!          const GValue *value1,</span>
<span class="line-modified">!          const GValue *value2)</span>
  {
    GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);
  
    return g_param_values_cmp (ospec-&gt;overridden, value1, value2);
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1061,20 ***</span>
  {
  }
  
  static void
  param_gtype_set_default (GParamSpec *pspec,
<span class="line-modified">!              GValue     *value)</span>
  {
    GParamSpecGType *tspec = G_PARAM_SPEC_GTYPE (pspec);
  
    value-&gt;data[0].v_pointer = GSIZE_TO_POINTER (tspec-&gt;is_a_type);
  }
  
  static gboolean
  param_gtype_validate (GParamSpec *pspec,
<span class="line-modified">!               GValue     *value)</span>
  {
    GParamSpecGType *tspec = G_PARAM_SPEC_GTYPE (pspec);
    GType gtype = GPOINTER_TO_SIZE (value-&gt;data[0].v_pointer);
    guint changed = 0;
  
<span class="line-new-header">--- 1061,20 ---</span>
  {
  }
  
  static void
  param_gtype_set_default (GParamSpec *pspec,
<span class="line-modified">!        GValue     *value)</span>
  {
    GParamSpecGType *tspec = G_PARAM_SPEC_GTYPE (pspec);
  
    value-&gt;data[0].v_pointer = GSIZE_TO_POINTER (tspec-&gt;is_a_type);
  }
  
  static gboolean
  param_gtype_validate (GParamSpec *pspec,
<span class="line-modified">!           GValue     *value)</span>
  {
    GParamSpecGType *tspec = G_PARAM_SPEC_GTYPE (pspec);
    GType gtype = GPOINTER_TO_SIZE (value-&gt;data[0].v_pointer);
    guint changed = 0;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1087,12 ***</span>
    return changed;
  }
  
  static gint
  param_gtype_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!             const GValue *value1,</span>
<span class="line-modified">!             const GValue *value2)</span>
  {
    GType p1 = GPOINTER_TO_SIZE (value1-&gt;data[0].v_pointer);
    GType p2 = GPOINTER_TO_SIZE (value2-&gt;data[0].v_pointer);
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
<span class="line-new-header">--- 1087,12 ---</span>
    return changed;
  }
  
  static gint
  param_gtype_values_cmp (GParamSpec   *pspec,
<span class="line-modified">!       const GValue *value1,</span>
<span class="line-modified">!       const GValue *value2)</span>
  {
    GType p1 = GPOINTER_TO_SIZE (value1-&gt;data[0].v_pointer);
    GType p2 = GPOINTER_TO_SIZE (value2-&gt;data[0].v_pointer);
  
    /* not much to compare here, try to at least provide stable lesser/greater result */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1189,26 ***</span>
  
  void
  _g_param_spec_types_init (void)
  {
    const guint n_types = 23;
<span class="line-modified">!   GType type, *spec_types, *spec_types_bound;</span>
  
    g_param_spec_types = g_new0 (GType, n_types);
    spec_types = g_param_spec_types;
    spec_types_bound = g_param_spec_types + n_types;
  
    /* G_TYPE_PARAM_CHAR
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecChar),  /* instance_size */
<span class="line-modified">!       16,           /* n_preallocs */</span>
<span class="line-modified">!       param_char_init,      /* instance_init */</span>
<span class="line-modified">!       G_TYPE_CHAR,      /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
<span class="line-modified">!       param_char_set_default,   /* value_set_default */</span>
        param_char_validate,  /* value_validate */
        param_int_values_cmp, /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamChar&quot;), &amp;pspec_info);
      *spec_types++ = type;
<span class="line-new-header">--- 1189,31 ---</span>
  
  void
  _g_param_spec_types_init (void)
  {
    const guint n_types = 23;
<span class="line-modified">!   GType type, *spec_types;</span>
<span class="line-added">+ #ifndef G_DISABLE_ASSERT</span>
<span class="line-added">+   GType *spec_types_bound;</span>
<span class="line-added">+ #endif</span>
  
    g_param_spec_types = g_new0 (GType, n_types);
    spec_types = g_param_spec_types;
<span class="line-added">+ #ifndef G_DISABLE_ASSERT</span>
    spec_types_bound = g_param_spec_types + n_types;
<span class="line-added">+ #endif</span>
  
    /* G_TYPE_PARAM_CHAR
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecChar),  /* instance_size */
<span class="line-modified">!       16,     /* n_preallocs */</span>
<span class="line-modified">!       param_char_init,    /* instance_init */</span>
<span class="line-modified">!       G_TYPE_CHAR,    /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
<span class="line-modified">!       param_char_set_default, /* value_set_default */</span>
        param_char_validate,  /* value_validate */
        param_int_values_cmp, /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamChar&quot;), &amp;pspec_info);
      *spec_types++ = type;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1220,15 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUChar), /* instance_size */
        16,                       /* n_preallocs */
        param_uchar_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_UCHAR,     /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_uchar_set_default,  /* value_set_default */
        param_uchar_validate, /* value_validate */
<span class="line-modified">!       param_uint_values_cmp,    /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUChar&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UCHAR);
    }
<span class="line-new-header">--- 1225,15 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUChar), /* instance_size */
        16,                       /* n_preallocs */
        param_uchar_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_UCHAR,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_uchar_set_default,  /* value_set_default */
        param_uchar_validate, /* value_validate */
<span class="line-modified">!       param_uint_values_cmp,  /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUChar&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UCHAR);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1237,11 ***</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecBoolean), /* instance_size */
        16,                         /* n_preallocs */
<span class="line-modified">!       NULL,           /* instance_init */</span>
        G_TYPE_BOOLEAN,             /* value_type */
        NULL,                       /* finalize */
        param_boolean_set_default,  /* value_set_default */
        param_boolean_validate,     /* value_validate */
        param_int_values_cmp,       /* values_cmp */
<span class="line-new-header">--- 1242,11 ---</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecBoolean), /* instance_size */
        16,                         /* n_preallocs */
<span class="line-modified">!       NULL,       /* instance_init */</span>
        G_TYPE_BOOLEAN,             /* value_type */
        NULL,                       /* finalize */
        param_boolean_set_default,  /* value_set_default */
        param_boolean_validate,     /* value_validate */
        param_int_values_cmp,       /* values_cmp */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1256,14 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecInt),   /* instance_size */
        16,                       /* n_preallocs */
        param_int_init,           /* instance_init */
<span class="line-modified">!       G_TYPE_INT,       /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
<span class="line-modified">!       param_int_set_default,    /* value_set_default */</span>
<span class="line-modified">!       param_int_validate,   /* value_validate */</span>
        param_int_values_cmp, /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamInt&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_INT);
<span class="line-new-header">--- 1261,14 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecInt),   /* instance_size */
        16,                       /* n_preallocs */
        param_int_init,           /* instance_init */
<span class="line-modified">!       G_TYPE_INT,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
<span class="line-modified">!       param_int_set_default,  /* value_set_default */</span>
<span class="line-modified">!       param_int_validate, /* value_validate */</span>
        param_int_values_cmp, /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamInt&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_INT);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1274,15 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUInt),  /* instance_size */
        16,                       /* n_preallocs */
        param_uint_init,          /* instance_init */
<span class="line-modified">!       G_TYPE_UINT,      /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
<span class="line-modified">!       param_uint_set_default,   /* value_set_default */</span>
        param_uint_validate,  /* value_validate */
<span class="line-modified">!       param_uint_values_cmp,    /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUInt&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UINT);
    }
<span class="line-new-header">--- 1279,15 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUInt),  /* instance_size */
        16,                       /* n_preallocs */
        param_uint_init,          /* instance_init */
<span class="line-modified">!       G_TYPE_UINT,    /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
<span class="line-modified">!       param_uint_set_default, /* value_set_default */</span>
        param_uint_validate,  /* value_validate */
<span class="line-modified">!       param_uint_values_cmp,  /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUInt&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UINT);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1292,15 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecLong),  /* instance_size */
        16,                       /* n_preallocs */
        param_long_init,          /* instance_init */
<span class="line-modified">!       G_TYPE_LONG,      /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
<span class="line-modified">!       param_long_set_default,   /* value_set_default */</span>
        param_long_validate,  /* value_validate */
<span class="line-modified">!       param_long_values_cmp,    /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamLong&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_LONG);
    }
<span class="line-new-header">--- 1297,15 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecLong),  /* instance_size */
        16,                       /* n_preallocs */
        param_long_init,          /* instance_init */
<span class="line-modified">!       G_TYPE_LONG,    /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
<span class="line-modified">!       param_long_set_default, /* value_set_default */</span>
        param_long_validate,  /* value_validate */
<span class="line-modified">!       param_long_values_cmp,  /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamLong&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_LONG);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1310,15 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecULong), /* instance_size */
        16,                       /* n_preallocs */
        param_ulong_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_ULONG,     /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_ulong_set_default,  /* value_set_default */
        param_ulong_validate, /* value_validate */
<span class="line-modified">!       param_ulong_values_cmp,   /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamULong&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_ULONG);
    }
<span class="line-new-header">--- 1315,15 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecULong), /* instance_size */
        16,                       /* n_preallocs */
        param_ulong_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_ULONG,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_ulong_set_default,  /* value_set_default */
        param_ulong_validate, /* value_validate */
<span class="line-modified">!       param_ulong_values_cmp, /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamULong&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_ULONG);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1328,15 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecInt64),  /* instance_size */
        16,                       /* n_preallocs */
        param_int64_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_INT64,     /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_int64_set_default,  /* value_set_default */
        param_int64_validate, /* value_validate */
<span class="line-modified">!       param_int64_values_cmp,   /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamInt64&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_INT64);
    }
<span class="line-new-header">--- 1333,15 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecInt64),  /* instance_size */
        16,                       /* n_preallocs */
        param_int64_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_INT64,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_int64_set_default,  /* value_set_default */
        param_int64_validate, /* value_validate */
<span class="line-modified">!       param_int64_values_cmp, /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamInt64&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_INT64);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1346,14 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUInt64), /* instance_size */
        16,                       /* n_preallocs */
        param_uint64_init,        /* instance_init */
<span class="line-modified">!       G_TYPE_UINT64,        /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_uint64_set_default, /* value_set_default */
<span class="line-modified">!       param_uint64_validate,    /* value_validate */</span>
        param_uint64_values_cmp,  /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUInt64&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UINT64);
<span class="line-new-header">--- 1351,14 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUInt64), /* instance_size */
        16,                       /* n_preallocs */
        param_uint64_init,        /* instance_init */
<span class="line-modified">!       G_TYPE_UINT64,    /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_uint64_set_default, /* value_set_default */
<span class="line-modified">!       param_uint64_validate,  /* value_validate */</span>
        param_uint64_values_cmp,  /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUInt64&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UINT64);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1363,15 ***</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUnichar), /* instance_size */
        16,                        /* n_preallocs */
<span class="line-modified">!       param_unichar_init,    /* instance_init */</span>
<span class="line-modified">!       G_TYPE_UINT,       /* value_type */</span>
<span class="line-modified">!       NULL,          /* finalize */</span>
        param_unichar_set_default, /* value_set_default */
<span class="line-modified">!       param_unichar_validate,    /* value_validate */</span>
        param_unichar_values_cmp,  /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUnichar&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UNICHAR);
<span class="line-new-header">--- 1368,15 ---</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecUnichar), /* instance_size */
        16,                        /* n_preallocs */
<span class="line-modified">!       param_unichar_init,  /* instance_init */</span>
<span class="line-modified">!       G_TYPE_UINT,     /* value_type */</span>
<span class="line-modified">!       NULL,      /* finalize */</span>
        param_unichar_set_default, /* value_set_default */
<span class="line-modified">!       param_unichar_validate,  /* value_validate */</span>
        param_unichar_values_cmp,  /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamUnichar&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_UNICHAR);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1382,15 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecEnum),  /* instance_size */
        16,                       /* n_preallocs */
        param_enum_init,          /* instance_init */
<span class="line-modified">!       G_TYPE_ENUM,      /* value_type */</span>
        param_enum_finalize,  /* finalize */
<span class="line-modified">!       param_enum_set_default,   /* value_set_default */</span>
        param_enum_validate,  /* value_validate */
<span class="line-modified">!       param_long_values_cmp,    /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamEnum&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_ENUM);
    }
<span class="line-new-header">--- 1387,15 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecEnum),  /* instance_size */
        16,                       /* n_preallocs */
        param_enum_init,          /* instance_init */
<span class="line-modified">!       G_TYPE_ENUM,    /* value_type */</span>
        param_enum_finalize,  /* finalize */
<span class="line-modified">!       param_enum_set_default, /* value_set_default */</span>
        param_enum_validate,  /* value_validate */
<span class="line-modified">!       param_long_values_cmp,  /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamEnum&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_ENUM);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1398,17 ***</span>
    /* G_TYPE_PARAM_FLAGS
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecFlags), /* instance_size */
<span class="line-modified">!       16,           /* n_preallocs */</span>
<span class="line-modified">!       param_flags_init,     /* instance_init */</span>
<span class="line-modified">!       G_TYPE_FLAGS,     /* value_type */</span>
        param_flags_finalize, /* finalize */
        param_flags_set_default,  /* value_set_default */
        param_flags_validate, /* value_validate */
<span class="line-modified">!       param_ulong_values_cmp,   /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamFlags&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_FLAGS);
    }
<span class="line-new-header">--- 1403,17 ---</span>
    /* G_TYPE_PARAM_FLAGS
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecFlags), /* instance_size */
<span class="line-modified">!       16,     /* n_preallocs */</span>
<span class="line-modified">!       param_flags_init,   /* instance_init */</span>
<span class="line-modified">!       G_TYPE_FLAGS,   /* value_type */</span>
        param_flags_finalize, /* finalize */
        param_flags_set_default,  /* value_set_default */
        param_flags_validate, /* value_validate */
<span class="line-modified">!       param_ulong_values_cmp, /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamFlags&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_FLAGS);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1418,51 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecFloat), /* instance_size */
        16,                       /* n_preallocs */
        param_float_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_FLOAT,     /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_float_set_default,  /* value_set_default */
        param_float_validate, /* value_validate */
<span class="line-modified">!       param_float_values_cmp,   /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamFloat&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_FLOAT);
    }
  
    /* G_TYPE_PARAM_DOUBLE
     */
    {
      const GParamSpecTypeInfo pspec_info = {
<span class="line-modified">!       sizeof (GParamSpecDouble),    /* instance_size */</span>
<span class="line-modified">!       16,               /* n_preallocs */</span>
<span class="line-modified">!       param_double_init,        /* instance_init */</span>
<span class="line-modified">!       G_TYPE_DOUBLE,            /* value_type */</span>
<span class="line-modified">!       NULL,             /* finalize */</span>
<span class="line-modified">!       param_double_set_default,     /* value_set_default */</span>
<span class="line-modified">!       param_double_validate,        /* value_validate */</span>
<span class="line-modified">!       param_double_values_cmp,      /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamDouble&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_DOUBLE);
    }
  
    /* G_TYPE_PARAM_STRING
     */
    {
      const GParamSpecTypeInfo pspec_info = {
<span class="line-modified">!       sizeof (GParamSpecString),    /* instance_size */</span>
<span class="line-modified">!       16,               /* n_preallocs */</span>
<span class="line-modified">!       param_string_init,        /* instance_init */</span>
<span class="line-modified">!       G_TYPE_STRING,            /* value_type */</span>
<span class="line-modified">!       param_string_finalize,        /* finalize */</span>
<span class="line-modified">!       param_string_set_default,     /* value_set_default */</span>
<span class="line-modified">!       param_string_validate,        /* value_validate */</span>
<span class="line-modified">!       param_string_values_cmp,      /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamString&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_STRING);
    }
<span class="line-new-header">--- 1423,51 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecFloat), /* instance_size */
        16,                       /* n_preallocs */
        param_float_init,         /* instance_init */
<span class="line-modified">!       G_TYPE_FLOAT,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_float_set_default,  /* value_set_default */
        param_float_validate, /* value_validate */
<span class="line-modified">!       param_float_values_cmp, /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamFloat&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_FLOAT);
    }
  
    /* G_TYPE_PARAM_DOUBLE
     */
    {
      const GParamSpecTypeInfo pspec_info = {
<span class="line-modified">!       sizeof (GParamSpecDouble),  /* instance_size */</span>
<span class="line-modified">!       16,       /* n_preallocs */</span>
<span class="line-modified">!       param_double_init,    /* instance_init */</span>
<span class="line-modified">!       G_TYPE_DOUBLE,      /* value_type */</span>
<span class="line-modified">!       NULL,       /* finalize */</span>
<span class="line-modified">!       param_double_set_default,   /* value_set_default */</span>
<span class="line-modified">!       param_double_validate,    /* value_validate */</span>
<span class="line-modified">!       param_double_values_cmp,    /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamDouble&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_DOUBLE);
    }
  
    /* G_TYPE_PARAM_STRING
     */
    {
      const GParamSpecTypeInfo pspec_info = {
<span class="line-modified">!       sizeof (GParamSpecString),  /* instance_size */</span>
<span class="line-modified">!       16,       /* n_preallocs */</span>
<span class="line-modified">!       param_string_init,    /* instance_init */</span>
<span class="line-modified">!       G_TYPE_STRING,      /* value_type */</span>
<span class="line-modified">!       param_string_finalize,    /* finalize */</span>
<span class="line-modified">!       param_string_set_default,   /* value_set_default */</span>
<span class="line-modified">!       param_string_validate,    /* value_validate */</span>
<span class="line-modified">!       param_string_values_cmp,    /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamString&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_STRING);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1470,14 ***</span>
    /* G_TYPE_PARAM_PARAM
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecParam), /* instance_size */
<span class="line-modified">!       16,           /* n_preallocs */</span>
<span class="line-modified">!       param_param_init,     /* instance_init */</span>
<span class="line-modified">!       G_TYPE_PARAM,     /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_param_set_default,  /* value_set_default */
        param_param_validate, /* value_validate */
        param_pointer_values_cmp, /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamParam&quot;), &amp;pspec_info);
<span class="line-new-header">--- 1475,14 ---</span>
    /* G_TYPE_PARAM_PARAM
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecParam), /* instance_size */
<span class="line-modified">!       16,     /* n_preallocs */</span>
<span class="line-modified">!       param_param_init,   /* instance_init */</span>
<span class="line-modified">!       G_TYPE_PARAM,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_param_set_default,  /* value_set_default */
        param_param_validate, /* value_validate */
        param_pointer_values_cmp, /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamParam&quot;), &amp;pspec_info);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1488,17 ***</span>
    /* G_TYPE_PARAM_BOXED
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecBoxed), /* instance_size */
<span class="line-modified">!       4,            /* n_preallocs */</span>
<span class="line-modified">!       param_boxed_init,     /* instance_init */</span>
<span class="line-modified">!       G_TYPE_BOXED,     /* value_type */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_boxed_set_default,  /* value_set_default */
        param_boxed_validate, /* value_validate */
<span class="line-modified">!       param_boxed_values_cmp,   /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamBoxed&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_BOXED);
    }
<span class="line-new-header">--- 1493,17 ---</span>
    /* G_TYPE_PARAM_BOXED
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecBoxed), /* instance_size */
<span class="line-modified">!       4,      /* n_preallocs */</span>
<span class="line-modified">!       param_boxed_init,   /* instance_init */</span>
<span class="line-modified">!       G_TYPE_BOXED,   /* value_type */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_boxed_set_default,  /* value_set_default */
        param_boxed_validate, /* value_validate */
<span class="line-modified">!       param_boxed_values_cmp, /* values_cmp */</span>
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamBoxed&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_BOXED);
    }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1507,15 ***</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecPointer),  /* instance_size */
        0,                           /* n_preallocs */
<span class="line-modified">!       param_pointer_init,      /* instance_init */</span>
<span class="line-modified">!       G_TYPE_POINTER,          /* value_type */</span>
<span class="line-modified">!       NULL,            /* finalize */</span>
        param_pointer_set_default,   /* value_set_default */
<span class="line-modified">!       param_pointer_validate,      /* value_validate */</span>
        param_pointer_values_cmp,    /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamPointer&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_POINTER);
<span class="line-new-header">--- 1512,15 ---</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecPointer),  /* instance_size */
        0,                           /* n_preallocs */
<span class="line-modified">!       param_pointer_init,    /* instance_init */</span>
<span class="line-modified">!       G_TYPE_POINTER,        /* value_type */</span>
<span class="line-modified">!       NULL,        /* finalize */</span>
        param_pointer_set_default,   /* value_set_default */
<span class="line-modified">!       param_pointer_validate,    /* value_validate */</span>
        param_pointer_values_cmp,    /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamPointer&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_POINTER);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1523,17 ***</span>
  
    /* G_TYPE_PARAM_VALUE_ARRAY
     */
    {
      /* const */ GParamSpecTypeInfo pspec_info = {
<span class="line-modified">!       sizeof (GParamSpecValueArray),    /* instance_size */</span>
<span class="line-modified">!       0,                /* n_preallocs */</span>
<span class="line-modified">!       param_value_array_init,       /* instance_init */</span>
<span class="line-modified">!       0xdeadbeef,           /* value_type, assigned further down */</span>
<span class="line-modified">!       param_value_array_finalize,   /* finalize */</span>
<span class="line-modified">!       param_value_array_set_default,    /* value_set_default */</span>
<span class="line-modified">!       param_value_array_validate,   /* value_validate */</span>
        param_value_array_values_cmp, /* values_cmp */
      };
      pspec_info.value_type = G_TYPE_VALUE_ARRAY;
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamValueArray&quot;), &amp;pspec_info);
      *spec_types++ = type;
<span class="line-new-header">--- 1528,17 ---</span>
  
    /* G_TYPE_PARAM_VALUE_ARRAY
     */
    {
      /* const */ GParamSpecTypeInfo pspec_info = {
<span class="line-modified">!       sizeof (GParamSpecValueArray),  /* instance_size */</span>
<span class="line-modified">!       0,        /* n_preallocs */</span>
<span class="line-modified">!       param_value_array_init,   /* instance_init */</span>
<span class="line-modified">!       0xdeadbeef,     /* value_type, assigned further down */</span>
<span class="line-modified">!       param_value_array_finalize, /* finalize */</span>
<span class="line-modified">!       param_value_array_set_default,  /* value_set_default */</span>
<span class="line-modified">!       param_value_array_validate, /* value_validate */</span>
        param_value_array_values_cmp, /* values_cmp */
      };
      pspec_info.value_type = G_TYPE_VALUE_ARRAY;
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamValueArray&quot;), &amp;pspec_info);
      *spec_types++ = type;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1544,15 ***</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecObject), /* instance_size */
        16,                        /* n_preallocs */
<span class="line-modified">!       param_object_init,     /* instance_init */</span>
<span class="line-modified">!       G_TYPE_OBJECT,         /* value_type */</span>
<span class="line-modified">!       NULL,          /* finalize */</span>
        param_object_set_default,  /* value_set_default */
<span class="line-modified">!       param_object_validate,     /* value_validate */</span>
        param_object_values_cmp,   /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamObject&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_OBJECT);
<span class="line-new-header">--- 1549,15 ---</span>
     */
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecObject), /* instance_size */
        16,                        /* n_preallocs */
<span class="line-modified">!       param_object_init,   /* instance_init */</span>
<span class="line-modified">!       G_TYPE_OBJECT,     /* value_type */</span>
<span class="line-modified">!       NULL,      /* finalize */</span>
        param_object_set_default,  /* value_set_default */
<span class="line-modified">!       param_object_validate,   /* value_validate */</span>
        param_object_values_cmp,   /* values_cmp */
      };
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamObject&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_OBJECT);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1563,11 ***</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecOverride), /* instance_size */
        16,                        /* n_preallocs */
        param_override_init,   /* instance_init */
<span class="line-modified">!       G_TYPE_NONE,       /* value_type */</span>
        param_override_finalize,   /* finalize */
        param_override_set_default, /* value_set_default */
        param_override_validate,    /* value_validate */
        param_override_values_cmp,  /* values_cmp */
      };
<span class="line-new-header">--- 1568,11 ---</span>
    {
      const GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecOverride), /* instance_size */
        16,                        /* n_preallocs */
        param_override_init,   /* instance_init */
<span class="line-modified">!       G_TYPE_NONE,     /* value_type */</span>
        param_override_finalize,   /* finalize */
        param_override_set_default, /* value_set_default */
        param_override_validate,    /* value_validate */
        param_override_values_cmp,  /* values_cmp */
      };
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1579,17 ***</span>
    /* G_TYPE_PARAM_GTYPE
     */
    {
      GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecGType), /* instance_size */
<span class="line-modified">!       0,            /* n_preallocs */</span>
<span class="line-modified">!       param_gtype_init,     /* instance_init */</span>
<span class="line-modified">!       0xdeadbeef,       /* value_type, assigned further down */</span>
<span class="line-modified">!       NULL,         /* finalize */</span>
        param_gtype_set_default,  /* value_set_default */
        param_gtype_validate, /* value_validate */
<span class="line-modified">!       param_gtype_values_cmp,   /* values_cmp */</span>
      };
      pspec_info.value_type = G_TYPE_GTYPE;
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamGType&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_GTYPE);
<span class="line-new-header">--- 1584,17 ---</span>
    /* G_TYPE_PARAM_GTYPE
     */
    {
      GParamSpecTypeInfo pspec_info = {
        sizeof (GParamSpecGType), /* instance_size */
<span class="line-modified">!       0,      /* n_preallocs */</span>
<span class="line-modified">!       param_gtype_init,   /* instance_init */</span>
<span class="line-modified">!       0xdeadbeef,   /* value_type, assigned further down */</span>
<span class="line-modified">!       NULL,     /* finalize */</span>
        param_gtype_set_default,  /* value_set_default */
        param_gtype_validate, /* value_validate */
<span class="line-modified">!       param_gtype_values_cmp, /* values_cmp */</span>
      };
      pspec_info.value_type = G_TYPE_GTYPE;
      type = g_param_type_register_static (g_intern_static_string (&quot;GParamGType&quot;), &amp;pspec_info);
      *spec_types++ = type;
      g_assert (type == G_TYPE_PARAM_GTYPE);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1632,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_char (const gchar *name,
<span class="line-modified">!                    const gchar *nick,</span>
<span class="line-modified">!                    const gchar *blurb,</span>
<span class="line-modified">!            gint8    minimum,</span>
<span class="line-modified">!            gint8    maximum,</span>
<span class="line-modified">!            gint8    default_value,</span>
<span class="line-modified">!            GParamFlags  flags)</span>
  {
    GParamSpecChar *cspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    cspec = g_param_spec_internal (G_TYPE_PARAM_CHAR,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (cspec == NULL)
      return NULL;
  
    cspec-&gt;minimum = minimum;
    cspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1637,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_char (const gchar *name,
<span class="line-modified">!        const gchar *nick,</span>
<span class="line-modified">!        const gchar *blurb,</span>
<span class="line-modified">!        gint8  minimum,</span>
<span class="line-modified">!        gint8  maximum,</span>
<span class="line-modified">!        gint8  default_value,</span>
<span class="line-modified">!        GParamFlags  flags)</span>
  {
    GParamSpecChar *cspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    cspec = g_param_spec_internal (G_TYPE_PARAM_CHAR,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (cspec == NULL)
      return NULL;
  
    cspec-&gt;minimum = minimum;
    cspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1674,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_uchar (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             guint8   minimum,</span>
<span class="line-modified">!             guint8   maximum,</span>
<span class="line-modified">!             guint8   default_value,</span>
<span class="line-modified">!             GParamFlags  flags)</span>
  {
    GParamSpecUChar *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UCHAR,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1679,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_uchar (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         guint8   minimum,</span>
<span class="line-modified">!         guint8   maximum,</span>
<span class="line-modified">!         guint8   default_value,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecUChar *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UCHAR,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1720,24 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_boolean (const gchar *name,
<span class="line-modified">!                       const gchar *nick,</span>
<span class="line-modified">!                       const gchar *blurb,</span>
<span class="line-modified">!               gboolean     default_value,</span>
<span class="line-modified">!                       GParamFlags  flags)</span>
  {
    GParamSpecBoolean *bspec;
  
    g_return_val_if_fail (default_value == TRUE || default_value == FALSE, NULL);
  
    bspec = g_param_spec_internal (G_TYPE_PARAM_BOOLEAN,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (bspec == NULL)
      return NULL;
  
    bspec-&gt;default_value = default_value;
  
<span class="line-new-header">--- 1725,24 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_boolean (const gchar *name,
<span class="line-modified">!           const gchar *nick,</span>
<span class="line-modified">!           const gchar *blurb,</span>
<span class="line-modified">!           gboolean     default_value,</span>
<span class="line-modified">!           GParamFlags  flags)</span>
  {
    GParamSpecBoolean *bspec;
  
    g_return_val_if_fail (default_value == TRUE || default_value == FALSE, NULL);
  
    bspec = g_param_spec_internal (G_TYPE_PARAM_BOOLEAN,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (bspec == NULL)
      return NULL;
  
    bspec-&gt;default_value = default_value;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1760,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_int (const gchar *name,
<span class="line-modified">!                   const gchar *nick,</span>
<span class="line-modified">!                   const gchar *blurb,</span>
<span class="line-modified">!           gint         minimum,</span>
<span class="line-modified">!           gint         maximum,</span>
<span class="line-modified">!           gint         default_value,</span>
<span class="line-modified">!                   GParamFlags  flags)</span>
  {
    GParamSpecInt *ispec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    ispec = g_param_spec_internal (G_TYPE_PARAM_INT,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (ispec == NULL)
      return NULL;
  
    ispec-&gt;minimum = minimum;
    ispec-&gt;maximum = maximum;
<span class="line-new-header">--- 1765,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_int (const gchar *name,
<span class="line-modified">!       const gchar *nick,</span>
<span class="line-modified">!       const gchar *blurb,</span>
<span class="line-modified">!       gint         minimum,</span>
<span class="line-modified">!       gint         maximum,</span>
<span class="line-modified">!       gint         default_value,</span>
<span class="line-modified">!       GParamFlags  flags)</span>
  {
    GParamSpecInt *ispec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    ispec = g_param_spec_internal (G_TYPE_PARAM_INT,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (ispec == NULL)
      return NULL;
  
    ispec-&gt;minimum = minimum;
    ispec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1804,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_uint (const gchar *name,
<span class="line-modified">!                    const gchar *nick,</span>
<span class="line-modified">!                    const gchar *blurb,</span>
<span class="line-modified">!            guint    minimum,</span>
<span class="line-modified">!            guint    maximum,</span>
<span class="line-modified">!            guint    default_value,</span>
<span class="line-modified">!            GParamFlags  flags)</span>
  {
    GParamSpecUInt *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UINT,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1809,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_uint (const gchar *name,
<span class="line-modified">!        const gchar *nick,</span>
<span class="line-modified">!        const gchar *blurb,</span>
<span class="line-modified">!        guint  minimum,</span>
<span class="line-modified">!        guint  maximum,</span>
<span class="line-modified">!        guint  default_value,</span>
<span class="line-modified">!        GParamFlags  flags)</span>
  {
    GParamSpecUInt *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UINT,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1848,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_long (const gchar *name,
<span class="line-modified">!                    const gchar *nick,</span>
<span class="line-modified">!                    const gchar *blurb,</span>
<span class="line-modified">!            glong    minimum,</span>
<span class="line-modified">!            glong    maximum,</span>
<span class="line-modified">!            glong    default_value,</span>
<span class="line-modified">!            GParamFlags  flags)</span>
  {
    GParamSpecLong *lspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    lspec = g_param_spec_internal (G_TYPE_PARAM_LONG,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (lspec == NULL)
      return NULL;
  
    lspec-&gt;minimum = minimum;
    lspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1853,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_long (const gchar *name,
<span class="line-modified">!        const gchar *nick,</span>
<span class="line-modified">!        const gchar *blurb,</span>
<span class="line-modified">!        glong  minimum,</span>
<span class="line-modified">!        glong  maximum,</span>
<span class="line-modified">!        glong  default_value,</span>
<span class="line-modified">!        GParamFlags  flags)</span>
  {
    GParamSpecLong *lspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    lspec = g_param_spec_internal (G_TYPE_PARAM_LONG,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (lspec == NULL)
      return NULL;
  
    lspec-&gt;minimum = minimum;
    lspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1893,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_ulong (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             gulong   minimum,</span>
<span class="line-modified">!             gulong   maximum,</span>
<span class="line-modified">!             gulong   default_value,</span>
<span class="line-modified">!             GParamFlags  flags)</span>
  {
    GParamSpecULong *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_ULONG,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1898,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_ulong (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         gulong   minimum,</span>
<span class="line-modified">!         gulong   maximum,</span>
<span class="line-modified">!         gulong   default_value,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecULong *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_ULONG,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1937,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_int64 (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             gint64   minimum,</span>
<span class="line-modified">!             gint64   maximum,</span>
<span class="line-modified">!             gint64   default_value,</span>
<span class="line-modified">!             GParamFlags  flags)</span>
  {
    GParamSpecInt64 *lspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    lspec = g_param_spec_internal (G_TYPE_PARAM_INT64,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (lspec == NULL)
      return NULL;
  
    lspec-&gt;minimum = minimum;
    lspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1942,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_int64 (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         gint64   minimum,</span>
<span class="line-modified">!         gint64   maximum,</span>
<span class="line-modified">!         gint64   default_value,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecInt64 *lspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    lspec = g_param_spec_internal (G_TYPE_PARAM_INT64,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (lspec == NULL)
      return NULL;
  
    lspec-&gt;minimum = minimum;
    lspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1982,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_uint64 (const gchar *name,
<span class="line-modified">!                      const gchar *nick,</span>
<span class="line-modified">!                      const gchar *blurb,</span>
<span class="line-modified">!              guint64      minimum,</span>
<span class="line-modified">!              guint64      maximum,</span>
<span class="line-modified">!              guint64      default_value,</span>
<span class="line-modified">!                      GParamFlags  flags)</span>
  {
    GParamSpecUInt64 *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UINT64,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
<span class="line-new-header">--- 1987,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_uint64 (const gchar *name,
<span class="line-modified">!          const gchar *nick,</span>
<span class="line-modified">!          const gchar *blurb,</span>
<span class="line-modified">!          guint64    minimum,</span>
<span class="line-modified">!          guint64    maximum,</span>
<span class="line-modified">!          guint64    default_value,</span>
<span class="line-modified">!          GParamFlags  flags)</span>
  {
    GParamSpecUInt64 *uspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UINT64,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;minimum = minimum;
    uspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2026,22 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_unichar (const gchar *name,
<span class="line-modified">!                       const gchar *nick,</span>
<span class="line-modified">!                       const gchar *blurb,</span>
<span class="line-modified">!               gunichar     default_value,</span>
<span class="line-modified">!                       GParamFlags  flags)</span>
  {
    GParamSpecUnichar *uspec;
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UNICHAR,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;default_value = default_value;
  
<span class="line-new-header">--- 2031,22 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_unichar (const gchar *name,
<span class="line-modified">!           const gchar *nick,</span>
<span class="line-modified">!           const gchar *blurb,</span>
<span class="line-modified">!           gunichar     default_value,</span>
<span class="line-modified">!           GParamFlags  flags)</span>
  {
    GParamSpecUnichar *uspec;
  
    uspec = g_param_spec_internal (G_TYPE_PARAM_UNICHAR,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (uspec == NULL)
      return NULL;
  
    uspec-&gt;default_value = default_value;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2064,15 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_enum (const gchar *name,
<span class="line-modified">!                    const gchar *nick,</span>
<span class="line-modified">!                    const gchar *blurb,</span>
<span class="line-modified">!            GType    enum_type,</span>
<span class="line-modified">!            gint     default_value,</span>
<span class="line-modified">!            GParamFlags  flags)</span>
  {
    GParamSpecEnum *espec;
    GEnumClass *enum_class;
  
    g_return_val_if_fail (G_TYPE_IS_ENUM (enum_type), NULL);
<span class="line-new-header">--- 2069,15 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_enum (const gchar *name,
<span class="line-modified">!        const gchar *nick,</span>
<span class="line-modified">!        const gchar *blurb,</span>
<span class="line-modified">!        GType  enum_type,</span>
<span class="line-modified">!        gint   default_value,</span>
<span class="line-modified">!        GParamFlags  flags)</span>
  {
    GParamSpecEnum *espec;
    GEnumClass *enum_class;
  
    g_return_val_if_fail (G_TYPE_IS_ENUM (enum_type), NULL);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2080,14 ***</span>
    enum_class = g_type_class_ref (enum_type);
  
    g_return_val_if_fail (g_enum_get_value (enum_class, default_value) != NULL, NULL);
  
    espec = g_param_spec_internal (G_TYPE_PARAM_ENUM,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (espec == NULL)
      return NULL;
  
    espec-&gt;enum_class = enum_class;
    espec-&gt;default_value = default_value;
<span class="line-new-header">--- 2085,14 ---</span>
    enum_class = g_type_class_ref (enum_type);
  
    g_return_val_if_fail (g_enum_get_value (enum_class, default_value) != NULL, NULL);
  
    espec = g_param_spec_internal (G_TYPE_PARAM_ENUM,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (espec == NULL)
      return NULL;
  
    espec-&gt;enum_class = enum_class;
    espec-&gt;default_value = default_value;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2112,15 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_flags (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             GType    flags_type,</span>
<span class="line-modified">!             guint    default_value,</span>
<span class="line-modified">!             GParamFlags  flags)</span>
  {
    GParamSpecFlags *fspec;
    GFlagsClass *flags_class;
  
    g_return_val_if_fail (G_TYPE_IS_FLAGS (flags_type), NULL);
<span class="line-new-header">--- 2117,15 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_flags (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         GType  flags_type,</span>
<span class="line-modified">!         guint  default_value,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecFlags *fspec;
    GFlagsClass *flags_class;
  
    g_return_val_if_fail (G_TYPE_IS_FLAGS (flags_type), NULL);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2132,14 ***</span>
  #endif // GSTREAMER_LITE
  
    g_return_val_if_fail ((default_value &amp; flags_class-&gt;mask) == default_value, NULL);
  
    fspec = g_param_spec_internal (G_TYPE_PARAM_FLAGS,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (fspec == NULL)
      return NULL;
  
    fspec-&gt;flags_class = flags_class;
    fspec-&gt;default_value = default_value;
<span class="line-new-header">--- 2137,14 ---</span>
  #endif // GSTREAMER_LITE
  
    g_return_val_if_fail ((default_value &amp; flags_class-&gt;mask) == default_value, NULL);
  
    fspec = g_param_spec_internal (G_TYPE_PARAM_FLAGS,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (fspec == NULL)
      return NULL;
  
    fspec-&gt;flags_class = flags_class;
    fspec-&gt;default_value = default_value;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2164,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_float (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             gfloat   minimum,</span>
<span class="line-modified">!             gfloat   maximum,</span>
<span class="line-modified">!             gfloat   default_value,</span>
<span class="line-modified">!             GParamFlags  flags)</span>
  {
    GParamSpecFloat *fspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    fspec = g_param_spec_internal (G_TYPE_PARAM_FLOAT,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (fspec == NULL)
      return NULL;
  
    fspec-&gt;minimum = minimum;
    fspec-&gt;maximum = maximum;
<span class="line-new-header">--- 2169,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_float (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         gfloat   minimum,</span>
<span class="line-modified">!         gfloat   maximum,</span>
<span class="line-modified">!         gfloat   default_value,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecFloat *fspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    fspec = g_param_spec_internal (G_TYPE_PARAM_FLOAT,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (fspec == NULL)
      return NULL;
  
    fspec-&gt;minimum = minimum;
    fspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2209,26 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_double (const gchar *name,
<span class="line-modified">!                      const gchar *nick,</span>
<span class="line-modified">!                      const gchar *blurb,</span>
<span class="line-modified">!              gdouble      minimum,</span>
<span class="line-modified">!              gdouble      maximum,</span>
<span class="line-modified">!              gdouble      default_value,</span>
<span class="line-modified">!                      GParamFlags  flags)</span>
  {
    GParamSpecDouble *dspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    dspec = g_param_spec_internal (G_TYPE_PARAM_DOUBLE,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (dspec == NULL)
      return NULL;
  
    dspec-&gt;minimum = minimum;
    dspec-&gt;maximum = maximum;
<span class="line-new-header">--- 2214,26 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_double (const gchar *name,
<span class="line-modified">!          const gchar *nick,</span>
<span class="line-modified">!          const gchar *blurb,</span>
<span class="line-modified">!          gdouble    minimum,</span>
<span class="line-modified">!          gdouble    maximum,</span>
<span class="line-modified">!          gdouble    default_value,</span>
<span class="line-modified">!          GParamFlags  flags)</span>
  {
    GParamSpecDouble *dspec;
  
    g_return_val_if_fail (default_value &gt;= minimum &amp;&amp; default_value &lt;= maximum, NULL);
  
    dspec = g_param_spec_internal (G_TYPE_PARAM_DOUBLE,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (dspec == NULL)
      return NULL;
  
    dspec-&gt;minimum = minimum;
    dspec-&gt;maximum = maximum;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2251,20 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_string (const gchar *name,
<span class="line-modified">!              const gchar *nick,</span>
<span class="line-modified">!              const gchar *blurb,</span>
<span class="line-modified">!              const gchar *default_value,</span>
<span class="line-modified">!              GParamFlags  flags)</span>
  {
    GParamSpecString *sspec = g_param_spec_internal (G_TYPE_PARAM_STRING,
<span class="line-modified">!                            name,</span>
<span class="line-modified">!                            nick,</span>
<span class="line-modified">!                            blurb,</span>
<span class="line-modified">!                            flags);</span>
    if (sspec == NULL)
      return NULL;
  
    g_free (sspec-&gt;default_value);
    sspec-&gt;default_value = g_strdup (default_value);
<span class="line-new-header">--- 2256,20 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_string (const gchar *name,
<span class="line-modified">!          const gchar *nick,</span>
<span class="line-modified">!          const gchar *blurb,</span>
<span class="line-modified">!          const gchar *default_value,</span>
<span class="line-modified">!          GParamFlags  flags)</span>
  {
    GParamSpecString *sspec = g_param_spec_internal (G_TYPE_PARAM_STRING,
<span class="line-modified">!                name,</span>
<span class="line-modified">!                nick,</span>
<span class="line-modified">!                blurb,</span>
<span class="line-modified">!                flags);</span>
    if (sspec == NULL)
      return NULL;
  
    g_free (sspec-&gt;default_value);
    sspec-&gt;default_value = g_strdup (default_value);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2287,24 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_param (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             GType    param_type,</span>
<span class="line-modified">!                     GParamFlags  flags)</span>
  {
    GParamSpecParam *pspec;
  
    g_return_val_if_fail (G_TYPE_IS_PARAM (param_type), NULL);
  
    pspec = g_param_spec_internal (G_TYPE_PARAM_PARAM,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (pspec == NULL)
      return NULL;
  
    G_PARAM_SPEC (pspec)-&gt;value_type = param_type;
  
<span class="line-new-header">--- 2292,24 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_param (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         GType  param_type,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecParam *pspec;
  
    g_return_val_if_fail (G_TYPE_IS_PARAM (param_type), NULL);
  
    pspec = g_param_spec_internal (G_TYPE_PARAM_PARAM,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (pspec == NULL)
      return NULL;
  
    G_PARAM_SPEC (pspec)-&gt;value_type = param_type;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2326,25 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_boxed (const gchar *name,
<span class="line-modified">!                     const gchar *nick,</span>
<span class="line-modified">!                     const gchar *blurb,</span>
<span class="line-modified">!             GType    boxed_type,</span>
<span class="line-modified">!                     GParamFlags  flags)</span>
  {
    GParamSpecBoxed *bspec;
  
    g_return_val_if_fail (G_TYPE_IS_BOXED (boxed_type), NULL);
    g_return_val_if_fail (G_TYPE_IS_VALUE_TYPE (boxed_type), NULL);
  
    bspec = g_param_spec_internal (G_TYPE_PARAM_BOXED,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (bspec == NULL)
      return NULL;
  
    G_PARAM_SPEC (bspec)-&gt;value_type = boxed_type;
  
<span class="line-new-header">--- 2331,25 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_boxed (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         GType  boxed_type,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecBoxed *bspec;
  
    g_return_val_if_fail (G_TYPE_IS_BOXED (boxed_type), NULL);
    g_return_val_if_fail (G_TYPE_IS_VALUE_TYPE (boxed_type), NULL);
  
    bspec = g_param_spec_internal (G_TYPE_PARAM_BOXED,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (bspec == NULL)
      return NULL;
  
    G_PARAM_SPEC (bspec)-&gt;value_type = boxed_type;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2366,21 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_pointer (const gchar *name,
<span class="line-modified">!               const gchar *nick,</span>
<span class="line-modified">!               const gchar *blurb,</span>
<span class="line-modified">!               GParamFlags  flags)</span>
  {
    GParamSpecPointer *pspec;
  
    pspec = g_param_spec_internal (G_TYPE_PARAM_POINTER,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (pspec == NULL)
      return NULL;
  
    return G_PARAM_SPEC (pspec);
  }
<span class="line-new-header">--- 2371,21 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_pointer (const gchar *name,
<span class="line-modified">!           const gchar *nick,</span>
<span class="line-modified">!           const gchar *blurb,</span>
<span class="line-modified">!           GParamFlags  flags)</span>
  {
    GParamSpecPointer *pspec;
  
    pspec = g_param_spec_internal (G_TYPE_PARAM_POINTER,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (pspec == NULL)
      return NULL;
  
    return G_PARAM_SPEC (pspec);
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2403,22 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_gtype (const gchar *name,
<span class="line-modified">!             const gchar *nick,</span>
<span class="line-modified">!             const gchar *blurb,</span>
<span class="line-modified">!             GType        is_a_type,</span>
<span class="line-modified">!             GParamFlags  flags)</span>
  {
    GParamSpecGType *tspec;
  
    tspec = g_param_spec_internal (G_TYPE_PARAM_GTYPE,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (tspec == NULL)
      return NULL;
  
    tspec-&gt;is_a_type = is_a_type;
  
<span class="line-new-header">--- 2408,22 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_gtype (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         GType        is_a_type,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecGType *tspec;
  
    tspec = g_param_spec_internal (G_TYPE_PARAM_GTYPE,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (tspec == NULL)
      return NULL;
  
    tspec-&gt;is_a_type = is_a_type;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2443,25 ***</span>
   *
   * Returns: a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_value_array (const gchar *name,
<span class="line-modified">!               const gchar *nick,</span>
<span class="line-modified">!               const gchar *blurb,</span>
<span class="line-modified">!               GParamSpec  *element_spec,</span>
<span class="line-modified">!               GParamFlags  flags)</span>
  {
    GParamSpecValueArray *aspec;
  
    if (element_spec)
      g_return_val_if_fail (G_IS_PARAM_SPEC (element_spec), NULL);
  
    aspec = g_param_spec_internal (G_TYPE_PARAM_VALUE_ARRAY,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (aspec == NULL)
      return NULL;
  
    if (element_spec)
      {
<span class="line-new-header">--- 2448,25 ---</span>
   *
   * Returns: a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_value_array (const gchar *name,
<span class="line-modified">!         const gchar *nick,</span>
<span class="line-modified">!         const gchar *blurb,</span>
<span class="line-modified">!         GParamSpec  *element_spec,</span>
<span class="line-modified">!         GParamFlags  flags)</span>
  {
    GParamSpecValueArray *aspec;
  
    if (element_spec)
      g_return_val_if_fail (G_IS_PARAM_SPEC (element_spec), NULL);
  
    aspec = g_param_spec_internal (G_TYPE_PARAM_VALUE_ARRAY,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (aspec == NULL)
      return NULL;
  
    if (element_spec)
      {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2487,24 ***</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_object (const gchar *name,
<span class="line-modified">!                      const gchar *nick,</span>
<span class="line-modified">!                      const gchar *blurb,</span>
<span class="line-modified">!              GType    object_type,</span>
<span class="line-modified">!                      GParamFlags  flags)</span>
  {
    GParamSpecObject *ospec;
  
    g_return_val_if_fail (g_type_is_a (object_type, G_TYPE_OBJECT), NULL);
  
    ospec = g_param_spec_internal (G_TYPE_PARAM_OBJECT,
<span class="line-modified">!                  name,</span>
<span class="line-modified">!                  nick,</span>
<span class="line-modified">!                  blurb,</span>
<span class="line-modified">!                  flags);</span>
    if (ospec == NULL)
      return NULL;
  
    G_PARAM_SPEC (ospec)-&gt;value_type = object_type;
  
<span class="line-new-header">--- 2492,24 ---</span>
   *
   * Returns: (transfer full): a newly created parameter specification
   */
  GParamSpec*
  g_param_spec_object (const gchar *name,
<span class="line-modified">!          const gchar *nick,</span>
<span class="line-modified">!          const gchar *blurb,</span>
<span class="line-modified">!          GType    object_type,</span>
<span class="line-modified">!          GParamFlags  flags)</span>
  {
    GParamSpecObject *ospec;
  
    g_return_val_if_fail (g_type_is_a (object_type, G_TYPE_OBJECT), NULL);
  
    ospec = g_param_spec_internal (G_TYPE_PARAM_OBJECT,
<span class="line-modified">!          name,</span>
<span class="line-modified">!          nick,</span>
<span class="line-modified">!          blurb,</span>
<span class="line-modified">!          flags);</span>
    if (ospec == NULL)
      return NULL;
  
    G_PARAM_SPEC (ospec)-&gt;value_type = object_type;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2524,11 ***</span>
   *
   * Returns: the newly created #GParamSpec
   */
  GParamSpec*
  g_param_spec_override (const gchar *name,
<span class="line-modified">!                GParamSpec  *overridden)</span>
  {
    GParamSpec *pspec;
  
    g_return_val_if_fail (name != NULL, NULL);
    g_return_val_if_fail (G_IS_PARAM_SPEC (overridden), NULL);
<span class="line-new-header">--- 2529,11 ---</span>
   *
   * Returns: the newly created #GParamSpec
   */
  GParamSpec*
  g_param_spec_override (const gchar *name,
<span class="line-modified">!            GParamSpec  *overridden)</span>
  {
    GParamSpec *pspec;
  
    g_return_val_if_fail (name != NULL, NULL);
    g_return_val_if_fail (G_IS_PARAM_SPEC (overridden), NULL);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 2537,18 ***</span>
     */
    while (TRUE)
      {
        GParamSpec *indirect = g_param_spec_get_redirect_target (overridden);
        if (indirect)
<span class="line-modified">!     overridden = indirect;</span>
        else
<span class="line-modified">!     break;</span>
      }
  
    pspec = g_param_spec_internal (G_TYPE_PARAM_OVERRIDE,
<span class="line-modified">!                  name, NULL, NULL,</span>
<span class="line-modified">!                  overridden-&gt;flags);</span>
    if (pspec == NULL)
      return NULL;
  
    pspec-&gt;value_type = G_PARAM_SPEC_VALUE_TYPE (overridden);
    G_PARAM_SPEC_OVERRIDE (pspec)-&gt;overridden = g_param_spec_ref (overridden);
<span class="line-new-header">--- 2542,18 ---</span>
     */
    while (TRUE)
      {
        GParamSpec *indirect = g_param_spec_get_redirect_target (overridden);
        if (indirect)
<span class="line-modified">!   overridden = indirect;</span>
        else
<span class="line-modified">!   break;</span>
      }
  
    pspec = g_param_spec_internal (G_TYPE_PARAM_OVERRIDE,
<span class="line-modified">!          name, NULL, NULL,</span>
<span class="line-modified">!          overridden-&gt;flags);</span>
    if (pspec == NULL)
      return NULL;
  
    pspec-&gt;value_type = G_PARAM_SPEC_VALUE_TYPE (overridden);
    G_PARAM_SPEC_OVERRIDE (pspec)-&gt;overridden = g_param_spec_ref (overridden);
</pre>
<center><a href="gparam.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gparamspecs.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>