<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/giochannel.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="giochannel.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="giounix.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/giochannel.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 83,14 ***</span>
  
  typedef enum
  {
    G_IO_FLAG_APPEND = 1 &lt;&lt; 0,
    G_IO_FLAG_NONBLOCK = 1 &lt;&lt; 1,
<span class="line-modified">!   G_IO_FLAG_IS_READABLE = 1 &lt;&lt; 2,   /* Read only flag */</span>
<span class="line-modified">!   G_IO_FLAG_IS_WRITABLE = 1 &lt;&lt; 3,   /* Read only flag */</span>
    G_IO_FLAG_IS_WRITEABLE = 1 &lt;&lt; 3,      /* Misspelling in 2.29.10 and earlier */
<span class="line-modified">!   G_IO_FLAG_IS_SEEKABLE = 1 &lt;&lt; 4,   /* Read only flag */</span>
    G_IO_FLAG_MASK = (1 &lt;&lt; 5) - 1,
    G_IO_FLAG_GET_MASK = G_IO_FLAG_MASK,
    G_IO_FLAG_SET_MASK = G_IO_FLAG_APPEND | G_IO_FLAG_NONBLOCK
  } GIOFlags;
  
<span class="line-new-header">--- 83,14 ---</span>
  
  typedef enum
  {
    G_IO_FLAG_APPEND = 1 &lt;&lt; 0,
    G_IO_FLAG_NONBLOCK = 1 &lt;&lt; 1,
<span class="line-modified">!   G_IO_FLAG_IS_READABLE = 1 &lt;&lt; 2, /* Read only flag */</span>
<span class="line-modified">!   G_IO_FLAG_IS_WRITABLE = 1 &lt;&lt; 3, /* Read only flag */</span>
    G_IO_FLAG_IS_WRITEABLE = 1 &lt;&lt; 3,      /* Misspelling in 2.29.10 and earlier */
<span class="line-modified">!   G_IO_FLAG_IS_SEEKABLE = 1 &lt;&lt; 4, /* Read only flag */</span>
    G_IO_FLAG_MASK = (1 &lt;&lt; 5) - 1,
    G_IO_FLAG_GET_MASK = G_IO_FLAG_MASK,
    G_IO_FLAG_SET_MASK = G_IO_FLAG_APPEND | G_IO_FLAG_NONBLOCK
  } GIOFlags;
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 101,18 ***</span>
    GIOFuncs *funcs;
  
    gchar *encoding;
    GIConv read_cd;
    GIConv write_cd;
<span class="line-modified">!   gchar *line_term;     /* String which indicates the end of a line of text */</span>
<span class="line-modified">!   guint line_term_len;      /* So we can have null in the line term */</span>
  
    gsize buf_size;
<span class="line-modified">!   GString *read_buf;        /* Raw data from the channel */</span>
    GString *encoded_read_buf;    /* Channel data converted to UTF-8 */
<span class="line-modified">!   GString *write_buf;       /* Data ready to be written to the file */</span>
<span class="line-modified">!   gchar partial_write_buf[6];   /* UTF-8 partial characters, null terminated */</span>
  
    /* Group the flags together, immediately after partial_write_buf, to save memory */
  
    guint use_buffer     : 1; /* The encoding uses the buffers */
    guint do_encode      : 1; /* The encoding uses the GIConv coverters */
<span class="line-new-header">--- 101,18 ---</span>
    GIOFuncs *funcs;
  
    gchar *encoding;
    GIConv read_cd;
    GIConv write_cd;
<span class="line-modified">!   gchar *line_term;   /* String which indicates the end of a line of text */</span>
<span class="line-modified">!   guint line_term_len;    /* So we can have null in the line term */</span>
  
    gsize buf_size;
<span class="line-modified">!   GString *read_buf;    /* Raw data from the channel */</span>
    GString *encoded_read_buf;    /* Channel data converted to UTF-8 */
<span class="line-modified">!   GString *write_buf;   /* Data ready to be written to the file */</span>
<span class="line-modified">!   gchar partial_write_buf[6]; /* UTF-8 partial characters, null terminated */</span>
  
    /* Group the flags together, immediately after partial_write_buf, to save memory */
  
    guint use_buffer     : 1; /* The encoding uses the buffers */
    guint do_encode      : 1; /* The encoding uses the GIConv coverters */
</pre>
<hr />
<pre>
<span class="line-old-header">*** 124,36 ***</span>
    gpointer reserved1;
    gpointer reserved2;
  };
  
  typedef gboolean (*GIOFunc) (GIOChannel   *source,
<span class="line-modified">!                  GIOCondition  condition,</span>
<span class="line-modified">!                  gpointer      data);</span>
  struct _GIOFuncs
  {
    GIOStatus (*io_read)           (GIOChannel   *channel,
<span class="line-modified">!                       gchar        *buf,</span>
<span class="line-modified">!                   gsize         count,</span>
<span class="line-modified">!                   gsize        *bytes_read,</span>
<span class="line-modified">!                   GError      **err);</span>
    GIOStatus (*io_write)          (GIOChannel   *channel,
<span class="line-modified">!                   const gchar  *buf,</span>
<span class="line-modified">!                   gsize         count,</span>
<span class="line-modified">!                   gsize        *bytes_written,</span>
<span class="line-modified">!                   GError      **err);</span>
    GIOStatus (*io_seek)           (GIOChannel   *channel,
<span class="line-modified">!                   gint64        offset,</span>
<span class="line-modified">!                   GSeekType     type,</span>
<span class="line-modified">!                   GError      **err);</span>
    GIOStatus  (*io_close)         (GIOChannel   *channel,
<span class="line-modified">!                   GError      **err);</span>
    GSource*   (*io_create_watch)  (GIOChannel   *channel,
<span class="line-modified">!                   GIOCondition  condition);</span>
    void       (*io_free)          (GIOChannel   *channel);
    GIOStatus  (*io_set_flags)     (GIOChannel   *channel,
                                    GIOFlags      flags,
<span class="line-modified">!                   GError      **err);</span>
    GIOFlags   (*io_get_flags)     (GIOChannel   *channel);
  };
  
  GLIB_AVAILABLE_IN_ALL
  void        g_io_channel_init   (GIOChannel    *channel);
<span class="line-new-header">--- 124,36 ---</span>
    gpointer reserved1;
    gpointer reserved2;
  };
  
  typedef gboolean (*GIOFunc) (GIOChannel   *source,
<span class="line-modified">!            GIOCondition  condition,</span>
<span class="line-modified">!            gpointer      data);</span>
  struct _GIOFuncs
  {
    GIOStatus (*io_read)           (GIOChannel   *channel,
<span class="line-modified">!                 gchar        *buf,</span>
<span class="line-modified">!           gsize         count,</span>
<span class="line-modified">!           gsize        *bytes_read,</span>
<span class="line-modified">!           GError      **err);</span>
    GIOStatus (*io_write)          (GIOChannel   *channel,
<span class="line-modified">!           const gchar  *buf,</span>
<span class="line-modified">!           gsize         count,</span>
<span class="line-modified">!           gsize        *bytes_written,</span>
<span class="line-modified">!           GError      **err);</span>
    GIOStatus (*io_seek)           (GIOChannel   *channel,
<span class="line-modified">!           gint64        offset,</span>
<span class="line-modified">!           GSeekType     type,</span>
<span class="line-modified">!           GError      **err);</span>
    GIOStatus  (*io_close)         (GIOChannel   *channel,
<span class="line-modified">!           GError      **err);</span>
    GSource*   (*io_create_watch)  (GIOChannel   *channel,
<span class="line-modified">!           GIOCondition  condition);</span>
    void       (*io_free)          (GIOChannel   *channel);
    GIOStatus  (*io_set_flags)     (GIOChannel   *channel,
                                    GIOFlags      flags,
<span class="line-modified">!           GError      **err);</span>
    GIOFlags   (*io_get_flags)     (GIOChannel   *channel);
  };
  
  GLIB_AVAILABLE_IN_ALL
  void        g_io_channel_init   (GIOChannel    *channel);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 182,117 ***</span>
  GLIB_DEPRECATED_FOR(g_io_channel_shutdown)
  void      g_io_channel_close    (GIOChannel    *channel);
  
  GLIB_AVAILABLE_IN_ALL
  GIOStatus g_io_channel_shutdown (GIOChannel      *channel,
<span class="line-modified">!                  gboolean         flush,</span>
<span class="line-modified">!                  GError         **err);</span>
  GLIB_AVAILABLE_IN_ALL
  guint     g_io_add_watch_full   (GIOChannel      *channel,
<span class="line-modified">!                  gint             priority,</span>
<span class="line-modified">!                  GIOCondition     condition,</span>
<span class="line-modified">!                  GIOFunc          func,</span>
<span class="line-modified">!                  gpointer         user_data,</span>
<span class="line-modified">!                  GDestroyNotify   notify);</span>
  GLIB_AVAILABLE_IN_ALL
  GSource * g_io_create_watch     (GIOChannel      *channel,
<span class="line-modified">!                  GIOCondition     condition);</span>
  GLIB_AVAILABLE_IN_ALL
  guint     g_io_add_watch        (GIOChannel      *channel,
<span class="line-modified">!                  GIOCondition     condition,</span>
<span class="line-modified">!                  GIOFunc          func,</span>
<span class="line-modified">!                  gpointer         user_data);</span>
  
  /* character encoding conversion involved functions.
   */
  
  GLIB_AVAILABLE_IN_ALL
  void                  g_io_channel_set_buffer_size      (GIOChannel   *channel,
<span class="line-modified">!                              gsize         size);</span>
  GLIB_AVAILABLE_IN_ALL
  gsize                 g_io_channel_get_buffer_size      (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
  GIOCondition          g_io_channel_get_buffer_condition (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
  GIOStatus             g_io_channel_set_flags            (GIOChannel   *channel,
<span class="line-modified">!                              GIOFlags      flags,</span>
<span class="line-modified">!                              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOFlags              g_io_channel_get_flags            (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
  void                  g_io_channel_set_line_term        (GIOChannel   *channel,
<span class="line-modified">!                              const gchar  *line_term,</span>
<span class="line-modified">!                              gint          length);</span>
  GLIB_AVAILABLE_IN_ALL
  const gchar *         g_io_channel_get_line_term        (GIOChannel   *channel,
<span class="line-modified">!                              gint         *length);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! void              g_io_channel_set_buffered     (GIOChannel   *channel,</span>
<span class="line-modified">!                              gboolean      buffered);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! gboolean          g_io_channel_get_buffered     (GIOChannel   *channel);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus             g_io_channel_set_encoding         (GIOChannel   *channel,
<span class="line-modified">!                              const gchar  *encoding,</span>
<span class="line-modified">!                              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  const gchar *         g_io_channel_get_encoding         (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! void                  g_io_channel_set_close_on_unref   (GIOChannel   *channel,</span>
<span class="line-modified">!                              gboolean      do_close);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! gboolean              g_io_channel_get_close_on_unref   (GIOChannel   *channel);</span>
  
  
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_flush            (GIOChannel   *channel,
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_line        (GIOChannel   *channel,
<span class="line-modified">!                        gchar       **str_return,</span>
<span class="line-modified">!                        gsize        *length,</span>
<span class="line-modified">!                        gsize        *terminator_pos,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_line_string (GIOChannel   *channel,
<span class="line-modified">!                        GString      *buffer,</span>
<span class="line-modified">!                        gsize        *terminator_pos,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_to_end      (GIOChannel   *channel,
<span class="line-modified">!                        gchar       **str_return,</span>
<span class="line-modified">!                        gsize        *length,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_chars       (GIOChannel   *channel,
<span class="line-modified">!                        gchar        *buf,</span>
<span class="line-modified">!                        gsize         count,</span>
<span class="line-modified">!                        gsize        *bytes_read,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_unichar     (GIOChannel   *channel,
<span class="line-modified">!                        gunichar     *thechar,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_write_chars      (GIOChannel   *channel,
<span class="line-modified">!                        const gchar  *buf,</span>
<span class="line-modified">!                        gssize        count,</span>
<span class="line-modified">!                        gsize        *bytes_written,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_write_unichar    (GIOChannel   *channel,
<span class="line-modified">!                        gunichar      thechar,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_seek_position    (GIOChannel   *channel,
<span class="line-modified">!                        gint64        offset,</span>
<span class="line-modified">!                        GSeekType     type,</span>
<span class="line-modified">!                        GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOChannel* g_io_channel_new_file         (const gchar  *filename,
<span class="line-modified">!                        const gchar  *mode,</span>
<span class="line-modified">!                        GError      **error);</span>
  
  /* Error handling */
  
  GLIB_AVAILABLE_IN_ALL
  GQuark          g_io_channel_error_quark      (void);
<span class="line-new-header">--- 182,117 ---</span>
  GLIB_DEPRECATED_FOR(g_io_channel_shutdown)
  void      g_io_channel_close    (GIOChannel    *channel);
  
  GLIB_AVAILABLE_IN_ALL
  GIOStatus g_io_channel_shutdown (GIOChannel      *channel,
<span class="line-modified">!          gboolean         flush,</span>
<span class="line-modified">!          GError         **err);</span>
  GLIB_AVAILABLE_IN_ALL
  guint     g_io_add_watch_full   (GIOChannel      *channel,
<span class="line-modified">!          gint             priority,</span>
<span class="line-modified">!          GIOCondition     condition,</span>
<span class="line-modified">!          GIOFunc          func,</span>
<span class="line-modified">!          gpointer         user_data,</span>
<span class="line-modified">!          GDestroyNotify   notify);</span>
  GLIB_AVAILABLE_IN_ALL
  GSource * g_io_create_watch     (GIOChannel      *channel,
<span class="line-modified">!          GIOCondition     condition);</span>
  GLIB_AVAILABLE_IN_ALL
  guint     g_io_add_watch        (GIOChannel      *channel,
<span class="line-modified">!          GIOCondition     condition,</span>
<span class="line-modified">!          GIOFunc          func,</span>
<span class="line-modified">!          gpointer         user_data);</span>
  
  /* character encoding conversion involved functions.
   */
  
  GLIB_AVAILABLE_IN_ALL
  void                  g_io_channel_set_buffer_size      (GIOChannel   *channel,
<span class="line-modified">!                gsize         size);</span>
  GLIB_AVAILABLE_IN_ALL
  gsize                 g_io_channel_get_buffer_size      (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
  GIOCondition          g_io_channel_get_buffer_condition (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
  GIOStatus             g_io_channel_set_flags            (GIOChannel   *channel,
<span class="line-modified">!                GIOFlags      flags,</span>
<span class="line-modified">!                GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOFlags              g_io_channel_get_flags            (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
  void                  g_io_channel_set_line_term        (GIOChannel   *channel,
<span class="line-modified">!                const gchar  *line_term,</span>
<span class="line-modified">!                gint          length);</span>
  GLIB_AVAILABLE_IN_ALL
  const gchar *         g_io_channel_get_line_term        (GIOChannel   *channel,
<span class="line-modified">!                gint         *length);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! void          g_io_channel_set_buffered   (GIOChannel   *channel,</span>
<span class="line-modified">!                gboolean      buffered);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! gboolean        g_io_channel_get_buffered   (GIOChannel   *channel);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus             g_io_channel_set_encoding         (GIOChannel   *channel,
<span class="line-modified">!                const gchar  *encoding,</span>
<span class="line-modified">!                GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  const gchar *         g_io_channel_get_encoding         (GIOChannel   *channel);
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! void                  g_io_channel_set_close_on_unref (GIOChannel   *channel,</span>
<span class="line-modified">!                gboolean      do_close);</span>
  GLIB_AVAILABLE_IN_ALL
<span class="line-modified">! gboolean              g_io_channel_get_close_on_unref (GIOChannel   *channel);</span>
  
  
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_flush            (GIOChannel   *channel,
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_line        (GIOChannel   *channel,
<span class="line-modified">!              gchar       **str_return,</span>
<span class="line-modified">!              gsize        *length,</span>
<span class="line-modified">!              gsize        *terminator_pos,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_line_string (GIOChannel   *channel,
<span class="line-modified">!              GString      *buffer,</span>
<span class="line-modified">!              gsize        *terminator_pos,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_to_end      (GIOChannel   *channel,
<span class="line-modified">!              gchar       **str_return,</span>
<span class="line-modified">!              gsize        *length,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_chars       (GIOChannel   *channel,
<span class="line-modified">!              gchar        *buf,</span>
<span class="line-modified">!              gsize         count,</span>
<span class="line-modified">!              gsize        *bytes_read,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_read_unichar     (GIOChannel   *channel,
<span class="line-modified">!              gunichar     *thechar,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_write_chars      (GIOChannel   *channel,
<span class="line-modified">!              const gchar  *buf,</span>
<span class="line-modified">!              gssize        count,</span>
<span class="line-modified">!              gsize        *bytes_written,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_write_unichar    (GIOChannel   *channel,
<span class="line-modified">!              gunichar      thechar,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOStatus   g_io_channel_seek_position    (GIOChannel   *channel,
<span class="line-modified">!              gint64        offset,</span>
<span class="line-modified">!              GSeekType     type,</span>
<span class="line-modified">!              GError      **error);</span>
  GLIB_AVAILABLE_IN_ALL
  GIOChannel* g_io_channel_new_file         (const gchar  *filename,
<span class="line-modified">!              const gchar  *mode,</span>
<span class="line-modified">!              GError      **error);</span>
  
  /* Error handling */
  
  GLIB_AVAILABLE_IN_ALL
  GQuark          g_io_channel_error_quark      (void);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 340,20 ***</span>
   * from the underlying file descriptor. For SOCKETs, it is possible to call
   * recv().
   */
  GLIB_AVAILABLE_IN_ALL
  void        g_io_channel_win32_make_pollfd (GIOChannel   *channel,
<span class="line-modified">!                         GIOCondition  condition,</span>
<span class="line-modified">!                         GPollFD      *fd);</span>
  
<span class="line-modified">! /* This can be used to wait a until at least one of the channels is readable.</span>
   * On Unix you would do a select() on the file descriptors of the channels.
   */
  GLIB_AVAILABLE_IN_ALL
  gint        g_io_channel_win32_poll   (GPollFD    *fds,
<span class="line-modified">!                        gint        n_fds,</span>
<span class="line-modified">!                        gint        timeout_);</span>
  
  /* Create an IO channel for Windows messages for window handle hwnd. */
  #if GLIB_SIZEOF_VOID_P == 8
  /* We use gsize here so that it is still an integer type and not a
   * pointer, like the guint in the traditional prototype. We can&#39;t use
<span class="line-new-header">--- 340,20 ---</span>
   * from the underlying file descriptor. For SOCKETs, it is possible to call
   * recv().
   */
  GLIB_AVAILABLE_IN_ALL
  void        g_io_channel_win32_make_pollfd (GIOChannel   *channel,
<span class="line-modified">!               GIOCondition  condition,</span>
<span class="line-modified">!               GPollFD      *fd);</span>
  
<span class="line-modified">! /* This can be used to wait until at least one of the channels is readable.</span>
   * On Unix you would do a select() on the file descriptors of the channels.
   */
  GLIB_AVAILABLE_IN_ALL
  gint        g_io_channel_win32_poll   (GPollFD    *fds,
<span class="line-modified">!                gint        n_fds,</span>
<span class="line-modified">!                gint        timeout_);</span>
  
  /* Create an IO channel for Windows messages for window handle hwnd. */
  #if GLIB_SIZEOF_VOID_P == 8
  /* We use gsize here so that it is still an integer type and not a
   * pointer, like the guint in the traditional prototype. We can&#39;t use
</pre>
<center><a href="giochannel.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="giounix.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>