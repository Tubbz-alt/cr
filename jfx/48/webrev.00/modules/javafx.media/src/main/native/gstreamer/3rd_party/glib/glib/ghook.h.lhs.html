<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/ghook.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /* GLIB - Library of useful routines for C programming
  2  * Copyright (C) 1995-1997  Peter Mattis, Spencer Kimball and Josh MacDonald
  3  *
  4  * This library is free software; you can redistribute it and/or
  5  * modify it under the terms of the GNU Lesser General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2.1 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Lesser General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Lesser General Public
 15  * License along with this library; if not, see &lt;http://www.gnu.org/licenses/&gt;.
 16  */
 17 
 18 /*
 19  * Modified by the GLib Team and others 1997-2000.  See the AUTHORS
 20  * file for a list of people on the GLib Team.  See the ChangeLog
 21  * files for a list of changes.  These files are distributed with
 22  * GLib at ftp://ftp.gtk.org/pub/gtk/.
 23  */
 24 
 25 #ifndef __G_HOOK_H__
 26 #define __G_HOOK_H__
 27 
 28 #if !defined (__GLIB_H_INSIDE__) &amp;&amp; !defined (GLIB_COMPILATION)
 29 #error &quot;Only &lt;glib.h&gt; can be included directly.&quot;
 30 #endif
 31 
 32 #include &lt;glib/gmem.h&gt;
 33 
 34 G_BEGIN_DECLS
 35 
 36 
 37 /* --- typedefs --- */
<a name="1" id="anc1"></a><span class="line-modified"> 38 typedef struct _GHook       GHook;</span>
<span class="line-modified"> 39 typedef struct _GHookList   GHookList;</span>
<span class="line-modified"> 40 </span>
<span class="line-modified"> 41 typedef gint        (*GHookCompareFunc) (GHook      *new_hook,</span>
<span class="line-modified"> 42                          GHook      *sibling);</span>
<span class="line-modified"> 43 typedef gboolean    (*GHookFindFunc)    (GHook      *hook,</span>
<span class="line-modified"> 44                          gpointer    data);</span>
<span class="line-modified"> 45 typedef void        (*GHookMarshaller)  (GHook      *hook,</span>
<span class="line-modified"> 46                          gpointer    marshal_data);</span>
<span class="line-modified"> 47 typedef gboolean    (*GHookCheckMarshaller) (GHook      *hook,</span>
<span class="line-modified"> 48                          gpointer    marshal_data);</span>
<span class="line-modified"> 49 typedef void        (*GHookFunc)        (gpointer    data);</span>
<span class="line-modified"> 50 typedef gboolean    (*GHookCheckFunc)   (gpointer    data);</span>
<span class="line-modified"> 51 typedef void        (*GHookFinalizeFunc)    (GHookList      *hook_list,</span>
<span class="line-modified"> 52                          GHook          *hook);</span>
 53 typedef enum
 54 {
<a name="2" id="anc2"></a><span class="line-modified"> 55   G_HOOK_FLAG_ACTIVE        = 1 &lt;&lt; 0,</span>
<span class="line-modified"> 56   G_HOOK_FLAG_IN_CALL       = 1 &lt;&lt; 1,</span>
 57   G_HOOK_FLAG_MASK      = 0x0f
 58 } GHookFlagMask;
 59 #define G_HOOK_FLAG_USER_SHIFT  (4)
 60 
 61 
 62 /* --- structures --- */
 63 struct _GHookList
 64 {
<a name="3" id="anc3"></a><span class="line-modified"> 65   gulong        seq_id;</span>
<span class="line-modified"> 66   guint         hook_size : 16;</span>
<span class="line-modified"> 67   guint         is_setup : 1;</span>
<span class="line-modified"> 68   GHook        *hooks;</span>
 69   gpointer      dummy3;
 70   GHookFinalizeFunc finalize_hook;
 71   gpointer      dummy[2];
 72 };
 73 struct _GHook
 74 {
 75   gpointer   data;
<a name="4" id="anc4"></a><span class="line-modified"> 76   GHook     *next;</span>
<span class="line-modified"> 77   GHook     *prev;</span>
<span class="line-modified"> 78   guint      ref_count;</span>
<span class="line-modified"> 79   gulong     hook_id;</span>
<span class="line-modified"> 80   guint      flags;</span>
 81   gpointer   func;
 82   GDestroyNotify destroy;
 83 };
 84 
 85 
 86 /* --- macros --- */
<a name="5" id="anc5"></a><span class="line-modified"> 87 #define G_HOOK(hook)            ((GHook*) (hook))</span>
<span class="line-modified"> 88 #define G_HOOK_FLAGS(hook)      (G_HOOK (hook)-&gt;flags)</span>
<span class="line-modified"> 89 #define G_HOOK_ACTIVE(hook)     ((G_HOOK_FLAGS (hook) &amp; \</span>
<span class="line-modified"> 90                       G_HOOK_FLAG_ACTIVE) != 0)</span>
<span class="line-modified"> 91 #define G_HOOK_IN_CALL(hook)        ((G_HOOK_FLAGS (hook) &amp; \</span>
<span class="line-modified"> 92                       G_HOOK_FLAG_IN_CALL) != 0)</span>
<span class="line-modified"> 93 #define G_HOOK_IS_VALID(hook)       (G_HOOK (hook)-&gt;hook_id != 0 &amp;&amp; \</span>
<span class="line-modified"> 94                      (G_HOOK_FLAGS (hook) &amp; \</span>
 95                                           G_HOOK_FLAG_ACTIVE))
<a name="6" id="anc6"></a><span class="line-modified"> 96 #define G_HOOK_IS_UNLINKED(hook)    (G_HOOK (hook)-&gt;next == NULL &amp;&amp; \</span>
<span class="line-modified"> 97                      G_HOOK (hook)-&gt;prev == NULL &amp;&amp; \</span>
<span class="line-modified"> 98                      G_HOOK (hook)-&gt;hook_id == 0 &amp;&amp; \</span>
<span class="line-modified"> 99                      G_HOOK (hook)-&gt;ref_count == 0)</span>
100 
101 
102 /* --- prototypes --- */
103 /* callback maintenance functions */
104 GLIB_AVAILABLE_IN_ALL
<a name="7" id="anc7"></a><span class="line-modified">105 void     g_hook_list_init       (GHookList      *hook_list,</span>
<span class="line-modified">106                      guint           hook_size);</span>
107 GLIB_AVAILABLE_IN_ALL
<a name="8" id="anc8"></a><span class="line-modified">108 void     g_hook_list_clear      (GHookList      *hook_list);</span>
109 GLIB_AVAILABLE_IN_ALL
<a name="9" id="anc9"></a><span class="line-modified">110 GHook*   g_hook_alloc           (GHookList      *hook_list);</span>
111 GLIB_AVAILABLE_IN_ALL
<a name="10" id="anc10"></a><span class="line-modified">112 void     g_hook_free            (GHookList      *hook_list,</span>
<span class="line-modified">113                      GHook          *hook);</span>
114 GLIB_AVAILABLE_IN_ALL
<a name="11" id="anc11"></a><span class="line-modified">115 GHook *  g_hook_ref         (GHookList      *hook_list,</span>
<span class="line-modified">116                      GHook          *hook);</span>
117 GLIB_AVAILABLE_IN_ALL
<a name="12" id="anc12"></a><span class="line-modified">118 void     g_hook_unref           (GHookList      *hook_list,</span>
<span class="line-modified">119                      GHook          *hook);</span>
120 GLIB_AVAILABLE_IN_ALL
<a name="13" id="anc13"></a><span class="line-modified">121 gboolean g_hook_destroy         (GHookList      *hook_list,</span>
<span class="line-modified">122                      gulong          hook_id);</span>
123 GLIB_AVAILABLE_IN_ALL
<a name="14" id="anc14"></a><span class="line-modified">124 void     g_hook_destroy_link        (GHookList      *hook_list,</span>
<span class="line-modified">125                      GHook          *hook);</span>
126 GLIB_AVAILABLE_IN_ALL
<a name="15" id="anc15"></a><span class="line-modified">127 void     g_hook_prepend         (GHookList      *hook_list,</span>
<span class="line-modified">128                      GHook          *hook);</span>
129 GLIB_AVAILABLE_IN_ALL
<a name="16" id="anc16"></a><span class="line-modified">130 void     g_hook_insert_before       (GHookList      *hook_list,</span>
<span class="line-modified">131                      GHook          *sibling,</span>
<span class="line-modified">132                      GHook          *hook);</span>
133 GLIB_AVAILABLE_IN_ALL
<a name="17" id="anc17"></a><span class="line-modified">134 void     g_hook_insert_sorted       (GHookList      *hook_list,</span>
<span class="line-modified">135                      GHook          *hook,</span>
<span class="line-modified">136                      GHookCompareFunc    func);</span>
137 GLIB_AVAILABLE_IN_ALL
<a name="18" id="anc18"></a><span class="line-modified">138 GHook*   g_hook_get         (GHookList      *hook_list,</span>
<span class="line-modified">139                      gulong          hook_id);</span>
140 GLIB_AVAILABLE_IN_ALL
<a name="19" id="anc19"></a><span class="line-modified">141 GHook*   g_hook_find            (GHookList      *hook_list,</span>
<span class="line-modified">142                      gboolean        need_valids,</span>
<span class="line-modified">143                      GHookFindFunc       func,</span>
<span class="line-modified">144                      gpointer        data);</span>
145 GLIB_AVAILABLE_IN_ALL
<a name="20" id="anc20"></a><span class="line-modified">146 GHook*   g_hook_find_data       (GHookList      *hook_list,</span>
<span class="line-modified">147                      gboolean        need_valids,</span>
<span class="line-modified">148                      gpointer        data);</span>
149 GLIB_AVAILABLE_IN_ALL
<a name="21" id="anc21"></a><span class="line-modified">150 GHook*   g_hook_find_func       (GHookList      *hook_list,</span>
<span class="line-modified">151                      gboolean        need_valids,</span>
<span class="line-modified">152                      gpointer        func);</span>
153 GLIB_AVAILABLE_IN_ALL
<a name="22" id="anc22"></a><span class="line-modified">154 GHook*   g_hook_find_func_data      (GHookList      *hook_list,</span>
<span class="line-modified">155                      gboolean        need_valids,</span>
<span class="line-modified">156                      gpointer        func,</span>
<span class="line-modified">157                      gpointer        data);</span>
158 /* return the first valid hook, and increment its reference count */
159 GLIB_AVAILABLE_IN_ALL
<a name="23" id="anc23"></a><span class="line-modified">160 GHook*   g_hook_first_valid     (GHookList      *hook_list,</span>
<span class="line-modified">161                      gboolean        may_be_in_call);</span>
162 /* return the next valid hook with incremented reference count, and
163  * decrement the reference count of the original hook
164  */
165 GLIB_AVAILABLE_IN_ALL
<a name="24" id="anc24"></a><span class="line-modified">166 GHook*   g_hook_next_valid      (GHookList      *hook_list,</span>
<span class="line-modified">167                      GHook          *hook,</span>
<span class="line-modified">168                      gboolean        may_be_in_call);</span>
169 /* GHookCompareFunc implementation to insert hooks sorted by their id */
170 GLIB_AVAILABLE_IN_ALL
<a name="25" id="anc25"></a><span class="line-modified">171 gint     g_hook_compare_ids     (GHook          *new_hook,</span>
<span class="line-modified">172                      GHook          *sibling);</span>
173 /* convenience macros */
174 #define  g_hook_append( hook_list, hook )  \
175      g_hook_insert_before ((hook_list), NULL, (hook))
176 /* invoke all valid hooks with the (*GHookFunc) signature.
177  */
178 GLIB_AVAILABLE_IN_ALL
<a name="26" id="anc26"></a><span class="line-modified">179 void     g_hook_list_invoke     (GHookList      *hook_list,</span>
<span class="line-modified">180                      gboolean        may_recurse);</span>
181 /* invoke all valid hooks with the (*GHookCheckFunc) signature,
182  * and destroy the hook if FALSE is returned.
183  */
184 GLIB_AVAILABLE_IN_ALL
<a name="27" id="anc27"></a><span class="line-modified">185 void     g_hook_list_invoke_check   (GHookList      *hook_list,</span>
<span class="line-modified">186                      gboolean        may_recurse);</span>
187 /* invoke a marshaller on all valid hooks.
188  */
189 GLIB_AVAILABLE_IN_ALL
<a name="28" id="anc28"></a><span class="line-modified">190 void     g_hook_list_marshal        (GHookList      *hook_list,</span>
<span class="line-modified">191                      gboolean        may_recurse,</span>
<span class="line-modified">192                      GHookMarshaller     marshaller,</span>
<span class="line-modified">193                      gpointer        marshal_data);</span>
194 GLIB_AVAILABLE_IN_ALL
<a name="29" id="anc29"></a><span class="line-modified">195 void     g_hook_list_marshal_check  (GHookList      *hook_list,</span>
<span class="line-modified">196                      gboolean        may_recurse,</span>
<span class="line-modified">197                      GHookCheckMarshaller    marshaller,</span>
<span class="line-modified">198                      gpointer        marshal_data);</span>
199 
200 G_END_DECLS
201 
202 #endif /* __G_HOOK_H__ */
<a name="30" id="anc30"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="30" type="hidden" />
</body>
</html>