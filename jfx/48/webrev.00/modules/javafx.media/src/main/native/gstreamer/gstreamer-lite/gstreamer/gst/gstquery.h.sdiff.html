<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstquery.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstquery.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstregistry.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstquery.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 82  * @GST_QUERY_UNKNOWN: unknown query type
 83  * @GST_QUERY_POSITION: current position in stream
 84  * @GST_QUERY_DURATION: total duration of the stream
 85  * @GST_QUERY_LATENCY: latency of stream
 86  * @GST_QUERY_JITTER: current jitter of stream
 87  * @GST_QUERY_RATE: current rate of the stream
 88  * @GST_QUERY_SEEKING: seeking capabilities
 89  * @GST_QUERY_SEGMENT: segment start/stop positions
 90  * @GST_QUERY_CONVERT: convert values between formats
 91  * @GST_QUERY_FORMATS: query supported formats for convert
 92  * @GST_QUERY_BUFFERING: query available media for efficient seeking.
 93  * @GST_QUERY_CUSTOM: a custom application or element defined query.
 94  * @GST_QUERY_URI: query the URI of the source or sink.
 95  * @GST_QUERY_ALLOCATION: the buffer allocation properties
 96  * @GST_QUERY_SCHEDULING: the scheduling properties
 97  * @GST_QUERY_ACCEPT_CAPS: the accept caps query
 98  * @GST_QUERY_CAPS: the caps query
 99  * @GST_QUERY_DRAIN: wait till all serialized data is consumed downstream
100  * @GST_QUERY_CONTEXT: query the pipeline-local context from
101  *     downstream or upstream (since 1.2)

102  *
103  * Standard predefined Query types
104  */
105 /* NOTE: don&#39;t forget to update the table in gstquery.c when changing
106  * this enum */
107 typedef enum {
108   GST_QUERY_UNKNOWN      = GST_QUERY_MAKE_TYPE (0, 0),
109   GST_QUERY_POSITION     = GST_QUERY_MAKE_TYPE (10, FLAG(BOTH)),
110   GST_QUERY_DURATION     = GST_QUERY_MAKE_TYPE (20, FLAG(BOTH)),
111   GST_QUERY_LATENCY      = GST_QUERY_MAKE_TYPE (30, FLAG(BOTH)),
112   GST_QUERY_JITTER       = GST_QUERY_MAKE_TYPE (40, FLAG(BOTH)),
113   GST_QUERY_RATE         = GST_QUERY_MAKE_TYPE (50, FLAG(BOTH)),
114   GST_QUERY_SEEKING      = GST_QUERY_MAKE_TYPE (60, FLAG(BOTH)),
115   GST_QUERY_SEGMENT      = GST_QUERY_MAKE_TYPE (70, FLAG(BOTH)),
116   GST_QUERY_CONVERT      = GST_QUERY_MAKE_TYPE (80, FLAG(BOTH)),
117   GST_QUERY_FORMATS      = GST_QUERY_MAKE_TYPE (90, FLAG(BOTH)),
118   GST_QUERY_BUFFERING    = GST_QUERY_MAKE_TYPE (110, FLAG(BOTH)),
119   GST_QUERY_CUSTOM       = GST_QUERY_MAKE_TYPE (120, FLAG(BOTH)),
120   GST_QUERY_URI          = GST_QUERY_MAKE_TYPE (130, FLAG(BOTH)),
121   GST_QUERY_ALLOCATION   = GST_QUERY_MAKE_TYPE (140, FLAG(DOWNSTREAM) | FLAG(SERIALIZED)),
122   GST_QUERY_SCHEDULING   = GST_QUERY_MAKE_TYPE (150, FLAG(UPSTREAM)),
123   GST_QUERY_ACCEPT_CAPS  = GST_QUERY_MAKE_TYPE (160, FLAG(BOTH)),
124   GST_QUERY_CAPS         = GST_QUERY_MAKE_TYPE (170, FLAG(BOTH)),
125   GST_QUERY_DRAIN        = GST_QUERY_MAKE_TYPE (180, FLAG(DOWNSTREAM) | FLAG(SERIALIZED)),
<span class="line-modified">126   GST_QUERY_CONTEXT      = GST_QUERY_MAKE_TYPE (190, FLAG(BOTH))</span>

127 } GstQueryType;
128 #undef FLAG
129 
130 #ifndef GSTREAMER_LITE
131 GST_API GType _gst_query_type;
132 #else // GSTREAMER_LITE
133 GST_EXPORT GType _gst_query_type;
134 #endif // GSTREAMER_LITE
135 
136 #define GST_TYPE_QUERY                         (_gst_query_type)
137 #define GST_IS_QUERY(obj)                      (GST_IS_MINI_OBJECT_TYPE (obj, GST_TYPE_QUERY))
138 #define GST_QUERY_CAST(obj)                    ((GstQuery*)(obj))
139 #define GST_QUERY(obj)                         (GST_QUERY_CAST(obj))
140 
141 /**
142  * GST_QUERY_TYPE:
143  * @query: the query to query
144  *
145  * Get the #GstQueryType of the query.
146  */
</pre>
<hr />
<pre>
241  */
242 static inline GstQuery *
243 gst_query_ref (GstQuery * q)
244 {
245   return GST_QUERY_CAST (gst_mini_object_ref (GST_MINI_OBJECT_CAST (q)));
246 }
247 
248 /**
249  * gst_query_unref:
250  * @q: a #GstQuery to decrease the refcount of.
251  *
252  * Decreases the refcount of the query. If the refcount reaches 0, the query
253  * will be freed.
254  */
255 static inline void
256 gst_query_unref (GstQuery * q)
257 {
258   gst_mini_object_unref (GST_MINI_OBJECT_CAST (q));
259 }
260 



















261 /* copy query */
262 /**
263  * gst_query_copy:
264  * @q: a #GstQuery to copy.
265  *
266  * Copies the given query using the copy function of the parent #GstStructure.
267  *
268  * Free-function: gst_query_unref
269  *
270  * Returns: (transfer full): a new copy of @q.
271  */
272 static inline GstQuery *
273 gst_query_copy (const GstQuery * q)
274 {
275   return GST_QUERY_CAST (gst_mini_object_copy (GST_MINI_OBJECT_CONST_CAST (q)));
276 }
277 
278 /**
279  * gst_query_is_writable:
280  * @q: a #GstQuery
</pre>
<hr />
<pre>
296  * @old_query: (inout) (transfer full) (nullable): pointer to a pointer to a
297  *     #GstQuery to be replaced.
298  * @new_query: (allow-none) (transfer none): pointer to a #GstQuery that will
299  *     replace the query pointed to by @old_query.
300  *
301  * Modifies a pointer to a #GstQuery to point to a different #GstQuery. The
302  * modification is done atomically (so this is useful for ensuring thread safety
303  * in some cases), and the reference counts are updated appropriately (the old
304  * query is unreffed, the new one is reffed).
305  *
306  * Either @new_query or the #GstQuery pointed to by @old_query may be %NULL.
307  *
308  * Returns: %TRUE if @new_query was different from @old_query
309  */
310 static inline gboolean
311 gst_query_replace (GstQuery **old_query, GstQuery *new_query)
312 {
313   return gst_mini_object_replace ((GstMiniObject **) old_query, (GstMiniObject *) new_query);
314 }
315 
























316 /* application specific query */
317 
318 GST_API
319 GstQuery *      gst_query_new_custom            (GstQueryType type, GstStructure *structure) G_GNUC_MALLOC;
320 
321 GST_API
322 const GstStructure *
323                 gst_query_get_structure         (GstQuery *query);
324 
325 GST_API
326 GstStructure *  gst_query_writable_structure    (GstQuery *query);
327 
328 /* position query */
329 
330 GST_API
331 GstQuery*       gst_query_new_position          (GstFormat format) G_GNUC_MALLOC;
332 
333 GST_API
334 void            gst_query_set_position          (GstQuery *query, GstFormat format, gint64 cur);
335 
</pre>
<hr />
<pre>
630 
631 /* drain query */
632 
633 GST_API
634 GstQuery *      gst_query_new_drain                (void) G_GNUC_MALLOC;
635 
636 /* context query */
637 
638 GST_API
639 GstQuery *      gst_query_new_context              (const gchar * context_type) G_GNUC_MALLOC;
640 
641 GST_API
642 gboolean        gst_query_parse_context_type       (GstQuery * query, const gchar ** context_type);
643 
644 GST_API
645 void            gst_query_set_context              (GstQuery *query, GstContext *context);
646 
647 GST_API
648 void            gst_query_parse_context            (GstQuery *query, GstContext **context);
649 











650 #ifdef G_DEFINE_AUTOPTR_CLEANUP_FUNC
651 G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstQuery, gst_query_unref)
652 #endif
653 
654 G_END_DECLS
655 
656 #endif /* __GST_QUERY_H__ */
657 
</pre>
</td>
<td>
<hr />
<pre>
 82  * @GST_QUERY_UNKNOWN: unknown query type
 83  * @GST_QUERY_POSITION: current position in stream
 84  * @GST_QUERY_DURATION: total duration of the stream
 85  * @GST_QUERY_LATENCY: latency of stream
 86  * @GST_QUERY_JITTER: current jitter of stream
 87  * @GST_QUERY_RATE: current rate of the stream
 88  * @GST_QUERY_SEEKING: seeking capabilities
 89  * @GST_QUERY_SEGMENT: segment start/stop positions
 90  * @GST_QUERY_CONVERT: convert values between formats
 91  * @GST_QUERY_FORMATS: query supported formats for convert
 92  * @GST_QUERY_BUFFERING: query available media for efficient seeking.
 93  * @GST_QUERY_CUSTOM: a custom application or element defined query.
 94  * @GST_QUERY_URI: query the URI of the source or sink.
 95  * @GST_QUERY_ALLOCATION: the buffer allocation properties
 96  * @GST_QUERY_SCHEDULING: the scheduling properties
 97  * @GST_QUERY_ACCEPT_CAPS: the accept caps query
 98  * @GST_QUERY_CAPS: the caps query
 99  * @GST_QUERY_DRAIN: wait till all serialized data is consumed downstream
100  * @GST_QUERY_CONTEXT: query the pipeline-local context from
101  *     downstream or upstream (since 1.2)
<span class="line-added">102  * @GST_QUERY_BITRATE: the bitrate query (since 1.16)</span>
103  *
104  * Standard predefined Query types
105  */
106 /* NOTE: don&#39;t forget to update the table in gstquery.c when changing
107  * this enum */
108 typedef enum {
109   GST_QUERY_UNKNOWN      = GST_QUERY_MAKE_TYPE (0, 0),
110   GST_QUERY_POSITION     = GST_QUERY_MAKE_TYPE (10, FLAG(BOTH)),
111   GST_QUERY_DURATION     = GST_QUERY_MAKE_TYPE (20, FLAG(BOTH)),
112   GST_QUERY_LATENCY      = GST_QUERY_MAKE_TYPE (30, FLAG(BOTH)),
113   GST_QUERY_JITTER       = GST_QUERY_MAKE_TYPE (40, FLAG(BOTH)),
114   GST_QUERY_RATE         = GST_QUERY_MAKE_TYPE (50, FLAG(BOTH)),
115   GST_QUERY_SEEKING      = GST_QUERY_MAKE_TYPE (60, FLAG(BOTH)),
116   GST_QUERY_SEGMENT      = GST_QUERY_MAKE_TYPE (70, FLAG(BOTH)),
117   GST_QUERY_CONVERT      = GST_QUERY_MAKE_TYPE (80, FLAG(BOTH)),
118   GST_QUERY_FORMATS      = GST_QUERY_MAKE_TYPE (90, FLAG(BOTH)),
119   GST_QUERY_BUFFERING    = GST_QUERY_MAKE_TYPE (110, FLAG(BOTH)),
120   GST_QUERY_CUSTOM       = GST_QUERY_MAKE_TYPE (120, FLAG(BOTH)),
121   GST_QUERY_URI          = GST_QUERY_MAKE_TYPE (130, FLAG(BOTH)),
122   GST_QUERY_ALLOCATION   = GST_QUERY_MAKE_TYPE (140, FLAG(DOWNSTREAM) | FLAG(SERIALIZED)),
123   GST_QUERY_SCHEDULING   = GST_QUERY_MAKE_TYPE (150, FLAG(UPSTREAM)),
124   GST_QUERY_ACCEPT_CAPS  = GST_QUERY_MAKE_TYPE (160, FLAG(BOTH)),
125   GST_QUERY_CAPS         = GST_QUERY_MAKE_TYPE (170, FLAG(BOTH)),
126   GST_QUERY_DRAIN        = GST_QUERY_MAKE_TYPE (180, FLAG(DOWNSTREAM) | FLAG(SERIALIZED)),
<span class="line-modified">127   GST_QUERY_CONTEXT      = GST_QUERY_MAKE_TYPE (190, FLAG(BOTH)),</span>
<span class="line-added">128   GST_QUERY_BITRATE      = GST_QUERY_MAKE_TYPE (200, FLAG(DOWNSTREAM)),</span>
129 } GstQueryType;
130 #undef FLAG
131 
132 #ifndef GSTREAMER_LITE
133 GST_API GType _gst_query_type;
134 #else // GSTREAMER_LITE
135 GST_EXPORT GType _gst_query_type;
136 #endif // GSTREAMER_LITE
137 
138 #define GST_TYPE_QUERY                         (_gst_query_type)
139 #define GST_IS_QUERY(obj)                      (GST_IS_MINI_OBJECT_TYPE (obj, GST_TYPE_QUERY))
140 #define GST_QUERY_CAST(obj)                    ((GstQuery*)(obj))
141 #define GST_QUERY(obj)                         (GST_QUERY_CAST(obj))
142 
143 /**
144  * GST_QUERY_TYPE:
145  * @query: the query to query
146  *
147  * Get the #GstQueryType of the query.
148  */
</pre>
<hr />
<pre>
243  */
244 static inline GstQuery *
245 gst_query_ref (GstQuery * q)
246 {
247   return GST_QUERY_CAST (gst_mini_object_ref (GST_MINI_OBJECT_CAST (q)));
248 }
249 
250 /**
251  * gst_query_unref:
252  * @q: a #GstQuery to decrease the refcount of.
253  *
254  * Decreases the refcount of the query. If the refcount reaches 0, the query
255  * will be freed.
256  */
257 static inline void
258 gst_query_unref (GstQuery * q)
259 {
260   gst_mini_object_unref (GST_MINI_OBJECT_CAST (q));
261 }
262 
<span class="line-added">263 /**</span>
<span class="line-added">264  * gst_clear_query: (skip)</span>
<span class="line-added">265  * @query_ptr: a pointer to a #GstQuery reference</span>
<span class="line-added">266  *</span>
<span class="line-added">267  * Clears a reference to a #GstQuery.</span>
<span class="line-added">268  *</span>
<span class="line-added">269  * @query_ptr must not be %NULL.</span>
<span class="line-added">270  *</span>
<span class="line-added">271  * If the reference is %NULL then this function does nothing. Otherwise, the</span>
<span class="line-added">272  * reference count of the query is decreased and the pointer is set to %NULL.</span>
<span class="line-added">273  *</span>
<span class="line-added">274  * Since: 1.16</span>
<span class="line-added">275  */</span>
<span class="line-added">276 static inline void</span>
<span class="line-added">277 gst_clear_query (GstQuery ** query_ptr)</span>
<span class="line-added">278 {</span>
<span class="line-added">279   gst_clear_mini_object ((GstMiniObject **) query_ptr);</span>
<span class="line-added">280 }</span>
<span class="line-added">281 </span>
282 /* copy query */
283 /**
284  * gst_query_copy:
285  * @q: a #GstQuery to copy.
286  *
287  * Copies the given query using the copy function of the parent #GstStructure.
288  *
289  * Free-function: gst_query_unref
290  *
291  * Returns: (transfer full): a new copy of @q.
292  */
293 static inline GstQuery *
294 gst_query_copy (const GstQuery * q)
295 {
296   return GST_QUERY_CAST (gst_mini_object_copy (GST_MINI_OBJECT_CONST_CAST (q)));
297 }
298 
299 /**
300  * gst_query_is_writable:
301  * @q: a #GstQuery
</pre>
<hr />
<pre>
317  * @old_query: (inout) (transfer full) (nullable): pointer to a pointer to a
318  *     #GstQuery to be replaced.
319  * @new_query: (allow-none) (transfer none): pointer to a #GstQuery that will
320  *     replace the query pointed to by @old_query.
321  *
322  * Modifies a pointer to a #GstQuery to point to a different #GstQuery. The
323  * modification is done atomically (so this is useful for ensuring thread safety
324  * in some cases), and the reference counts are updated appropriately (the old
325  * query is unreffed, the new one is reffed).
326  *
327  * Either @new_query or the #GstQuery pointed to by @old_query may be %NULL.
328  *
329  * Returns: %TRUE if @new_query was different from @old_query
330  */
331 static inline gboolean
332 gst_query_replace (GstQuery **old_query, GstQuery *new_query)
333 {
334   return gst_mini_object_replace ((GstMiniObject **) old_query, (GstMiniObject *) new_query);
335 }
336 
<span class="line-added">337 /**</span>
<span class="line-added">338  * gst_query_take:</span>
<span class="line-added">339  * @old_query: (inout) (transfer full) (nullable): pointer to a</span>
<span class="line-added">340  *     pointer to a #GstQuery to be stolen.</span>
<span class="line-added">341  * @new_query: (allow-none) (transfer full): pointer to a #GstQuery that will</span>
<span class="line-added">342  *     replace the query pointed to by @old_query.</span>
<span class="line-added">343  *</span>
<span class="line-added">344  * Modifies a pointer to a #GstQuery to point to a different #GstQuery. This</span>
<span class="line-added">345  * function is similar to gst_query_replace() except that it takes ownership of</span>
<span class="line-added">346  * @new_query.</span>
<span class="line-added">347  *</span>
<span class="line-added">348  * Either @new_query or the #GstQuery pointed to by @old_query may be %NULL.</span>
<span class="line-added">349  *</span>
<span class="line-added">350  * Returns: %TRUE if @new_query was different from @old_query</span>
<span class="line-added">351  *</span>
<span class="line-added">352  * Since: 1.16</span>
<span class="line-added">353  */</span>
<span class="line-added">354 static inline gboolean</span>
<span class="line-added">355 gst_query_take (GstQuery **old_query, GstQuery *new_query)</span>
<span class="line-added">356 {</span>
<span class="line-added">357   return gst_mini_object_take ((GstMiniObject **) old_query,</span>
<span class="line-added">358       (GstMiniObject *) new_query);</span>
<span class="line-added">359 }</span>
<span class="line-added">360 </span>
361 /* application specific query */
362 
363 GST_API
364 GstQuery *      gst_query_new_custom            (GstQueryType type, GstStructure *structure) G_GNUC_MALLOC;
365 
366 GST_API
367 const GstStructure *
368                 gst_query_get_structure         (GstQuery *query);
369 
370 GST_API
371 GstStructure *  gst_query_writable_structure    (GstQuery *query);
372 
373 /* position query */
374 
375 GST_API
376 GstQuery*       gst_query_new_position          (GstFormat format) G_GNUC_MALLOC;
377 
378 GST_API
379 void            gst_query_set_position          (GstQuery *query, GstFormat format, gint64 cur);
380 
</pre>
<hr />
<pre>
675 
676 /* drain query */
677 
678 GST_API
679 GstQuery *      gst_query_new_drain                (void) G_GNUC_MALLOC;
680 
681 /* context query */
682 
683 GST_API
684 GstQuery *      gst_query_new_context              (const gchar * context_type) G_GNUC_MALLOC;
685 
686 GST_API
687 gboolean        gst_query_parse_context_type       (GstQuery * query, const gchar ** context_type);
688 
689 GST_API
690 void            gst_query_set_context              (GstQuery *query, GstContext *context);
691 
692 GST_API
693 void            gst_query_parse_context            (GstQuery *query, GstContext **context);
694 
<span class="line-added">695 /* bitrate query */</span>
<span class="line-added">696 </span>
<span class="line-added">697 GST_API</span>
<span class="line-added">698 GstQuery *      gst_query_new_bitrate              (void) G_GNUC_MALLOC;</span>
<span class="line-added">699 </span>
<span class="line-added">700 GST_API</span>
<span class="line-added">701 void            gst_query_set_bitrate              (GstQuery * query, guint nominal_bitrate);</span>
<span class="line-added">702 </span>
<span class="line-added">703 GST_API</span>
<span class="line-added">704 void            gst_query_parse_bitrate            (GstQuery * query, guint * nominal_bitrate);</span>
<span class="line-added">705 </span>
706 #ifdef G_DEFINE_AUTOPTR_CLEANUP_FUNC
707 G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstQuery, gst_query_unref)
708 #endif
709 
710 G_END_DECLS
711 
712 #endif /* __GST_QUERY_H__ */
713 
</pre>
</td>
</tr>
</table>
<center><a href="gstquery.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstregistry.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>