<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gurifuncs.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="guniprop.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gurifuncs.h.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gurifuncs.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -81,12 +81,12 @@</span>
   *
   * Since: 2.16
   **/
  char *
  g_uri_unescape_segment (const char *escaped_string,
<span class="udiff-line-modified-removed">-             const char *escaped_string_end,</span>
<span class="udiff-line-modified-removed">-             const char *illegal_characters)</span>
<span class="udiff-line-modified-added">+       const char *escaped_string_end,</span>
<span class="udiff-line-modified-added">+       const char *illegal_characters)</span>
  {
    const char *in;
    char *out, *result;
    gint character;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -102,33 +102,33 @@</span>
    for (in = escaped_string; in &lt; escaped_string_end; in++)
      {
        character = *in;
  
        if (*in == &#39;%&#39;)
<span class="udiff-line-modified-removed">-     {</span>
<span class="udiff-line-modified-removed">-       in++;</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-       if (escaped_string_end - in &lt; 2)</span>
<span class="udiff-line-modified-removed">-         {</span>
<span class="udiff-line-modified-removed">-           /* Invalid escaped char (to short) */</span>
<span class="udiff-line-modified-removed">-           g_free (result);</span>
<span class="udiff-line-modified-removed">-           return NULL;</span>
<span class="udiff-line-modified-removed">-         }</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-       character = unescape_character (in);</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-       /* Check for an illegal character. We consider &#39;\0&#39; illegal here. */</span>
<span class="udiff-line-modified-removed">-       if (character &lt;= 0 ||</span>
<span class="udiff-line-modified-removed">-           (illegal_characters != NULL &amp;&amp;</span>
<span class="udiff-line-modified-removed">-            strchr (illegal_characters, (char)character) != NULL))</span>
<span class="udiff-line-modified-removed">-         {</span>
<span class="udiff-line-modified-removed">-           g_free (result);</span>
<span class="udiff-line-modified-removed">-           return NULL;</span>
<span class="udiff-line-modified-removed">-         }</span>
<span class="udiff-line-modified-removed">- </span>
<span class="udiff-line-modified-removed">-       in++; /* The other char will be eaten in the loop header */</span>
<span class="udiff-line-modified-removed">-     }</span>
<span class="udiff-line-modified-added">+   {</span>
<span class="udiff-line-modified-added">+     in++;</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+     if (escaped_string_end - in &lt; 2)</span>
<span class="udiff-line-modified-added">+       {</span>
<span class="udiff-line-modified-added">+         /* Invalid escaped char (to short) */</span>
<span class="udiff-line-modified-added">+         g_free (result);</span>
<span class="udiff-line-modified-added">+         return NULL;</span>
<span class="udiff-line-modified-added">+       }</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+     character = unescape_character (in);</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+     /* Check for an illegal character. We consider &#39;\0&#39; illegal here. */</span>
<span class="udiff-line-modified-added">+     if (character &lt;= 0 ||</span>
<span class="udiff-line-modified-added">+         (illegal_characters != NULL &amp;&amp;</span>
<span class="udiff-line-modified-added">+          strchr (illegal_characters, (char)character) != NULL))</span>
<span class="udiff-line-modified-added">+       {</span>
<span class="udiff-line-modified-added">+         g_free (result);</span>
<span class="udiff-line-modified-added">+         return NULL;</span>
<span class="udiff-line-modified-added">+       }</span>
<span class="udiff-line-modified-added">+ </span>
<span class="udiff-line-modified-added">+     in++; /* The other char will be eaten in the loop header */</span>
<span class="udiff-line-modified-added">+   }</span>
        *out++ = (char)character;
      }
  
    *out = &#39;\0&#39;;
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -154,11 +154,11 @@</span>
   *
   * Since: 2.16
   **/
  char *
  g_uri_unescape_string (const char *escaped_string,
<span class="udiff-line-modified-removed">-                const char *illegal_characters)</span>
<span class="udiff-line-modified-added">+            const char *illegal_characters)</span>
  {
    return g_uri_unescape_segment (escaped_string, NULL, illegal_characters);
  }
  
  /**
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -200,17 +200,17 @@</span>
    while (1)
      {
        c = *p++;
  
        if (c == &#39;:&#39;)
<span class="udiff-line-modified-removed">-     break;</span>
<span class="udiff-line-modified-added">+   break;</span>
  
        if (!(g_ascii_isalnum(c) ||
<span class="udiff-line-modified-removed">-         c == &#39;+&#39; ||</span>
<span class="udiff-line-modified-removed">-         c == &#39;-&#39; ||</span>
<span class="udiff-line-modified-removed">-         c == &#39;.&#39;))</span>
<span class="udiff-line-modified-removed">-     return NULL;</span>
<span class="udiff-line-modified-added">+       c == &#39;+&#39; ||</span>
<span class="udiff-line-modified-added">+       c == &#39;-&#39; ||</span>
<span class="udiff-line-modified-added">+       c == &#39;.&#39;))</span>
<span class="udiff-line-modified-added">+   return NULL;</span>
      }
  
    return g_strndup (uri, p - uri - 1);
  }
  
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -235,12 +235,12 @@</span>
   *
   * Since: 2.16
   **/
  char *
  g_uri_escape_string (const char *unescaped,
<span class="udiff-line-modified-removed">-              const char  *reserved_chars_allowed,</span>
<span class="udiff-line-modified-removed">-              gboolean     allow_utf8)</span>
<span class="udiff-line-modified-added">+          const char  *reserved_chars_allowed,</span>
<span class="udiff-line-modified-added">+          gboolean     allow_utf8)</span>
  {
    GString *s;
  
    g_return_val_if_fail (unescaped != NULL, NULL);
  
</pre>
<center><a href="guniprop.c.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gurifuncs.h.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>