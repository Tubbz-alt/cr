<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-base/gst-libs/gst/video/gstvideodecoder.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstvideodecoder.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="gstvideoencoder.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-base/gst-libs/gst/video/gstvideodecoder.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 254,26 ***</span>
   *                      pushing it downstream. Since: 1.2
   * @sink_query:     Optional.
   *                  Query handler on the sink pad. This function should
   *                  return TRUE if the query could be performed. Subclasses
   *                  should chain up to the parent implementation to invoke the
<span class="line-modified">!  *                  default handler. Since 1.4</span>
   * @src_query:      Optional.
   *                  Query handler on the source pad. This function should
   *                  return TRUE if the query could be performed. Subclasses
   *                  should chain up to the parent implementation to invoke the
<span class="line-modified">!  *                  default handler. Since 1.4</span>
   * @getcaps:        Optional.
   *                  Allows for a custom sink getcaps implementation.
   *                  If not implemented, default returns
   *                  gst_video_decoder_proxy_getcaps
   *                  applied to sink template caps.
   * @transform_meta: Optional. Transform the metadata on the input buffer to the
   *                  output buffer. By default this method is copies all meta without
   *                  tags and meta with only the &quot;video&quot; tag. subclasses can
   *                  implement this method and return %TRUE if the metadata is to be
<span class="line-modified">!  *                  copied. Since 1.6</span>
   *
   * Subclasses can override any of the available virtual methods or not, as
   * needed. At minimum @handle_frame needs to be overridden, and @set_format
   * and likely as well.  If non-packetized input is supported or expected,
   * @parse needs to be overridden as well.
<span class="line-new-header">--- 254,26 ---</span>
   *                      pushing it downstream. Since: 1.2
   * @sink_query:     Optional.
   *                  Query handler on the sink pad. This function should
   *                  return TRUE if the query could be performed. Subclasses
   *                  should chain up to the parent implementation to invoke the
<span class="line-modified">!  *                  default handler. Since: 1.4</span>
   * @src_query:      Optional.
   *                  Query handler on the source pad. This function should
   *                  return TRUE if the query could be performed. Subclasses
   *                  should chain up to the parent implementation to invoke the
<span class="line-modified">!  *                  default handler. Since: 1.4</span>
   * @getcaps:        Optional.
   *                  Allows for a custom sink getcaps implementation.
   *                  If not implemented, default returns
   *                  gst_video_decoder_proxy_getcaps
   *                  applied to sink template caps.
   * @transform_meta: Optional. Transform the metadata on the input buffer to the
   *                  output buffer. By default this method is copies all meta without
   *                  tags and meta with only the &quot;video&quot; tag. subclasses can
   *                  implement this method and return %TRUE if the metadata is to be
<span class="line-modified">!  *                  copied. Since: 1.6</span>
   *
   * Subclasses can override any of the available virtual methods or not, as
   * needed. At minimum @handle_frame needs to be overridden, and @set_format
   * and likely as well.  If non-packetized input is supported or expected,
   * @parse needs to be overridden as well.
</pre>
<hr />
<pre>
<span class="line-old-header">*** 291,44 ***</span>
    gboolean      (*start)          (GstVideoDecoder *decoder);
  
    gboolean      (*stop)           (GstVideoDecoder *decoder);
  
    GstFlowReturn (*parse)          (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstVideoCodecFrame *frame,</span>
<span class="line-modified">!                    GstAdapter *adapter,</span>
<span class="line-modified">!                    gboolean at_eos);</span>
  
    gboolean      (*set_format)     (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstVideoCodecState * state);</span>
  
    gboolean      (*reset)          (GstVideoDecoder *decoder,
<span class="line-modified">!                    gboolean hard);</span>
  
    GstFlowReturn (*finish)         (GstVideoDecoder *decoder);
  
    GstFlowReturn (*handle_frame)   (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstVideoCodecFrame *frame);</span>
  
    gboolean      (*sink_event)     (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstEvent *event);</span>
  
    gboolean      (*src_event)      (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstEvent *event);</span>
  
    gboolean      (*negotiate)      (GstVideoDecoder *decoder);
  
    gboolean      (*decide_allocation)  (GstVideoDecoder *decoder, GstQuery *query);
  
    gboolean      (*propose_allocation) (GstVideoDecoder *decoder, GstQuery * query);
  
    gboolean      (*flush)              (GstVideoDecoder *decoder);
  
    gboolean      (*sink_query)     (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstQuery *query);</span>
  
    gboolean      (*src_query)      (GstVideoDecoder *decoder,
<span class="line-modified">!                    GstQuery *query);</span>
  
    GstCaps*      (*getcaps)        (GstVideoDecoder *decoder,
                                     GstCaps *filter);
  
    GstFlowReturn (*drain)          (GstVideoDecoder *decoder);
<span class="line-new-header">--- 291,44 ---</span>
    gboolean      (*start)          (GstVideoDecoder *decoder);
  
    gboolean      (*stop)           (GstVideoDecoder *decoder);
  
    GstFlowReturn (*parse)          (GstVideoDecoder *decoder,
<span class="line-modified">!            GstVideoCodecFrame *frame,</span>
<span class="line-modified">!            GstAdapter *adapter,</span>
<span class="line-modified">!            gboolean at_eos);</span>
  
    gboolean      (*set_format)     (GstVideoDecoder *decoder,
<span class="line-modified">!            GstVideoCodecState * state);</span>
  
    gboolean      (*reset)          (GstVideoDecoder *decoder,
<span class="line-modified">!            gboolean hard);</span>
  
    GstFlowReturn (*finish)         (GstVideoDecoder *decoder);
  
    GstFlowReturn (*handle_frame)   (GstVideoDecoder *decoder,
<span class="line-modified">!            GstVideoCodecFrame *frame);</span>
  
    gboolean      (*sink_event)     (GstVideoDecoder *decoder,
<span class="line-modified">!            GstEvent *event);</span>
  
    gboolean      (*src_event)      (GstVideoDecoder *decoder,
<span class="line-modified">!            GstEvent *event);</span>
  
    gboolean      (*negotiate)      (GstVideoDecoder *decoder);
  
    gboolean      (*decide_allocation)  (GstVideoDecoder *decoder, GstQuery *query);
  
    gboolean      (*propose_allocation) (GstVideoDecoder *decoder, GstQuery * query);
  
    gboolean      (*flush)              (GstVideoDecoder *decoder);
  
    gboolean      (*sink_query)     (GstVideoDecoder *decoder,
<span class="line-modified">!            GstQuery *query);</span>
  
    gboolean      (*src_query)      (GstVideoDecoder *decoder,
<span class="line-modified">!            GstQuery *query);</span>
  
    GstCaps*      (*getcaps)        (GstVideoDecoder *decoder,
                                     GstCaps *filter);
  
    GstFlowReturn (*drain)          (GstVideoDecoder *decoder);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 346,25 ***</span>
  
  /* Context parameters */
  
  GST_VIDEO_API
  void     gst_video_decoder_set_packetized (GstVideoDecoder * decoder,
<span class="line-modified">!                        gboolean packetized);</span>
  
  GST_VIDEO_API
  gboolean gst_video_decoder_get_packetized (GstVideoDecoder * decoder);
  
  GST_VIDEO_API
  void     gst_video_decoder_set_estimate_rate (GstVideoDecoder * dec,
<span class="line-modified">!                           gboolean          enabled);</span>
  
  GST_VIDEO_API
  gint     gst_video_decoder_get_estimate_rate (GstVideoDecoder * dec);
  
  GST_VIDEO_API
  void     gst_video_decoder_set_max_errors (GstVideoDecoder * dec,
<span class="line-modified">!                        gint              num);</span>
  
  GST_VIDEO_API
  gint     gst_video_decoder_get_max_errors (GstVideoDecoder * dec);
  
  GST_VIDEO_API
<span class="line-new-header">--- 346,25 ---</span>
  
  /* Context parameters */
  
  GST_VIDEO_API
  void     gst_video_decoder_set_packetized (GstVideoDecoder * decoder,
<span class="line-modified">!              gboolean packetized);</span>
  
  GST_VIDEO_API
  gboolean gst_video_decoder_get_packetized (GstVideoDecoder * decoder);
  
  GST_VIDEO_API
  void     gst_video_decoder_set_estimate_rate (GstVideoDecoder * dec,
<span class="line-modified">!                 gboolean          enabled);</span>
  
  GST_VIDEO_API
  gint     gst_video_decoder_get_estimate_rate (GstVideoDecoder * dec);
  
  GST_VIDEO_API
  void     gst_video_decoder_set_max_errors (GstVideoDecoder * dec,
<span class="line-modified">!              gint              num);</span>
  
  GST_VIDEO_API
  gint     gst_video_decoder_get_max_errors (GstVideoDecoder * dec);
  
  GST_VIDEO_API
</pre>
<hr />
<pre>
<span class="line-old-header">*** 374,17 ***</span>
  GST_VIDEO_API
  gboolean gst_video_decoder_get_needs_format (GstVideoDecoder * dec);
  
  GST_VIDEO_API
  void     gst_video_decoder_set_latency (GstVideoDecoder *decoder,
<span class="line-modified">!                     GstClockTime min_latency,</span>
<span class="line-modified">!                     GstClockTime max_latency);</span>
  
  GST_VIDEO_API
  void     gst_video_decoder_get_latency (GstVideoDecoder *decoder,
<span class="line-modified">!                     GstClockTime *min_latency,</span>
<span class="line-modified">!                     GstClockTime *max_latency);</span>
  
  GST_VIDEO_API
  void     gst_video_decoder_get_allocator (GstVideoDecoder *decoder,
                                            GstAllocator **allocator,
                                            GstAllocationParams *params);
<span class="line-new-header">--- 374,17 ---</span>
  GST_VIDEO_API
  gboolean gst_video_decoder_get_needs_format (GstVideoDecoder * dec);
  
  GST_VIDEO_API
  void     gst_video_decoder_set_latency (GstVideoDecoder *decoder,
<span class="line-modified">!           GstClockTime min_latency,</span>
<span class="line-modified">!           GstClockTime max_latency);</span>
  
  GST_VIDEO_API
  void     gst_video_decoder_get_latency (GstVideoDecoder *decoder,
<span class="line-modified">!           GstClockTime *min_latency,</span>
<span class="line-modified">!           GstClockTime *max_latency);</span>
  
  GST_VIDEO_API
  void     gst_video_decoder_get_allocator (GstVideoDecoder *decoder,
                                            GstAllocator **allocator,
                                            GstAllocationParams *params);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 394,11 ***</span>
  
  /* Object methods */
  
  GST_VIDEO_API
  GstVideoCodecFrame *gst_video_decoder_get_frame        (GstVideoDecoder *decoder,
<span class="line-modified">!                                 int frame_number);</span>
  
  GST_VIDEO_API
  GstVideoCodecFrame *gst_video_decoder_get_oldest_frame (GstVideoDecoder *decoder);
  
  GST_VIDEO_API
<span class="line-new-header">--- 394,11 ---</span>
  
  /* Object methods */
  
  GST_VIDEO_API
  GstVideoCodecFrame *gst_video_decoder_get_frame        (GstVideoDecoder *decoder,
<span class="line-modified">!                     int frame_number);</span>
  
  GST_VIDEO_API
  GstVideoCodecFrame *gst_video_decoder_get_oldest_frame (GstVideoDecoder *decoder);
  
  GST_VIDEO_API
</pre>
<hr />
<pre>
<span class="line-old-header">*** 406,11 ***</span>
  
  /* Parsing related methods */
  
  GST_VIDEO_API
  void           gst_video_decoder_add_to_frame     (GstVideoDecoder *decoder,
<span class="line-modified">!                            int n_bytes);</span>
  
  GST_VIDEO_API
  GstFlowReturn  gst_video_decoder_have_frame       (GstVideoDecoder *decoder);
  
  GST_VIDEO_API
<span class="line-new-header">--- 406,11 ---</span>
  
  /* Parsing related methods */
  
  GST_VIDEO_API
  void           gst_video_decoder_add_to_frame     (GstVideoDecoder *decoder,
<span class="line-modified">!                int n_bytes);</span>
  
  GST_VIDEO_API
  GstFlowReturn  gst_video_decoder_have_frame       (GstVideoDecoder *decoder);
  
  GST_VIDEO_API
</pre>
<hr />
<pre>
<span class="line-old-header">*** 424,50 ***</span>
                                                                      GstVideoCodecFrame * frame,
                                                                      GstBufferPoolAcquireParams *params);
  
  GST_VIDEO_API
  GstFlowReturn  gst_video_decoder_allocate_output_frame  (GstVideoDecoder *decoder,
<span class="line-modified">!                                  GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  GstVideoCodecState *gst_video_decoder_set_output_state (GstVideoDecoder *decoder,
<span class="line-modified">!                             GstVideoFormat fmt, guint width, guint height,</span>
<span class="line-modified">!                             GstVideoCodecState *reference);</span>
  
  GST_VIDEO_API
  GstVideoCodecState *gst_video_decoder_get_output_state (GstVideoDecoder *decoder);
  
  GST_VIDEO_API
  gboolean         gst_video_decoder_negotiate           (GstVideoDecoder * decoder);
  
  GST_VIDEO_API
  GstClockTimeDiff gst_video_decoder_get_max_decode_time (GstVideoDecoder *decoder,
<span class="line-modified">!                             GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  gdouble          gst_video_decoder_get_qos_proportion (GstVideoDecoder * decoder);
  
  GST_VIDEO_API
  GstFlowReturn    gst_video_decoder_finish_frame (GstVideoDecoder *decoder,
<span class="line-modified">!                          GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  GstFlowReturn    gst_video_decoder_drop_frame (GstVideoDecoder *dec,
<span class="line-modified">!                            GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  void             gst_video_decoder_release_frame (GstVideoDecoder * dec,
<span class="line-modified">!                           GstVideoCodecFrame * frame);</span>
  
  GST_VIDEO_API
  void             gst_video_decoder_merge_tags (GstVideoDecoder *decoder,
                                                 const GstTagList *tags,
                                                 GstTagMergeMode mode);
  
  GST_VIDEO_API
  GstCaps *        gst_video_decoder_proxy_getcaps (GstVideoDecoder * decoder,
<span class="line-modified">!                           GstCaps         * caps,</span>
                                                    GstCaps         * filter);
  
  GST_VIDEO_API
  void             gst_video_decoder_set_use_default_pad_acceptcaps (GstVideoDecoder * decoder,
                                                                     gboolean use);
<span class="line-new-header">--- 424,55 ---</span>
                                                                      GstVideoCodecFrame * frame,
                                                                      GstBufferPoolAcquireParams *params);
  
  GST_VIDEO_API
  GstFlowReturn  gst_video_decoder_allocate_output_frame  (GstVideoDecoder *decoder,
<span class="line-modified">!                      GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  GstVideoCodecState *gst_video_decoder_set_output_state (GstVideoDecoder *decoder,
<span class="line-modified">!               GstVideoFormat fmt, guint width, guint height,</span>
<span class="line-modified">!               GstVideoCodecState *reference);</span>
<span class="line-added">+ </span>
<span class="line-added">+ GST_VIDEO_API</span>
<span class="line-added">+ GstVideoCodecState *gst_video_decoder_set_interlaced_output_state (GstVideoDecoder *decoder,</span>
<span class="line-added">+                                                                    GstVideoFormat fmt, GstVideoInterlaceMode mode,</span>
<span class="line-added">+                                                                    guint width, guint height, GstVideoCodecState *reference);</span>
  
  GST_VIDEO_API
  GstVideoCodecState *gst_video_decoder_get_output_state (GstVideoDecoder *decoder);
  
  GST_VIDEO_API
  gboolean         gst_video_decoder_negotiate           (GstVideoDecoder * decoder);
  
  GST_VIDEO_API
  GstClockTimeDiff gst_video_decoder_get_max_decode_time (GstVideoDecoder *decoder,
<span class="line-modified">!               GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  gdouble          gst_video_decoder_get_qos_proportion (GstVideoDecoder * decoder);
  
  GST_VIDEO_API
  GstFlowReturn    gst_video_decoder_finish_frame (GstVideoDecoder *decoder,
<span class="line-modified">!              GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  GstFlowReturn    gst_video_decoder_drop_frame (GstVideoDecoder *dec,
<span class="line-modified">!                  GstVideoCodecFrame *frame);</span>
  
  GST_VIDEO_API
  void             gst_video_decoder_release_frame (GstVideoDecoder * dec,
<span class="line-modified">!               GstVideoCodecFrame * frame);</span>
  
  GST_VIDEO_API
  void             gst_video_decoder_merge_tags (GstVideoDecoder *decoder,
                                                 const GstTagList *tags,
                                                 GstTagMergeMode mode);
  
  GST_VIDEO_API
  GstCaps *        gst_video_decoder_proxy_getcaps (GstVideoDecoder * decoder,
<span class="line-modified">!               GstCaps         * caps,</span>
                                                    GstCaps         * filter);
  
  GST_VIDEO_API
  void             gst_video_decoder_set_use_default_pad_acceptcaps (GstVideoDecoder * decoder,
                                                                     gboolean use);
</pre>
<center><a href="gstvideodecoder.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="gstvideoencoder.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>