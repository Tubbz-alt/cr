<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-good/sys/osxaudio/gstosxcoreaudio.c</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstosxaudiosink.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../gstreamer/gst/gst.c.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-good/sys/osxaudio/gstosxcoreaudio.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 341,38 ***</span>
    g_assert (layout != NULL);
  
    if (layout-&gt;mChannelLayoutTag ==
        kAudioChannelLayoutTag_UseChannelDescriptions) {
  
<span class="line-modified">!   switch (layout-&gt;mNumberChannelDescriptions) {</span>
<span class="line-modified">!     case 0:</span>
<span class="line-modified">!       if (pos)</span>
<span class="line-modified">!         pos[0] = GST_AUDIO_CHANNEL_POSITION_NONE;</span>
<span class="line-modified">!       *channels = 0;</span>
<span class="line-modified">!       *channel_mask = 0;</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!     case 1:</span>
<span class="line-modified">!       if (pos)</span>
<span class="line-modified">!         pos[0] = GST_AUDIO_CHANNEL_POSITION_MONO;</span>
<span class="line-modified">!       *channels = 1;</span>
<span class="line-modified">!       *channel_mask = 0;</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!     case 2:</span>
<span class="line-modified">!       if (pos) {</span>
<span class="line-modified">!         pos[0] = GST_AUDIO_CHANNEL_POSITION_FRONT_LEFT;</span>
<span class="line-modified">!         pos[1] = GST_AUDIO_CHANNEL_POSITION_FRONT_RIGHT;</span>
<span class="line-modified">!       }</span>
<span class="line-modified">!       *channels = 2;</span>
<span class="line-modified">!       *channel_mask =</span>
<span class="line-modified">!           GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_LEFT) |</span>
<span class="line-modified">!           GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_RIGHT);</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!     default:</span>
<span class="line-modified">!       _core_audio_parse_channel_descriptions (layout, channels, channel_mask,</span>
<span class="line-modified">!           pos);</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!   }</span>
    } else if (layout-&gt;mChannelLayoutTag == kAudioChannelLayoutTag_Mono) {
      if (pos)
        pos[0] = GST_AUDIO_CHANNEL_POSITION_MONO;
      *channels = 1;
      *channel_mask = 0;
<span class="line-new-header">--- 341,38 ---</span>
    g_assert (layout != NULL);
  
    if (layout-&gt;mChannelLayoutTag ==
        kAudioChannelLayoutTag_UseChannelDescriptions) {
  
<span class="line-modified">!     switch (layout-&gt;mNumberChannelDescriptions) {</span>
<span class="line-modified">!       case 0:</span>
<span class="line-modified">!         if (pos)</span>
<span class="line-modified">!           pos[0] = GST_AUDIO_CHANNEL_POSITION_NONE;</span>
<span class="line-modified">!         *channels = 0;</span>
<span class="line-modified">!         *channel_mask = 0;</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!       case 1:</span>
<span class="line-modified">!         if (pos)</span>
<span class="line-modified">!           pos[0] = GST_AUDIO_CHANNEL_POSITION_MONO;</span>
<span class="line-modified">!         *channels = 1;</span>
<span class="line-modified">!         *channel_mask = 0;</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!       case 2:</span>
<span class="line-modified">!         if (pos) {</span>
<span class="line-modified">!           pos[0] = GST_AUDIO_CHANNEL_POSITION_FRONT_LEFT;</span>
<span class="line-modified">!           pos[1] = GST_AUDIO_CHANNEL_POSITION_FRONT_RIGHT;</span>
<span class="line-modified">!         }</span>
<span class="line-modified">!         *channels = 2;</span>
<span class="line-modified">!         *channel_mask =</span>
<span class="line-modified">!             GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_LEFT) |</span>
<span class="line-modified">!             GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_RIGHT);</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!       default:</span>
<span class="line-modified">!         _core_audio_parse_channel_descriptions (layout, channels, channel_mask,</span>
<span class="line-modified">!             pos);</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!     }</span>
    } else if (layout-&gt;mChannelLayoutTag == kAudioChannelLayoutTag_Mono) {
      if (pos)
        pos[0] = GST_AUDIO_CHANNEL_POSITION_MONO;
      *channels = 1;
      *channel_mask = 0;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 381,11 ***</span>
        layout-&gt;mChannelLayoutTag == kAudioChannelLayoutTag_StereoHeadphones ||
        layout-&gt;mChannelLayoutTag == kAudioChannelLayoutTag_Binaural) {
      if (pos) {
        pos[0] = GST_AUDIO_CHANNEL_POSITION_FRONT_LEFT;
        pos[1] = GST_AUDIO_CHANNEL_POSITION_FRONT_RIGHT;
<span class="line-modified">! }</span>
      *channels = 2;
      *channel_mask =
          GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_LEFT) |
          GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_RIGHT);
      return TRUE;
<span class="line-new-header">--- 381,11 ---</span>
        layout-&gt;mChannelLayoutTag == kAudioChannelLayoutTag_StereoHeadphones ||
        layout-&gt;mChannelLayoutTag == kAudioChannelLayoutTag_Binaural) {
      if (pos) {
        pos[0] = GST_AUDIO_CHANNEL_POSITION_FRONT_LEFT;
        pos[1] = GST_AUDIO_CHANNEL_POSITION_FRONT_RIGHT;
<span class="line-modified">!     }</span>
      *channels = 2;
      *channel_mask =
          GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_LEFT) |
          GST_AUDIO_CHANNEL_POSITION_MASK (FRONT_RIGHT);
      return TRUE;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 502,11 ***</span>
    }
  
    bps = asbd-&gt;mBitsPerChannel;
    endianness = asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsBigEndian ?
        G_BIG_ENDIAN : G_LITTLE_ENDIAN;
<span class="line-modified">!   sign = asbd-&gt;mFormatID &amp; kAudioFormatFlagIsSignedInteger ? TRUE : FALSE;</span>
    interleaved = asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsNonInterleaved ?
        TRUE : FALSE;
  
    if (asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsFloat) {
      if (bps == 32) {
<span class="line-new-header">--- 502,11 ---</span>
    }
  
    bps = asbd-&gt;mBitsPerChannel;
    endianness = asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsBigEndian ?
        G_BIG_ENDIAN : G_LITTLE_ENDIAN;
<span class="line-modified">!   sign = asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsSignedInteger ? TRUE : FALSE;</span>
    interleaved = asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsNonInterleaved ?
        TRUE : FALSE;
  
    if (asbd-&gt;mFormatFlags &amp; kAudioFormatFlagIsFloat) {
      if (bps == 32) {
</pre>
<center><a href="gstosxaudiosink.c.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../gstreamer/gst/gst.c.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>