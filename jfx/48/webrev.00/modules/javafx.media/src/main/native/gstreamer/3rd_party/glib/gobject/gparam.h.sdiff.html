<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gparam.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gparam.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gparamspecs.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/gobject/gparam.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  6  * License as published by the Free Software Foundation; either
  7  * version 2.1 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Lesser General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Lesser General
 15  * Public License along with this library; if not, see &lt;http://www.gnu.org/licenses/&gt;.
 16  *
 17  * gparam.h: GParamSpec base class implementation
 18  */
 19 #ifndef __G_PARAM_H__
 20 #define __G_PARAM_H__
 21 
 22 #if !defined (__GLIB_GOBJECT_H_INSIDE__) &amp;&amp; !defined (GOBJECT_COMPILATION)
 23 #error &quot;Only &lt;glib-object.h&gt; can be included directly.&quot;
 24 #endif
 25 
<span class="line-modified"> 26 #include    &lt;gobject/gvalue.h&gt;</span>
 27 
 28 G_BEGIN_DECLS
 29 
 30 /* --- standard type macros --- */
 31 /**
 32  * G_TYPE_IS_PARAM:
 33  * @type: a #GType ID
 34  *
 35  * Checks whether @type &quot;is a&quot; %G_TYPE_PARAM.
 36  */
<span class="line-modified"> 37 #define G_TYPE_IS_PARAM(type)       (G_TYPE_FUNDAMENTAL (type) == G_TYPE_PARAM)</span>
 38 /**
 39  * G_PARAM_SPEC:
 40  * @pspec: a valid #GParamSpec
 41  *
 42  * Casts a derived #GParamSpec object (e.g. of type #GParamSpecInt) into
 43  * a #GParamSpec object.
 44  */
<span class="line-modified"> 45 #define G_PARAM_SPEC(pspec)     (G_TYPE_CHECK_INSTANCE_CAST ((pspec), G_TYPE_PARAM, GParamSpec))</span>
 46 /**
 47  * G_IS_PARAM_SPEC:
 48  * @pspec: a #GParamSpec
 49  *
 50  * Checks whether @pspec &quot;is a&quot; valid #GParamSpec structure of type %G_TYPE_PARAM
 51  * or derived.
 52  */
 53 #if GLIB_VERSION_MAX_ALLOWED &gt;= GLIB_VERSION_2_42
<span class="line-modified"> 54 #define G_IS_PARAM_SPEC(pspec)      (G_TYPE_CHECK_INSTANCE_FUNDAMENTAL_TYPE ((pspec), G_TYPE_PARAM))</span>
 55 #else
<span class="line-modified"> 56 #define G_IS_PARAM_SPEC(pspec)      (G_TYPE_CHECK_INSTANCE_TYPE ((pspec), G_TYPE_PARAM))</span>
 57 #endif
 58 /**
 59  * G_PARAM_SPEC_CLASS:
 60  * @pclass: a valid #GParamSpecClass
 61  *
 62  * Casts a derived #GParamSpecClass structure into a #GParamSpecClass structure.
 63  */
 64 #define G_PARAM_SPEC_CLASS(pclass)      (G_TYPE_CHECK_CLASS_CAST ((pclass), G_TYPE_PARAM, GParamSpecClass))
 65 /**
 66  * G_IS_PARAM_SPEC_CLASS:
 67  * @pclass: a #GParamSpecClass
 68  *
 69  * Checks whether @pclass &quot;is a&quot; valid #GParamSpecClass structure of type
 70  * %G_TYPE_PARAM or derived.
 71  */
 72 #define G_IS_PARAM_SPEC_CLASS(pclass)   (G_TYPE_CHECK_CLASS_TYPE ((pclass), G_TYPE_PARAM))
 73 /**
 74  * G_PARAM_SPEC_GET_CLASS:
 75  * @pspec: a valid #GParamSpec
 76  *
 77  * Retrieves the #GParamSpecClass of a #GParamSpec.
 78  */
<span class="line-modified"> 79 #define G_PARAM_SPEC_GET_CLASS(pspec)   (G_TYPE_INSTANCE_GET_CLASS ((pspec), G_TYPE_PARAM, GParamSpecClass))</span>
 80 
 81 
 82 /* --- convenience macros --- */
 83 /**
 84  * G_PARAM_SPEC_TYPE:
 85  * @pspec: a valid #GParamSpec
 86  *
 87  * Retrieves the #GType of this @pspec.
 88  */
<span class="line-modified"> 89 #define G_PARAM_SPEC_TYPE(pspec)    (G_TYPE_FROM_INSTANCE (pspec))</span>
 90 /**
 91  * G_PARAM_SPEC_TYPE_NAME:
 92  * @pspec: a valid #GParamSpec
 93  *
 94  * Retrieves the #GType name of this @pspec.
 95  */
<span class="line-modified"> 96 #define G_PARAM_SPEC_TYPE_NAME(pspec)   (g_type_name (G_PARAM_SPEC_TYPE (pspec)))</span>
 97 /**
 98  * G_PARAM_SPEC_VALUE_TYPE:
 99  * @pspec: a valid #GParamSpec
100  *
101  * Retrieves the #GType to initialize a #GValue for this parameter.
102  */
103 #define G_PARAM_SPEC_VALUE_TYPE(pspec)  (G_PARAM_SPEC (pspec)-&gt;value_type)
104 /**
105  * G_VALUE_HOLDS_PARAM:
106  * @value: a valid #GValue structure
107  *
108  * Checks whether the given #GValue can hold values derived from type %G_TYPE_PARAM.
109  *
110  * Returns: %TRUE on success.
111  */
112 #define G_VALUE_HOLDS_PARAM(value)  (G_TYPE_CHECK_VALUE_TYPE ((value), G_TYPE_PARAM))
113 
114 
115 /* --- flags --- */
116 /**
</pre>
<hr />
<pre>
138  *   property will not automatically result in a &quot;notify&quot; signal being
139  *   emitted: the implementation must call g_object_notify() themselves
140  *   in case the property actually changes.  Since: 2.42.
141  * @G_PARAM_PRIVATE: internal
142  * @G_PARAM_DEPRECATED: the parameter is deprecated and will be removed
143  *  in a future version. A warning will be generated if it is used
144  *  while running with G_ENABLE_DIAGNOSTIC=1.
145  *  Since 2.26
146  *
147  * Through the #GParamFlags flag values, certain aspects of parameters
148  * can be configured. See also #G_PARAM_STATIC_STRINGS.
149  */
150 typedef enum
151 {
152   G_PARAM_READABLE            = 1 &lt;&lt; 0,
153   G_PARAM_WRITABLE            = 1 &lt;&lt; 1,
154   G_PARAM_READWRITE           = (G_PARAM_READABLE | G_PARAM_WRITABLE),
155   G_PARAM_CONSTRUCT       = 1 &lt;&lt; 2,
156   G_PARAM_CONSTRUCT_ONLY      = 1 &lt;&lt; 3,
157   G_PARAM_LAX_VALIDATION      = 1 &lt;&lt; 4,
<span class="line-modified">158   G_PARAM_STATIC_NAME         = 1 &lt;&lt; 5,</span>
<span class="line-modified">159 #ifndef G_DISABLE_DEPRECATED</span>
<span class="line-modified">160   G_PARAM_PRIVATE         = G_PARAM_STATIC_NAME,</span>
<span class="line-removed">161 #endif</span>
<span class="line-removed">162   G_PARAM_STATIC_NICK         = 1 &lt;&lt; 6,</span>
163   G_PARAM_STATIC_BLURB        = 1 &lt;&lt; 7,
164   /* User defined flags go here */
165   G_PARAM_EXPLICIT_NOTIFY     = 1 &lt;&lt; 30,
166   /* Avoid warning with -Wpedantic for gcc6 */
167   G_PARAM_DEPRECATED          = (gint)(1u &lt;&lt; 31)
168 } GParamFlags;
169 
170 /**
171  * G_PARAM_STATIC_STRINGS:
172  *
173  * #GParamFlags value alias for %G_PARAM_STATIC_NAME | %G_PARAM_STATIC_NICK | %G_PARAM_STATIC_BLURB.
174  *
175  * Since 2.13.0
176  */
177 #define G_PARAM_STATIC_STRINGS (G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB)
178 /* bits in the range 0xffffff00 are reserved for 3rd party usage */
179 /**
180  * G_PARAM_MASK:
181  *
182  * Mask containing the bits of #GParamSpec.flags which are reserved for GLib.
183  */
<span class="line-modified">184 #define G_PARAM_MASK        (0x000000ff)</span>
185 /**
186  * G_PARAM_USER_SHIFT:
187  *
188  * Minimum shift count to be used for user defined flags, to be stored in
189  * #GParamSpec.flags. The maximum allowed is 10.
190  */
191 #define G_PARAM_USER_SHIFT  (8)
192 
193 /* --- typedefs &amp; structures --- */
194 typedef struct _GParamSpec      GParamSpec;
195 typedef struct _GParamSpecClass GParamSpecClass;
<span class="line-modified">196 typedef struct _GParameter  GParameter;</span>
197 typedef struct _GParamSpecPool  GParamSpecPool;
198 /**
199  * GParamSpec: (ref-func g_param_spec_ref_sink) (unref-func g_param_spec_uref) (set-value-func g_value_set_param) (get-value-func g_value_get_param)
200  * @g_type_instance: private #GTypeInstance portion
201  * @name: name of this parameter: always an interned string
202  * @flags: #GParamFlags flags for this parameter
203  * @value_type: the #GValue type for this parameter
204  * @owner_type: #GType type that uses (introduces) this parameter
205  *
206  * All other fields of the GParamSpec struct are private and
207  * should not be used directly.
208  */
209 struct _GParamSpec
210 {
211   GTypeInstance  g_type_instance;
212 
213   const gchar   *name;          /* interned string */
214   GParamFlags    flags;
<span class="line-modified">215   GType      value_type;</span>
<span class="line-modified">216   GType      owner_type;    /* class or interface using this property */</span>
217 
218   /*&lt; private &gt;*/
219   gchar         *_nick;
220   gchar         *_blurb;
<span class="line-modified">221   GData     *qdata;</span>
222   guint          ref_count;
<span class="line-modified">223   guint      param_id;  /* sort-criteria */</span>
224 };
225 /**
226  * GParamSpecClass:
227  * @g_type_class: the parent class
228  * @value_type: the #GValue type for this parameter
229  * @finalize: The instance finalization function (optional), should chain
230  *  up to the finalize method of the parent class.
231  * @value_set_default: Resets a @value to the default value for this type
232  *  (recommended, the default is g_value_reset()), see
233  *  g_param_value_set_default().
234  * @value_validate: Ensures that the contents of @value comply with the
235  *  specifications set out by this type (optional), see
236  *  g_param_value_validate().
237  * @values_cmp: Compares @value1 with @value2 according to this type
238  *  (recommended, the default is memcmp()), see g_param_values_cmp().
239  *
240  * The class structure for the GParamSpec type.
241  * Normally, GParamSpec classes are filled by
242  * g_param_type_register_static().
243  */
244 struct _GParamSpecClass
245 {
246   GTypeClass      g_type_class;
247 
<span class="line-modified">248   GType       value_type;</span>
249 
<span class="line-modified">250   void          (*finalize)     (GParamSpec   *pspec);</span>
251 
252   /* GParam methods */
253   void          (*value_set_default)    (GParamSpec   *pspec,
<span class="line-modified">254                      GValue       *value);</span>
255   gboolean      (*value_validate)       (GParamSpec   *pspec,
<span class="line-modified">256                      GValue       *value);</span>
257   gint          (*values_cmp)           (GParamSpec   *pspec,
<span class="line-modified">258                      const GValue *value1,</span>
<span class="line-modified">259                      const GValue *value2);</span>
260   /*&lt; private &gt;*/
261   gpointer    dummy[4];
262 };
263 /**
264  * GParameter:
265  * @name: the parameter name
266  * @value: the parameter value
267  *
268  * The GParameter struct is an auxiliary structure used
269  * to hand parameter name/value pairs to g_object_newv().
270  *
271  * Deprecated: 2.54: This type is not introspectable.
272  */
273 struct _GParameter /* auxiliary structure for _setv() variants */
274 {
275   const gchar *name;
276   GValue       value;
<span class="line-modified">277 };</span>
278 
279 
280 /* --- prototypes --- */
281 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">282 GParamSpec* g_param_spec_ref        (GParamSpec    *pspec);</span>
283 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">284 void        g_param_spec_unref      (GParamSpec    *pspec);</span>
285 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">286 void        g_param_spec_sink       (GParamSpec    *pspec);</span>
287 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">288 GParamSpec* g_param_spec_ref_sink       (GParamSpec    *pspec);</span>
289 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">290 gpointer        g_param_spec_get_qdata      (GParamSpec    *pspec,</span>
<span class="line-modified">291                          GQuark         quark);</span>
292 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">293 void            g_param_spec_set_qdata      (GParamSpec    *pspec,</span>
<span class="line-modified">294                          GQuark         quark,</span>
<span class="line-modified">295                          gpointer       data);</span>
296 GLIB_AVAILABLE_IN_ALL
297 void            g_param_spec_set_qdata_full (GParamSpec    *pspec,
<span class="line-modified">298                          GQuark         quark,</span>
<span class="line-modified">299                          gpointer       data,</span>
<span class="line-modified">300                          GDestroyNotify destroy);</span>
301 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">302 gpointer        g_param_spec_steal_qdata    (GParamSpec    *pspec,</span>
<span class="line-modified">303                                                  GQuark         quark);</span>
304 GLIB_AVAILABLE_IN_ALL
305 GParamSpec*     g_param_spec_get_redirect_target (GParamSpec   *pspec);
306 
307 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">308 void        g_param_value_set_default   (GParamSpec    *pspec,</span>
<span class="line-modified">309                          GValue        *value);</span>
310 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">311 gboolean    g_param_value_defaults      (GParamSpec    *pspec,</span>
<span class="line-modified">312                          GValue        *value);</span>
313 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">314 gboolean    g_param_value_validate      (GParamSpec    *pspec,</span>
<span class="line-modified">315                          GValue        *value);</span>
316 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">317 gboolean    g_param_value_convert       (GParamSpec    *pspec,</span>
<span class="line-modified">318                                                  const GValue  *src_value,</span>
<span class="line-modified">319                          GValue        *dest_value,</span>
<span class="line-modified">320                          gboolean   strict_validation);</span>
321 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">322 gint        g_param_values_cmp      (GParamSpec    *pspec,</span>
<span class="line-modified">323                                                  const GValue  *value1,</span>
<span class="line-modified">324                                                  const GValue  *value2);</span>
325 GLIB_AVAILABLE_IN_ALL
326 const gchar *   g_param_spec_get_name           (GParamSpec    *pspec);
327 GLIB_AVAILABLE_IN_ALL
328 const gchar *   g_param_spec_get_nick           (GParamSpec    *pspec);
329 GLIB_AVAILABLE_IN_ALL
330 const gchar *   g_param_spec_get_blurb          (GParamSpec    *pspec);
331 GLIB_AVAILABLE_IN_ALL
332 void            g_value_set_param               (GValue        *value,
<span class="line-modified">333                          GParamSpec    *param);</span>
334 GLIB_AVAILABLE_IN_ALL
335 GParamSpec*     g_value_get_param               (const GValue  *value);
336 GLIB_AVAILABLE_IN_ALL
337 GParamSpec*     g_value_dup_param               (const GValue  *value);
338 
339 
340 GLIB_AVAILABLE_IN_ALL
341 void           g_value_take_param               (GValue        *value,
<span class="line-modified">342                              GParamSpec    *param);</span>
343 GLIB_DEPRECATED_FOR(g_value_take_param)
344 void           g_value_set_param_take_ownership (GValue        *value,
345                                                  GParamSpec    *param);
346 GLIB_AVAILABLE_IN_2_36
347 const GValue *  g_param_spec_get_default_value  (GParamSpec    *pspec);
348 
349 GLIB_AVAILABLE_IN_2_46
350 GQuark          g_param_spec_get_name_quark     (GParamSpec    *pspec);
351 
352 /* --- convenience functions --- */
353 typedef struct _GParamSpecTypeInfo GParamSpecTypeInfo;
354 /**
355  * GParamSpecTypeInfo:
356  * @instance_size: Size of the instance (object) structure.
357  * @n_preallocs: Prior to GLib 2.10, it specified the number of pre-allocated (cached) instances to reserve memory for (0 indicates no caching). Since GLib 2.10, it is ignored, since instances are allocated with the [slice allocator][glib-Memory-Slices] now.
358  * @instance_init: Location of the instance initialization function (optional).
359  * @value_type: The #GType of values conforming to this #GParamSpec
360  * @finalize: The instance finalization function (optional).
361  * @value_set_default: Resets a @value to the default value for @pspec
362  *  (recommended, the default is g_value_reset()), see
363  *  g_param_value_set_default().
364  * @value_validate: Ensures that the contents of @value comply with the
365  *  specifications set out by @pspec (optional), see
366  *  g_param_value_validate().
367  * @values_cmp: Compares @value1 with @value2 according to @pspec
368  *  (recommended, the default is memcmp()), see g_param_values_cmp().
369  *
370  * This structure is used to provide the type system with the information
371  * required to initialize and destruct (finalize) a parameter&#39;s class and
372  * instances thereof.
373  * The initialized structure is passed to the g_param_type_register_static()
374  * The type system will perform a deep copy of this structure, so its memory
375  * does not need to be persistent across invocation of
376  * g_param_type_register_static().
377  */
378 struct _GParamSpecTypeInfo
379 {
380   /* type system portion */
381   guint16         instance_size;                               /* obligatory */
382   guint16         n_preallocs;                                 /* optional */
<span class="line-modified">383   void      (*instance_init)    (GParamSpec   *pspec); /* optional */</span>
384 
385   /* class portion */
<span class="line-modified">386   GType           value_type;                      /* obligatory */</span>
387   void          (*finalize)             (GParamSpec   *pspec); /* optional */
388   void          (*value_set_default)    (GParamSpec   *pspec,  /* recommended */
<span class="line-modified">389                      GValue       *value);</span>
390   gboolean      (*value_validate)       (GParamSpec   *pspec,  /* optional */
<span class="line-modified">391                      GValue       *value);</span>
392   gint          (*values_cmp)           (GParamSpec   *pspec,  /* recommended */
<span class="line-modified">393                      const GValue *value1,</span>
<span class="line-modified">394                      const GValue *value2);</span>
395 };
396 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">397 GType   g_param_type_register_static    (const gchar          *name,</span>
<span class="line-modified">398                                          const GParamSpecTypeInfo *pspec_info);</span>
399 
400 /* For registering builting types */
401 GType  _g_param_type_register_static_constant (const gchar              *name,
<span class="line-modified">402                            const GParamSpecTypeInfo *pspec_info,</span>
<span class="line-modified">403                            GType                     opt_type);</span>
404 
405 
406 /* --- protected --- */
407 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">408 gpointer    g_param_spec_internal       (GType          param_type,</span>
<span class="line-modified">409                                                  const gchar   *name,</span>
<span class="line-modified">410                                                  const gchar   *nick,</span>
<span class="line-modified">411                                                  const gchar   *blurb,</span>
<span class="line-modified">412                                                  GParamFlags    flags);</span>
413 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">414 GParamSpecPool* g_param_spec_pool_new       (gboolean   type_prefixing);</span>
415 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">416 void        g_param_spec_pool_insert    (GParamSpecPool *pool,</span>
<span class="line-modified">417                          GParamSpec *pspec,</span>
<span class="line-modified">418                          GType       owner_type);</span>
419 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">420 void        g_param_spec_pool_remove    (GParamSpecPool *pool,</span>
<span class="line-modified">421                          GParamSpec *pspec);</span>
422 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">423 GParamSpec* g_param_spec_pool_lookup    (GParamSpecPool *pool,</span>
<span class="line-modified">424                          const gchar    *param_name,</span>
<span class="line-modified">425                          GType       owner_type,</span>
<span class="line-modified">426                          gboolean    walk_ancestors);</span>
427 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">428 GList*      g_param_spec_pool_list_owned    (GParamSpecPool *pool,</span>
<span class="line-modified">429                          GType       owner_type);</span>
430 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">431 GParamSpec**    g_param_spec_pool_list      (GParamSpecPool *pool,</span>
<span class="line-modified">432                          GType       owner_type,</span>
<span class="line-modified">433                          guint      *n_pspecs_p);</span>
434 
435 
436 /* contracts:
437  *
438  * gboolean value_validate (GParamSpec *pspec,
439  *                          GValue     *value):
440  *  modify value contents in the least destructive way, so
441  *  that it complies with pspec&#39;s requirements (i.e.
442  *  according to minimum/maximum ranges etc...). return
443  *  whether modification was necessary.
444  *
445  * gint values_cmp (GParamSpec   *pspec,
446  *                  const GValue *value1,
447  *                  const GValue *value2):
448  *  return value1 - value2, i.e. (-1) if value1 &lt; value2,
449  *  (+1) if value1 &gt; value2, and (0) otherwise (equality)
450  */
451 
452 G_END_DECLS
453 
</pre>
</td>
<td>
<hr />
<pre>
  6  * License as published by the Free Software Foundation; either
  7  * version 2.1 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Lesser General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Lesser General
 15  * Public License along with this library; if not, see &lt;http://www.gnu.org/licenses/&gt;.
 16  *
 17  * gparam.h: GParamSpec base class implementation
 18  */
 19 #ifndef __G_PARAM_H__
 20 #define __G_PARAM_H__
 21 
 22 #if !defined (__GLIB_GOBJECT_H_INSIDE__) &amp;&amp; !defined (GOBJECT_COMPILATION)
 23 #error &quot;Only &lt;glib-object.h&gt; can be included directly.&quot;
 24 #endif
 25 
<span class="line-modified"> 26 #include  &lt;gobject/gvalue.h&gt;</span>
 27 
 28 G_BEGIN_DECLS
 29 
 30 /* --- standard type macros --- */
 31 /**
 32  * G_TYPE_IS_PARAM:
 33  * @type: a #GType ID
 34  *
 35  * Checks whether @type &quot;is a&quot; %G_TYPE_PARAM.
 36  */
<span class="line-modified"> 37 #define G_TYPE_IS_PARAM(type)   (G_TYPE_FUNDAMENTAL (type) == G_TYPE_PARAM)</span>
 38 /**
 39  * G_PARAM_SPEC:
 40  * @pspec: a valid #GParamSpec
 41  *
 42  * Casts a derived #GParamSpec object (e.g. of type #GParamSpecInt) into
 43  * a #GParamSpec object.
 44  */
<span class="line-modified"> 45 #define G_PARAM_SPEC(pspec)   (G_TYPE_CHECK_INSTANCE_CAST ((pspec), G_TYPE_PARAM, GParamSpec))</span>
 46 /**
 47  * G_IS_PARAM_SPEC:
 48  * @pspec: a #GParamSpec
 49  *
 50  * Checks whether @pspec &quot;is a&quot; valid #GParamSpec structure of type %G_TYPE_PARAM
 51  * or derived.
 52  */
 53 #if GLIB_VERSION_MAX_ALLOWED &gt;= GLIB_VERSION_2_42
<span class="line-modified"> 54 #define G_IS_PARAM_SPEC(pspec)    (G_TYPE_CHECK_INSTANCE_FUNDAMENTAL_TYPE ((pspec), G_TYPE_PARAM))</span>
 55 #else
<span class="line-modified"> 56 #define G_IS_PARAM_SPEC(pspec)    (G_TYPE_CHECK_INSTANCE_TYPE ((pspec), G_TYPE_PARAM))</span>
 57 #endif
 58 /**
 59  * G_PARAM_SPEC_CLASS:
 60  * @pclass: a valid #GParamSpecClass
 61  *
 62  * Casts a derived #GParamSpecClass structure into a #GParamSpecClass structure.
 63  */
 64 #define G_PARAM_SPEC_CLASS(pclass)      (G_TYPE_CHECK_CLASS_CAST ((pclass), G_TYPE_PARAM, GParamSpecClass))
 65 /**
 66  * G_IS_PARAM_SPEC_CLASS:
 67  * @pclass: a #GParamSpecClass
 68  *
 69  * Checks whether @pclass &quot;is a&quot; valid #GParamSpecClass structure of type
 70  * %G_TYPE_PARAM or derived.
 71  */
 72 #define G_IS_PARAM_SPEC_CLASS(pclass)   (G_TYPE_CHECK_CLASS_TYPE ((pclass), G_TYPE_PARAM))
 73 /**
 74  * G_PARAM_SPEC_GET_CLASS:
 75  * @pspec: a valid #GParamSpec
 76  *
 77  * Retrieves the #GParamSpecClass of a #GParamSpec.
 78  */
<span class="line-modified"> 79 #define G_PARAM_SPEC_GET_CLASS(pspec) (G_TYPE_INSTANCE_GET_CLASS ((pspec), G_TYPE_PARAM, GParamSpecClass))</span>
 80 
 81 
 82 /* --- convenience macros --- */
 83 /**
 84  * G_PARAM_SPEC_TYPE:
 85  * @pspec: a valid #GParamSpec
 86  *
 87  * Retrieves the #GType of this @pspec.
 88  */
<span class="line-modified"> 89 #define G_PARAM_SPEC_TYPE(pspec)  (G_TYPE_FROM_INSTANCE (pspec))</span>
 90 /**
 91  * G_PARAM_SPEC_TYPE_NAME:
 92  * @pspec: a valid #GParamSpec
 93  *
 94  * Retrieves the #GType name of this @pspec.
 95  */
<span class="line-modified"> 96 #define G_PARAM_SPEC_TYPE_NAME(pspec) (g_type_name (G_PARAM_SPEC_TYPE (pspec)))</span>
 97 /**
 98  * G_PARAM_SPEC_VALUE_TYPE:
 99  * @pspec: a valid #GParamSpec
100  *
101  * Retrieves the #GType to initialize a #GValue for this parameter.
102  */
103 #define G_PARAM_SPEC_VALUE_TYPE(pspec)  (G_PARAM_SPEC (pspec)-&gt;value_type)
104 /**
105  * G_VALUE_HOLDS_PARAM:
106  * @value: a valid #GValue structure
107  *
108  * Checks whether the given #GValue can hold values derived from type %G_TYPE_PARAM.
109  *
110  * Returns: %TRUE on success.
111  */
112 #define G_VALUE_HOLDS_PARAM(value)  (G_TYPE_CHECK_VALUE_TYPE ((value), G_TYPE_PARAM))
113 
114 
115 /* --- flags --- */
116 /**
</pre>
<hr />
<pre>
138  *   property will not automatically result in a &quot;notify&quot; signal being
139  *   emitted: the implementation must call g_object_notify() themselves
140  *   in case the property actually changes.  Since: 2.42.
141  * @G_PARAM_PRIVATE: internal
142  * @G_PARAM_DEPRECATED: the parameter is deprecated and will be removed
143  *  in a future version. A warning will be generated if it is used
144  *  while running with G_ENABLE_DIAGNOSTIC=1.
145  *  Since 2.26
146  *
147  * Through the #GParamFlags flag values, certain aspects of parameters
148  * can be configured. See also #G_PARAM_STATIC_STRINGS.
149  */
150 typedef enum
151 {
152   G_PARAM_READABLE            = 1 &lt;&lt; 0,
153   G_PARAM_WRITABLE            = 1 &lt;&lt; 1,
154   G_PARAM_READWRITE           = (G_PARAM_READABLE | G_PARAM_WRITABLE),
155   G_PARAM_CONSTRUCT       = 1 &lt;&lt; 2,
156   G_PARAM_CONSTRUCT_ONLY      = 1 &lt;&lt; 3,
157   G_PARAM_LAX_VALIDATION      = 1 &lt;&lt; 4,
<span class="line-modified">158   G_PARAM_STATIC_NAME       = 1 &lt;&lt; 5,</span>
<span class="line-modified">159   G_PARAM_PRIVATE GLIB_DEPRECATED_ENUMERATOR_IN_2_26 = G_PARAM_STATIC_NAME,</span>
<span class="line-modified">160   G_PARAM_STATIC_NICK       = 1 &lt;&lt; 6,</span>


161   G_PARAM_STATIC_BLURB        = 1 &lt;&lt; 7,
162   /* User defined flags go here */
163   G_PARAM_EXPLICIT_NOTIFY     = 1 &lt;&lt; 30,
164   /* Avoid warning with -Wpedantic for gcc6 */
165   G_PARAM_DEPRECATED          = (gint)(1u &lt;&lt; 31)
166 } GParamFlags;
167 
168 /**
169  * G_PARAM_STATIC_STRINGS:
170  *
171  * #GParamFlags value alias for %G_PARAM_STATIC_NAME | %G_PARAM_STATIC_NICK | %G_PARAM_STATIC_BLURB.
172  *
173  * Since 2.13.0
174  */
175 #define G_PARAM_STATIC_STRINGS (G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB)
176 /* bits in the range 0xffffff00 are reserved for 3rd party usage */
177 /**
178  * G_PARAM_MASK:
179  *
180  * Mask containing the bits of #GParamSpec.flags which are reserved for GLib.
181  */
<span class="line-modified">182 #define G_PARAM_MASK    (0x000000ff)</span>
183 /**
184  * G_PARAM_USER_SHIFT:
185  *
186  * Minimum shift count to be used for user defined flags, to be stored in
187  * #GParamSpec.flags. The maximum allowed is 10.
188  */
189 #define G_PARAM_USER_SHIFT  (8)
190 
191 /* --- typedefs &amp; structures --- */
192 typedef struct _GParamSpec      GParamSpec;
193 typedef struct _GParamSpecClass GParamSpecClass;
<span class="line-modified">194 typedef struct _GParameter  GParameter GLIB_DEPRECATED_TYPE_IN_2_54;</span>
195 typedef struct _GParamSpecPool  GParamSpecPool;
196 /**
197  * GParamSpec: (ref-func g_param_spec_ref_sink) (unref-func g_param_spec_uref) (set-value-func g_value_set_param) (get-value-func g_value_get_param)
198  * @g_type_instance: private #GTypeInstance portion
199  * @name: name of this parameter: always an interned string
200  * @flags: #GParamFlags flags for this parameter
201  * @value_type: the #GValue type for this parameter
202  * @owner_type: #GType type that uses (introduces) this parameter
203  *
204  * All other fields of the GParamSpec struct are private and
205  * should not be used directly.
206  */
207 struct _GParamSpec
208 {
209   GTypeInstance  g_type_instance;
210 
211   const gchar   *name;          /* interned string */
212   GParamFlags    flags;
<span class="line-modified">213   GType    value_type;</span>
<span class="line-modified">214   GType    owner_type;  /* class or interface using this property */</span>
215 
216   /*&lt; private &gt;*/
217   gchar         *_nick;
218   gchar         *_blurb;
<span class="line-modified">219   GData   *qdata;</span>
220   guint          ref_count;
<span class="line-modified">221   guint    param_id;  /* sort-criteria */</span>
222 };
223 /**
224  * GParamSpecClass:
225  * @g_type_class: the parent class
226  * @value_type: the #GValue type for this parameter
227  * @finalize: The instance finalization function (optional), should chain
228  *  up to the finalize method of the parent class.
229  * @value_set_default: Resets a @value to the default value for this type
230  *  (recommended, the default is g_value_reset()), see
231  *  g_param_value_set_default().
232  * @value_validate: Ensures that the contents of @value comply with the
233  *  specifications set out by this type (optional), see
234  *  g_param_value_validate().
235  * @values_cmp: Compares @value1 with @value2 according to this type
236  *  (recommended, the default is memcmp()), see g_param_values_cmp().
237  *
238  * The class structure for the GParamSpec type.
239  * Normally, GParamSpec classes are filled by
240  * g_param_type_register_static().
241  */
242 struct _GParamSpecClass
243 {
244   GTypeClass      g_type_class;
245 
<span class="line-modified">246   GType     value_type;</span>
247 
<span class="line-modified">248   void          (*finalize)   (GParamSpec   *pspec);</span>
249 
250   /* GParam methods */
251   void          (*value_set_default)    (GParamSpec   *pspec,
<span class="line-modified">252            GValue       *value);</span>
253   gboolean      (*value_validate)       (GParamSpec   *pspec,
<span class="line-modified">254            GValue       *value);</span>
255   gint          (*values_cmp)           (GParamSpec   *pspec,
<span class="line-modified">256            const GValue *value1,</span>
<span class="line-modified">257            const GValue *value2);</span>
258   /*&lt; private &gt;*/
259   gpointer    dummy[4];
260 };
261 /**
262  * GParameter:
263  * @name: the parameter name
264  * @value: the parameter value
265  *
266  * The GParameter struct is an auxiliary structure used
267  * to hand parameter name/value pairs to g_object_newv().
268  *
269  * Deprecated: 2.54: This type is not introspectable.
270  */
271 struct _GParameter /* auxiliary structure for _setv() variants */
272 {
273   const gchar *name;
274   GValue       value;
<span class="line-modified">275 } GLIB_DEPRECATED_TYPE_IN_2_54;</span>
276 
277 
278 /* --- prototypes --- */
279 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">280 GParamSpec* g_param_spec_ref    (GParamSpec    *pspec);</span>
281 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">282 void    g_param_spec_unref    (GParamSpec    *pspec);</span>
283 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">284 void    g_param_spec_sink   (GParamSpec    *pspec);</span>
285 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">286 GParamSpec* g_param_spec_ref_sink     (GParamSpec    *pspec);</span>
287 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">288 gpointer        g_param_spec_get_qdata    (GParamSpec    *pspec,</span>
<span class="line-modified">289              GQuark         quark);</span>
290 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">291 void            g_param_spec_set_qdata    (GParamSpec    *pspec,</span>
<span class="line-modified">292              GQuark         quark,</span>
<span class="line-modified">293              gpointer       data);</span>
294 GLIB_AVAILABLE_IN_ALL
295 void            g_param_spec_set_qdata_full (GParamSpec    *pspec,
<span class="line-modified">296              GQuark         quark,</span>
<span class="line-modified">297              gpointer       data,</span>
<span class="line-modified">298              GDestroyNotify destroy);</span>
299 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">300 gpointer        g_param_spec_steal_qdata  (GParamSpec    *pspec,</span>
<span class="line-modified">301              GQuark         quark);</span>
302 GLIB_AVAILABLE_IN_ALL
303 GParamSpec*     g_param_spec_get_redirect_target (GParamSpec   *pspec);
304 
305 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">306 void    g_param_value_set_default (GParamSpec    *pspec,</span>
<span class="line-modified">307              GValue        *value);</span>
308 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">309 gboolean  g_param_value_defaults    (GParamSpec    *pspec,</span>
<span class="line-modified">310              GValue        *value);</span>
311 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">312 gboolean  g_param_value_validate    (GParamSpec    *pspec,</span>
<span class="line-modified">313              GValue        *value);</span>
314 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">315 gboolean  g_param_value_convert   (GParamSpec    *pspec,</span>
<span class="line-modified">316              const GValue  *src_value,</span>
<span class="line-modified">317              GValue        *dest_value,</span>
<span class="line-modified">318              gboolean strict_validation);</span>
319 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">320 gint    g_param_values_cmp    (GParamSpec    *pspec,</span>
<span class="line-modified">321              const GValue  *value1,</span>
<span class="line-modified">322              const GValue  *value2);</span>
323 GLIB_AVAILABLE_IN_ALL
324 const gchar *   g_param_spec_get_name           (GParamSpec    *pspec);
325 GLIB_AVAILABLE_IN_ALL
326 const gchar *   g_param_spec_get_nick           (GParamSpec    *pspec);
327 GLIB_AVAILABLE_IN_ALL
328 const gchar *   g_param_spec_get_blurb          (GParamSpec    *pspec);
329 GLIB_AVAILABLE_IN_ALL
330 void            g_value_set_param               (GValue        *value,
<span class="line-modified">331              GParamSpec    *param);</span>
332 GLIB_AVAILABLE_IN_ALL
333 GParamSpec*     g_value_get_param               (const GValue  *value);
334 GLIB_AVAILABLE_IN_ALL
335 GParamSpec*     g_value_dup_param               (const GValue  *value);
336 
337 
338 GLIB_AVAILABLE_IN_ALL
339 void           g_value_take_param               (GValue        *value,
<span class="line-modified">340                    GParamSpec    *param);</span>
341 GLIB_DEPRECATED_FOR(g_value_take_param)
342 void           g_value_set_param_take_ownership (GValue        *value,
343                                                  GParamSpec    *param);
344 GLIB_AVAILABLE_IN_2_36
345 const GValue *  g_param_spec_get_default_value  (GParamSpec    *pspec);
346 
347 GLIB_AVAILABLE_IN_2_46
348 GQuark          g_param_spec_get_name_quark     (GParamSpec    *pspec);
349 
350 /* --- convenience functions --- */
351 typedef struct _GParamSpecTypeInfo GParamSpecTypeInfo;
352 /**
353  * GParamSpecTypeInfo:
354  * @instance_size: Size of the instance (object) structure.
355  * @n_preallocs: Prior to GLib 2.10, it specified the number of pre-allocated (cached) instances to reserve memory for (0 indicates no caching). Since GLib 2.10, it is ignored, since instances are allocated with the [slice allocator][glib-Memory-Slices] now.
356  * @instance_init: Location of the instance initialization function (optional).
357  * @value_type: The #GType of values conforming to this #GParamSpec
358  * @finalize: The instance finalization function (optional).
359  * @value_set_default: Resets a @value to the default value for @pspec
360  *  (recommended, the default is g_value_reset()), see
361  *  g_param_value_set_default().
362  * @value_validate: Ensures that the contents of @value comply with the
363  *  specifications set out by @pspec (optional), see
364  *  g_param_value_validate().
365  * @values_cmp: Compares @value1 with @value2 according to @pspec
366  *  (recommended, the default is memcmp()), see g_param_values_cmp().
367  *
368  * This structure is used to provide the type system with the information
369  * required to initialize and destruct (finalize) a parameter&#39;s class and
370  * instances thereof.
371  * The initialized structure is passed to the g_param_type_register_static()
372  * The type system will perform a deep copy of this structure, so its memory
373  * does not need to be persistent across invocation of
374  * g_param_type_register_static().
375  */
376 struct _GParamSpecTypeInfo
377 {
378   /* type system portion */
379   guint16         instance_size;                               /* obligatory */
380   guint16         n_preallocs;                                 /* optional */
<span class="line-modified">381   void    (*instance_init)  (GParamSpec   *pspec); /* optional */</span>
382 
383   /* class portion */
<span class="line-modified">384   GType           value_type;              /* obligatory */</span>
385   void          (*finalize)             (GParamSpec   *pspec); /* optional */
386   void          (*value_set_default)    (GParamSpec   *pspec,  /* recommended */
<span class="line-modified">387            GValue       *value);</span>
388   gboolean      (*value_validate)       (GParamSpec   *pspec,  /* optional */
<span class="line-modified">389            GValue       *value);</span>
390   gint          (*values_cmp)           (GParamSpec   *pspec,  /* recommended */
<span class="line-modified">391            const GValue *value1,</span>
<span class="line-modified">392            const GValue *value2);</span>
393 };
394 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">395 GType g_param_type_register_static  (const gchar      *name,</span>
<span class="line-modified">396            const GParamSpecTypeInfo *pspec_info);</span>
397 
398 /* For registering builting types */
399 GType  _g_param_type_register_static_constant (const gchar              *name,
<span class="line-modified">400                  const GParamSpecTypeInfo *pspec_info,</span>
<span class="line-modified">401                  GType                     opt_type);</span>
402 
403 
404 /* --- protected --- */
405 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">406 gpointer  g_param_spec_internal   (GType          param_type,</span>
<span class="line-modified">407              const gchar   *name,</span>
<span class="line-modified">408              const gchar   *nick,</span>
<span class="line-modified">409              const gchar   *blurb,</span>
<span class="line-modified">410              GParamFlags    flags);</span>
411 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">412 GParamSpecPool* g_param_spec_pool_new   (gboolean type_prefixing);</span>
413 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">414 void    g_param_spec_pool_insert  (GParamSpecPool *pool,</span>
<span class="line-modified">415              GParamSpec *pspec,</span>
<span class="line-modified">416              GType     owner_type);</span>
417 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">418 void    g_param_spec_pool_remove  (GParamSpecPool *pool,</span>
<span class="line-modified">419              GParamSpec *pspec);</span>
420 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">421 GParamSpec* g_param_spec_pool_lookup  (GParamSpecPool *pool,</span>
<span class="line-modified">422              const gchar  *param_name,</span>
<span class="line-modified">423              GType     owner_type,</span>
<span class="line-modified">424              gboolean  walk_ancestors);</span>
425 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">426 GList*    g_param_spec_pool_list_owned  (GParamSpecPool *pool,</span>
<span class="line-modified">427              GType     owner_type);</span>
428 GLIB_AVAILABLE_IN_ALL
<span class="line-modified">429 GParamSpec**  g_param_spec_pool_list    (GParamSpecPool *pool,</span>
<span class="line-modified">430              GType     owner_type,</span>
<span class="line-modified">431              guint    *n_pspecs_p);</span>
432 
433 
434 /* contracts:
435  *
436  * gboolean value_validate (GParamSpec *pspec,
437  *                          GValue     *value):
438  *  modify value contents in the least destructive way, so
439  *  that it complies with pspec&#39;s requirements (i.e.
440  *  according to minimum/maximum ranges etc...). return
441  *  whether modification was necessary.
442  *
443  * gint values_cmp (GParamSpec   *pspec,
444  *                  const GValue *value1,
445  *                  const GValue *value2):
446  *  return value1 - value2, i.e. (-1) if value1 &lt; value2,
447  *  (+1) if value1 &gt; value2, and (0) otherwise (equality)
448  */
449 
450 G_END_DECLS
451 
</pre>
</td>
</tr>
</table>
<center><a href="gparam.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gparamspecs.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>