<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstdatetime.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gstcontrolbinding.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstdebugutils.c.udiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gstreamer/gst/gstdatetime.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -194,11 +194,11 @@</span>
  /**
   * gst_date_time_get_year:
   * @datetime: a #GstDateTime
   *
   * Returns the year of this #GstDateTime
<span class="udiff-line-modified-removed">-  * Call gst_date_time_has_year before, to avoid warnings.</span>
<span class="udiff-line-modified-added">+  * Call gst_date_time_has_year() before, to avoid warnings.</span>
   *
   * Return value: The year of this #GstDateTime
   */
  gint
  gst_date_time_get_year (const GstDateTime * datetime)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -211,11 +211,11 @@</span>
  /**
   * gst_date_time_get_month:
   * @datetime: a #GstDateTime
   *
   * Returns the month of this #GstDateTime. January is 1, February is 2, etc..
<span class="udiff-line-modified-removed">-  * Call gst_date_time_has_month before, to avoid warnings.</span>
<span class="udiff-line-modified-added">+  * Call gst_date_time_has_month() before, to avoid warnings.</span>
   *
   * Return value: The month of this #GstDateTime
   */
  gint
  gst_date_time_get_month (const GstDateTime * datetime)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -229,11 +229,11 @@</span>
  /**
   * gst_date_time_get_day:
   * @datetime: a #GstDateTime
   *
   * Returns the day of the month of this #GstDateTime.
<span class="udiff-line-modified-removed">-  * Call gst_date_time_has_day before, to avoid warnings.</span>
<span class="udiff-line-modified-added">+  * Call gst_date_time_has_day() before, to avoid warnings.</span>
   *
   * Return value: The day of this #GstDateTime
   */
  gint
  gst_date_time_get_day (const GstDateTime * datetime)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -248,11 +248,11 @@</span>
   * gst_date_time_get_hour:
   * @datetime: a #GstDateTime
   *
   * Retrieves the hour of the day represented by @datetime in the gregorian
   * calendar. The return is in the range of 0 to 23.
<span class="udiff-line-modified-removed">-  * Call gst_date_time_has_haur before, to avoid warnings.</span>
<span class="udiff-line-modified-added">+  * Call gst_date_time_has_time() before, to avoid warnings.</span>
   *
   * Return value: the hour of the day
   */
  gint
  gst_date_time_get_hour (const GstDateTime * datetime)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -267,11 +267,11 @@</span>
   * gst_date_time_get_minute:
   * @datetime: a #GstDateTime
   *
   * Retrieves the minute of the hour represented by @datetime in the gregorian
   * calendar.
<span class="udiff-line-modified-removed">-  * Call gst_date_time_has_minute before, to avoid warnings.</span>
<span class="udiff-line-modified-added">+  * Call gst_date_time_has_time() before, to avoid warnings.</span>
   *
   * Return value: the minute of the hour
   */
  gint
  gst_date_time_get_minute (const GstDateTime * datetime)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -286,11 +286,11 @@</span>
   * gst_date_time_get_second:
   * @datetime: a #GstDateTime
   *
   * Retrieves the second of the minute represented by @datetime in the gregorian
   * calendar.
<span class="udiff-line-modified-removed">-  * Call gst_date_time_has_second before, to avoid warnings.</span>
<span class="udiff-line-modified-added">+  * Call gst_date_time_has_time() before, to avoid warnings.</span>
   *
   * Return value: the second represented by @datetime
   */
  gint
  gst_date_time_get_second (const GstDateTime * datetime)
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -496,11 +496,11 @@</span>
   * @month and @day, and the time fields will be considered not set. In this
   * case @minute and @seconds should also be -1.
   *
   * Free-function: gst_date_time_unref
   *
<span class="udiff-line-modified-removed">-  * Return value: (transfer full) (nullable): the newly created #GstDateTime</span>
<span class="udiff-line-modified-added">+  * Return value: (transfer full): the newly created #GstDateTime</span>
   */
  GstDateTime *
  gst_date_time_new_local_time (gint year, gint month, gint day, gint hour,
      gint minute, gdouble seconds)
  {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -609,11 +609,11 @@</span>
   * @day == -1, then #GstDateTime will created for @year and @month and
   * so on.
   *
   * Free-function: gst_date_time_unref
   *
<span class="udiff-line-modified-removed">-  * Return value: (transfer full) (nullable): the newly created #GstDateTime</span>
<span class="udiff-line-modified-added">+  * Return value: (transfer full): the newly created #GstDateTime</span>
   */
  GstDateTime *
  gst_date_time_new (gfloat tzoffset, gint year, gint month, gint day, gint hour,
      gint minute, gdouble seconds)
  {
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -790,37 +790,37 @@</span>
     * the string must be at least 4 characters long and start with 2 digits */
    if (len &lt; 4 || !g_ascii_isdigit (string[0]) || !g_ascii_isdigit (string[1]))
      return NULL;
  
    if (g_ascii_isdigit (string[2]) &amp;&amp; g_ascii_isdigit (string[3])) {
<span class="udiff-line-modified-removed">-   ret = sscanf (string, &quot;%04d-%02d-%02d&quot;, &amp;year, &amp;month, &amp;day);</span>
<span class="udiff-line-modified-added">+     ret = sscanf (string, &quot;%04d-%02d-%02d&quot;, &amp;year, &amp;month, &amp;day);</span>
  
<span class="udiff-line-modified-removed">-   if (ret == 0)</span>
<span class="udiff-line-modified-removed">-     return NULL;</span>
<span class="udiff-line-modified-added">+     if (ret == 0)</span>
<span class="udiff-line-modified-added">+       return NULL;</span>
  
<span class="udiff-line-modified-removed">-   if (ret == 3 &amp;&amp; day &lt;= 0) {</span>
<span class="udiff-line-modified-removed">-     ret = 2;</span>
<span class="udiff-line-modified-removed">-     day = -1;</span>
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+     if (ret == 3 &amp;&amp; day &lt;= 0) {</span>
<span class="udiff-line-modified-added">+       ret = 2;</span>
<span class="udiff-line-modified-added">+       day = -1;</span>
<span class="udiff-line-modified-added">+     }</span>
  
<span class="udiff-line-modified-removed">-   if (ret &gt;= 2 &amp;&amp; month &lt;= 0) {</span>
<span class="udiff-line-modified-removed">-     ret = 1;</span>
<span class="udiff-line-modified-removed">-     month = day = -1;</span>
<span class="udiff-line-modified-removed">-   }</span>
<span class="udiff-line-modified-added">+     if (ret &gt;= 2 &amp;&amp; month &lt;= 0) {</span>
<span class="udiff-line-modified-added">+       ret = 1;</span>
<span class="udiff-line-modified-added">+       month = day = -1;</span>
<span class="udiff-line-modified-added">+     }</span>
  
      if (ret &gt;= 1 &amp;&amp; (year &lt;= 0 || year &gt; 9999 || month &gt; 12 || day &gt; 31))
<span class="udiff-line-modified-removed">-     return NULL;</span>
<span class="udiff-line-modified-added">+       return NULL;</span>
  
<span class="udiff-line-modified-removed">-   else if (ret &gt;= 1 &amp;&amp; len &lt; 16)</span>
<span class="udiff-line-modified-removed">-     /* YMD is 10 chars. XMD + HM will be 16 chars. if it is less,</span>
<span class="udiff-line-modified-removed">-      * it make no sense to continue. We will stay with YMD. */</span>
<span class="udiff-line-modified-removed">-     goto ymd;</span>
<span class="udiff-line-modified-added">+     else if (ret &gt;= 1 &amp;&amp; len &lt; 16)</span>
<span class="udiff-line-modified-added">+       /* YMD is 10 chars. XMD + HM will be 16 chars. if it is less,</span>
<span class="udiff-line-modified-added">+        * it make no sense to continue. We will stay with YMD. */</span>
<span class="udiff-line-modified-added">+       goto ymd;</span>
  
<span class="udiff-line-modified-removed">-   string += 10;</span>
<span class="udiff-line-modified-removed">-   /* Exit if there is no expeceted value on this stage */</span>
<span class="udiff-line-modified-removed">-   if (!(*string == &#39;T&#39; || *string == &#39;-&#39; || *string == &#39; &#39;))</span>
<span class="udiff-line-modified-removed">-     goto ymd;</span>
<span class="udiff-line-modified-added">+     string += 10;</span>
<span class="udiff-line-modified-added">+     /* Exit if there is no expeceted value on this stage */</span>
<span class="udiff-line-modified-added">+     if (!(*string == &#39;T&#39; || *string == &#39;-&#39; || *string == &#39; &#39;))</span>
<span class="udiff-line-modified-added">+       goto ymd;</span>
  
      string += 1;
    }
    /* if hour or minute fails, then we will use only ymd. */
    hour = g_ascii_strtoull (string, (gchar **) &amp; string, 10);
</pre>
<hr />
<pre>
<span class="line-new-header">@@ -928,10 +928,15 @@</span>
  
  static void
  gst_date_time_free (GstDateTime * datetime)
  {
    g_date_time_unref (datetime-&gt;datetime);
<span class="udiff-line-added">+ </span>
<span class="udiff-line-added">+ #ifdef USE_POISONING</span>
<span class="udiff-line-added">+   memset (datetime, 0xff, sizeof (GstDateTime));</span>
<span class="udiff-line-added">+ #endif</span>
<span class="udiff-line-added">+ </span>
    g_slice_free (GstDateTime, datetime);
  }
  
  /**
   * gst_date_time_ref:
</pre>
<center><a href="gstcontrolbinding.h.udiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gstdebugutils.c.udiff.html" target="_top">next &gt;</a></center>  </body>
</html>