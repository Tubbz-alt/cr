<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gnulib/vasnprintf.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
 1 /* vsprintf with automatic memory allocation.
 2    Copyright (C) 2002-2004, 2007-2016 Free Software Foundation, Inc.
 3 
 4    This program is free software; you can redistribute it and/or modify
 5    it under the terms of the GNU Lesser General Public License as published by
 6    the Free Software Foundation; either version 2.1, or (at your option)
 7    any later version.
 8 
 9    This program is distributed in the hope that it will be useful,
10    but WITHOUT ANY WARRANTY; without even the implied warranty of
11    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
12    GNU Lesser General Public License for more details.
13 
14    You should have received a copy of the GNU Lesser General Public License along
15    with this program; if not, see &lt;http://www.gnu.org/licenses/&gt;.  */
16 
17 #ifndef _VASNPRINTF_H
18 #define _VASNPRINTF_H
19 
20 /* Get va_list.  */
21 #include &lt;stdarg.h&gt;
22 
23 /* Get size_t.  */
24 #include &lt;stddef.h&gt;
25 
26 /* The __attribute__ feature is available in gcc versions 2.5 and later.
27    The __-protected variants of the attributes &#39;format&#39; and &#39;printf&#39; are
28    accepted by gcc versions 2.6.4 (effectively 2.7) and later.
29    We enable _GL_ATTRIBUTE_FORMAT only if these are supported too, because
30    gnulib and libintl do &#39;#define printf __printf__&#39; when they override
31    the &#39;printf&#39; function.  */
32 #if __GNUC__ &gt; 2 || (__GNUC__ == 2 &amp;&amp; __GNUC_MINOR__ &gt;= 7)
33 # define _GL_ATTRIBUTE_FORMAT(spec) __attribute__ ((__format__ spec))
34 #else
35 # define _GL_ATTRIBUTE_FORMAT(spec) /* empty */
36 #endif
37 
38 #ifdef __cplusplus
39 extern &quot;C&quot; {
40 #endif
41 
42 /* Write formatted output to a string dynamically allocated with malloc().
43    You can pass a preallocated buffer for the result in RESULTBUF and its
44    size in *LENGTHP; otherwise you pass RESULTBUF = NULL.
45    If successful, return the address of the string (this may be = RESULTBUF
46    if no dynamic memory allocation was necessary) and set *LENGTHP to the
47    number of resulting bytes, excluding the trailing NUL.  Upon error, set
48    errno and return NULL.
49 
50    When dynamic memory allocation occurs, the preallocated buffer is left
51    alone (with possibly modified contents).  This makes it possible to use
52    a statically allocated or stack-allocated buffer, like this:
53 
54           char buf[100];
55           size_t len = sizeof (buf);
56           char *output = vasnprintf (buf, &amp;len, format, args);
57           if (output == NULL)
58             ... error handling ...;
59           else
60             {
61               ... use the output string ...;
62               if (output != buf)
63                 free (output);
64             }
65   */
66 #if REPLACE_VASNPRINTF
67 # define asnprintf rpl_asnprintf
68 # define vasnprintf rpl_vasnprintf
69 #endif
70 extern char * asnprintf (char *resultbuf, size_t *lengthp, const char *format, ...)
71        _GL_ATTRIBUTE_FORMAT ((__printf__, 3, 4));
72 extern char * vasnprintf (char *resultbuf, size_t *lengthp, const char *format, va_list args)
73        _GL_ATTRIBUTE_FORMAT ((__printf__, 3, 0));
74 
75 #ifdef __cplusplus
76 }
77 #endif
78 
79 #endif /* _VASNPRINTF_H */
    </pre>
  </body>
</html>