<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-base/gst-libs/gst/video/video-info.h</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="video-info.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="video-multiview.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-base/gst-libs/gst/video/video-info.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 13  *
 14  * You should have received a copy of the GNU Library General Public
 15  * License along with this library; if not, write to the
 16  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 17  * Boston, MA 02110-1301, USA.
 18  */
 19 
 20 #ifndef __GST_VIDEO_INFO_H__
 21 #define __GST_VIDEO_INFO_H__
 22 
 23 #include &lt;gst/gst.h&gt;
 24 #include &lt;gst/video/video-format.h&gt;
 25 #include &lt;gst/video/video-color.h&gt;
 26 
 27 G_BEGIN_DECLS
 28 
 29 #include &lt;gst/video/video-enumtypes.h&gt;
 30 
 31 typedef struct _GstVideoInfo GstVideoInfo;
 32 










 33 /**
 34  * GstVideoInterlaceMode:
 35  * @GST_VIDEO_INTERLACE_MODE_PROGRESSIVE: all frames are progressive
 36  * @GST_VIDEO_INTERLACE_MODE_INTERLEAVED: 2 fields are interleaved in one video
 37  *     frame. Extra buffer flags describe the field order.
 38  * @GST_VIDEO_INTERLACE_MODE_MIXED: frames contains both interlaced and
 39  *     progressive video, the buffer flags describe the frame and fields.
 40  * @GST_VIDEO_INTERLACE_MODE_FIELDS: 2 fields are stored in one buffer, use the
 41  *     frame ID to get access to the required field. For multiview (the
 42  *     &#39;views&#39; property &gt; 1) the fields of view N can be found at frame ID
 43  *     (N * 2) and (N * 2) + 1.
 44  *     Each field has only half the amount of lines as noted in the
 45  *     height property. This mode requires multiple GstVideoMeta metadata
 46  *     to describe the fields.





 47  *
 48  * The possible values of the #GstVideoInterlaceMode describing the interlace
 49  * mode of the stream.
 50  */
 51 typedef enum {
 52   GST_VIDEO_INTERLACE_MODE_PROGRESSIVE = 0,
 53   GST_VIDEO_INTERLACE_MODE_INTERLEAVED,
 54   GST_VIDEO_INTERLACE_MODE_MIXED,
<span class="line-modified"> 55   GST_VIDEO_INTERLACE_MODE_FIELDS</span>

 56 } GstVideoInterlaceMode;
 57 
 58 GST_VIDEO_API
 59 const gchar *          gst_video_interlace_mode_to_string    (GstVideoInterlaceMode mode);
 60 
 61 GST_VIDEO_API
 62 GstVideoInterlaceMode  gst_video_interlace_mode_from_string  (const gchar * mode);
 63 
 64 /**
 65  * GstVideoMultiviewMode:
 66  * @GST_VIDEO_MULTIVIEW_MODE_NONE: A special value indicating
 67  * no multiview information. Used in GstVideoInfo and other places to
 68  * indicate that no specific multiview handling has been requested or
 69  * provided. This value is never carried on caps.
 70  * @GST_VIDEO_MULTIVIEW_MODE_MONO: All frames are monoscopic.
 71  * @GST_VIDEO_MULTIVIEW_MODE_LEFT: All frames represent a left-eye view.
 72  * @GST_VIDEO_MULTIVIEW_MODE_RIGHT: All frames represent a right-eye view.
 73  * @GST_VIDEO_MULTIVIEW_MODE_SIDE_BY_SIDE: Left and right eye views are
 74  * provided in the left and right half of the frame respectively.
 75  * @GST_VIDEO_MULTIVIEW_MODE_SIDE_BY_SIDE_QUINCUNX: Left and right eye
</pre>
<hr />
<pre>
184  * @GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLIPPED: The right view is
185  *     vertically mirrored.
186  * @GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLOPPED: The right view is
187  *     horizontally mirrored.
188  * @GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT: For frame-packed
189  *     multiview modes, indicates that the individual
190  *     views have been encoded with half the true width or height
191  *     and should be scaled back up for display. This flag
192  *     is used for overriding input layout interpretation
193  *     by adjusting pixel-aspect-ratio.
194  *     For side-by-side, column interleaved or checkerboard packings, the
195  *     pixel width will be doubled. For row interleaved and top-bottom
196  *     encodings, pixel height will be doubled.
197  * @GST_VIDEO_MULTIVIEW_FLAGS_MIXED_MONO: The video stream contains both
198  *     mono and multiview portions, signalled on each buffer by the
199  *     absence or presence of the @GST_VIDEO_BUFFER_FLAG_MULTIPLE_VIEW
200  *     buffer flag.
201  *
202  * GstVideoMultiviewFlags are used to indicate extra properties of a
203  * stereo/multiview stream beyond the frame layout and buffer mapping
<span class="line-modified">204  * that is conveyed in the #GstMultiviewMode.</span>
205  */
206 typedef enum {
207   GST_VIDEO_MULTIVIEW_FLAGS_NONE             = 0,
208   GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_VIEW_FIRST = (1 &lt;&lt; 0),
209   GST_VIDEO_MULTIVIEW_FLAGS_LEFT_FLIPPED     = (1 &lt;&lt; 1),
210   GST_VIDEO_MULTIVIEW_FLAGS_LEFT_FLOPPED     = (1 &lt;&lt; 2),
211   GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLIPPED    = (1 &lt;&lt; 3),
212   GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLOPPED    = (1 &lt;&lt; 4),
213   GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT      = (1 &lt;&lt; 14),
214   GST_VIDEO_MULTIVIEW_FLAGS_MIXED_MONO       = (1 &lt;&lt; 15)
215 } GstVideoMultiviewFlags;
216 
217 /**
218  * GstVideoFlags:
219  * @GST_VIDEO_FLAG_NONE: no flags
220  * @GST_VIDEO_FLAG_VARIABLE_FPS: a variable fps is selected, fps_n and fps_d
221  *     denote the maximum fps of the video
222  * @GST_VIDEO_FLAG_PREMULTIPLIED_ALPHA: Each color has been scaled by the alpha
223  *     value.
224  *
</pre>
<hr />
<pre>
256 GST_VIDEO_API
257 GstVideoFieldOrder gst_video_field_order_from_string  (const gchar * order);
258 
259 /**
260  * GstVideoInfo:
261  * @finfo: the format info of the video
262  * @interlace_mode: the interlace mode
263  * @flags: additional video flags
264  * @width: the width of the video
265  * @height: the height of the video
266  * @views: the number of views for multiview video
267  * @size: the default size of one frame
268  * @chroma_site: a #GstVideoChromaSite.
269  * @colorimetry: the colorimetry info
270  * @par_n: the pixel-aspect-ratio numerator
271  * @par_d: the pixel-aspect-ratio demnominator
272  * @fps_n: the framerate numerator
273  * @fps_d: the framerate demnominator
274  * @offset: offsets of the planes
275  * @stride: strides of the planes
<span class="line-modified">276  * @multiview_mode: delivery mode for multiple views. (Since 1.6)</span>
<span class="line-modified">277  * @multiview_flags: flags for multiple views configuration (Since 1.6)</span>
278  *
279  * Information describing image properties. This information can be filled
280  * in from GstCaps with gst_video_info_from_caps(). The information is also used
281  * to store the specific video info when mapping a video frame with
282  * gst_video_frame_map().
283  *
284  * Use the provided macros to access the info in this structure.
285  */
286 struct _GstVideoInfo {
287   const GstVideoFormatInfo *finfo;
288 
289   GstVideoInterlaceMode     interlace_mode;
290   GstVideoFlags             flags;
291   gint                      width;
292   gint                      height;
293   gsize                     size;
294   gint                      views;
295 
296   GstVideoChromaSite        chroma_site;
297   GstVideoColorimetry       colorimetry;
</pre>
<hr />
<pre>
318 };
319 
320 #define GST_TYPE_VIDEO_INFO              (gst_video_info_get_type ())
321 GST_VIDEO_API
322 GType gst_video_info_get_type            (void);
323 
324 /* general info */
325 #define GST_VIDEO_INFO_FORMAT(i)         (GST_VIDEO_FORMAT_INFO_FORMAT((i)-&gt;finfo))
326 #define GST_VIDEO_INFO_NAME(i)           (GST_VIDEO_FORMAT_INFO_NAME((i)-&gt;finfo))
327 #define GST_VIDEO_INFO_IS_YUV(i)         (GST_VIDEO_FORMAT_INFO_IS_YUV((i)-&gt;finfo))
328 #define GST_VIDEO_INFO_IS_RGB(i)         (GST_VIDEO_FORMAT_INFO_IS_RGB((i)-&gt;finfo))
329 #define GST_VIDEO_INFO_IS_GRAY(i)        (GST_VIDEO_FORMAT_INFO_IS_GRAY((i)-&gt;finfo))
330 #define GST_VIDEO_INFO_HAS_ALPHA(i)      (GST_VIDEO_FORMAT_INFO_HAS_ALPHA((i)-&gt;finfo))
331 
332 #define GST_VIDEO_INFO_INTERLACE_MODE(i) ((i)-&gt;interlace_mode)
333 #define GST_VIDEO_INFO_IS_INTERLACED(i)  ((i)-&gt;interlace_mode != GST_VIDEO_INTERLACE_MODE_PROGRESSIVE)
334 #define GST_VIDEO_INFO_FIELD_ORDER(i)    ((i)-&gt;ABI.abi.field_order)
335 #define GST_VIDEO_INFO_FLAGS(i)          ((i)-&gt;flags)
336 #define GST_VIDEO_INFO_WIDTH(i)          ((i)-&gt;width)
337 #define GST_VIDEO_INFO_HEIGHT(i)         ((i)-&gt;height)









338 #define GST_VIDEO_INFO_SIZE(i)           ((i)-&gt;size)
339 #define GST_VIDEO_INFO_VIEWS(i)          ((i)-&gt;views)
340 #define GST_VIDEO_INFO_PAR_N(i)          ((i)-&gt;par_n)
341 #define GST_VIDEO_INFO_PAR_D(i)          ((i)-&gt;par_d)
342 #define GST_VIDEO_INFO_FPS_N(i)          ((i)-&gt;fps_n)



343 #define GST_VIDEO_INFO_FPS_D(i)          ((i)-&gt;fps_d)
344 
345 #define GST_VIDEO_INFO_COLORIMETRY(i) ((i)-&gt;colorimetry)
346 #define GST_VIDEO_INFO_CHROMA_SITE(i) ((i)-&gt;chroma_site)
347 
348 #define GST_VIDEO_INFO_MULTIVIEW_MODE(i)          ((i)-&gt;ABI.abi.multiview_mode)
349 #define GST_VIDEO_INFO_MULTIVIEW_FLAGS(i)          ((i)-&gt;ABI.abi.multiview_flags)
350 
351 /* dealing with GstVideoInfo flags */
352 #define GST_VIDEO_INFO_FLAG_IS_SET(i,flag) ((GST_VIDEO_INFO_FLAGS(i) &amp; (flag)) == (flag))
353 #define GST_VIDEO_INFO_FLAG_SET(i,flag)    (GST_VIDEO_INFO_FLAGS(i) |= (flag))
354 #define GST_VIDEO_INFO_FLAG_UNSET(i,flag)  (GST_VIDEO_INFO_FLAGS(i) &amp;= ~(flag))
355 
356 /* dealing with planes */
357 #define GST_VIDEO_INFO_N_PLANES(i)       (GST_VIDEO_FORMAT_INFO_N_PLANES((i)-&gt;finfo))
358 #define GST_VIDEO_INFO_PLANE_OFFSET(i,p) ((i)-&gt;offset[p])
359 #define GST_VIDEO_INFO_PLANE_STRIDE(i,p) ((i)-&gt;stride[p])
360 
361 /* dealing with components */
362 #define GST_VIDEO_INFO_N_COMPONENTS(i)   GST_VIDEO_FORMAT_INFO_N_COMPONENTS((i)-&gt;finfo)
363 #define GST_VIDEO_INFO_COMP_DEPTH(i,c)   GST_VIDEO_FORMAT_INFO_DEPTH((i)-&gt;finfo,(c))
364 #define GST_VIDEO_INFO_COMP_DATA(i,d,c)  GST_VIDEO_FORMAT_INFO_DATA((i)-&gt;finfo,d,(c))
365 #define GST_VIDEO_INFO_COMP_OFFSET(i,c)  GST_VIDEO_FORMAT_INFO_OFFSET((i)-&gt;finfo,(i)-&gt;offset,(c))
366 #define GST_VIDEO_INFO_COMP_STRIDE(i,c)  GST_VIDEO_FORMAT_INFO_STRIDE((i)-&gt;finfo,(i)-&gt;stride,(c))
367 #define GST_VIDEO_INFO_COMP_WIDTH(i,c)   GST_VIDEO_FORMAT_INFO_SCALE_WIDTH((i)-&gt;finfo,(c),(i)-&gt;width)
<span class="line-modified">368 #define GST_VIDEO_INFO_COMP_HEIGHT(i,c)  GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT((i)-&gt;finfo,(c),(i)-&gt;height)</span>
369 #define GST_VIDEO_INFO_COMP_PLANE(i,c)   GST_VIDEO_FORMAT_INFO_PLANE((i)-&gt;finfo,(c))
370 #define GST_VIDEO_INFO_COMP_PSTRIDE(i,c) GST_VIDEO_FORMAT_INFO_PSTRIDE((i)-&gt;finfo,(c))
371 #define GST_VIDEO_INFO_COMP_POFFSET(i,c) GST_VIDEO_FORMAT_INFO_POFFSET((i)-&gt;finfo,(c))
372 
373 GST_VIDEO_API
374 GstVideoInfo * gst_video_info_new         (void);
375 
376 GST_VIDEO_API
377 void           gst_video_info_init        (GstVideoInfo *info);
378 
379 GST_VIDEO_API
380 GstVideoInfo * gst_video_info_copy        (const GstVideoInfo *info);
381 
382 GST_VIDEO_API
383 void           gst_video_info_free        (GstVideoInfo *info);
384 
385 GST_VIDEO_API
386 gboolean       gst_video_info_set_format  (GstVideoInfo *info, GstVideoFormat format,
387                                            guint width, guint height);
388 








389 GST_VIDEO_API
390 gboolean       gst_video_info_from_caps   (GstVideoInfo *info, const GstCaps  * caps);
391 
392 GST_VIDEO_API
393 GstCaps *      gst_video_info_to_caps     (GstVideoInfo *info);
394 
395 GST_VIDEO_API
396 gboolean       gst_video_info_convert     (GstVideoInfo *info,
397                                            GstFormat     src_format,
398                                            gint64        src_value,
399                                            GstFormat     dest_format,
400                                            gint64       *dest_value);
401 
402 GST_VIDEO_API
403 gboolean       gst_video_info_is_equal    (const GstVideoInfo *info,
404                                            const GstVideoInfo *other);
405 
406 #include &lt;gst/video/video.h&gt;
407 
408 GST_VIDEO_API
</pre>
</td>
<td>
<hr />
<pre>
 13  *
 14  * You should have received a copy of the GNU Library General Public
 15  * License along with this library; if not, write to the
 16  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 17  * Boston, MA 02110-1301, USA.
 18  */
 19 
 20 #ifndef __GST_VIDEO_INFO_H__
 21 #define __GST_VIDEO_INFO_H__
 22 
 23 #include &lt;gst/gst.h&gt;
 24 #include &lt;gst/video/video-format.h&gt;
 25 #include &lt;gst/video/video-color.h&gt;
 26 
 27 G_BEGIN_DECLS
 28 
 29 #include &lt;gst/video/video-enumtypes.h&gt;
 30 
 31 typedef struct _GstVideoInfo GstVideoInfo;
 32 
<span class="line-added"> 33 /**</span>
<span class="line-added"> 34  * GST_CAPS_FEATURE_FORMAT_INTERLACED:</span>
<span class="line-added"> 35  *</span>
<span class="line-added"> 36  * Name of the caps feature indicating that the stream is interlaced. Currently</span>
<span class="line-added"> 37  * it is only used for video.</span>
<span class="line-added"> 38  *</span>
<span class="line-added"> 39  * Since: 1.16.</span>
<span class="line-added"> 40  */</span>
<span class="line-added"> 41 #define GST_CAPS_FEATURE_FORMAT_INTERLACED &quot;format:Interlaced&quot;</span>
<span class="line-added"> 42 </span>
 43 /**
 44  * GstVideoInterlaceMode:
 45  * @GST_VIDEO_INTERLACE_MODE_PROGRESSIVE: all frames are progressive
 46  * @GST_VIDEO_INTERLACE_MODE_INTERLEAVED: 2 fields are interleaved in one video
 47  *     frame. Extra buffer flags describe the field order.
 48  * @GST_VIDEO_INTERLACE_MODE_MIXED: frames contains both interlaced and
 49  *     progressive video, the buffer flags describe the frame and fields.
 50  * @GST_VIDEO_INTERLACE_MODE_FIELDS: 2 fields are stored in one buffer, use the
 51  *     frame ID to get access to the required field. For multiview (the
 52  *     &#39;views&#39; property &gt; 1) the fields of view N can be found at frame ID
 53  *     (N * 2) and (N * 2) + 1.
 54  *     Each field has only half the amount of lines as noted in the
 55  *     height property. This mode requires multiple GstVideoMeta metadata
 56  *     to describe the fields.
<span class="line-added"> 57  * @GST_VIDEO_INTERLACE_MODE_ALTERNATE: 1 field is stored in one buffer,</span>
<span class="line-added"> 58  *     @GST_VIDEO_BUFFER_FLAG_TF or @GST_VIDEO_BUFFER_FLAG_BF indicates if</span>
<span class="line-added"> 59  *     the buffer is carrying the top or bottom field, respectively. The top and</span>
<span class="line-added"> 60  *     bottom buffers are expected to alternate in the pipeline, with this mode</span>
<span class="line-added"> 61  *     (Since: 1.16).</span>
 62  *
 63  * The possible values of the #GstVideoInterlaceMode describing the interlace
 64  * mode of the stream.
 65  */
 66 typedef enum {
 67   GST_VIDEO_INTERLACE_MODE_PROGRESSIVE = 0,
 68   GST_VIDEO_INTERLACE_MODE_INTERLEAVED,
 69   GST_VIDEO_INTERLACE_MODE_MIXED,
<span class="line-modified"> 70   GST_VIDEO_INTERLACE_MODE_FIELDS,</span>
<span class="line-added"> 71   GST_VIDEO_INTERLACE_MODE_ALTERNATE,</span>
 72 } GstVideoInterlaceMode;
 73 
 74 GST_VIDEO_API
 75 const gchar *          gst_video_interlace_mode_to_string    (GstVideoInterlaceMode mode);
 76 
 77 GST_VIDEO_API
 78 GstVideoInterlaceMode  gst_video_interlace_mode_from_string  (const gchar * mode);
 79 
 80 /**
 81  * GstVideoMultiviewMode:
 82  * @GST_VIDEO_MULTIVIEW_MODE_NONE: A special value indicating
 83  * no multiview information. Used in GstVideoInfo and other places to
 84  * indicate that no specific multiview handling has been requested or
 85  * provided. This value is never carried on caps.
 86  * @GST_VIDEO_MULTIVIEW_MODE_MONO: All frames are monoscopic.
 87  * @GST_VIDEO_MULTIVIEW_MODE_LEFT: All frames represent a left-eye view.
 88  * @GST_VIDEO_MULTIVIEW_MODE_RIGHT: All frames represent a right-eye view.
 89  * @GST_VIDEO_MULTIVIEW_MODE_SIDE_BY_SIDE: Left and right eye views are
 90  * provided in the left and right half of the frame respectively.
 91  * @GST_VIDEO_MULTIVIEW_MODE_SIDE_BY_SIDE_QUINCUNX: Left and right eye
</pre>
<hr />
<pre>
200  * @GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLIPPED: The right view is
201  *     vertically mirrored.
202  * @GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLOPPED: The right view is
203  *     horizontally mirrored.
204  * @GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT: For frame-packed
205  *     multiview modes, indicates that the individual
206  *     views have been encoded with half the true width or height
207  *     and should be scaled back up for display. This flag
208  *     is used for overriding input layout interpretation
209  *     by adjusting pixel-aspect-ratio.
210  *     For side-by-side, column interleaved or checkerboard packings, the
211  *     pixel width will be doubled. For row interleaved and top-bottom
212  *     encodings, pixel height will be doubled.
213  * @GST_VIDEO_MULTIVIEW_FLAGS_MIXED_MONO: The video stream contains both
214  *     mono and multiview portions, signalled on each buffer by the
215  *     absence or presence of the @GST_VIDEO_BUFFER_FLAG_MULTIPLE_VIEW
216  *     buffer flag.
217  *
218  * GstVideoMultiviewFlags are used to indicate extra properties of a
219  * stereo/multiview stream beyond the frame layout and buffer mapping
<span class="line-modified">220  * that is conveyed in the #GstVideoMultiviewMode.</span>
221  */
222 typedef enum {
223   GST_VIDEO_MULTIVIEW_FLAGS_NONE             = 0,
224   GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_VIEW_FIRST = (1 &lt;&lt; 0),
225   GST_VIDEO_MULTIVIEW_FLAGS_LEFT_FLIPPED     = (1 &lt;&lt; 1),
226   GST_VIDEO_MULTIVIEW_FLAGS_LEFT_FLOPPED     = (1 &lt;&lt; 2),
227   GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLIPPED    = (1 &lt;&lt; 3),
228   GST_VIDEO_MULTIVIEW_FLAGS_RIGHT_FLOPPED    = (1 &lt;&lt; 4),
229   GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT      = (1 &lt;&lt; 14),
230   GST_VIDEO_MULTIVIEW_FLAGS_MIXED_MONO       = (1 &lt;&lt; 15)
231 } GstVideoMultiviewFlags;
232 
233 /**
234  * GstVideoFlags:
235  * @GST_VIDEO_FLAG_NONE: no flags
236  * @GST_VIDEO_FLAG_VARIABLE_FPS: a variable fps is selected, fps_n and fps_d
237  *     denote the maximum fps of the video
238  * @GST_VIDEO_FLAG_PREMULTIPLIED_ALPHA: Each color has been scaled by the alpha
239  *     value.
240  *
</pre>
<hr />
<pre>
272 GST_VIDEO_API
273 GstVideoFieldOrder gst_video_field_order_from_string  (const gchar * order);
274 
275 /**
276  * GstVideoInfo:
277  * @finfo: the format info of the video
278  * @interlace_mode: the interlace mode
279  * @flags: additional video flags
280  * @width: the width of the video
281  * @height: the height of the video
282  * @views: the number of views for multiview video
283  * @size: the default size of one frame
284  * @chroma_site: a #GstVideoChromaSite.
285  * @colorimetry: the colorimetry info
286  * @par_n: the pixel-aspect-ratio numerator
287  * @par_d: the pixel-aspect-ratio demnominator
288  * @fps_n: the framerate numerator
289  * @fps_d: the framerate demnominator
290  * @offset: offsets of the planes
291  * @stride: strides of the planes
<span class="line-modified">292  * @multiview_mode: delivery mode for multiple views. (Since: 1.6)</span>
<span class="line-modified">293  * @multiview_flags: flags for multiple views configuration (Since: 1.6)</span>
294  *
295  * Information describing image properties. This information can be filled
296  * in from GstCaps with gst_video_info_from_caps(). The information is also used
297  * to store the specific video info when mapping a video frame with
298  * gst_video_frame_map().
299  *
300  * Use the provided macros to access the info in this structure.
301  */
302 struct _GstVideoInfo {
303   const GstVideoFormatInfo *finfo;
304 
305   GstVideoInterlaceMode     interlace_mode;
306   GstVideoFlags             flags;
307   gint                      width;
308   gint                      height;
309   gsize                     size;
310   gint                      views;
311 
312   GstVideoChromaSite        chroma_site;
313   GstVideoColorimetry       colorimetry;
</pre>
<hr />
<pre>
334 };
335 
336 #define GST_TYPE_VIDEO_INFO              (gst_video_info_get_type ())
337 GST_VIDEO_API
338 GType gst_video_info_get_type            (void);
339 
340 /* general info */
341 #define GST_VIDEO_INFO_FORMAT(i)         (GST_VIDEO_FORMAT_INFO_FORMAT((i)-&gt;finfo))
342 #define GST_VIDEO_INFO_NAME(i)           (GST_VIDEO_FORMAT_INFO_NAME((i)-&gt;finfo))
343 #define GST_VIDEO_INFO_IS_YUV(i)         (GST_VIDEO_FORMAT_INFO_IS_YUV((i)-&gt;finfo))
344 #define GST_VIDEO_INFO_IS_RGB(i)         (GST_VIDEO_FORMAT_INFO_IS_RGB((i)-&gt;finfo))
345 #define GST_VIDEO_INFO_IS_GRAY(i)        (GST_VIDEO_FORMAT_INFO_IS_GRAY((i)-&gt;finfo))
346 #define GST_VIDEO_INFO_HAS_ALPHA(i)      (GST_VIDEO_FORMAT_INFO_HAS_ALPHA((i)-&gt;finfo))
347 
348 #define GST_VIDEO_INFO_INTERLACE_MODE(i) ((i)-&gt;interlace_mode)
349 #define GST_VIDEO_INFO_IS_INTERLACED(i)  ((i)-&gt;interlace_mode != GST_VIDEO_INTERLACE_MODE_PROGRESSIVE)
350 #define GST_VIDEO_INFO_FIELD_ORDER(i)    ((i)-&gt;ABI.abi.field_order)
351 #define GST_VIDEO_INFO_FLAGS(i)          ((i)-&gt;flags)
352 #define GST_VIDEO_INFO_WIDTH(i)          ((i)-&gt;width)
353 #define GST_VIDEO_INFO_HEIGHT(i)         ((i)-&gt;height)
<span class="line-added">354 /**</span>
<span class="line-added">355  * GST_VIDEO_INFO_FIELD_HEIGHT:</span>
<span class="line-added">356  *</span>
<span class="line-added">357  * The height of a field. It&#39;s the height of the full frame unless split-field</span>
<span class="line-added">358  * (alternate) interlacing is in use.</span>
<span class="line-added">359  *</span>
<span class="line-added">360  * Since: 1.16.</span>
<span class="line-added">361  */</span>
<span class="line-added">362 #define GST_VIDEO_INFO_FIELD_HEIGHT(i)   ((i)-&gt;interlace_mode == GST_VIDEO_INTERLACE_MODE_ALTERNATE? (i)-&gt;height / 2 : (i)-&gt;height)</span>
363 #define GST_VIDEO_INFO_SIZE(i)           ((i)-&gt;size)
364 #define GST_VIDEO_INFO_VIEWS(i)          ((i)-&gt;views)
365 #define GST_VIDEO_INFO_PAR_N(i)          ((i)-&gt;par_n)
366 #define GST_VIDEO_INFO_PAR_D(i)          ((i)-&gt;par_d)
367 #define GST_VIDEO_INFO_FPS_N(i)          ((i)-&gt;fps_n)
<span class="line-added">368 #define GST_VIDEO_INFO_FIELD_RATE_N(i)   ((GST_VIDEO_INFO_INTERLACE_MODE ((i)) == \</span>
<span class="line-added">369                                            GST_VIDEO_INTERLACE_MODE_ALTERNATE) ? \</span>
<span class="line-added">370                                            (i)-&gt;fps_n * 2 : (i)-&gt;fps_n)</span>
371 #define GST_VIDEO_INFO_FPS_D(i)          ((i)-&gt;fps_d)
372 
373 #define GST_VIDEO_INFO_COLORIMETRY(i) ((i)-&gt;colorimetry)
374 #define GST_VIDEO_INFO_CHROMA_SITE(i) ((i)-&gt;chroma_site)
375 
376 #define GST_VIDEO_INFO_MULTIVIEW_MODE(i)          ((i)-&gt;ABI.abi.multiview_mode)
377 #define GST_VIDEO_INFO_MULTIVIEW_FLAGS(i)          ((i)-&gt;ABI.abi.multiview_flags)
378 
379 /* dealing with GstVideoInfo flags */
380 #define GST_VIDEO_INFO_FLAG_IS_SET(i,flag) ((GST_VIDEO_INFO_FLAGS(i) &amp; (flag)) == (flag))
381 #define GST_VIDEO_INFO_FLAG_SET(i,flag)    (GST_VIDEO_INFO_FLAGS(i) |= (flag))
382 #define GST_VIDEO_INFO_FLAG_UNSET(i,flag)  (GST_VIDEO_INFO_FLAGS(i) &amp;= ~(flag))
383 
384 /* dealing with planes */
385 #define GST_VIDEO_INFO_N_PLANES(i)       (GST_VIDEO_FORMAT_INFO_N_PLANES((i)-&gt;finfo))
386 #define GST_VIDEO_INFO_PLANE_OFFSET(i,p) ((i)-&gt;offset[p])
387 #define GST_VIDEO_INFO_PLANE_STRIDE(i,p) ((i)-&gt;stride[p])
388 
389 /* dealing with components */
390 #define GST_VIDEO_INFO_N_COMPONENTS(i)   GST_VIDEO_FORMAT_INFO_N_COMPONENTS((i)-&gt;finfo)
391 #define GST_VIDEO_INFO_COMP_DEPTH(i,c)   GST_VIDEO_FORMAT_INFO_DEPTH((i)-&gt;finfo,(c))
392 #define GST_VIDEO_INFO_COMP_DATA(i,d,c)  GST_VIDEO_FORMAT_INFO_DATA((i)-&gt;finfo,d,(c))
393 #define GST_VIDEO_INFO_COMP_OFFSET(i,c)  GST_VIDEO_FORMAT_INFO_OFFSET((i)-&gt;finfo,(i)-&gt;offset,(c))
394 #define GST_VIDEO_INFO_COMP_STRIDE(i,c)  GST_VIDEO_FORMAT_INFO_STRIDE((i)-&gt;finfo,(i)-&gt;stride,(c))
395 #define GST_VIDEO_INFO_COMP_WIDTH(i,c)   GST_VIDEO_FORMAT_INFO_SCALE_WIDTH((i)-&gt;finfo,(c),(i)-&gt;width)
<span class="line-modified">396 #define GST_VIDEO_INFO_COMP_HEIGHT(i,c)  GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT((i)-&gt;finfo,(c),GST_VIDEO_INFO_FIELD_HEIGHT(i))</span>
397 #define GST_VIDEO_INFO_COMP_PLANE(i,c)   GST_VIDEO_FORMAT_INFO_PLANE((i)-&gt;finfo,(c))
398 #define GST_VIDEO_INFO_COMP_PSTRIDE(i,c) GST_VIDEO_FORMAT_INFO_PSTRIDE((i)-&gt;finfo,(c))
399 #define GST_VIDEO_INFO_COMP_POFFSET(i,c) GST_VIDEO_FORMAT_INFO_POFFSET((i)-&gt;finfo,(c))
400 
401 GST_VIDEO_API
402 GstVideoInfo * gst_video_info_new         (void);
403 
404 GST_VIDEO_API
405 void           gst_video_info_init        (GstVideoInfo *info);
406 
407 GST_VIDEO_API
408 GstVideoInfo * gst_video_info_copy        (const GstVideoInfo *info);
409 
410 GST_VIDEO_API
411 void           gst_video_info_free        (GstVideoInfo *info);
412 
413 GST_VIDEO_API
414 gboolean       gst_video_info_set_format  (GstVideoInfo *info, GstVideoFormat format,
415                                            guint width, guint height);
416 
<span class="line-added">417 GST_VIDEO_API</span>
<span class="line-added">418 gboolean       gst_video_info_set_interlaced_format</span>
<span class="line-added">419                                           (GstVideoInfo         *info,</span>
<span class="line-added">420                                            GstVideoFormat        format,</span>
<span class="line-added">421                                            GstVideoInterlaceMode mode,</span>
<span class="line-added">422                                            guint                 width,</span>
<span class="line-added">423                                            guint                 height);</span>
<span class="line-added">424 </span>
425 GST_VIDEO_API
426 gboolean       gst_video_info_from_caps   (GstVideoInfo *info, const GstCaps  * caps);
427 
428 GST_VIDEO_API
429 GstCaps *      gst_video_info_to_caps     (GstVideoInfo *info);
430 
431 GST_VIDEO_API
432 gboolean       gst_video_info_convert     (GstVideoInfo *info,
433                                            GstFormat     src_format,
434                                            gint64        src_value,
435                                            GstFormat     dest_format,
436                                            gint64       *dest_value);
437 
438 GST_VIDEO_API
439 gboolean       gst_video_info_is_equal    (const GstVideoInfo *info,
440                                            const GstVideoInfo *other);
441 
442 #include &lt;gst/video/video.h&gt;
443 
444 GST_VIDEO_API
</pre>
</td>
</tr>
</table>
<center><a href="video-info.c.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="video-multiview.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>