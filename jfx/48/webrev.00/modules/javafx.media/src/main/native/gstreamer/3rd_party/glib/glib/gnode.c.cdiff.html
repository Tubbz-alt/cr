<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gnode.c</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="gmirroringtable.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gnode.h.cdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/gnode.c</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 178,29 ***</span>
   *
   * Since: 2.4
   **/
  GNode*
  g_node_copy_deep (GNode     *node,
<span class="line-modified">!           GCopyFunc  copy_func,</span>
<span class="line-modified">!           gpointer   data)</span>
  {
    GNode *new_node = NULL;
  
    if (copy_func == NULL)
<span class="line-modified">!     return g_node_copy (node);</span>
  
    if (node)
      {
        GNode *child, *new_child;
  
        new_node = g_node_new (copy_func (node-&gt;data, data));
  
        for (child = g_node_last_child (node); child; child = child-&gt;prev)
<span class="line-modified">!     {</span>
<span class="line-modified">!       new_child = g_node_copy_deep (child, copy_func, data);</span>
<span class="line-modified">!       g_node_prepend (new_node, new_child);</span>
<span class="line-modified">!     }</span>
      }
  
    return new_node;
  }
  
<span class="line-new-header">--- 178,29 ---</span>
   *
   * Since: 2.4
   **/
  GNode*
  g_node_copy_deep (GNode     *node,
<span class="line-modified">!       GCopyFunc  copy_func,</span>
<span class="line-modified">!       gpointer   data)</span>
  {
    GNode *new_node = NULL;
  
    if (copy_func == NULL)
<span class="line-modified">!   return g_node_copy (node);</span>
  
    if (node)
      {
        GNode *child, *new_child;
  
        new_node = g_node_new (copy_func (node-&gt;data, data));
  
        for (child = g_node_last_child (node); child; child = child-&gt;prev)
<span class="line-modified">!   {</span>
<span class="line-modified">!     new_child = g_node_copy_deep (child, copy_func, data);</span>
<span class="line-modified">!     g_node_prepend (new_node, new_child);</span>
<span class="line-modified">!   }</span>
      }
  
    return new_node;
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 223,11 ***</span>
        GNode *child;
  
        new_node = g_node_new (node-&gt;data);
  
        for (child = g_node_last_child (node); child; child = child-&gt;prev)
<span class="line-modified">!     g_node_prepend (new_node, g_node_copy (child));</span>
      }
  
    return new_node;
  }
  
<span class="line-new-header">--- 223,11 ---</span>
        GNode *child;
  
        new_node = g_node_new (node-&gt;data);
  
        for (child = g_node_last_child (node); child; child = child-&gt;prev)
<span class="line-modified">!   g_node_prepend (new_node, g_node_copy (child));</span>
      }
  
    return new_node;
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 242,21 ***</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_insert (GNode *parent,
<span class="line-modified">!            gint   position,</span>
<span class="line-modified">!            GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
    g_return_val_if_fail (node != NULL, node);
    g_return_val_if_fail (G_NODE_IS_ROOT (node), node);
  
    if (position &gt; 0)
      return g_node_insert_before (parent,
<span class="line-modified">!                  g_node_nth_child (parent, position),</span>
<span class="line-modified">!                  node);</span>
    else if (position == 0)
      return g_node_prepend (parent, node);
    else /* if (position &lt; 0) */
      return g_node_append (parent, node);
  }
<span class="line-new-header">--- 242,21 ---</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_insert (GNode *parent,
<span class="line-modified">!          gint   position,</span>
<span class="line-modified">!          GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
    g_return_val_if_fail (node != NULL, node);
    g_return_val_if_fail (G_NODE_IS_ROOT (node), node);
  
    if (position &gt; 0)
      return g_node_insert_before (parent,
<span class="line-modified">!          g_node_nth_child (parent, position),</span>
<span class="line-modified">!          node);</span>
    else if (position == 0)
      return g_node_prepend (parent, node);
    else /* if (position &lt; 0) */
      return g_node_append (parent, node);
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 272,12 ***</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_insert_before (GNode *parent,
<span class="line-modified">!               GNode *sibling,</span>
<span class="line-modified">!               GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
    g_return_val_if_fail (node != NULL, node);
    g_return_val_if_fail (G_NODE_IS_ROOT (node), node);
    if (sibling)
<span class="line-new-header">--- 272,12 ---</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_insert_before (GNode *parent,
<span class="line-modified">!           GNode *sibling,</span>
<span class="line-modified">!           GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
    g_return_val_if_fail (node != NULL, node);
    g_return_val_if_fail (G_NODE_IS_ROOT (node), node);
    if (sibling)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 286,35 ***</span>
    node-&gt;parent = parent;
  
    if (sibling)
      {
        if (sibling-&gt;prev)
<span class="line-modified">!     {</span>
<span class="line-modified">!       node-&gt;prev = sibling-&gt;prev;</span>
<span class="line-modified">!       node-&gt;prev-&gt;next = node;</span>
<span class="line-modified">!       node-&gt;next = sibling;</span>
<span class="line-modified">!       sibling-&gt;prev = node;</span>
<span class="line-modified">!     }</span>
        else
<span class="line-modified">!     {</span>
<span class="line-modified">!       node-&gt;parent-&gt;children = node;</span>
<span class="line-modified">!       node-&gt;next = sibling;</span>
<span class="line-modified">!       sibling-&gt;prev = node;</span>
<span class="line-modified">!     }</span>
      }
    else
      {
        if (parent-&gt;children)
<span class="line-modified">!     {</span>
<span class="line-modified">!       sibling = parent-&gt;children;</span>
<span class="line-modified">!       while (sibling-&gt;next)</span>
<span class="line-modified">!         sibling = sibling-&gt;next;</span>
<span class="line-modified">!       node-&gt;prev = sibling;</span>
<span class="line-modified">!       sibling-&gt;next = node;</span>
<span class="line-modified">!     }</span>
        else
<span class="line-modified">!     node-&gt;parent-&gt;children = node;</span>
      }
  
    return node;
  }
  
<span class="line-new-header">--- 286,35 ---</span>
    node-&gt;parent = parent;
  
    if (sibling)
      {
        if (sibling-&gt;prev)
<span class="line-modified">!   {</span>
<span class="line-modified">!     node-&gt;prev = sibling-&gt;prev;</span>
<span class="line-modified">!     node-&gt;prev-&gt;next = node;</span>
<span class="line-modified">!     node-&gt;next = sibling;</span>
<span class="line-modified">!     sibling-&gt;prev = node;</span>
<span class="line-modified">!   }</span>
        else
<span class="line-modified">!   {</span>
<span class="line-modified">!     node-&gt;parent-&gt;children = node;</span>
<span class="line-modified">!     node-&gt;next = sibling;</span>
<span class="line-modified">!     sibling-&gt;prev = node;</span>
<span class="line-modified">!   }</span>
      }
    else
      {
        if (parent-&gt;children)
<span class="line-modified">!   {</span>
<span class="line-modified">!     sibling = parent-&gt;children;</span>
<span class="line-modified">!     while (sibling-&gt;next)</span>
<span class="line-modified">!       sibling = sibling-&gt;next;</span>
<span class="line-modified">!     node-&gt;prev = sibling;</span>
<span class="line-modified">!     sibling-&gt;next = node;</span>
<span class="line-modified">!   }</span>
        else
<span class="line-modified">!   node-&gt;parent-&gt;children = node;</span>
      }
  
    return node;
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 329,12 ***</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_insert_after (GNode *parent,
<span class="line-modified">!              GNode *sibling,</span>
<span class="line-modified">!              GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
    g_return_val_if_fail (node != NULL, node);
    g_return_val_if_fail (G_NODE_IS_ROOT (node), node);
    if (sibling)
<span class="line-new-header">--- 329,12 ---</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_insert_after (GNode *parent,
<span class="line-modified">!          GNode *sibling,</span>
<span class="line-modified">!          GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
    g_return_val_if_fail (node != NULL, node);
    g_return_val_if_fail (G_NODE_IS_ROOT (node), node);
    if (sibling)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 343,24 ***</span>
    node-&gt;parent = parent;
  
    if (sibling)
      {
        if (sibling-&gt;next)
<span class="line-modified">!     {</span>
<span class="line-modified">!       sibling-&gt;next-&gt;prev = node;</span>
<span class="line-modified">!     }</span>
        node-&gt;next = sibling-&gt;next;
        node-&gt;prev = sibling;
        sibling-&gt;next = node;
      }
    else
      {
        if (parent-&gt;children)
<span class="line-modified">!     {</span>
<span class="line-modified">!       node-&gt;next = parent-&gt;children;</span>
<span class="line-modified">!       parent-&gt;children-&gt;prev = node;</span>
<span class="line-modified">!     }</span>
        parent-&gt;children = node;
      }
  
    return node;
  }
<span class="line-new-header">--- 343,24 ---</span>
    node-&gt;parent = parent;
  
    if (sibling)
      {
        if (sibling-&gt;next)
<span class="line-modified">!   {</span>
<span class="line-modified">!     sibling-&gt;next-&gt;prev = node;</span>
<span class="line-modified">!   }</span>
        node-&gt;next = sibling-&gt;next;
        node-&gt;prev = sibling;
        sibling-&gt;next = node;
      }
    else
      {
        if (parent-&gt;children)
<span class="line-modified">!   {</span>
<span class="line-modified">!     node-&gt;next = parent-&gt;children;</span>
<span class="line-modified">!     parent-&gt;children-&gt;prev = node;</span>
<span class="line-modified">!   }</span>
        parent-&gt;children = node;
      }
  
    return node;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 374,11 ***</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_prepend (GNode *parent,
<span class="line-modified">!         GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
  
    return g_node_insert_before (parent, parent-&gt;children, node);
  }
<span class="line-new-header">--- 374,11 ---</span>
   *
   * Returns: the inserted #GNode
   */
  GNode*
  g_node_prepend (GNode *parent,
<span class="line-modified">!     GNode *node)</span>
  {
    g_return_val_if_fail (parent != NULL, node);
  
    return g_node_insert_before (parent, parent-&gt;children, node);
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 413,19 ***</span>
   *
   * Returns: %TRUE if @node is an ancestor of @descendant
   */
  gboolean
  g_node_is_ancestor (GNode *node,
<span class="line-modified">!             GNode *descendant)</span>
  {
    g_return_val_if_fail (node != NULL, FALSE);
    g_return_val_if_fail (descendant != NULL, FALSE);
  
    while (descendant)
      {
        if (descendant-&gt;parent == node)
<span class="line-modified">!     return TRUE;</span>
  
        descendant = descendant-&gt;parent;
      }
  
    return FALSE;
<span class="line-new-header">--- 413,19 ---</span>
   *
   * Returns: %TRUE if @node is an ancestor of @descendant
   */
  gboolean
  g_node_is_ancestor (GNode *node,
<span class="line-modified">!         GNode *descendant)</span>
  {
    g_return_val_if_fail (node != NULL, FALSE);
    g_return_val_if_fail (descendant != NULL, FALSE);
  
    while (descendant)
      {
        if (descendant-&gt;parent == node)
<span class="line-modified">!   return TRUE;</span>
  
        descendant = descendant-&gt;parent;
      }
  
    return FALSE;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 509,162 ***</span>
      {
        guint tmp_height;
  
        tmp_height = g_node_max_height (child);
        if (tmp_height &gt; max_height)
<span class="line-modified">!     max_height = tmp_height;</span>
        child = child-&gt;next;
      }
  
    return max_height + 1;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_pre_order (GNode        *node,</span>
<span class="line-modified">!                            GTraverseFlags    flags,</span>
<span class="line-modified">!                            GNodeTraverseFunc func,</span>
<span class="line-modified">!                gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!       func (node, data))</span>
<span class="line-modified">!     return TRUE;</span>
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GNode *current;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       current = child;</span>
<span class="line-modified">!       child = current-&gt;next;</span>
<span class="line-modified">!       if (g_node_traverse_pre_order (current, flags, func, data))</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!     }</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!        func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_depth_traverse_pre_order (GNode        *node,</span>
<span class="line-modified">!                  GTraverseFlags    flags,</span>
<span class="line-modified">!                  guint         depth,</span>
<span class="line-modified">!                                  GNodeTraverseFunc func,</span>
<span class="line-modified">!                  gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!       func (node, data))</span>
<span class="line-modified">!     return TRUE;</span>
  
        depth--;
        if (!depth)
<span class="line-modified">!     return FALSE;</span>
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GNode *current;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       current = child;</span>
<span class="line-modified">!       child = current-&gt;next;</span>
<span class="line-modified">!       if (g_node_depth_traverse_pre_order (current, flags, depth, func, data))</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!     }</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!        func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_post_order (GNode        *node,</span>
<span class="line-modified">!                             GTraverseFlags    flags,</span>
<span class="line-modified">!                             GNodeTraverseFunc func,</span>
<span class="line-modified">!                 gpointer          data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GNode *current;</span>
  
<span class="line-modified">!       current = child;</span>
<span class="line-modified">!       child = current-&gt;next;</span>
<span class="line-modified">!       if (g_node_traverse_post_order (current, flags, func, data))</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!     }</span>
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!       func (node, data))</span>
<span class="line-modified">!     return TRUE;</span>
  
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!        func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_depth_traverse_post_order (GNode        *node,</span>
<span class="line-modified">!                                   GTraverseFlags    flags,</span>
<span class="line-modified">!                   guint         depth,</span>
<span class="line-modified">!                                   GNodeTraverseFunc func,</span>
<span class="line-modified">!                   gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        depth--;
        if (depth)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GNode *child;</span>
  
<span class="line-modified">!       child = node-&gt;children;</span>
<span class="line-modified">!       while (child)</span>
<span class="line-modified">!         {</span>
<span class="line-modified">!           GNode *current;</span>
<span class="line-removed">- </span>
<span class="line-removed">-           current = child;</span>
<span class="line-removed">-           child = current-&gt;next;</span>
<span class="line-removed">-           if (g_node_depth_traverse_post_order (current, flags, depth, func, data))</span>
<span class="line-removed">-         return TRUE;</span>
<span class="line-removed">-         }</span>
<span class="line-removed">-     }</span>
  
<span class="line-modified">!       if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;</span>
<span class="line-modified">!       func (node, data))</span>
      return TRUE;
  
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!        func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_in_order (GNode        *node,</span>
<span class="line-modified">!                           GTraverseFlags    flags,</span>
<span class="line-modified">!                           GNodeTraverseFunc func,</span>
<span class="line-modified">!               gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
        GNode *current;
<span class="line-new-header">--- 509,162 ---</span>
      {
        guint tmp_height;
  
        tmp_height = g_node_max_height (child);
        if (tmp_height &gt; max_height)
<span class="line-modified">!   max_height = tmp_height;</span>
        child = child-&gt;next;
      }
  
    return max_height + 1;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_pre_order (GNode      *node,</span>
<span class="line-modified">!          GTraverseFlags    flags,</span>
<span class="line-modified">!          GNodeTraverseFunc func,</span>
<span class="line-modified">!          gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!     func (node, data))</span>
<span class="line-modified">!   return TRUE;</span>
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GNode *current;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     current = child;</span>
<span class="line-modified">!     child = current-&gt;next;</span>
<span class="line-modified">!     if (g_node_traverse_pre_order (current, flags, func, data))</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!   }</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!      func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_depth_traverse_pre_order (GNode      *node,</span>
<span class="line-modified">!          GTraverseFlags    flags,</span>
<span class="line-modified">!          guint       depth,</span>
<span class="line-modified">!          GNodeTraverseFunc func,</span>
<span class="line-modified">!          gpointer    data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!     func (node, data))</span>
<span class="line-modified">!   return TRUE;</span>
  
        depth--;
        if (!depth)
<span class="line-modified">!   return FALSE;</span>
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GNode *current;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     current = child;</span>
<span class="line-modified">!     child = current-&gt;next;</span>
<span class="line-modified">!     if (g_node_depth_traverse_pre_order (current, flags, depth, func, data))</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!   }</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!      func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_post_order (GNode      *node,</span>
<span class="line-modified">!           GTraverseFlags    flags,</span>
<span class="line-modified">!           GNodeTraverseFunc func,</span>
<span class="line-modified">!           gpointer        data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GNode *current;</span>
  
<span class="line-modified">!     current = child;</span>
<span class="line-modified">!     child = current-&gt;next;</span>
<span class="line-modified">!     if (g_node_traverse_post_order (current, flags, func, data))</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!   }</span>
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!     func (node, data))</span>
<span class="line-modified">!   return TRUE;</span>
  
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!      func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_depth_traverse_post_order (GNode      *node,</span>
<span class="line-modified">!           GTraverseFlags    flags,</span>
<span class="line-modified">!           guint       depth,</span>
<span class="line-modified">!           GNodeTraverseFunc func,</span>
<span class="line-modified">!           gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        depth--;
        if (depth)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GNode *child;</span>
  
<span class="line-modified">!     child = node-&gt;children;</span>
<span class="line-modified">!     while (child)</span>
<span class="line-modified">!       {</span>
<span class="line-modified">!         GNode *current;</span>
  
<span class="line-modified">!         current = child;</span>
<span class="line-modified">!         child = current-&gt;next;</span>
<span class="line-added">+         if (g_node_depth_traverse_post_order (current, flags, depth, func, data))</span>
      return TRUE;
<span class="line-added">+       }</span>
<span class="line-added">+   }</span>
<span class="line-added">+ </span>
<span class="line-added">+       if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;</span>
<span class="line-added">+     func (node, data))</span>
<span class="line-added">+   return TRUE;</span>
  
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!      func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_in_order (GNode      *node,</span>
<span class="line-modified">!         GTraverseFlags    flags,</span>
<span class="line-modified">!         GNodeTraverseFunc func,</span>
<span class="line-modified">!         gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
        GNode *current;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 672,130 ***</span>
        child = node-&gt;children;
        current = child;
        child = current-&gt;next;
  
        if (g_node_traverse_in_order (current, flags, func, data))
<span class="line-modified">!     return TRUE;</span>
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!       func (node, data))</span>
<span class="line-modified">!     return TRUE;</span>
  
        while (child)
<span class="line-modified">!     {</span>
<span class="line-modified">!       current = child;</span>
<span class="line-modified">!       child = current-&gt;next;</span>
<span class="line-modified">!       if (g_node_traverse_in_order (current, flags, func, data))</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">!     }</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!        func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_depth_traverse_in_order (GNode        *node,</span>
<span class="line-modified">!                 GTraverseFlags    flags,</span>
<span class="line-modified">!                 guint         depth,</span>
<span class="line-modified">!                                 GNodeTraverseFunc func,</span>
<span class="line-modified">!                 gpointer      data)</span>
  {
    if (node-&gt;children)
      {
        depth--;
        if (depth)
<span class="line-modified">!     {</span>
<span class="line-modified">!       GNode *child;</span>
<span class="line-modified">!       GNode *current;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       child = node-&gt;children;</span>
<span class="line-modified">!       current = child;</span>
<span class="line-modified">!       child = current-&gt;next;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       if (g_node_depth_traverse_in_order (current, flags, depth, func, data))</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;</span>
<span class="line-modified">!           func (node, data))</span>
<span class="line-modified">!         return TRUE;</span>
<span class="line-modified">! </span>
<span class="line-modified">!       while (child)</span>
<span class="line-modified">!         {</span>
<span class="line-modified">!           current = child;</span>
<span class="line-modified">!           child = current-&gt;next;</span>
<span class="line-modified">!           if (g_node_depth_traverse_in_order (current, flags, depth, func, data))</span>
<span class="line-removed">-         return TRUE;</span>
<span class="line-removed">-         }</span>
<span class="line-removed">-     }</span>
<span class="line-removed">-       else if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;</span>
<span class="line-removed">-            func (node, data))</span>
      return TRUE;
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!        func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_level (GNode         *node,</span>
<span class="line-modified">!                GTraverseFlags     flags,</span>
<span class="line-modified">!                guint          level,</span>
<span class="line-modified">!                        GNodeTraverseFunc  func,</span>
<span class="line-modified">!                gpointer           data,</span>
<span class="line-modified">!                        gboolean          *more_levels)</span>
  {
    if (level == 0)
      {
        if (node-&gt;children)
<span class="line-modified">!     {</span>
<span class="line-modified">!       *more_levels = TRUE;</span>
<span class="line-modified">!       return (flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp; func (node, data);</span>
<span class="line-modified">!     }</span>
        else
<span class="line-modified">!     {</span>
<span class="line-modified">!       return (flags &amp; G_TRAVERSE_LEAFS) &amp;&amp; func (node, data);</span>
<span class="line-modified">!     }</span>
      }
    else
      {
        node = node-&gt;children;
  
        while (node)
<span class="line-modified">!     {</span>
<span class="line-modified">!       if (g_node_traverse_level (node, flags, level - 1, func, data, more_levels))</span>
<span class="line-modified">!         return TRUE;</span>
  
<span class="line-modified">!       node = node-&gt;next;</span>
<span class="line-modified">!     }</span>
      }
  
    return FALSE;
  }
  
  static gboolean
  g_node_depth_traverse_level (GNode             *node,
<span class="line-modified">!                  GTraverseFlags flags,</span>
<span class="line-modified">!                  gint       depth,</span>
<span class="line-modified">!                              GNodeTraverseFunc  func,</span>
<span class="line-modified">!                  gpointer           data)</span>
  {
    guint level;
    gboolean more_levels;
  
    level = 0;
    while (depth &lt; 0 || level != (guint) depth)
      {
        more_levels = FALSE;
        if (g_node_traverse_level (node, flags, level, func, data, &amp;more_levels))
<span class="line-modified">!     return TRUE;</span>
        if (!more_levels)
<span class="line-modified">!     break;</span>
        level++;
      }
    return FALSE;
  }
  
<span class="line-new-header">--- 672,130 ---</span>
        child = node-&gt;children;
        current = child;
        child = current-&gt;next;
  
        if (g_node_traverse_in_order (current, flags, func, data))
<span class="line-modified">!   return TRUE;</span>
  
        if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;
<span class="line-modified">!     func (node, data))</span>
<span class="line-modified">!   return TRUE;</span>
  
        while (child)
<span class="line-modified">!   {</span>
<span class="line-modified">!     current = child;</span>
<span class="line-modified">!     child = current-&gt;next;</span>
<span class="line-modified">!     if (g_node_traverse_in_order (current, flags, func, data))</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">!   }</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!      func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_depth_traverse_in_order (GNode    *node,</span>
<span class="line-modified">!         GTraverseFlags    flags,</span>
<span class="line-modified">!         guint     depth,</span>
<span class="line-modified">!         GNodeTraverseFunc func,</span>
<span class="line-modified">!         gpointer    data)</span>
  {
    if (node-&gt;children)
      {
        depth--;
        if (depth)
<span class="line-modified">!   {</span>
<span class="line-modified">!     GNode *child;</span>
<span class="line-modified">!     GNode *current;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     child = node-&gt;children;</span>
<span class="line-modified">!     current = child;</span>
<span class="line-modified">!     child = current-&gt;next;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     if (g_node_depth_traverse_in_order (current, flags, depth, func, data))</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;</span>
<span class="line-modified">!         func (node, data))</span>
<span class="line-modified">!       return TRUE;</span>
<span class="line-modified">! </span>
<span class="line-modified">!     while (child)</span>
<span class="line-modified">!       {</span>
<span class="line-modified">!         current = child;</span>
<span class="line-modified">!         child = current-&gt;next;</span>
<span class="line-modified">!         if (g_node_depth_traverse_in_order (current, flags, depth, func, data))</span>
      return TRUE;
<span class="line-added">+       }</span>
<span class="line-added">+   }</span>
<span class="line-added">+       else if ((flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp;</span>
<span class="line-added">+          func (node, data))</span>
<span class="line-added">+   return TRUE;</span>
      }
    else if ((flags &amp; G_TRAVERSE_LEAFS) &amp;&amp;
<span class="line-modified">!      func (node, data))</span>
      return TRUE;
  
    return FALSE;
  }
  
  static gboolean
<span class="line-modified">! g_node_traverse_level (GNode     *node,</span>
<span class="line-modified">!            GTraverseFlags   flags,</span>
<span class="line-modified">!            guint      level,</span>
<span class="line-modified">!            GNodeTraverseFunc  func,</span>
<span class="line-modified">!            gpointer           data,</span>
<span class="line-modified">!            gboolean          *more_levels)</span>
  {
    if (level == 0)
      {
        if (node-&gt;children)
<span class="line-modified">!   {</span>
<span class="line-modified">!     *more_levels = TRUE;</span>
<span class="line-modified">!     return (flags &amp; G_TRAVERSE_NON_LEAFS) &amp;&amp; func (node, data);</span>
<span class="line-modified">!   }</span>
        else
<span class="line-modified">!   {</span>
<span class="line-modified">!     return (flags &amp; G_TRAVERSE_LEAFS) &amp;&amp; func (node, data);</span>
<span class="line-modified">!   }</span>
      }
    else
      {
        node = node-&gt;children;
  
        while (node)
<span class="line-modified">!   {</span>
<span class="line-modified">!     if (g_node_traverse_level (node, flags, level - 1, func, data, more_levels))</span>
<span class="line-modified">!       return TRUE;</span>
  
<span class="line-modified">!     node = node-&gt;next;</span>
<span class="line-modified">!   }</span>
      }
  
    return FALSE;
  }
  
  static gboolean
  g_node_depth_traverse_level (GNode             *node,
<span class="line-modified">!            GTraverseFlags flags,</span>
<span class="line-modified">!            gint   depth,</span>
<span class="line-modified">!            GNodeTraverseFunc  func,</span>
<span class="line-modified">!            gpointer         data)</span>
  {
    guint level;
    gboolean more_levels;
  
    level = 0;
    while (depth &lt; 0 || level != (guint) depth)
      {
        more_levels = FALSE;
        if (g_node_traverse_level (node, flags, level, func, data, &amp;more_levels))
<span class="line-modified">!   return TRUE;</span>
        if (!more_levels)
<span class="line-modified">!   break;</span>
        level++;
      }
    return FALSE;
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 874,16 ***</span>
   * %TRUE, then the traversal is stopped.
   *
   * Returns: %TRUE to stop the traversal.
   **/
  void
<span class="line-modified">! g_node_traverse (GNode        *root,</span>
<span class="line-modified">!          GTraverseType     order,</span>
<span class="line-modified">!          GTraverseFlags    flags,</span>
<span class="line-modified">!          gint          depth,</span>
<span class="line-modified">!                  GNodeTraverseFunc func,</span>
<span class="line-modified">!          gpointer      data)</span>
  {
    g_return_if_fail (root != NULL);
    g_return_if_fail (func != NULL);
    g_return_if_fail (order &lt;= G_LEVEL_ORDER);
    g_return_if_fail (flags &lt;= G_TRAVERSE_MASK);
<span class="line-new-header">--- 874,16 ---</span>
   * %TRUE, then the traversal is stopped.
   *
   * Returns: %TRUE to stop the traversal.
   **/
  void
<span class="line-modified">! g_node_traverse (GNode      *root,</span>
<span class="line-modified">!      GTraverseType     order,</span>
<span class="line-modified">!      GTraverseFlags    flags,</span>
<span class="line-modified">!      gint      depth,</span>
<span class="line-modified">!      GNodeTraverseFunc func,</span>
<span class="line-modified">!      gpointer    data)</span>
  {
    g_return_if_fail (root != NULL);
    g_return_if_fail (func != NULL);
    g_return_if_fail (order &lt;= G_LEVEL_ORDER);
    g_return_if_fail (flags &lt;= G_TRAVERSE_MASK);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 891,35 ***</span>
  
    switch (order)
      {
      case G_PRE_ORDER:
        if (depth &lt; 0)
<span class="line-modified">!     g_node_traverse_pre_order (root, flags, func, data);</span>
        else
<span class="line-modified">!     g_node_depth_traverse_pre_order (root, flags, depth, func, data);</span>
        break;
      case G_POST_ORDER:
        if (depth &lt; 0)
<span class="line-modified">!     g_node_traverse_post_order (root, flags, func, data);</span>
        else
<span class="line-modified">!     g_node_depth_traverse_post_order (root, flags, depth, func, data);</span>
        break;
      case G_IN_ORDER:
        if (depth &lt; 0)
<span class="line-modified">!     g_node_traverse_in_order (root, flags, func, data);</span>
        else
<span class="line-modified">!     g_node_depth_traverse_in_order (root, flags, depth, func, data);</span>
        break;
      case G_LEVEL_ORDER:
        g_node_depth_traverse_level (root, flags, depth, func, data);
        break;
      }
  }
  
  static gboolean
  g_node_find_func (GNode    *node,
<span class="line-modified">!           gpointer  data)</span>
  {
    gpointer *d = data;
  
    if (*d != node-&gt;data)
      return FALSE;
<span class="line-new-header">--- 891,35 ---</span>
  
    switch (order)
      {
      case G_PRE_ORDER:
        if (depth &lt; 0)
<span class="line-modified">!   g_node_traverse_pre_order (root, flags, func, data);</span>
        else
<span class="line-modified">!   g_node_depth_traverse_pre_order (root, flags, depth, func, data);</span>
        break;
      case G_POST_ORDER:
        if (depth &lt; 0)
<span class="line-modified">!   g_node_traverse_post_order (root, flags, func, data);</span>
        else
<span class="line-modified">!   g_node_depth_traverse_post_order (root, flags, depth, func, data);</span>
        break;
      case G_IN_ORDER:
        if (depth &lt; 0)
<span class="line-modified">!   g_node_traverse_in_order (root, flags, func, data);</span>
        else
<span class="line-modified">!   g_node_depth_traverse_in_order (root, flags, depth, func, data);</span>
        break;
      case G_LEVEL_ORDER:
        g_node_depth_traverse_level (root, flags, depth, func, data);
        break;
      }
  }
  
  static gboolean
  g_node_find_func (GNode    *node,
<span class="line-modified">!       gpointer  data)</span>
  {
    gpointer *d = data;
  
    if (*d != node-&gt;data)
      return FALSE;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 942,13 ***</span>
   *
   * Returns: the found #GNode, or %NULL if the data is not found
   */
  GNode*
  g_node_find (GNode      *root,
<span class="line-modified">!              GTraverseType   order,</span>
<span class="line-modified">!              GTraverseFlags  flags,</span>
<span class="line-modified">!              gpointer        data)</span>
  {
    gpointer d[2];
  
    g_return_val_if_fail (root != NULL, NULL);
    g_return_val_if_fail (order &lt;= G_LEVEL_ORDER, NULL);
<span class="line-new-header">--- 942,13 ---</span>
   *
   * Returns: the found #GNode, or %NULL if the data is not found
   */
  GNode*
  g_node_find (GNode      *root,
<span class="line-modified">!        GTraverseType   order,</span>
<span class="line-modified">!        GTraverseFlags  flags,</span>
<span class="line-modified">!        gpointer        data)</span>
  {
    gpointer d[2];
  
    g_return_val_if_fail (root != NULL, NULL);
    g_return_val_if_fail (order &lt;= G_LEVEL_ORDER, NULL);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 961,27 ***</span>
  
    return d[1];
  }
  
  static void
<span class="line-modified">! g_node_count_func (GNode     *node,</span>
<span class="line-modified">!                    GTraverseFlags flags,</span>
<span class="line-modified">!            guint     *n)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        if (flags &amp; G_TRAVERSE_NON_LEAFS)
<span class="line-modified">!     (*n)++;</span>
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!     {</span>
<span class="line-modified">!       g_node_count_func (child, flags, n);</span>
<span class="line-modified">!       child = child-&gt;next;</span>
<span class="line-modified">!     }</span>
      }
    else if (flags &amp; G_TRAVERSE_LEAFS)
      (*n)++;
  }
  
<span class="line-new-header">--- 961,27 ---</span>
  
    return d[1];
  }
  
  static void
<span class="line-modified">! g_node_count_func (GNode   *node,</span>
<span class="line-modified">!        GTraverseFlags flags,</span>
<span class="line-modified">!        guint   *n)</span>
  {
    if (node-&gt;children)
      {
        GNode *child;
  
        if (flags &amp; G_TRAVERSE_NON_LEAFS)
<span class="line-modified">!   (*n)++;</span>
  
        child = node-&gt;children;
        while (child)
<span class="line-modified">!   {</span>
<span class="line-modified">!     g_node_count_func (child, flags, n);</span>
<span class="line-modified">!     child = child-&gt;next;</span>
<span class="line-modified">!   }</span>
      }
    else if (flags &amp; G_TRAVERSE_LEAFS)
      (*n)++;
  }
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 994,12 ***</span>
   * Gets the number of nodes in a tree.
   *
   * Returns: the number of nodes in the tree
   */
  guint
<span class="line-modified">! g_node_n_nodes (GNode          *root,</span>
<span class="line-modified">!                 GTraverseFlags  flags)</span>
  {
    guint n = 0;
  
    g_return_val_if_fail (root != NULL, 0);
    g_return_val_if_fail (flags &lt;= G_TRAVERSE_MASK, 0);
<span class="line-new-header">--- 994,12 ---</span>
   * Gets the number of nodes in a tree.
   *
   * Returns: the number of nodes in the tree
   */
  guint
<span class="line-modified">! g_node_n_nodes (GNode        *root,</span>
<span class="line-modified">!     GTraverseFlags  flags)</span>
  {
    guint n = 0;
  
    g_return_val_if_fail (root != NULL, 0);
    g_return_val_if_fail (flags &lt;= G_TRAVERSE_MASK, 0);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1041,11 ***</span>
   *
   * Returns: the child of @node at index @n
   */
  GNode*
  g_node_nth_child (GNode *node,
<span class="line-modified">!           guint  n)</span>
  {
    g_return_val_if_fail (node != NULL, NULL);
  
    node = node-&gt;children;
    if (node)
<span class="line-new-header">--- 1041,11 ---</span>
   *
   * Returns: the child of @node at index @n
   */
  GNode*
  g_node_nth_child (GNode *node,
<span class="line-modified">!       guint  n)</span>
  {
    g_return_val_if_fail (node != NULL, NULL);
  
    node = node-&gt;children;
    if (node)
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1090,33 ***</span>
   * Finds the first child of a #GNode with the given data.
   *
   * Returns: the found child #GNode, or %NULL if the data is not found
   */
  GNode*
<span class="line-modified">! g_node_find_child (GNode      *node,</span>
<span class="line-modified">!                    GTraverseFlags  flags,</span>
<span class="line-modified">!            gpointer    data)</span>
  {
    g_return_val_if_fail (node != NULL, NULL);
    g_return_val_if_fail (flags &lt;= G_TRAVERSE_MASK, NULL);
  
    node = node-&gt;children;
    while (node)
      {
        if (node-&gt;data == data)
<span class="line-modified">!     {</span>
<span class="line-modified">!       if (G_NODE_IS_LEAF (node))</span>
<span class="line-modified">!         {</span>
<span class="line-modified">!           if (flags &amp; G_TRAVERSE_LEAFS)</span>
<span class="line-modified">!         return node;</span>
<span class="line-modified">!         }</span>
<span class="line-modified">!       else</span>
<span class="line-modified">!         {</span>
<span class="line-modified">!           if (flags &amp; G_TRAVERSE_NON_LEAFS)</span>
<span class="line-modified">!         return node;</span>
<span class="line-modified">!         }</span>
<span class="line-modified">!     }</span>
        node = node-&gt;next;
      }
  
    return NULL;
  }
<span class="line-new-header">--- 1090,33 ---</span>
   * Finds the first child of a #GNode with the given data.
   *
   * Returns: the found child #GNode, or %NULL if the data is not found
   */
  GNode*
<span class="line-modified">! g_node_find_child (GNode    *node,</span>
<span class="line-modified">!        GTraverseFlags  flags,</span>
<span class="line-modified">!        gpointer    data)</span>
  {
    g_return_val_if_fail (node != NULL, NULL);
    g_return_val_if_fail (flags &lt;= G_TRAVERSE_MASK, NULL);
  
    node = node-&gt;children;
    while (node)
      {
        if (node-&gt;data == data)
<span class="line-modified">!   {</span>
<span class="line-modified">!     if (G_NODE_IS_LEAF (node))</span>
<span class="line-modified">!       {</span>
<span class="line-modified">!         if (flags &amp; G_TRAVERSE_LEAFS)</span>
<span class="line-modified">!     return node;</span>
<span class="line-modified">!       }</span>
<span class="line-modified">!     else</span>
<span class="line-modified">!       {</span>
<span class="line-modified">!         if (flags &amp; G_TRAVERSE_NON_LEAFS)</span>
<span class="line-modified">!     return node;</span>
<span class="line-modified">!       }</span>
<span class="line-modified">!   }</span>
        node = node-&gt;next;
      }
  
    return NULL;
  }
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1132,11 ***</span>
   *
   * Returns: the position of @child with respect to its siblings
   */
  gint
  g_node_child_position (GNode *node,
<span class="line-modified">!                GNode *child)</span>
  {
    guint n = 0;
  
    g_return_val_if_fail (node != NULL, -1);
    g_return_val_if_fail (child != NULL, -1);
<span class="line-new-header">--- 1132,11 ---</span>
   *
   * Returns: the position of @child with respect to its siblings
   */
  gint
  g_node_child_position (GNode *node,
<span class="line-modified">!            GNode *child)</span>
  {
    guint n = 0;
  
    g_return_val_if_fail (node != NULL, -1);
    g_return_val_if_fail (child != NULL, -1);
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1144,11 ***</span>
  
    node = node-&gt;children;
    while (node)
      {
        if (node == child)
<span class="line-modified">!     return n;</span>
        n++;
        node = node-&gt;next;
      }
  
    return -1;
<span class="line-new-header">--- 1144,11 ---</span>
  
    node = node-&gt;children;
    while (node)
      {
        if (node == child)
<span class="line-modified">!   return n;</span>
        n++;
        node = node-&gt;next;
      }
  
    return -1;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1165,21 ***</span>
   * Returns: the index of the child of @node which contains
   *     @data, or -1 if the data is not found
   */
  gint
  g_node_child_index (GNode    *node,
<span class="line-modified">!             gpointer  data)</span>
  {
    guint n = 0;
  
    g_return_val_if_fail (node != NULL, -1);
  
    node = node-&gt;children;
    while (node)
      {
        if (node-&gt;data == data)
<span class="line-modified">!     return n;</span>
        n++;
        node = node-&gt;next;
      }
  
    return -1;
<span class="line-new-header">--- 1165,21 ---</span>
   * Returns: the index of the child of @node which contains
   *     @data, or -1 if the data is not found
   */
  gint
  g_node_child_index (GNode    *node,
<span class="line-modified">!         gpointer  data)</span>
  {
    guint n = 0;
  
    g_return_val_if_fail (node != NULL, -1);
  
    node = node-&gt;children;
    while (node)
      {
        if (node-&gt;data == data)
<span class="line-modified">!   return n;</span>
        n++;
        node = node-&gt;next;
      }
  
    return -1;
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1248,14 ***</span>
   * Specifies the type of function passed to g_node_children_foreach().
   * The function is called with each child node, together with the user
   * data passed to g_node_children_foreach().
   **/
  void
<span class="line-modified">! g_node_children_foreach (GNode        *node,</span>
<span class="line-modified">!              GTraverseFlags    flags,</span>
<span class="line-modified">!                          GNodeForeachFunc  func,</span>
<span class="line-modified">!              gpointer      data)</span>
  {
    g_return_if_fail (node != NULL);
    g_return_if_fail (flags &lt;= G_TRAVERSE_MASK);
    g_return_if_fail (func != NULL);
  
<span class="line-new-header">--- 1248,14 ---</span>
   * Specifies the type of function passed to g_node_children_foreach().
   * The function is called with each child node, together with the user
   * data passed to g_node_children_foreach().
   **/
  void
<span class="line-modified">! g_node_children_foreach (GNode      *node,</span>
<span class="line-modified">!        GTraverseFlags    flags,</span>
<span class="line-modified">!        GNodeForeachFunc  func,</span>
<span class="line-modified">!        gpointer    data)</span>
  {
    g_return_if_fail (node != NULL);
    g_return_if_fail (flags &lt;= G_TRAVERSE_MASK);
    g_return_if_fail (func != NULL);
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 1265,16 ***</span>
        GNode *current;
  
        current = node;
        node = current-&gt;next;
        if (G_NODE_IS_LEAF (current))
<span class="line-modified">!     {</span>
<span class="line-modified">!       if (flags &amp; G_TRAVERSE_LEAFS)</span>
<span class="line-modified">!         func (current, data);</span>
<span class="line-modified">!     }</span>
        else
<span class="line-modified">!     {</span>
<span class="line-modified">!       if (flags &amp; G_TRAVERSE_NON_LEAFS)</span>
<span class="line-modified">!         func (current, data);</span>
<span class="line-modified">!     }</span>
      }
  }
<span class="line-new-header">--- 1265,16 ---</span>
        GNode *current;
  
        current = node;
        node = current-&gt;next;
        if (G_NODE_IS_LEAF (current))
<span class="line-modified">!   {</span>
<span class="line-modified">!     if (flags &amp; G_TRAVERSE_LEAFS)</span>
<span class="line-modified">!       func (current, data);</span>
<span class="line-modified">!   }</span>
        else
<span class="line-modified">!   {</span>
<span class="line-modified">!     if (flags &amp; G_TRAVERSE_NON_LEAFS)</span>
<span class="line-modified">!       func (current, data);</span>
<span class="line-modified">!   }</span>
      }
  }
</pre>
<center><a href="gmirroringtable.h.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="gnode.h.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>