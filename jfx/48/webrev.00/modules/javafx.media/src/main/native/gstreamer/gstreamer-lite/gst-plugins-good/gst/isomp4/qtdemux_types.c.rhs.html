<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Frames modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-good/gst/isomp4/qtdemux_types.c</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
    <script type="text/javascript" src="../../../../../../../../../../navigation.js"></script>
  </head>
<body onkeypress="keypress(event);">
<a name="0"></a>
<hr />
<pre>  1 /* GStreamer
  2  * Copyright (C) &lt;1999&gt; Erik Walthinsen &lt;omega@cse.ogi.edu&gt;
  3  *
  4  * This library is free software; you can redistribute it and/or
  5  * modify it under the terms of the GNU Library General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Library General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Library General Public
 15  * License along with this library; if not, write to the
 16  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 17  * Boston, MA 02110-1301, USA.
 18  */
 19 
 20 #include &quot;qtdemux_debug.h&quot;
 21 #include &quot;qtdemux_types.h&quot;
 22 #include &quot;qtdemux_dump.h&quot;
 23 #include &quot;fourcc.h&quot;
 24 
 25 #define GST_CAT_DEFAULT qtdemux_debug
 26 
 27 static const QtNodeType qt_node_types[] = {
 28   {FOURCC_moov, &quot;movie&quot;, QT_FLAG_CONTAINER,},
 29   {FOURCC_mvhd, &quot;movie header&quot;, 0,
 30       qtdemux_dump_mvhd},
 31   {FOURCC_clip, &quot;clipping&quot;, QT_FLAG_CONTAINER,},
 32   {FOURCC_trak, &quot;track&quot;, QT_FLAG_CONTAINER,},
 33   {FOURCC_udta, &quot;user data&quot;, QT_FLAG_CONTAINER,},       /* special container */
 34   {FOURCC_ctab, &quot;color table&quot;, 0,},
 35   {FOURCC_tkhd, &quot;track header&quot;, 0,
 36       qtdemux_dump_tkhd},
 37   {FOURCC_crgn, &quot;clipping region&quot;, 0,},
 38   {FOURCC_matt, &quot;track matte&quot;, QT_FLAG_CONTAINER,},
 39   {FOURCC_kmat, &quot;compressed matte&quot;, 0,},
 40   {FOURCC_edts, &quot;edit&quot;, QT_FLAG_CONTAINER,},
 41   {FOURCC_elst, &quot;edit list&quot;, 0,
 42       qtdemux_dump_elst},
 43   {FOURCC_load, &quot;track load settings&quot;, 0,},
 44   {FOURCC_tref, &quot;track reference&quot;, QT_FLAG_CONTAINER,},
 45   {FOURCC_imap, &quot;track input map&quot;, QT_FLAG_CONTAINER,},
 46   {FOURCC___in, &quot;track input&quot;, 0,},     /* special container */
 47   {FOURCC___ty, &quot;input type&quot;, 0,},
 48   {FOURCC_mdia, &quot;media&quot;, QT_FLAG_CONTAINER},
 49   {FOURCC_mdhd, &quot;media header&quot;, 0,
 50       qtdemux_dump_mdhd},
 51   {FOURCC_hdlr, &quot;handler reference&quot;, 0,
 52       qtdemux_dump_hdlr},
 53   {FOURCC_minf, &quot;media information&quot;, QT_FLAG_CONTAINER},
 54   {FOURCC_vmhd, &quot;video media information&quot;, 0,
 55       qtdemux_dump_vmhd},
 56   {FOURCC_smhd, &quot;sound media information&quot;, 0},
 57   {FOURCC_gmhd, &quot;base media information header&quot;, QT_FLAG_CONTAINER},
 58   {FOURCC_gmin, &quot;base media info&quot;, 0, qtdemux_dump_gmin},
 59   {FOURCC_dinf, &quot;data information&quot;, QT_FLAG_CONTAINER},
 60   {FOURCC_dref, &quot;data reference&quot;, 0,
 61       qtdemux_dump_dref},
 62   {FOURCC_stbl, &quot;sample table&quot;, QT_FLAG_CONTAINER},
 63   {FOURCC_stsd, &quot;sample description&quot;, 0,
 64       qtdemux_dump_stsd},
 65   {FOURCC_stts, &quot;time-to-sample&quot;, 0,
 66       qtdemux_dump_stts},
 67   {FOURCC_stps, &quot;partial sync sample&quot;, 0,
 68       qtdemux_dump_stps},
 69   {FOURCC_stss, &quot;sync sample&quot;, 0,
 70       qtdemux_dump_stss},
 71   {FOURCC_stsc, &quot;sample-to-chunk&quot;, 0,
 72       qtdemux_dump_stsc},
 73   {FOURCC_stsz, &quot;sample size&quot;, 0,
 74       qtdemux_dump_stsz},
 75   {FOURCC_stco, &quot;chunk offset&quot;, 0,
 76       qtdemux_dump_stco},
 77   {FOURCC_co64, &quot;64-bit chunk offset&quot;, 0,
 78       qtdemux_dump_co64},
 79   {FOURCC_vide, &quot;video media&quot;, 0},
 80   {FOURCC_cmov, &quot;compressed movie&quot;, QT_FLAG_CONTAINER},
 81   {FOURCC_dcom, &quot;compressed data&quot;, 0, qtdemux_dump_dcom},
 82   {FOURCC_cmvd, &quot;compressed movie data&quot;, 0, qtdemux_dump_cmvd},
 83   {FOURCC_hint, &quot;hint&quot;, 0,},
 84   {FOURCC_mp4a, &quot;mp4a&quot;, 0,},
 85   {FOURCC_mp4v, &quot;mp4v&quot;, 0,},
 86   {FOURCC_mjp2, &quot;mjp2&quot;, 0,},
 87   {FOURCC_mhdr, &quot;mhdr&quot;, QT_FLAG_CONTAINER,},
 88   {FOURCC_jp2h, &quot;jp2h&quot;, QT_FLAG_CONTAINER,},
 89   {FOURCC_colr, &quot;colr&quot;, 0,},
 90   {FOURCC_clap, &quot;clap&quot;, 0,},
 91   {FOURCC_tapt, &quot;tapt&quot;, 0,},
 92   {FOURCC_ihdr, &quot;ihdr&quot;, 0,},
 93   {FOURCC_fiel, &quot;fiel&quot;, 0,},
 94   {FOURCC_jp2x, &quot;jp2x&quot;, 0,},
 95   {FOURCC_alac, &quot;alac&quot;, 0,},
 96   {FOURCC_fLaC, &quot;fLaC&quot;, 0, qtdemux_dump_fLaC},
 97   {FOURCC_dfLa, &quot;dfLa&quot;, 0, qtdemux_dump_dfLa},
 98   {FOURCC_wave, &quot;wave&quot;, QT_FLAG_CONTAINER},
 99   {FOURCC_appl, &quot;appl&quot;, QT_FLAG_CONTAINER},
100   {FOURCC_cfhd, &quot;cfhd&quot;, QT_FLAG_CONTAINER},
101   {FOURCC_esds, &quot;esds&quot;, 0},
102   {FOURCC_hnti, &quot;hnti&quot;, QT_FLAG_CONTAINER},
103   {FOURCC_rtp_, &quot;rtp &quot;, 0, qtdemux_dump_unknown},
104   {FOURCC_sdp_, &quot;sdp &quot;, 0, qtdemux_dump_unknown},
105   {FOURCC_meta, &quot;meta&quot;, 0, qtdemux_dump_unknown},
106   {FOURCC_ilst, &quot;ilst&quot;, QT_FLAG_CONTAINER,},
107   {FOURCC__nam, &quot;Name&quot;, QT_FLAG_CONTAINER,},
108   {FOURCC_titl, &quot;Title&quot;, QT_FLAG_CONTAINER,},
109   {FOURCC__ART, &quot;Artist&quot;, QT_FLAG_CONTAINER,},
110   {FOURCC_aART, &quot;Album Artist&quot;, QT_FLAG_CONTAINER,},
111   {FOURCC_auth, &quot;Author&quot;, QT_FLAG_CONTAINER,},
112   {FOURCC_perf, &quot;Performer&quot;, QT_FLAG_CONTAINER,},
113   {FOURCC__wrt, &quot;Writer&quot;, QT_FLAG_CONTAINER,},
114   {FOURCC__grp, &quot;Grouping&quot;, QT_FLAG_CONTAINER,},
115   {FOURCC__alb, &quot;Album&quot;, QT_FLAG_CONTAINER,},
116   {FOURCC_albm, &quot;Album&quot;, QT_FLAG_CONTAINER,},
117   {FOURCC__day, &quot;Date&quot;, QT_FLAG_CONTAINER,},
118   {FOURCC__cpy, &quot;Copyright&quot;, QT_FLAG_CONTAINER,},
119   {FOURCC__cmt, &quot;Comment&quot;, QT_FLAG_CONTAINER,},
120   {FOURCC__des, &quot;Description&quot;, QT_FLAG_CONTAINER,},
121   {FOURCC_desc, &quot;Description&quot;, QT_FLAG_CONTAINER,},
122   {FOURCC_dscp, &quot;Description&quot;, QT_FLAG_CONTAINER,},
123   {FOURCC__lyr, &quot;Lyrics&quot;, QT_FLAG_CONTAINER,},
124   {FOURCC__req, &quot;Requirement&quot;, QT_FLAG_CONTAINER,},
125   {FOURCC__enc, &quot;Encoder&quot;, QT_FLAG_CONTAINER,},
126   {FOURCC_gnre, &quot;Genre&quot;, QT_FLAG_CONTAINER,},
127   {FOURCC_trkn, &quot;Track Number&quot;, QT_FLAG_CONTAINER,},
128   {FOURCC_disc, &quot;Disc Number&quot;, QT_FLAG_CONTAINER,},
129   {FOURCC_disk, &quot;Disc Number&quot;, QT_FLAG_CONTAINER,},
130   {FOURCC_cprt, &quot;Copyright&quot;, QT_FLAG_CONTAINER,},
131   {FOURCC_cpil, &quot;Compilation&quot;, QT_FLAG_CONTAINER,},
132   {FOURCC_pgap, &quot;Gapless&quot;, QT_FLAG_CONTAINER,},
133   {FOURCC_pcst, &quot;Podcast&quot;, QT_FLAG_CONTAINER,},
134   {FOURCC_tmpo, &quot;Tempo&quot;, QT_FLAG_CONTAINER,},
135   {FOURCC_covr, &quot;Cover&quot;, QT_FLAG_CONTAINER,},
136   {FOURCC_sonm, &quot;Sort Title&quot;, QT_FLAG_CONTAINER,},
137   {FOURCC_soal, &quot;Sort Album&quot;, QT_FLAG_CONTAINER,},
138   {FOURCC_soar, &quot;Sort Artist&quot;, QT_FLAG_CONTAINER,},
139   {FOURCC_soaa, &quot;Sort Album Artist&quot;, QT_FLAG_CONTAINER,},
140   {FOURCC_soco, &quot;Sort Composer&quot;, QT_FLAG_CONTAINER,},
141   {FOURCC_sosn, &quot;Sort TV Show&quot;, QT_FLAG_CONTAINER,},
142   {FOURCC_tvsh, &quot;TV Show&quot;, QT_FLAG_CONTAINER,},
143   {FOURCC_tven, &quot;TV Episode ID&quot;, QT_FLAG_CONTAINER,},
144   {FOURCC_tvsn, &quot;TV Season Number&quot;, QT_FLAG_CONTAINER,},
145   {FOURCC_tves, &quot;TV Episode Number&quot;, QT_FLAG_CONTAINER,},
146   {FOURCC_keyw, &quot;Keywords&quot;, QT_FLAG_CONTAINER,},
147   {FOURCC_kywd, &quot;Keywords&quot;, QT_FLAG_CONTAINER,},
148   {FOURCC__too, &quot;Encoder&quot;, QT_FLAG_CONTAINER,},
149   {FOURCC__swr, &quot;Application Name&quot;, QT_FLAG_CONTAINER,},
150   {FOURCC_____, &quot;----&quot;, QT_FLAG_CONTAINER,},
151   {FOURCC_data, &quot;data&quot;, 0, qtdemux_dump_unknown},
152   {FOURCC_free, &quot;free&quot;, 0,},
153   {FOURCC_skip, &quot;skip&quot;, 0,},
154   {FOURCC_SVQ3, &quot;SVQ3&quot;, 0,},
155   {FOURCC_rmra, &quot;rmra&quot;, QT_FLAG_CONTAINER,},
156   {FOURCC_rmda, &quot;rmda&quot;, QT_FLAG_CONTAINER,},
157   {FOURCC_rdrf, &quot;rdrf&quot;, 0,},
158   {FOURCC__gen, &quot;Custom Genre&quot;, QT_FLAG_CONTAINER,},
159   {FOURCC_ctts, &quot;Composition time to sample&quot;, 0, qtdemux_dump_ctts},
160   {FOURCC_cslg, &quot;Composition Shift Least Greatest&quot;, 0, qtdemux_dump_cslg},
161   {FOURCC_XiTh, &quot;XiTh&quot;, 0},
162   {FOURCC_XdxT, &quot;XdxT&quot;, 0},
163   {FOURCC_loci, &quot;loci&quot;, 0},
164   {FOURCC_clsf, &quot;clsf&quot;, 0},
165   {FOURCC_mfra, &quot;movie fragment random access&quot;,
166       QT_FLAG_CONTAINER,},
167   {FOURCC_tfra, &quot;track fragment random access&quot;, 0,
168       qtdemux_dump_tfra},
169   {FOURCC_mfro, &quot;movie fragment random access offset&quot;, 0,
170       qtdemux_dump_mfro},
171   {FOURCC_moof, &quot;movie fragment&quot;, QT_FLAG_CONTAINER,},
172   {FOURCC_mfhd, &quot;movie fragment header&quot;, 0, qtdemux_dump_mfhd},
173   {FOURCC_traf, &quot;track fragment&quot;, QT_FLAG_CONTAINER,},
174   {FOURCC_tfhd, &quot;track fragment header&quot;, 0,
175       qtdemux_dump_tfhd},
176   {FOURCC_sdtp, &quot;independent and disposable samples&quot;, 0,
177       qtdemux_dump_sdtp},
178   {FOURCC_trun, &quot;track fragment run&quot;, 0, qtdemux_dump_trun},
179   {FOURCC_mdat, &quot;moovie data&quot;, 0, qtdemux_dump_unknown},
180   {FOURCC_trex, &quot;moovie data&quot;, 0, qtdemux_dump_trex},
181   {FOURCC_mvex, &quot;mvex&quot;, QT_FLAG_CONTAINER,},
182   {FOURCC_mehd, &quot;movie extends header&quot;, 0,
183       qtdemux_dump_mehd},
184   {FOURCC_ovc1, &quot;ovc1&quot;, 0},
185   {FOURCC_owma, &quot;owma&quot;, 0},
186   {FOURCC_avcC, &quot;AV codec configuration container&quot;, 0},
187   {FOURCC_avc1, &quot;AV codec configuration v1&quot;, 0},
188   {FOURCC_avc3, &quot;AV codec configuration v3&quot;, 0},
189   {FOURCC_mp4s, &quot;VOBSUB codec configuration&quot;, 0},
190   {FOURCC_hvc1, &quot;HEVC codec configuration&quot;, 0},
191   {FOURCC_hev1, &quot;HEVC codec configuration&quot;, 0},
192   {FOURCC_hvcC, &quot;HEVC codec configuration container&quot;, 0},
193   {FOURCC_tfdt, &quot;Track fragment decode time&quot;, 0, qtdemux_dump_tfdt},
194   {FOURCC_chap, &quot;Chapter Reference&quot;},
195   {FOURCC_btrt, &quot;Bitrate information&quot;, 0},
196   {FOURCC_frma, &quot;Audio codec format&quot;, 0},
197   {FOURCC_name, &quot;name&quot;, 0},
198   {FOURCC_mean, &quot;mean&quot;, 0},
199   {FOURCC_svmi, &quot;Stereoscopic Video Media Information&quot;, 0,
200       qtdemux_dump_svmi},
201   {FOURCC_scdi, &quot;Stereoscopic Camera and Display Information&quot;, 0,
202       qtdemux_dump_unknown},
203   {FOURCC_saiz, &quot;sample auxiliary information sizes&quot;, 0},
204   {FOURCC_saio, &quot;sample auxiliary information offsets&quot;, 0},
205   {FOURCC_encv, &quot;encrypted visual sample entry&quot;, 0},
206   {FOURCC_enca, &quot;encrypted audio sample entry&quot;, 0},
207   {FOURCC_enct, &quot;encrypted text sample entry&quot;, 0},
208   {FOURCC_encs, &quot;encrypted system sample entry&quot;, 0},
209   {FOURCC_sinf, &quot;protection scheme information&quot;, QT_FLAG_CONTAINER},
210   {FOURCC_frma, &quot;original format&quot;, 0},
211   {FOURCC_schm, &quot;scheme type&quot;, 0},
212   {FOURCC_schi, &quot;scheme information&quot;, QT_FLAG_CONTAINER},
213   {FOURCC_pssh, &quot;protection system specific header&quot;, 0},
214   {FOURCC_tenc, &quot;track encryption&quot;, 0},
215   {FOURCC_stpp, &quot;XML subtitle sample entry&quot;, 0},
<a name="1" id="anc1"></a><span class="line-added">216   {FOURCC_clcp, &quot;Closed Caption&quot;, 0},</span>
<span class="line-added">217   {FOURCC_av01, &quot;AV1 Sample Entry&quot;, 0},</span>
<span class="line-added">218   {FOURCC_av1C, &quot;AV1 Codec Configuration&quot;, 0},</span>
<span class="line-added">219   {FOURCC_av1f, &quot;AV1 Forward Key Frame sample group entry&quot;, 0},</span>
<span class="line-added">220   {FOURCC_av1m, &quot;AV1 Multi-Frame sample group entry&quot;, 0},</span>
<span class="line-added">221   {FOURCC_av1s, &quot;AV1 S-Frame sample group entry&quot;, 0},</span>
<span class="line-added">222   {FOURCC_av1M, &quot;AV1 Metadata sample group entry&quot;, 0},</span>
223   {0, &quot;unknown&quot;, 0,},
224 };
225 
226 static const int n_qt_node_types =
227     sizeof (qt_node_types) / sizeof (qt_node_types[0]);
228 
229 const QtNodeType *
230 qtdemux_type_get (guint32 fourcc)
231 {
232   int i;
233 
234   for (i = 0; i &lt; n_qt_node_types; i++) {
235     if (G_UNLIKELY (qt_node_types[i].fourcc == fourcc))
236       return qt_node_types + i;
237   }
238 
239   GST_WARNING (&quot;unknown QuickTime node type %&quot; GST_FOURCC_FORMAT,
240       GST_FOURCC_ARGS (fourcc));
241 
242   return qt_node_types + n_qt_node_types - 1;
243 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>
















































































</pre>
<input id="eof" value="2" type="hidden" />
</body>
</html>