<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Old modules/javafx.media/src/main/native/gstreamer/gstreamer-lite/gst-plugins-base/gst-libs/gst/tag/gsttageditingprivate.c</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
  <body>
    <pre>
  1 /* GStreamer
  2  * Copyright (C) 2010 Thiago Santos &lt;thiago.sousa.santos@collabora.co.uk&gt;
  3  *
  4  * This library is free software; you can redistribute it and/or
  5  * modify it under the terms of the GNU Library General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Library General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Library General Public
 15  * License along with this library; if not, write to the
 16  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
 17  * Boston, MA 02110-1301, USA.
 18  */
 19 
 20 #include &quot;gsttageditingprivate.h&quot;
 21 
 22 #include &lt;string.h&gt;
 23 
 24 gint
 25 __exif_tag_image_orientation_to_exif_value (const gchar * str)
 26 {
 27   if (str == NULL)
 28     goto end;
 29 
 30   if (strcmp (str, &quot;rotate-0&quot;) == 0)
 31     return 1;
 32   else if (strcmp (str, &quot;flip-rotate-0&quot;) == 0)
 33     return 2;
 34   else if (strcmp (str, &quot;rotate-180&quot;) == 0)
 35     return 3;
 36   else if (strcmp (str, &quot;flip-rotate-180&quot;) == 0)
 37     return 4;
 38   else if (strcmp (str, &quot;flip-rotate-270&quot;) == 0)
 39     return 5;
 40   else if (strcmp (str, &quot;rotate-90&quot;) == 0)
 41     return 6;
 42   else if (strcmp (str, &quot;flip-rotate-90&quot;) == 0)
 43     return 7;
 44   else if (strcmp (str, &quot;rotate-270&quot;) == 0)
 45     return 8;
 46 
 47 end:
 48   GST_WARNING (&quot;Invalid image orientation tag: %s&quot;, str);
 49   return -1;
 50 }
 51 
 52 const gchar *
 53 __exif_tag_image_orientation_from_exif_value (gint value)
 54 {
 55   switch (value) {
 56     case 1:
 57       return &quot;rotate-0&quot;;
 58     case 2:
 59       return &quot;flip-rotate-0&quot;;
 60     case 3:
 61       return &quot;rotate-180&quot;;
 62     case 4:
 63       return &quot;flip-rotate-180&quot;;
 64     case 5:
 65       return &quot;flip-rotate-270&quot;;
 66     case 6:
 67       return &quot;rotate-90&quot;;
 68     case 7:
 69       return &quot;flip-rotate-90&quot;;
 70     case 8:
 71       return &quot;rotate-270&quot;;
 72     default:
 73       GST_WARNING (&quot;Invalid tiff orientation tag value: %d&quot;, value);
 74       return NULL;
 75   }
 76 }
 77 
 78 gint
 79 __exif_tag_capturing_exposure_program_to_exif_value (const gchar * str)
 80 {
 81   if (str == NULL)
 82     goto end;
 83 
 84   if (strcmp (str, &quot;undefined&quot;) == 0)
 85     return 0;
 86   else if (strcmp (str, &quot;manual&quot;) == 0)
 87     return 1;
 88   else if (strcmp (str, &quot;normal&quot;) == 0)
 89     return 2;
 90   else if (strcmp (str, &quot;aperture-priority&quot;) == 0)
 91     return 3;
 92   else if (strcmp (str, &quot;shutter-priority&quot;) == 0)
 93     return 4;
 94   else if (strcmp (str, &quot;creative&quot;) == 0)
 95     return 5;
 96   else if (strcmp (str, &quot;action&quot;) == 0)
 97     return 6;
 98   else if (strcmp (str, &quot;portrait&quot;) == 0)
 99     return 7;
100   else if (strcmp (str, &quot;landscape&quot;) == 0)
101     return 8;
102 
103 end:
104   GST_WARNING (&quot;Invalid capturing exposure program tag: %s&quot;, str);
105   return -1;
106 }
107 
108 const gchar *
109 __exif_tag_capturing_exposure_program_from_exif_value (gint value)
110 {
111   switch (value) {
112     case 0:
113       return &quot;undefined&quot;;
114     case 1:
115       return &quot;manual&quot;;
116     case 2:
117       return &quot;normal&quot;;
118     case 3:
119       return &quot;aperture-priority&quot;;
120     case 4:
121       return &quot;shutter-priority&quot;;
122     case 5:
123       return &quot;creative&quot;;
124     case 6:
125       return &quot;action&quot;;
126     case 7:
127       return &quot;portrait&quot;;
128     case 8:
129       return &quot;landscape&quot;;
130     default:
131       GST_WARNING (&quot;Invalid exif exposure program: %d&quot;, value);
132       return NULL;
133   }
134 }
135 
136 gint
137 __exif_tag_capturing_exposure_mode_to_exif_value (const gchar * str)
138 {
139   if (str == NULL)
140     goto end;
141 
142   if (strcmp (str, &quot;auto-exposure&quot;) == 0)
143     return 0;
144   else if (strcmp (str, &quot;manual-exposure&quot;) == 0)
145     return 1;
146   else if (strcmp (str, &quot;auto-bracket&quot;) == 0)
147     return 2;
148 
149 end:
150   GST_WARNING (&quot;Invalid capturing exposure mode tag: %s&quot;, str);
151   return -1;
152 }
153 
154 const gchar *
155 __exif_tag_capturing_exposure_mode_from_exif_value (gint value)
156 {
157   switch (value) {
158     case 0:
159       return &quot;auto-exposure&quot;;
160     case 1:
161       return &quot;manual-exposure&quot;;
162     case 2:
163       return &quot;auto-bracket&quot;;
164     default:
165       GST_WARNING (&quot;Invalid exif exposure mode: %d&quot;, value);
166       return NULL;
167   }
168 }
169 
170 gint
171 __exif_tag_capturing_scene_capture_type_to_exif_value (const gchar * str)
172 {
173   if (str == NULL)
174     goto end;
175 
176   if (strcmp (str, &quot;standard&quot;) == 0)
177     return 0;
178   else if (strcmp (str, &quot;landscape&quot;) == 0)
179     return 1;
180   else if (strcmp (str, &quot;portrait&quot;) == 0)
181     return 2;
182   else if (strcmp (str, &quot;night-scene&quot;) == 0)
183     return 3;
184 
185 end:
186   GST_WARNING (&quot;Invalid capturing scene capture type: %s&quot;, str);
187   return -1;
188 }
189 
190 const gchar *
191 __exif_tag_capturing_scene_capture_type_from_exif_value (gint value)
192 {
193   switch (value) {
194     case 0:
195       return &quot;standard&quot;;
196     case 1:
197       return &quot;landscape&quot;;
198     case 2:
199       return &quot;portrait&quot;;
200     case 3:
201       return &quot;night-scene&quot;;
202     default:
203       GST_WARNING (&quot;Invalid exif scene capture type: %d&quot;, value);
204       return NULL;
205   }
206 }
207 
208 gint
209 __exif_tag_capturing_gain_adjustment_to_exif_value (const gchar * str)
210 {
211   if (str == NULL)
212     goto end;
213 
214   if (strcmp (str, &quot;none&quot;) == 0)
215     return 0;
216   else if (strcmp (str, &quot;low-gain-up&quot;) == 0)
217     return 1;
218   else if (strcmp (str, &quot;high-gain-up&quot;) == 0)
219     return 2;
220   else if (strcmp (str, &quot;low-gain-down&quot;) == 0)
221     return 3;
222   else if (strcmp (str, &quot;high-gain-down&quot;) == 0)
223     return 4;
224 
225 end:
226   GST_WARNING (&quot;Invalid capturing gain adjustment type: %s&quot;, str);
227   return -1;
228 }
229 
230 const gchar *
231 __exif_tag_capturing_gain_adjustment_from_exif_value (gint value)
232 {
233   switch (value) {
234     case 0:
235       return &quot;none&quot;;
236     case 1:
237       return &quot;low-gain-up&quot;;
238     case 2:
239       return &quot;high-gain-up&quot;;
240     case 3:
241       return &quot;low-gain-down&quot;;
242     case 4:
243       return &quot;high-gain-down&quot;;
244     default:
245       GST_WARNING (&quot;Invalid exif gain control type: %d&quot;, value);
246       return NULL;
247   }
248 }
249 
250 gint
251 __exif_tag_capturing_white_balance_to_exif_value (const gchar * str)
252 {
253   if (str == NULL)
254     goto end;
255 
256   if (strcmp (str, &quot;auto&quot;) == 0)
257     return 0;
258   else                          /* everything else is just manual */
259     return 1;
260 
261 end:
262   GST_WARNING (&quot;Invalid white balance: %s&quot;, str);
263   return -1;
264 }
265 
266 const gchar *
267 __exif_tag_capturing_white_balance_from_exif_value (gint value)
268 {
269   switch (value) {
270     case 0:
271       return &quot;auto&quot;;
272     case 1:
273       return &quot;manual&quot;;
274     default:
275       GST_WARNING (&quot;Invalid white balance type: %d&quot;, value);
276       return NULL;
277   }
278 }
279 
280 static gint
281 __exif_tag_capturing_contrast_sharpness_to_exif_value (const gchar * str,
282     const gchar * tag_name)
283 {
284   if (str == NULL)
285     goto end;
286 
287   if (strcmp (str, &quot;normal&quot;) == 0)
288     return 0;
289   else if (strcmp (str, &quot;soft&quot;) == 0)
290     return 1;
291   else if (strcmp (str, &quot;hard&quot;) == 0)
292     return 2;
293 
294 end:
295   GST_WARNING (&quot;Invalid %s type: %s&quot;, tag_name, str);
296   return -1;
297 }
298 
299 static const gchar *
300 __exif_tag_capturing_contrast_sharpness_from_exif_value (gint value,
301     const gchar * tag_name)
302 {
303   switch (value) {
304     case 0:
305       return &quot;normal&quot;;
306     case 1:
307       return &quot;soft&quot;;
308     case 2:
309       return &quot;hard&quot;;
310     default:
311       GST_WARNING (&quot;Invalid %s type: %d&quot;, tag_name, value);
312       return NULL;
313   }
314 }
315 
316 gint
317 __exif_tag_capturing_contrast_to_exif_value (const gchar * str)
318 {
319   return __exif_tag_capturing_contrast_sharpness_to_exif_value (str,
320       &quot;contrast&quot;);
321 }
322 
323 const gchar *
324 __exif_tag_capturing_contrast_from_exif_value (gint value)
325 {
326   return __exif_tag_capturing_contrast_sharpness_from_exif_value (value,
327       &quot;contrast&quot;);
328 }
329 
330 gint
331 __exif_tag_capturing_saturation_to_exif_value (const gchar * str)
332 {
333   if (str == NULL)
334     goto end;
335 
336   if (strcmp (str, &quot;normal&quot;) == 0)
337     return 0;
338   else if (strcmp (str, &quot;low-saturation&quot;) == 0)
339     return 1;
340   else if (strcmp (str, &quot;high-saturation&quot;) == 0)
341     return 2;
342 
343 end:
344   GST_WARNING (&quot;Invalid saturation type: %s&quot;, str);
345   return -1;
346 }
347 
348 const gchar *
349 __exif_tag_capturing_saturation_from_exif_value (gint value)
350 {
351   switch (value) {
352     case 0:
353       return &quot;normal&quot;;
354     case 1:
355       return &quot;low-saturation&quot;;
356     case 2:
357       return &quot;high-saturation&quot;;
358     default:
359       GST_WARNING (&quot;Invalid saturation type: %d&quot;, value);
360       return NULL;
361   }
362 }
363 
364 gint
365 __exif_tag_capturing_sharpness_to_exif_value (const gchar * str)
366 {
367   return __exif_tag_capturing_contrast_sharpness_to_exif_value (str,
368       &quot;sharpness&quot;);
369 }
370 
371 const gchar *
372 __exif_tag_capturing_sharpness_from_exif_value (gint value)
373 {
374   return __exif_tag_capturing_contrast_sharpness_from_exif_value (value,
375       &quot;sharpness&quot;);
376 }
377 
378 gint
379 __exif_tag_capturing_metering_mode_to_exif_value (const gchar * str)
380 {
381   if (str == NULL)
382     goto end;
383 
384   if (strcmp (str, &quot;unknown&quot;) == 0)
385     return 0;
386   else if (strcmp (str, &quot;average&quot;) == 0)
387     return 1;
388   else if (strcmp (str, &quot;center-weighted-average&quot;) == 0)
389     return 2;
390   else if (strcmp (str, &quot;spot&quot;) == 0)
391     return 3;
392   else if (strcmp (str, &quot;multi-spot&quot;) == 0)
393     return 4;
394   else if (strcmp (str, &quot;pattern&quot;) == 0)
395     return 5;
396   else if (strcmp (str, &quot;partial&quot;) == 0)
397     return 6;
398   else if (strcmp (str, &quot;other&quot;) == 0)
399     return 255;
400 
401 end:
402   GST_WARNING (&quot;Invalid metering mode type: %s&quot;, str);
403   return -1;
404 }
405 
406 const gchar *
407 __exif_tag_capturing_metering_mode_from_exif_value (gint value)
408 {
409   switch (value) {
410     case 0:
411       return &quot;unknown&quot;;
412     case 1:
413       return &quot;average&quot;;
414     case 2:
415       return &quot;center-weighted-average&quot;;
416     case 3:
417       return &quot;spot&quot;;
418     case 4:
419       return &quot;multi-spot&quot;;
420     case 5:
421       return &quot;pattern&quot;;
422     case 6:
423       return &quot;partial&quot;;
424     case 255:
425       return &quot;other&quot;;
426     default:
427       GST_WARNING (&quot;Invalid metering mode type: %d&quot;, value);
428       return NULL;
429   }
430 }
431 
432 gint
433 __exif_tag_capturing_source_to_exif_value (const gchar * str)
434 {
435   if (str == NULL)
436     goto end;
437 
438   if (strcmp (str, &quot;dsc&quot;) == 0)
439     return 3;
440   else if (strcmp (str, &quot;other&quot;) == 0)
441     return 0;
442   else if (strcmp (str, &quot;transparent-scanner&quot;) == 0)
443     return 1;
444   else if (strcmp (str, &quot;reflex-scanner&quot;) == 0)
445     return 2;
446 
447 end:
448   GST_WARNING (&quot;Invalid capturing source type: %s&quot;, str);
449   return -1;
450 }
451 
452 const gchar *
453 __exif_tag_capturing_source_from_exif_value (gint value)
454 {
455   switch (value) {
456     case 0:
457       return &quot;other&quot;;
458     case 1:
459       return &quot;transparent-scanner&quot;;
460     case 2:
461       return &quot;reflex-scanner&quot;;
462     case 3:
463       return &quot;dsc&quot;;
464     default:
465       GST_WARNING (&quot;Invalid capturing source type: %d&quot;, value);
466       return NULL;
467   }
468 }
    </pre>
  </body>
</html>