<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/glib-private.h</title>
    <link rel="stylesheet" href="../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="glib-object.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="glib-unix.c.sdiff.html" target="_top">next &gt;</a></center>    <h2>modules/javafx.media/src/main/native/gstreamer/3rd_party/glib/glib/glib-private.h</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
  5  * modify it under the terms of the GNU Lesser General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2.1 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Lesser General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Lesser General Public License
 15  * along with this library; if not, see &lt;http://www.gnu.org/licenses/&gt;.
 16  */
 17 
 18 #ifndef __GLIB_PRIVATE_H__
 19 #define __GLIB_PRIVATE_H__
 20 
 21 #include &lt;glib.h&gt;
 22 #include &quot;gwakeup.h&quot;
 23 #include &quot;gstdioprivate.h&quot;
 24 
<span class="line-removed"> 25 #if defined(__GNUC__)</span>
<span class="line-removed"> 26 # define _g_alignof(type) (__alignof__ (type))</span>
<span class="line-removed"> 27 #else</span>
<span class="line-removed"> 28 # define _g_alignof(type) (G_STRUCT_OFFSET (struct { char a; type b; }, b))</span>
<span class="line-removed"> 29 #endif</span>
<span class="line-removed"> 30 </span>
 31 GMainContext *          g_get_worker_context            (void);
 32 gboolean                g_check_setuid                  (void);
 33 GMainContext *          g_main_context_new_with_next_id (guint next_id);
 34 
 35 #ifdef G_OS_WIN32
 36 gchar *_glib_get_dll_directory (void);
 37 GLIB_AVAILABLE_IN_ALL
 38 gchar *_glib_get_locale_dir    (void);
 39 #endif
 40 
 41 GDir * g_dir_open_with_errno (const gchar *path, guint flags);
 42 GDir * g_dir_new_from_dirp (gpointer dirp);
 43 
 44 #define GLIB_PRIVATE_CALL(symbol) (glib__private__()-&gt;symbol)
 45 
 46 typedef struct {
 47   /* See gwakeup.c */
 48   GWakeup *             (* g_wakeup_new)                (void);
 49   void                  (* g_wakeup_free)               (GWakeup *wakeup);
 50   void                  (* g_wakeup_get_pollfd)         (GWakeup *wakeup,
 51                                                         GPollFD *poll_fd);
 52   void                  (* g_wakeup_signal)             (GWakeup *wakeup);
 53   void                  (* g_wakeup_acknowledge)        (GWakeup *wakeup);
 54 
 55   /* See gmain.c */
 56   GMainContext *        (* g_get_worker_context)        (void);
 57 
 58   gboolean              (* g_check_setuid)              (void);
 59   GMainContext *        (* g_main_context_new_with_next_id) (guint next_id);
 60 
 61   GDir *                (* g_dir_open_with_errno)       (const gchar *path,
 62                                                          guint        flags);
 63   GDir *                (* g_dir_new_from_dirp)         (gpointer dirp);
 64 
 65   /* See glib-init.c */
 66   void                  (* glib_init)                   (void);
 67 
 68   /* See gstdio.c */
 69 #ifdef G_OS_WIN32
<span class="line-modified"> 70   int                   (* g_win32_stat_utf8)           (const gchar       *filename,</span>
<span class="line-modified"> 71                                                          GWin32PrivateStat *buf);</span>
 72 
<span class="line-modified"> 73   int                   (* g_win32_lstat_utf8)          (const gchar       *filename,</span>
<span class="line-modified"> 74                                                          GWin32PrivateStat *buf);</span>
 75 
<span class="line-modified"> 76   int                   (* g_win32_readlink_utf8)       (const gchar *filename,</span>
<span class="line-modified"> 77                                                          gchar       *buf,</span>
<span class="line-modified"> 78                                                          gsize        buf_size);</span>


 79 
<span class="line-modified"> 80   int                   (* g_win32_fstat)               (int                fd,</span>
<span class="line-modified"> 81                                                          GWin32PrivateStat *buf);</span>
 82 #endif
 83 
 84 
 85   /* Add other private functions here, initialize them in glib-private.c */
 86 } GLibPrivateVTable;
 87 
 88 GLIB_AVAILABLE_IN_ALL
 89 GLibPrivateVTable *glib__private__ (void);
 90 





















 91 #endif /* __GLIB_PRIVATE_H__ */
</pre>
</td>
<td>
<hr />
<pre>
  5  * modify it under the terms of the GNU Lesser General Public
  6  * License as published by the Free Software Foundation; either
  7  * version 2.1 of the License, or (at your option) any later version.
  8  *
  9  * This library is distributed in the hope that it will be useful,
 10  * but WITHOUT ANY WARRANTY; without even the implied warranty of
 11  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 12  * Lesser General Public License for more details.
 13  *
 14  * You should have received a copy of the GNU Lesser General Public License
 15  * along with this library; if not, see &lt;http://www.gnu.org/licenses/&gt;.
 16  */
 17 
 18 #ifndef __GLIB_PRIVATE_H__
 19 #define __GLIB_PRIVATE_H__
 20 
 21 #include &lt;glib.h&gt;
 22 #include &quot;gwakeup.h&quot;
 23 #include &quot;gstdioprivate.h&quot;
 24 






 25 GMainContext *          g_get_worker_context            (void);
 26 gboolean                g_check_setuid                  (void);
 27 GMainContext *          g_main_context_new_with_next_id (guint next_id);
 28 
 29 #ifdef G_OS_WIN32
 30 gchar *_glib_get_dll_directory (void);
 31 GLIB_AVAILABLE_IN_ALL
 32 gchar *_glib_get_locale_dir    (void);
 33 #endif
 34 
 35 GDir * g_dir_open_with_errno (const gchar *path, guint flags);
 36 GDir * g_dir_new_from_dirp (gpointer dirp);
 37 
 38 #define GLIB_PRIVATE_CALL(symbol) (glib__private__()-&gt;symbol)
 39 
 40 typedef struct {
 41   /* See gwakeup.c */
 42   GWakeup *             (* g_wakeup_new)                (void);
 43   void                  (* g_wakeup_free)               (GWakeup *wakeup);
 44   void                  (* g_wakeup_get_pollfd)         (GWakeup *wakeup,
 45                                                         GPollFD *poll_fd);
 46   void                  (* g_wakeup_signal)             (GWakeup *wakeup);
 47   void                  (* g_wakeup_acknowledge)        (GWakeup *wakeup);
 48 
 49   /* See gmain.c */
 50   GMainContext *        (* g_get_worker_context)        (void);
 51 
 52   gboolean              (* g_check_setuid)              (void);
 53   GMainContext *        (* g_main_context_new_with_next_id) (guint next_id);
 54 
 55   GDir *                (* g_dir_open_with_errno)       (const gchar *path,
 56                                                          guint        flags);
 57   GDir *                (* g_dir_new_from_dirp)         (gpointer dirp);
 58 
 59   /* See glib-init.c */
 60   void                  (* glib_init)                   (void);
 61 
 62   /* See gstdio.c */
 63 #ifdef G_OS_WIN32
<span class="line-modified"> 64   int                   (* g_win32_stat_utf8)           (const gchar        *filename,</span>
<span class="line-modified"> 65                                                          GWin32PrivateStat  *buf);</span>
 66 
<span class="line-modified"> 67   int                   (* g_win32_lstat_utf8)          (const gchar        *filename,</span>
<span class="line-modified"> 68                                                          GWin32PrivateStat  *buf);</span>
 69 
<span class="line-modified"> 70   int                   (* g_win32_readlink_utf8)       (const gchar        *filename,</span>
<span class="line-modified"> 71                                                          gchar              *buf,</span>
<span class="line-modified"> 72                                                          gsize               buf_size,</span>
<span class="line-added"> 73                                                          gchar             **alloc_buf,</span>
<span class="line-added"> 74                                                          gboolean            terminate);</span>
 75 
<span class="line-modified"> 76   int                   (* g_win32_fstat)               (int                 fd,</span>
<span class="line-modified"> 77                                                          GWin32PrivateStat  *buf);</span>
 78 #endif
 79 
 80 
 81   /* Add other private functions here, initialize them in glib-private.c */
 82 } GLibPrivateVTable;
 83 
 84 GLIB_AVAILABLE_IN_ALL
 85 GLibPrivateVTable *glib__private__ (void);
 86 
<span class="line-added"> 87 /* Please see following for the use of &quot;.ACP&quot; over &quot;&quot;</span>
<span class="line-added"> 88  * on Windows, although both are accepted at compile-time</span>
<span class="line-added"> 89  * but &quot;&quot; renders translated console messages unreadable if</span>
<span class="line-added"> 90  * built with Visual Studio 2012 and later (this is, unfortunately,</span>
<span class="line-added"> 91  * undocumented):</span>
<span class="line-added"> 92  *</span>
<span class="line-added"> 93  * https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/setlocale-wsetlocale</span>
<span class="line-added"> 94  * https://gitlab.gnome.org/GNOME/glib/merge_requests/895#note_525881</span>
<span class="line-added"> 95  * https://gitlab.gnome.org/GNOME/glib/merge_requests/895#note_525900</span>
<span class="line-added"> 96  *</span>
<span class="line-added"> 97  * Additional related items:</span>
<span class="line-added"> 98  * https://stackoverflow.com/questions/22604329/php-5-5-setlocale-not-working-in-cli-on-windows</span>
<span class="line-added"> 99  * https://bugs.php.net/bug.php?id=66265</span>
<span class="line-added">100  */</span>
<span class="line-added">101 </span>
<span class="line-added">102 #ifdef G_OS_WIN32</span>
<span class="line-added">103 # define GLIB_DEFAULT_LOCALE &quot;.ACP&quot;</span>
<span class="line-added">104 #else</span>
<span class="line-added">105 # define GLIB_DEFAULT_LOCALE &quot;&quot;</span>
<span class="line-added">106 #endif</span>
<span class="line-added">107 </span>
108 #endif /* __GLIB_PRIVATE_H__ */
</pre>
</td>
</tr>
</table>
<center><a href="glib-object.h.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../index.html" target="_top">index</a> <a href="glib-unix.c.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>