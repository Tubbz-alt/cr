<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/common/ItemList.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="FilterComponent.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>application/org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/common/ItemList.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
190 			setEllipsisMessage();
191 		} else {
192 			clearEllipsisMessage();
193 		}
194 
195 		// FIXME: Remove and make table handle model updates with preserved selection.
196 		// If selection is not cleared the viewer tries to preserve selection but selects the wrong rows.
197 		((TableViewer) columnManager.getViewer()).getTable().deselectAll();
198 		columnManager.getViewer().setInput(head);
199 	}
200 
201 	private void setEllipsisMessage() {
202 		// FIXME: Would like for this item to be displayed with a different font...
203 		tableViewer.setExtraMessage(NLS.bind(Messages.ITEM_LIST_ELLIPSIS_TEXT, maxSize, maxSize + tail.size()));
204 	}
205 
206 	private void clearEllipsisMessage() {
207 		tableViewer.setExtraMessage(null);
208 	}
209 










210 	/**
211 	 * Construct an identifier that can be used when persisting column state.
212 	 *
213 	 * @param a
214 	 * @return An identifier based on attribute id and type
215 	 */
216 	public static String getColumnId(IAttribute&lt;?&gt; a) {
217 		return a.getIdentifier() + &#39;:&#39; + a.getContentType().getIdentifier();
218 	}
219 
220 	/*
221 	 * @Override public void accept(Supplier&lt;Stream&lt;ItemStream&gt;&gt; items) {
222 	 * show(items.get().flatMap(ItemStream::items).iterator()); }
223 	 *
224 	 * @Override public Control getControl() { return getManager().getViewer().getControl(); }
225 	 */
226 }
</pre>
</td>
<td>
<hr />
<pre>
190 			setEllipsisMessage();
191 		} else {
192 			clearEllipsisMessage();
193 		}
194 
195 		// FIXME: Remove and make table handle model updates with preserved selection.
196 		// If selection is not cleared the viewer tries to preserve selection but selects the wrong rows.
197 		((TableViewer) columnManager.getViewer()).getTable().deselectAll();
198 		columnManager.getViewer().setInput(head);
199 	}
200 
201 	private void setEllipsisMessage() {
202 		// FIXME: Would like for this item to be displayed with a different font...
203 		tableViewer.setExtraMessage(NLS.bind(Messages.ITEM_LIST_ELLIPSIS_TEXT, maxSize, maxSize + tail.size()));
204 	}
205 
206 	private void clearEllipsisMessage() {
207 		tableViewer.setExtraMessage(null);
208 	}
209 
<span class="line-added">210 	public void onSearchFilterChange() {</span>
<span class="line-added">211 		long numRows = tableViewer.getNumRowsDisplayed();</span>
<span class="line-added">212 		if (numRows &lt; maxSize) {</span>
<span class="line-added">213 			clearEllipsisMessage();</span>
<span class="line-added">214 		} else {</span>
<span class="line-added">215 			setEllipsisMessage();</span>
<span class="line-added">216 		}</span>
<span class="line-added">217 		tableViewer.refresh();</span>
<span class="line-added">218 	}</span>
<span class="line-added">219 </span>
220 	/**
221 	 * Construct an identifier that can be used when persisting column state.
222 	 *
223 	 * @param a
224 	 * @return An identifier based on attribute id and type
225 	 */
226 	public static String getColumnId(IAttribute&lt;?&gt; a) {
227 		return a.getIdentifier() + &#39;:&#39; + a.getContentType().getIdentifier();
228 	}
229 
230 	/*
231 	 * @Override public void accept(Supplier&lt;Stream&lt;ItemStream&gt;&gt; items) {
232 	 * show(items.get().flatMap(ItemStream::items).iterator()); }
233 	 *
234 	 * @Override public Control getControl() { return getManager().getViewer().getControl(); }
235 	 */
236 }
</pre>
</td>
</tr>
</table>
<center><a href="FilterComponent.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>