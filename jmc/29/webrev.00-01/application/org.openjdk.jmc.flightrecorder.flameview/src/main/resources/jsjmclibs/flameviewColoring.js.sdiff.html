<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/jsjmclibs/flameviewColoring.js</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center><a href="../../java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/jsjmclibs/flameviewColoring.js</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 57             return packageSelectedColor;
 58         }
 59     }
 60 };
 61 
 62 const getPackageMarker = function(p){
 63     for(let k of packagesIdentifierMap.keys()){
 64         if(p.startsWith(k)){
 65             return packagesIdentifierMap.get(k);
 66         }
 67     }
 68     return packageMarkerRest;
 69 };
 70 
 71 const stripPackageName = function (p) {
 72     const splitString = p.split(&quot;\u002E&quot;);
 73     const number = Math.min(splitString.length, packageConsideredDepth);
 74     return splitString.slice(0, number).join(&quot;\u002E&quot;);
 75 };
 76 
<span class="line-removed"> 77 const modulo = function(a, b){</span>
<span class="line-removed"> 78     if (b === 0 || isNaN(a) || isNaN(b)) {</span>
<span class="line-removed"> 79         return NaN;</span>
<span class="line-removed"> 80     }</span>
<span class="line-removed"> 81 </span>
<span class="line-removed"> 82     a = Math.abs(a);</span>
<span class="line-removed"> 83     b = Math.abs(b);</span>
<span class="line-removed"> 84 </span>
<span class="line-removed"> 85     while (a &gt;= b) {</span>
<span class="line-removed"> 86         a = a - b;</span>
<span class="line-removed"> 87     }</span>
<span class="line-removed"> 88 </span>
<span class="line-removed"> 89     return a;</span>
<span class="line-removed"> 90 };</span>
<span class="line-removed"> 91 </span>
 92 const adjustHslPropertyByHash = function (hash, min, max) {
<span class="line-modified"> 93 	const moduloValue = modulo(hash, (max - min));</span>
<span class="line-modified"> 94 	if(isNaN(moduloValue)){</span>
<span class="line-removed"> 95 		return min;</span>
<span class="line-removed"> 96 	} else {</span>
<span class="line-removed"> 97 		const proposedValue = moduloValue + min;</span>
<span class="line-removed"> 98 		return Math.min(proposedValue, max);</span>
<span class="line-removed"> 99 	}</span>
100 };
101 
<span class="line-removed">102 </span>
103 const createHslColorString = function(h,s,l){
104     return &quot;hsl\u0028&quot; + h + &quot;\u002c &quot; + s + &quot;\u0025\u002c &quot; + l + &quot;\u0025\u0029&quot;;
105 };
106 
107 const colorCell = function (d) {
108     return colorByPackage(d.data.p);
109 };
110 
111 const adjustTip = function (d) {
112 	return d.data.n + &quot;\u003Cbr\u002F\u003Epackage: &quot; + d.data.p + &quot;\u003Cbr\u002F\u003Esamples: &quot; + d.data.v;
113 };
</pre>
</td>
<td>
<hr />
<pre>
 57             return packageSelectedColor;
 58         }
 59     }
 60 };
 61 
 62 const getPackageMarker = function(p){
 63     for(let k of packagesIdentifierMap.keys()){
 64         if(p.startsWith(k)){
 65             return packagesIdentifierMap.get(k);
 66         }
 67     }
 68     return packageMarkerRest;
 69 };
 70 
 71 const stripPackageName = function (p) {
 72     const splitString = p.split(&quot;\u002E&quot;);
 73     const number = Math.min(splitString.length, packageConsideredDepth);
 74     return splitString.slice(0, number).join(&quot;\u002E&quot;);
 75 };
 76 















 77 const adjustHslPropertyByHash = function (hash, min, max) {
<span class="line-modified"> 78 	const proposedValue = hash % (max - min) + min;</span>
<span class="line-modified"> 79 	return Math.min(proposedValue, max);</span>





 80 };
 81 

 82 const createHslColorString = function(h,s,l){
 83     return &quot;hsl\u0028&quot; + h + &quot;\u002c &quot; + s + &quot;\u0025\u002c &quot; + l + &quot;\u0025\u0029&quot;;
 84 };
 85 
 86 const colorCell = function (d) {
 87     return colorByPackage(d.data.p);
 88 };
 89 
 90 const adjustTip = function (d) {
 91 	return d.data.n + &quot;\u003Cbr\u002F\u003Epackage: &quot; + d.data.p + &quot;\u003Cbr\u002F\u003Esamples: &quot; + d.data.v;
 92 };
</pre>
</td>
</tr>
</table>
<center><a href="../../java/org/openjdk/jmc/flightrecorder/flameview/views/FlameGraphView.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>