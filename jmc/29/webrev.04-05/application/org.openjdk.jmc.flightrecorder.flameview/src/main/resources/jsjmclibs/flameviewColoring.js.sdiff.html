<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/jsjmclibs/flameviewColoring.js</title>
    <link rel="stylesheet" href="../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>application/org.openjdk.jmc.flightrecorder.flameview/src/main/resources/jsjmclibs/flameviewColoring.js</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
19 const packageSunHSValues = [211, 21];
20 const packageComSunValueLMax = 55;
21 const packageComSunValueL = 45;
22 const packageComSunHSValues = [204, 5];
23 const packageRestValueHMax = 360;
24 const packageRestValueH = 0;
25 const packageRestSLValues = [42, 53];
26 const packageConsideredDepth = 3;
27 const packageMarkerJava = &quot;java&quot;;
28 const packageMarkerSun = &quot;sun&quot;;
29 const packageMarkerComSun = &quot;comSun&quot;;
30 const packageMarkerRest = &quot;rest&quot;;
31 const packagesIdentifierMap = new Map().set(&quot;java.&quot;, packageMarkerJava).set(&quot;sun.&quot;, packageMarkerSun)
32     .set(&quot;com.sun.&quot;, packageMarkerComSun);
33 const packageColorMap = new Map().set(&quot;&quot;, rootPackageColor);
34 
35 const colorByPackage = function (p) {
36     if (p === undefined) {
37         return invalidPackageColor;
38     } else {
<span class="line-modified">39     	const packageNameStrip = stripPackageName(p);</span>
<span class="line-modified">40     	const packageSelectedColor = packageColorMap.get(packageNameStrip);</span>
41         if (packageSelectedColor === undefined) {
<span class="line-modified">42         	const packageMarkerSelected = getPackageMarker(packageNameStrip);</span>
<span class="line-modified">43         	const packageNameStripHash = packageNameStrip.hashCode();</span>
44             switch (packageMarkerSelected) {
45                 case packageMarkerJava:
46                     const packageJavaSelectedColor = createHslColorString(packageJavaHslHSValues[0], packageJavaHslHSValues[1], adjustHslPropertyByHash(packageNameStripHash, packageJavaValueL, packageJavaValueLMax));
47                     packageColorMap.set(packageNameStrip, packageJavaSelectedColor);
48                     break;
49                 case packageMarkerComSun:
<span class="line-modified">50                 	const packageComSunSelectedColor = createHslColorString(packageComSunHSValues[0], packageComSunHSValues[1], adjustHslPropertyByHash(packageNameStripHash, packageComSunValueL, packageComSunValueLMax));</span>
<span class="line-modified">51                 	packageColorMap.set(packageNameStrip, packageComSunSelectedColor);</span>
<span class="line-modified">52                 	break;</span>
53                 case packageMarkerSun:
54                     const packageSunSelectedColor = createHslColorString(packageSunHSValues[0], packageSunHSValues[1], adjustHslPropertyByHash(packageNameStripHash, packageSunValueL, packageSunValueLMax));
55                     packageColorMap.set(packageNameStrip, packageSunSelectedColor);
56                     break;
57                 case packageMarkerRest:
58                     const packageRestSelectedColor = createHslColorString(adjustHslPropertyByHash(packageNameStripHash, packageRestValueH, packageRestValueHMax), packageRestSLValues[0], packageRestSLValues[1]);
59                     packageColorMap.set(packageNameStrip, packageRestSelectedColor);
60                     break;
61             }
62             return packageColorMap.get(packageNameStrip);
63         } else {
64             return packageSelectedColor;
65         }
66     }
67 };
68 
69 const getPackageMarker = function(p){
70     for(let k of packagesIdentifierMap.keys()){
71         if(p.startsWith(k)){
72             return packagesIdentifierMap.get(k);
</pre>
</td>
<td>
<hr />
<pre>
19 const packageSunHSValues = [211, 21];
20 const packageComSunValueLMax = 55;
21 const packageComSunValueL = 45;
22 const packageComSunHSValues = [204, 5];
23 const packageRestValueHMax = 360;
24 const packageRestValueH = 0;
25 const packageRestSLValues = [42, 53];
26 const packageConsideredDepth = 3;
27 const packageMarkerJava = &quot;java&quot;;
28 const packageMarkerSun = &quot;sun&quot;;
29 const packageMarkerComSun = &quot;comSun&quot;;
30 const packageMarkerRest = &quot;rest&quot;;
31 const packagesIdentifierMap = new Map().set(&quot;java.&quot;, packageMarkerJava).set(&quot;sun.&quot;, packageMarkerSun)
32     .set(&quot;com.sun.&quot;, packageMarkerComSun);
33 const packageColorMap = new Map().set(&quot;&quot;, rootPackageColor);
34 
35 const colorByPackage = function (p) {
36     if (p === undefined) {
37         return invalidPackageColor;
38     } else {
<span class="line-modified">39         const packageNameStrip = stripPackageName(p);</span>
<span class="line-modified">40         const packageSelectedColor = packageColorMap.get(packageNameStrip);</span>
41         if (packageSelectedColor === undefined) {
<span class="line-modified">42             const packageMarkerSelected = getPackageMarker(packageNameStrip);</span>
<span class="line-modified">43             const packageNameStripHash = packageNameStrip.hashCode();</span>
44             switch (packageMarkerSelected) {
45                 case packageMarkerJava:
46                     const packageJavaSelectedColor = createHslColorString(packageJavaHslHSValues[0], packageJavaHslHSValues[1], adjustHslPropertyByHash(packageNameStripHash, packageJavaValueL, packageJavaValueLMax));
47                     packageColorMap.set(packageNameStrip, packageJavaSelectedColor);
48                     break;
49                 case packageMarkerComSun:
<span class="line-modified">50                     const packageComSunSelectedColor = createHslColorString(packageComSunHSValues[0], packageComSunHSValues[1], adjustHslPropertyByHash(packageNameStripHash, packageComSunValueL, packageComSunValueLMax));</span>
<span class="line-modified">51                     packageColorMap.set(packageNameStrip, packageComSunSelectedColor);</span>
<span class="line-modified">52                     break;</span>
53                 case packageMarkerSun:
54                     const packageSunSelectedColor = createHslColorString(packageSunHSValues[0], packageSunHSValues[1], adjustHslPropertyByHash(packageNameStripHash, packageSunValueL, packageSunValueLMax));
55                     packageColorMap.set(packageNameStrip, packageSunSelectedColor);
56                     break;
57                 case packageMarkerRest:
58                     const packageRestSelectedColor = createHslColorString(adjustHslPropertyByHash(packageNameStripHash, packageRestValueH, packageRestValueHMax), packageRestSLValues[0], packageRestSLValues[1]);
59                     packageColorMap.set(packageNameStrip, packageRestSelectedColor);
60                     break;
61             }
62             return packageColorMap.get(packageNameStrip);
63         } else {
64             return packageSelectedColor;
65         }
66     }
67 };
68 
69 const getPackageMarker = function(p){
70     for(let k of packagesIdentifierMap.keys()){
71         if(p.startsWith(k)){
72             return packagesIdentifierMap.get(k);
</pre>
</td>
</tr>
</table>
<center>&lt; prev <a href="../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>