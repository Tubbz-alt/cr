<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.joverflow/src/main/java/org/openjdk/jmc/joverflow/util/FileUtils.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../heap/parser/ReadBuffer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../org.openjdk.jmc.rcp.application/src/main/java/org/openjdk/jmc/rcp/logging/LoggingToolkit.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.joverflow/src/main/java/org/openjdk/jmc/joverflow/util/FileUtils.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 90 			int readBytes = 0;
 91 			while (readBytes &lt; size) {
 92 				readBytes += in.read(result, readBytes, size - readBytes);
 93 			}
 94 		} finally {
 95 			in.close();
 96 		}
 97 
 98 		return result;
 99 	}
100 
101 	public static void writeTextToFile(File file, List&lt;String&gt; lines) throws IOException {
102 		PrintStream out = new PrintStream(new BufferedOutputStream(new FileOutputStream(file)));
103 		for (String line : lines) {
104 			out.println(line);
105 		}
106 		out.close();
107 	}
108 
109 	public static void writeBytesToFile(File file, byte[] bytes) throws IOException {
<span class="line-modified">110 		BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(file));</span>
<span class="line-removed">111 		try {</span>
112 			out.write(bytes);
<span class="line-removed">113 		} finally {</span>
<span class="line-removed">114 			IOToolkit.closeSilently(out);</span>
115 		}
116 	}
117 
118 	public static File fileExistsAndReadableOrExit(String fileName) {
119 		try {
120 			return checkFileExistsAndReadable(fileName, false);
121 		} catch (IOException ex) {
122 			System.err.println(ex.getMessage());
123 			System.exit(-1);
124 		}
125 		return null; // Never reached; just makes the compiler happy
126 	}
127 
128 	public static File dirExistsAndReadableOrExit(String dirName) {
129 		try {
130 			return checkFileExistsAndReadable(dirName, true);
131 		} catch (IOException ex) {
132 			System.err.println(ex.getMessage());
133 			System.exit(-1);
134 		}
</pre>
</td>
<td>
<hr />
<pre>
 90 			int readBytes = 0;
 91 			while (readBytes &lt; size) {
 92 				readBytes += in.read(result, readBytes, size - readBytes);
 93 			}
 94 		} finally {
 95 			in.close();
 96 		}
 97 
 98 		return result;
 99 	}
100 
101 	public static void writeTextToFile(File file, List&lt;String&gt; lines) throws IOException {
102 		PrintStream out = new PrintStream(new BufferedOutputStream(new FileOutputStream(file)));
103 		for (String line : lines) {
104 			out.println(line);
105 		}
106 		out.close();
107 	}
108 
109 	public static void writeBytesToFile(File file, byte[] bytes) throws IOException {
<span class="line-modified">110 		try (BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(file))) {</span>

111 			out.write(bytes);


112 		}
113 	}
114 
115 	public static File fileExistsAndReadableOrExit(String fileName) {
116 		try {
117 			return checkFileExistsAndReadable(fileName, false);
118 		} catch (IOException ex) {
119 			System.err.println(ex.getMessage());
120 			System.exit(-1);
121 		}
122 		return null; // Never reached; just makes the compiler happy
123 	}
124 
125 	public static File dirExistsAndReadableOrExit(String dirName) {
126 		try {
127 			return checkFileExistsAndReadable(dirName, true);
128 		} catch (IOException ex) {
129 			System.err.println(ex.getMessage());
130 			System.exit(-1);
131 		}
</pre>
</td>
</tr>
</table>
<center><a href="../heap/parser/ReadBuffer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../org.openjdk.jmc.rcp.application/src/main/java/org/openjdk/jmc/rcp/logging/LoggingToolkit.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>