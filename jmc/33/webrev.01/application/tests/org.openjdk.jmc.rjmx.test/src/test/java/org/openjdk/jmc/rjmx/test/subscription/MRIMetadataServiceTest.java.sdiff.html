<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/tests/org.openjdk.jmc.rjmx.test/src/test/java/org/openjdk/jmc/rjmx/test/subscription/MRIMetadataServiceTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../services/ServicesPackageExampleTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../../uitests/org.openjdk.jmc.flightrecorder.uitest/src/test/java/org/openjdk/jmc/flightrecorder/uitest/JfrMetadataToolkit.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/tests/org.openjdk.jmc.rjmx.test/src/test/java/org/openjdk/jmc/rjmx/test/subscription/MRIMetadataServiceTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 75 		assertNotNull(info.getDescription());
 76 		handle.close();
 77 	}
 78 
 79 	@Test
 80 	public void testGetMetadata() throws Exception {
 81 		IConnectionHandle handle = IServerHandle.create(LocalRJMXTestToolkit.createDefaultDescriptor()).connect(&quot;Test&quot;);
 82 		IMRIMetadataService service = LocalRJMXTestToolkit.getInfoService(handle);
 83 		IMRIMetadata info = service
 84 				.getMetadata(new MRI(Type.ATTRIBUTE, &quot;java.lang:type=OperatingSystem&quot;, &quot;SystemCpuLoad&quot;));
 85 		assertNotNull(info);
 86 
 87 		String description = info.getDescription();
 88 		assertNotNull(description);
 89 		assertTrue(description.length() &gt; 12);
 90 		handle.close();
 91 	}
 92 
 93 	@Test
 94 	public void testGetExtendedProperties() throws Exception {
<span class="line-modified"> 95 		IConnectionHandle handle = IServerHandle.create(LocalRJMXTestToolkit.createDefaultDescriptor()).connect(&quot;Test&quot;);</span>
<span class="line-modified"> 96 		IMRIMetadataService service = LocalRJMXTestToolkit.getInfoService(handle);</span>
<span class="line-modified"> 97 		IMRIMetadata info = service</span>
<span class="line-modified"> 98 				.getMetadata(new MRI(Type.ATTRIBUTE, &quot;java.lang:type=Memory&quot;, &quot;HeapMemoryUsage/used&quot;));</span>
<span class="line-modified"> 99 		assertNotNull(info);</span>
<span class="line-modified">100 		assertTrue(&quot;Should be numerical&quot;, MRIMetadataToolkit.isNumerical(info));</span>
<span class="line-modified">101 		assertNotNull(info.getMetadata(&quot;color&quot;));</span>


102 	}
103 
104 	@Test
105 	public void testGetNumericalMetadata() throws Exception {
106 		IConnectionHandle handle = IServerHandle.create(LocalRJMXTestToolkit.createDefaultDescriptor()).connect(&quot;Test&quot;);
107 		IMRIMetadataService service = LocalRJMXTestToolkit.getInfoService(handle);
108 		evaluateNumericalMetadata(service, new MRI(Type.ATTRIBUTE, &quot;java.lang:type=Memory&quot;, &quot;HeapMemoryUsage&quot;), false);
109 		evaluateNumericalMetadata(service,
110 				new MRI(Type.ATTRIBUTE, &quot;java.lang:type=Memory&quot;, &quot;HeapMemoryUsage/committed&quot;), true);
111 		handle.close();
112 	}
113 
114 	public void evaluateNumericalMetadata(IMRIMetadataService service, MRI mri, boolean isNumerical) {
115 		IMRIMetadata info = service.getMetadata(mri);
116 		assertNotNull(info);
117 		assertTrue(isNumerical == MRIMetadataToolkit.isNumerical(info));
118 	}
119 
120 	@Test
121 	public void testAttributeTypes() throws Exception {
</pre>
</td>
<td>
<hr />
<pre>
 75 		assertNotNull(info.getDescription());
 76 		handle.close();
 77 	}
 78 
 79 	@Test
 80 	public void testGetMetadata() throws Exception {
 81 		IConnectionHandle handle = IServerHandle.create(LocalRJMXTestToolkit.createDefaultDescriptor()).connect(&quot;Test&quot;);
 82 		IMRIMetadataService service = LocalRJMXTestToolkit.getInfoService(handle);
 83 		IMRIMetadata info = service
 84 				.getMetadata(new MRI(Type.ATTRIBUTE, &quot;java.lang:type=OperatingSystem&quot;, &quot;SystemCpuLoad&quot;));
 85 		assertNotNull(info);
 86 
 87 		String description = info.getDescription();
 88 		assertNotNull(description);
 89 		assertTrue(description.length() &gt; 12);
 90 		handle.close();
 91 	}
 92 
 93 	@Test
 94 	public void testGetExtendedProperties() throws Exception {
<span class="line-modified"> 95 		try (IConnectionHandle handle = IServerHandle.create(LocalRJMXTestToolkit.createDefaultDescriptor())</span>
<span class="line-modified"> 96 				.connect(&quot;Test&quot;)) {</span>
<span class="line-modified"> 97 			IMRIMetadataService service = LocalRJMXTestToolkit.getInfoService(handle);</span>
<span class="line-modified"> 98 			IMRIMetadata info = service</span>
<span class="line-modified"> 99 					.getMetadata(new MRI(Type.ATTRIBUTE, &quot;java.lang:type=Memory&quot;, &quot;HeapMemoryUsage/used&quot;));</span>
<span class="line-modified">100 			assertNotNull(info);</span>
<span class="line-modified">101 			assertTrue(&quot;Should be numerical&quot;, MRIMetadataToolkit.isNumerical(info));</span>
<span class="line-added">102 			assertNotNull(info.getMetadata(&quot;color&quot;));</span>
<span class="line-added">103 		}</span>
104 	}
105 
106 	@Test
107 	public void testGetNumericalMetadata() throws Exception {
108 		IConnectionHandle handle = IServerHandle.create(LocalRJMXTestToolkit.createDefaultDescriptor()).connect(&quot;Test&quot;);
109 		IMRIMetadataService service = LocalRJMXTestToolkit.getInfoService(handle);
110 		evaluateNumericalMetadata(service, new MRI(Type.ATTRIBUTE, &quot;java.lang:type=Memory&quot;, &quot;HeapMemoryUsage&quot;), false);
111 		evaluateNumericalMetadata(service,
112 				new MRI(Type.ATTRIBUTE, &quot;java.lang:type=Memory&quot;, &quot;HeapMemoryUsage/committed&quot;), true);
113 		handle.close();
114 	}
115 
116 	public void evaluateNumericalMetadata(IMRIMetadataService service, MRI mri, boolean isNumerical) {
117 		IMRIMetadata info = service.getMetadata(mri);
118 		assertNotNull(info);
119 		assertTrue(isNumerical == MRIMetadataToolkit.isNumerical(info));
120 	}
121 
122 	@Test
123 	public void testAttributeTypes() throws Exception {
</pre>
</td>
</tr>
</table>
<center><a href="../services/ServicesPackageExampleTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../../uitests/org.openjdk.jmc.flightrecorder.uitest/src/test/java/org/openjdk/jmc/flightrecorder/uitest/JfrMetadataToolkit.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>