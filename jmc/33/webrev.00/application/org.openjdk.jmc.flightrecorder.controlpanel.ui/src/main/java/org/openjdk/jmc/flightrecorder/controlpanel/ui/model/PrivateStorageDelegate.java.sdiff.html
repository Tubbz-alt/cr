<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.controlpanel.ui/src/main/java/org/openjdk/jmc/flightrecorder/controlpanel/ui/model/PrivateStorageDelegate.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="EventConfiguration.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../../org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/RecordingLoader.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.flightrecorder.controlpanel.ui/src/main/java/org/openjdk/jmc/flightrecorder/controlpanel/ui/model/PrivateStorageDelegate.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 73 	@Override
 74 	public InputStream getContents() {
 75 		try {
 76 			return file.exists() ? new FileInputStream(file) : null;
 77 		} catch (FileNotFoundException e) {
 78 			// Should not happen.
 79 			return null;
 80 		}
 81 	}
 82 
 83 	@Override
 84 	public boolean isSaveable() {
 85 		return true;
 86 	}
 87 
 88 	@Override
 89 	public boolean save(String fileContent) throws IOException {
 90 		try {
 91 			// Ensure charset exists before opening file for writing.
 92 			Charset charset = Charset.forName(CHARSET_UTF8);
<span class="line-modified"> 93 			Writer out = new OutputStreamWriter(new FileOutputStream(file), charset);</span>
<span class="line-removed"> 94 			try {</span>
 95 				out.write(fileContent);
 96 				out.flush();
<span class="line-removed"> 97 			} finally {</span>
<span class="line-removed"> 98 				IOToolkit.closeSilently(out);</span>
 99 			}
100 			return true;
101 		} catch (IllegalCharsetNameException e) {
102 			return false;
103 		} catch (FileNotFoundException e) {
104 			return false;
105 		}
106 	}
107 
108 	@Override
109 	public boolean isDeletable() {
110 		return true;
111 	}
112 
113 	@Override
114 	public boolean delete() {
115 		return file.delete();
116 	}
117 
118 	@Override
</pre>
</td>
<td>
<hr />
<pre>
 73 	@Override
 74 	public InputStream getContents() {
 75 		try {
 76 			return file.exists() ? new FileInputStream(file) : null;
 77 		} catch (FileNotFoundException e) {
 78 			// Should not happen.
 79 			return null;
 80 		}
 81 	}
 82 
 83 	@Override
 84 	public boolean isSaveable() {
 85 		return true;
 86 	}
 87 
 88 	@Override
 89 	public boolean save(String fileContent) throws IOException {
 90 		try {
 91 			// Ensure charset exists before opening file for writing.
 92 			Charset charset = Charset.forName(CHARSET_UTF8);
<span class="line-modified"> 93 			try (Writer out = new OutputStreamWriter(new FileOutputStream(file), charset)) {</span>

 94 				out.write(fileContent);
 95 				out.flush();


 96 			}
 97 			return true;
 98 		} catch (IllegalCharsetNameException e) {
 99 			return false;
100 		} catch (FileNotFoundException e) {
101 			return false;
102 		}
103 	}
104 
105 	@Override
106 	public boolean isDeletable() {
107 		return true;
108 	}
109 
110 	@Override
111 	public boolean delete() {
112 		return file.delete();
113 	}
114 
115 	@Override
</pre>
</td>
</tr>
</table>
<center><a href="EventConfiguration.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../../org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/RecordingLoader.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>