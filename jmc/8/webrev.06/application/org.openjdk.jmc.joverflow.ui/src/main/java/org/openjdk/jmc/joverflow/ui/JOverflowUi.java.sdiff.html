<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.joverflow.ui/src/main/java/org/openjdk/jmc/joverflow/ui/JOverflowUi.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="HeapDumpAction.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="JavaThingPage.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.joverflow.ui/src/main/java/org/openjdk/jmc/joverflow/ui/JOverflowUi.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
126 		for (ReferenceChain rc : model) {
127 			for (ObjectCluster oc : rc) {
128 				if (oc.getType() == ClusterType.ALL_OBJECTS) {
129 					heapSize += oc.getMemory();
130 				}
131 			}
132 		}
133 
134 		mOverheadTypeViewer.setHeapSize(heapSize);
135 		mReferrerViewer.setHeapSize(heapSize);
136 		mClusterGroupViewer.setHeapSize(heapSize);
137 		mAncestorViewer.setHeapSize(heapSize);
138 
139 		updateModel();
140 	}
141 
142 	private void updateModel() {
143 		ClusterType currentType = mOverheadTypeViewer.getCurrentType();
144 
145 		mClusterGroupViewer.setQualifierName(
<span class="line-modified">146 				currentType == ClusterType.DUPLICATE_STRING || currentType == ClusterType.DUPLICATE_ARRAY ?</span>
<span class="line-modified">147 						&quot;Duplicate&quot; : null);</span>
148 		// Loop all reference chains
149 		for (ReferenceChain chain : mModel) {
150 			RefChainElement rce = chain.getReferenceChain();
151 			// Check filters for reference chains
152 			if (mReferrerViewer.filter(rce) &amp;&amp; mAncestorViewer.filter(rce)) {
153 				// Loop all object clusters
154 				for (ObjectCluster oc : chain) {
155 					// Check filters for object clusters
156 					if (mClusterGroupViewer.filter(oc)) {
157 						// Add object cluster to type-viewer regardless of type
158 						mOverheadTypeViewer.include(oc, rce);
159 						// Add type object cluster matches current type and add to all other viewers
160 						if (mOverheadTypeViewer.filter(oc)) {
161 							for (ModelListener l : mModelListeners) {
162 								l.include(oc, chain.getReferenceChain());
163 							}
164 						}
165 					}
166 				}
167 			}
</pre>
</td>
<td>
<hr />
<pre>
126 		for (ReferenceChain rc : model) {
127 			for (ObjectCluster oc : rc) {
128 				if (oc.getType() == ClusterType.ALL_OBJECTS) {
129 					heapSize += oc.getMemory();
130 				}
131 			}
132 		}
133 
134 		mOverheadTypeViewer.setHeapSize(heapSize);
135 		mReferrerViewer.setHeapSize(heapSize);
136 		mClusterGroupViewer.setHeapSize(heapSize);
137 		mAncestorViewer.setHeapSize(heapSize);
138 
139 		updateModel();
140 	}
141 
142 	private void updateModel() {
143 		ClusterType currentType = mOverheadTypeViewer.getCurrentType();
144 
145 		mClusterGroupViewer.setQualifierName(
<span class="line-modified">146 				currentType == ClusterType.DUPLICATE_STRING || currentType == ClusterType.DUPLICATE_ARRAY ? &quot;Duplicate&quot;</span>
<span class="line-modified">147 						: null);</span>
148 		// Loop all reference chains
149 		for (ReferenceChain chain : mModel) {
150 			RefChainElement rce = chain.getReferenceChain();
151 			// Check filters for reference chains
152 			if (mReferrerViewer.filter(rce) &amp;&amp; mAncestorViewer.filter(rce)) {
153 				// Loop all object clusters
154 				for (ObjectCluster oc : chain) {
155 					// Check filters for object clusters
156 					if (mClusterGroupViewer.filter(oc)) {
157 						// Add object cluster to type-viewer regardless of type
158 						mOverheadTypeViewer.include(oc, rce);
159 						// Add type object cluster matches current type and add to all other viewers
160 						if (mOverheadTypeViewer.filter(oc)) {
161 							for (ModelListener l : mModelListeners) {
162 								l.include(oc, chain.getReferenceChain());
163 							}
164 						}
165 					}
166 				}
167 			}
</pre>
</td>
</tr>
</table>
<center><a href="HeapDumpAction.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="JavaThingPage.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>