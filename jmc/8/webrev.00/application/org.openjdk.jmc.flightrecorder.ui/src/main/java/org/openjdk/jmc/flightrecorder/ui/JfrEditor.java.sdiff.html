<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/JfrEditor.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="DataPageDescriptor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="JfrPropertySheet.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.flightrecorder.ui/src/main/java/org/openjdk/jmc/flightrecorder/ui/JfrEditor.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
248 	}
249 
250 	private void displayErrorPage(DataPageDescriptor page, RuntimeException cause) {
251 		disposeOldPageContent();
252 		Composite composite = new Composite(resultContainer, SWT.NONE);
253 		composite.setLayout(new GridLayout(1, false));
254 		composite.setBackground(Display.getCurrent().getSystemColor(SWT.COLOR_WHITE));
255 
256 		CLabel errorTitleLabel = new CLabel(composite, SWT.WRAP);
257 		errorTitleLabel.setLayoutData(GridDataFactory.swtDefaults().create());
258 		errorTitleLabel
259 				.setImage(FlightRecorderUI.getDefault().getMCImageDescriptor(ImageConstants.ICON_ERROR).createImage());
260 		errorTitleLabel
261 				.setText(NLS.bind(Messages.JFR_EDITOR_PAGE_CANNOT_BE_DISPLAYED, page.getName()).replaceAll(&quot;&amp;&quot;, &quot;&amp;&amp;&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
262 		errorTitleLabel.setFont(JFaceResources.getFontRegistry().getBold(JFaceResources.DEFAULT_FONT));
263 
264 		Label errorTextLabel = new Label(composite, SWT.WRAP);
265 		errorTextLabel.setLayoutData(GridDataFactory.fillDefaults().grab(true, false).create());
266 		errorTextLabel.setText(Messages.JFR_EDITOR_INVALID_RECORDING_TEXT);
267 
<span class="line-modified">268 		ExpandableComposite ec = toolkit</span>
<span class="line-modified">269 				.createExpandableComposite(composite, ExpandableComposite.TREE_NODE | ExpandableComposite.CLIENT_INDENT);</span>
270 		ec.setLayoutData(GridDataFactory.fillDefaults().grab(true, true).create());
271 		ec.setText(Messages.STACKTRACE_VIEW_STACK_TRACE);
272 
273 		Text stackTraceText = new Text(ec, SWT.BORDER | SWT.H_SCROLL | SWT.V_SCROLL | SWT.READ_ONLY);
274 		stackTraceText.setBackground(Display.getCurrent().getSystemColor(SWT.COLOR_WHITE));
275 		stackTraceText.setText(ExceptionToolkit.toString(cause));
276 		ec.setClient(stackTraceText);
277 	}
278 
279 	void refreshPages() {
280 		List&lt;DataPageDescriptor&gt; rootPages = FlightRecorderUI.getDefault().getPageManager().getRootPages();
281 		ruleEngine.refreshTopics();
282 		if (currentPage != null &amp;&amp; rootPages.stream().anyMatch(p -&gt; p.contains(currentPage))) {
283 			refreshOutline();
284 		} else if (rootPages.isEmpty()) {
285 			PlatformUI.getWorkbench().getHelpSystem().setHelp(resultContainer, NO_PAGES_HELP_CONTEXT_ID);
286 			displayPage(null);
287 			refreshOutline();
288 		} else if (getModel() != null) {
289 			/*
</pre>
</td>
<td>
<hr />
<pre>
248 	}
249 
250 	private void displayErrorPage(DataPageDescriptor page, RuntimeException cause) {
251 		disposeOldPageContent();
252 		Composite composite = new Composite(resultContainer, SWT.NONE);
253 		composite.setLayout(new GridLayout(1, false));
254 		composite.setBackground(Display.getCurrent().getSystemColor(SWT.COLOR_WHITE));
255 
256 		CLabel errorTitleLabel = new CLabel(composite, SWT.WRAP);
257 		errorTitleLabel.setLayoutData(GridDataFactory.swtDefaults().create());
258 		errorTitleLabel
259 				.setImage(FlightRecorderUI.getDefault().getMCImageDescriptor(ImageConstants.ICON_ERROR).createImage());
260 		errorTitleLabel
261 				.setText(NLS.bind(Messages.JFR_EDITOR_PAGE_CANNOT_BE_DISPLAYED, page.getName()).replaceAll(&quot;&amp;&quot;, &quot;&amp;&amp;&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
262 		errorTitleLabel.setFont(JFaceResources.getFontRegistry().getBold(JFaceResources.DEFAULT_FONT));
263 
264 		Label errorTextLabel = new Label(composite, SWT.WRAP);
265 		errorTextLabel.setLayoutData(GridDataFactory.fillDefaults().grab(true, false).create());
266 		errorTextLabel.setText(Messages.JFR_EDITOR_INVALID_RECORDING_TEXT);
267 
<span class="line-modified">268 		ExpandableComposite ec = toolkit.createExpandableComposite(composite,</span>
<span class="line-modified">269 				ExpandableComposite.TREE_NODE | ExpandableComposite.CLIENT_INDENT);</span>
270 		ec.setLayoutData(GridDataFactory.fillDefaults().grab(true, true).create());
271 		ec.setText(Messages.STACKTRACE_VIEW_STACK_TRACE);
272 
273 		Text stackTraceText = new Text(ec, SWT.BORDER | SWT.H_SCROLL | SWT.V_SCROLL | SWT.READ_ONLY);
274 		stackTraceText.setBackground(Display.getCurrent().getSystemColor(SWT.COLOR_WHITE));
275 		stackTraceText.setText(ExceptionToolkit.toString(cause));
276 		ec.setClient(stackTraceText);
277 	}
278 
279 	void refreshPages() {
280 		List&lt;DataPageDescriptor&gt; rootPages = FlightRecorderUI.getDefault().getPageManager().getRootPages();
281 		ruleEngine.refreshTopics();
282 		if (currentPage != null &amp;&amp; rootPages.stream().anyMatch(p -&gt; p.contains(currentPage))) {
283 			refreshOutline();
284 		} else if (rootPages.isEmpty()) {
285 			PlatformUI.getWorkbench().getHelpSystem().setHelp(resultContainer, NO_PAGES_HELP_CONTEXT_ID);
286 			displayPage(null);
287 			refreshOutline();
288 		} else if (getModel() != null) {
289 			/*
</pre>
</td>
</tr>
</table>
<center><a href="DataPageDescriptor.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="JfrPropertySheet.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>