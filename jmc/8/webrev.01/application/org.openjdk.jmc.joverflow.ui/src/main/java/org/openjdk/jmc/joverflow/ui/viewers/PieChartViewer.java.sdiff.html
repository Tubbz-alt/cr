<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.joverflow.ui/src/main/java/org/openjdk/jmc/joverflow/ui/viewers/PieChartViewer.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="MemoryStatisticsTableViewer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ReferrerTreeViewer.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.joverflow.ui/src/main/java/org/openjdk/jmc/joverflow/ui/viewers/PieChartViewer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
235 			item.setData(input);
236 		}
237 
238 		if (otherAngle != 0) {
239 			int w = 360 - angleSum;
240 			if (w &gt; 0) {
241 				mOtherArc.setAngle(w);
242 				mOtherArc.setColor(Display.getCurrent().getSystemColor(SWT.COLOR_GRAY));
243 				return;
244 			}
245 		} else {
246 			mOtherArc = null;
247 		}
248 
249 		// fix rounding error
250 		if (angleSum != 0 &amp;&amp; angleSum != 360 &amp;&amp; inputs.size() != 0) {
251 			for (int i = inputs.size() - 1; i &gt;= 0; i--) {
252 				Object input = inputs.get(i);
253 				ArcItem item = mPieChart.getItem(i);
254 
<span class="line-modified">255 				int w = 360 - angleSum + (int) Math</span>
<span class="line-modified">256 						.round(360 * (double) mArcAttributeProvider.getWeight(input) / weightSum);</span>
257 				if (w &lt; 0) {
258 					continue;
259 				}
260 				item.setAngle(w);
261 				break;
262 			}
263 		}
264 	}
265 
266 	public void setTableViewer(MemoryStatisticsTableViewer tableViewer) {
267 		mTableViewer = tableViewer;
268 	}
269 
270 	public void setHighlightedItem(Object element) {
271 		if (element == null) {
272 			mPieChart.setHighlightedItem(null);
273 			return;
274 		}
275 
276 		for (ArcItem item : mPieChart.getItems()) {
</pre>
</td>
<td>
<hr />
<pre>
235 			item.setData(input);
236 		}
237 
238 		if (otherAngle != 0) {
239 			int w = 360 - angleSum;
240 			if (w &gt; 0) {
241 				mOtherArc.setAngle(w);
242 				mOtherArc.setColor(Display.getCurrent().getSystemColor(SWT.COLOR_GRAY));
243 				return;
244 			}
245 		} else {
246 			mOtherArc = null;
247 		}
248 
249 		// fix rounding error
250 		if (angleSum != 0 &amp;&amp; angleSum != 360 &amp;&amp; inputs.size() != 0) {
251 			for (int i = inputs.size() - 1; i &gt;= 0; i--) {
252 				Object input = inputs.get(i);
253 				ArcItem item = mPieChart.getItem(i);
254 
<span class="line-modified">255 				int w = 360 - angleSum</span>
<span class="line-modified">256 						+ (int) Math.round(360 * (double) mArcAttributeProvider.getWeight(input) / weightSum);</span>
257 				if (w &lt; 0) {
258 					continue;
259 				}
260 				item.setAngle(w);
261 				break;
262 			}
263 		}
264 	}
265 
266 	public void setTableViewer(MemoryStatisticsTableViewer tableViewer) {
267 		mTableViewer = tableViewer;
268 	}
269 
270 	public void setHighlightedItem(Object element) {
271 		if (element == null) {
272 			mPieChart.setHighlightedItem(null);
273 			return;
274 		}
275 
276 		for (ArcItem item : mPieChart.getItems()) {
</pre>
</td>
</tr>
</table>
<center><a href="MemoryStatisticsTableViewer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="ReferrerTreeViewer.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>