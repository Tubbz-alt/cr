<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/uitests/org.openjdk.jmc.console.uitest/src/test/java/org/openjdk/jmc/console/uitest/ConsolePreferencesTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ConsoleMemoryLeakTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="MBeanBrowserTabTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/uitests/org.openjdk.jmc.console.uitest/src/test/java/org/openjdk/jmc/console/uitest/ConsolePreferencesTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 72 	};
 73 
 74 	@Test
 75 	public void checkRestoreDefaults() throws Exception {
 76 		preferences.selectTreeItem(&quot;JDK Mission Control&quot;, &quot;JMX Console&quot;, &quot;Communication&quot;);
 77 
 78 		// Enter some non-default values for each field
 79 		String msSuffix = UnitLookup.MILLISECOND.getAppendableSuffix(true);
 80 		preferences.enterText(CommunicationPage.UPDATE_INTERVAL_FIELD_NAME, &quot;1234&quot; + msSuffix);
 81 		preferences.enterText(CommunicationPage.RETAINED_EVENT_FIELD_NAME, &quot;123456&quot;);
 82 		preferences.enterText(CommunicationPage.SERVER_HOST_FIELD_NAME, &quot;othermail.example.com&quot;);
 83 		preferences.enterText(CommunicationPage.SERVER_PORT_FIELD_NAME, &quot;1234&quot;);
 84 		preferences.clickButton(SECURE_MAIL_SERVER_LABEL);
 85 		preferences.enterText(CommunicationPage.USERNAME_FIELD_NAME, &quot;testuser&quot;);
 86 		preferences.enterText(CommunicationPage.PASSWORD_FIELD_NAME, &quot;testpassword&quot;);
 87 
 88 		// Click &quot;Restore Defaults&quot; button
 89 		preferences.clickButton(JFaceResources.getString(&quot;defaults&quot;));
 90 
 91 		// Check that all fields restored to defaults
<span class="line-modified"> 92 		ITypedQuantity&lt;LinearUnit&gt; intervalQty = UnitLookup.TIMESPAN.parseInteractive(preferences.getText(CommunicationPage.UPDATE_INTERVAL_FIELD_NAME));</span>

 93 		Assert.assertEquals(PreferencesKeys.DEFAULT_UPDATE_INTERVAL, intervalQty.longValueIn(UnitLookup.MILLISECOND));
 94 		Assert.assertEquals(String.valueOf(PreferencesKeys.DEFAULT_RETAINED_EVENT_VALUES),
 95 				preferences.getText(CommunicationPage.RETAINED_EVENT_FIELD_NAME));
 96 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER,
 97 				preferences.getText(CommunicationPage.SERVER_HOST_FIELD_NAME));
 98 		Assert.assertEquals(String.valueOf(PreferencesKeys.DEFAULT_MAIL_SERVER_PORT),
 99 				preferences.getText(CommunicationPage.SERVER_PORT_FIELD_NAME));
100 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER_SECURE,
101 				preferences.getButtonState(SECURE_MAIL_SERVER_LABEL));
102 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER_USER,
103 				preferences.getText(CommunicationPage.USERNAME_FIELD_NAME));
104 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER_PASSWORD,
105 				preferences.getText(CommunicationPage.PASSWORD_FIELD_NAME));
106 	}
107 
108 }
</pre>
</td>
<td>
<hr />
<pre>
 72 	};
 73 
 74 	@Test
 75 	public void checkRestoreDefaults() throws Exception {
 76 		preferences.selectTreeItem(&quot;JDK Mission Control&quot;, &quot;JMX Console&quot;, &quot;Communication&quot;);
 77 
 78 		// Enter some non-default values for each field
 79 		String msSuffix = UnitLookup.MILLISECOND.getAppendableSuffix(true);
 80 		preferences.enterText(CommunicationPage.UPDATE_INTERVAL_FIELD_NAME, &quot;1234&quot; + msSuffix);
 81 		preferences.enterText(CommunicationPage.RETAINED_EVENT_FIELD_NAME, &quot;123456&quot;);
 82 		preferences.enterText(CommunicationPage.SERVER_HOST_FIELD_NAME, &quot;othermail.example.com&quot;);
 83 		preferences.enterText(CommunicationPage.SERVER_PORT_FIELD_NAME, &quot;1234&quot;);
 84 		preferences.clickButton(SECURE_MAIL_SERVER_LABEL);
 85 		preferences.enterText(CommunicationPage.USERNAME_FIELD_NAME, &quot;testuser&quot;);
 86 		preferences.enterText(CommunicationPage.PASSWORD_FIELD_NAME, &quot;testpassword&quot;);
 87 
 88 		// Click &quot;Restore Defaults&quot; button
 89 		preferences.clickButton(JFaceResources.getString(&quot;defaults&quot;));
 90 
 91 		// Check that all fields restored to defaults
<span class="line-modified"> 92 		ITypedQuantity&lt;LinearUnit&gt; intervalQty = UnitLookup.TIMESPAN</span>
<span class="line-added"> 93 				.parseInteractive(preferences.getText(CommunicationPage.UPDATE_INTERVAL_FIELD_NAME));</span>
 94 		Assert.assertEquals(PreferencesKeys.DEFAULT_UPDATE_INTERVAL, intervalQty.longValueIn(UnitLookup.MILLISECOND));
 95 		Assert.assertEquals(String.valueOf(PreferencesKeys.DEFAULT_RETAINED_EVENT_VALUES),
 96 				preferences.getText(CommunicationPage.RETAINED_EVENT_FIELD_NAME));
 97 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER,
 98 				preferences.getText(CommunicationPage.SERVER_HOST_FIELD_NAME));
 99 		Assert.assertEquals(String.valueOf(PreferencesKeys.DEFAULT_MAIL_SERVER_PORT),
100 				preferences.getText(CommunicationPage.SERVER_PORT_FIELD_NAME));
101 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER_SECURE,
102 				preferences.getButtonState(SECURE_MAIL_SERVER_LABEL));
103 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER_USER,
104 				preferences.getText(CommunicationPage.USERNAME_FIELD_NAME));
105 		Assert.assertEquals(PreferencesKeys.DEFAULT_MAIL_SERVER_PASSWORD,
106 				preferences.getText(CommunicationPage.PASSWORD_FIELD_NAME));
107 	}
108 
109 }
</pre>
</td>
</tr>
</table>
<center><a href="ConsoleMemoryLeakTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="MBeanBrowserTabTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>