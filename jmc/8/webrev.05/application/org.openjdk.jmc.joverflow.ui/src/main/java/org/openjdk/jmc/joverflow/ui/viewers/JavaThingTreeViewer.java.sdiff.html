<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.joverflow.ui/src/main/java/org/openjdk/jmc/joverflow/ui/viewers/JavaThingTreeViewer.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="ClusterGroupViewer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="MemoryStatisticsTableViewer.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.joverflow.ui/src/main/java/org/openjdk/jmc/joverflow/ui/viewers/JavaThingTreeViewer.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 95 		}
 96 
 97 		@Override
 98 		public Object[] getChildren(Object parentElement) {
 99 			JavaThingItem item = (JavaThingItem) parentElement;
100 			Iterable&lt;JavaThingItem&gt; childItems = item.getChildItems();
101 			if (childItems == null) {
102 				ArrayList&lt;JavaThingItem&gt; items = new ArrayList&lt;&gt;();
103 				JavaThing thing = item.getContent();
104 				if (thing instanceof JavaObject) {
105 					JavaObject o = (JavaObject) thing;
106 					JavaField[] fields = o.getClazz().getFieldsForInstance();
107 					JavaThing[] values = o.getFields();
108 					for (int i = 0; i &lt; fields.length; i++) {
109 						items.add(new JavaThingItem(item.getLevel() + 1, fields[i].getName(), values[i]));
110 					}
111 				} else if (thing instanceof JavaObjectArray) {
112 					JavaObjectArray o = (JavaObjectArray) thing;
113 					int i = 0;
114 					for (JavaThing th : o.getElements()) {
<span class="line-modified">115 						items.add(new JavaThingItem(item.getLevel() + 1, &quot;[&quot; + (i++) + &quot;]&quot;,</span>
<span class="line-removed">116 								th)); //$NON-NLS-1$ //$NON-NLS-2$</span>
117 					}
118 				} else if (thing instanceof JavaValueArray) {
119 					JavaValueArray o = (JavaValueArray) thing;
120 					int i = 0;
121 					for (String value : o.getValuesAsStrings()) {
122 						items.add(new JavaThingItem(item.getLevel() + 1, &quot;[&quot; + (i++) + &quot;]&quot;, value, o.getElementSize(),
123 								null)); //$NON-NLS-1$ //$NON-NLS-2$
124 					}
125 
126 				}
127 				item.setChildItems(items);
128 				return items.toArray();
129 			}
130 
131 			return StreamSupport.stream(childItems.spliterator(), false).toArray();
132 		}
133 
134 		@Override
135 		public Object getParent(Object element) {
136 			return null;
</pre>
</td>
<td>
<hr />
<pre>
 95 		}
 96 
 97 		@Override
 98 		public Object[] getChildren(Object parentElement) {
 99 			JavaThingItem item = (JavaThingItem) parentElement;
100 			Iterable&lt;JavaThingItem&gt; childItems = item.getChildItems();
101 			if (childItems == null) {
102 				ArrayList&lt;JavaThingItem&gt; items = new ArrayList&lt;&gt;();
103 				JavaThing thing = item.getContent();
104 				if (thing instanceof JavaObject) {
105 					JavaObject o = (JavaObject) thing;
106 					JavaField[] fields = o.getClazz().getFieldsForInstance();
107 					JavaThing[] values = o.getFields();
108 					for (int i = 0; i &lt; fields.length; i++) {
109 						items.add(new JavaThingItem(item.getLevel() + 1, fields[i].getName(), values[i]));
110 					}
111 				} else if (thing instanceof JavaObjectArray) {
112 					JavaObjectArray o = (JavaObjectArray) thing;
113 					int i = 0;
114 					for (JavaThing th : o.getElements()) {
<span class="line-modified">115 						items.add(new JavaThingItem(item.getLevel() + 1, &quot;[&quot; + (i++) + &quot;]&quot;, th)); //$NON-NLS-1$ //$NON-NLS-2$</span>

116 					}
117 				} else if (thing instanceof JavaValueArray) {
118 					JavaValueArray o = (JavaValueArray) thing;
119 					int i = 0;
120 					for (String value : o.getValuesAsStrings()) {
121 						items.add(new JavaThingItem(item.getLevel() + 1, &quot;[&quot; + (i++) + &quot;]&quot;, value, o.getElementSize(),
122 								null)); //$NON-NLS-1$ //$NON-NLS-2$
123 					}
124 
125 				}
126 				item.setChildItems(items);
127 				return items.toArray();
128 			}
129 
130 			return StreamSupport.stream(childItems.spliterator(), false).toArray();
131 		}
132 
133 		@Override
134 		public Object getParent(Object element) {
135 			return null;
</pre>
</td>
</tr>
</table>
<center><a href="ClusterGroupViewer.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="MemoryStatisticsTableViewer.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>