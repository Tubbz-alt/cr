<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff application/org.openjdk.jmc.ui/src/main/java/org/openjdk/jmc/ui/charts/SubdividedQuantityRange.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="SpanRenderer.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../dial/DialDevice.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.ui/src/main/java/org/openjdk/jmc/ui/charts/SubdividedQuantityRange.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 222,24 ***</span>
  	public int getFloorSubdivider(IQuantity value) {
  		return toSubdividerTransform(value.getUnit()).targetIntFloor(value.numberValue());
  	}
  
  	/**
<span class="line-modified">! 	 * Get the closest lower subdivider index corresponding to the pixel position</span>
<span class="line-modified">! 	 * {@code pixel}. Typically used to get a bucket index.</span>
  	 *
  	 * @param pixel
  	 * @return
  	 */
  	public int getFloorSubdividerAtPixel(Number pixel) {
  		// FIXME: Add the inverted transform to the cache instead.
  		return subdividerToPixelTransform.invert().targetIntFloor(pixel);
  	}
  
  	/**
<span class="line-modified">! 	 * Get the closest subdivider index corresponding to the pixel position {@code pixel}.</span>
<span class="line-modified">! 	 * Typically used for snapping to ticks or bucket boundaries.</span>
  	 *
  	 * @param pixel
  	 * @return
  	 */
  	public int getClosestSubdividerAtPixel(Number pixel) {
<span class="line-new-header">--- 222,24 ---</span>
  	public int getFloorSubdivider(IQuantity value) {
  		return toSubdividerTransform(value.getUnit()).targetIntFloor(value.numberValue());
  	}
  
  	/**
<span class="line-modified">! 	 * Get the closest lower subdivider index corresponding to the pixel position {@code pixel}.</span>
<span class="line-modified">! 	 * Typically used to get a bucket index.</span>
  	 *
  	 * @param pixel
  	 * @return
  	 */
  	public int getFloorSubdividerAtPixel(Number pixel) {
  		// FIXME: Add the inverted transform to the cache instead.
  		return subdividerToPixelTransform.invert().targetIntFloor(pixel);
  	}
  
  	/**
<span class="line-modified">! 	 * Get the closest subdivider index corresponding to the pixel position {@code pixel}. Typically</span>
<span class="line-modified">! 	 * used for snapping to ticks or bucket boundaries.</span>
  	 *
  	 * @param pixel
  	 * @return
  	 */
  	public int getClosestSubdividerAtPixel(Number pixel) {
</pre>
<hr />
<pre>
<span class="line-old-header">*** 247,12 ***</span>
  		// FIXME: Will not clamp correctly during the long to int conversion.
  		return (int) Math.round(subdividerToPixelTransform.invert().targetNumber(pixel).doubleValue());
  	}
  
  	/**
<span class="line-modified">! 	 * Get the pixel position corresponding to {@code value}. Note that if you need to perform</span>
<span class="line-modified">! 	 * this on many values, all expressed in the same unit, it is more efficient to use</span>
  	 * {@link #toPixelTransform(IUnit)} once and use that to transform all numerical values using
  	 * {@link IScalarAffineTransform#targetValue(double)} or so.
  	 *
  	 * @param value
  	 * @return
<span class="line-new-header">--- 247,12 ---</span>
  		// FIXME: Will not clamp correctly during the long to int conversion.
  		return (int) Math.round(subdividerToPixelTransform.invert().targetNumber(pixel).doubleValue());
  	}
  
  	/**
<span class="line-modified">! 	 * Get the pixel position corresponding to {@code value}. Note that if you need to perform this</span>
<span class="line-modified">! 	 * on many values, all expressed in the same unit, it is more efficient to use</span>
  	 * {@link #toPixelTransform(IUnit)} once and use that to transform all numerical values using
  	 * {@link IScalarAffineTransform#targetValue(double)} or so.
  	 *
  	 * @param value
  	 * @return
</pre>
<center><a href="SpanRenderer.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../dial/DialDevice.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>