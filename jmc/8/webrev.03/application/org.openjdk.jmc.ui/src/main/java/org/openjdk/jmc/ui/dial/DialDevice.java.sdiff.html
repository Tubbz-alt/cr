<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/org.openjdk.jmc.ui/src/main/java/org/openjdk/jmc/ui/dial/DialDevice.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../charts/SubdividedQuantityRange.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../misc/AwtCanvas.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.ui/src/main/java/org/openjdk/jmc/ui/dial/DialDevice.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 94 		// All background images must have the same size.
 95 		return BACKGROUNDS[0].image.getBounds();
 96 	}
 97 
 98 	static DialDevice buildSuitableDevice(double minValue, double maxValue, IUnit inUnit) {
 99 		if (minValue &gt; maxValue || Double.isInfinite(minValue) || Double.isInfinite(maxValue)) {
100 			// no value background
101 			return new DialDevice(inUnit.getContentType().getPreferredUnit(inUnit.quantity(1), 1.0, 1000),
102 					BACKGROUNDS[0], true);
103 		}
104 		IQuantity quantity = inUnit.quantity(Math.max(Math.abs(minValue), Math.abs(maxValue)));
105 		IUnit preferredUnit = inUnit.getContentType().getPreferredUnit(quantity, 1.0,
106 				BACKGROUNDS[BACKGROUNDS.length - 1].dialEndValue);
107 		double value = quantity.doubleValueIn(preferredUnit);
108 		for (ImageDescription bg : BACKGROUNDS) {
109 			if (value &lt;= bg.dialEndValue) {
110 				Boolean positive = maxValue &lt; 0 ? Boolean.FALSE : (minValue &lt; 0 ? null : Boolean.TRUE);
111 				return new DialDevice(preferredUnit, bg, positive);
112 			}
113 		}
<span class="line-modified">114 		</span>
115 		/*
116 		 * FIXME: Could not find a suitable unit, this shouldn&#39;t happen.
117 		 * 
118 		 * Choosing a hopefully useful dial device, but too large values will be normalized to 1.
119 		 * Consider throwing an exception instead.
120 		 */
121 		return new DialDevice(preferredUnit, BACKGROUNDS[BACKGROUNDS.length - 1], true);
122 		// throw new IllegalArgumentException(&quot;Cannot find a suitable dial device&quot;);
123 	}
124 }
</pre>
</td>
<td>
<hr />
<pre>
 94 		// All background images must have the same size.
 95 		return BACKGROUNDS[0].image.getBounds();
 96 	}
 97 
 98 	static DialDevice buildSuitableDevice(double minValue, double maxValue, IUnit inUnit) {
 99 		if (minValue &gt; maxValue || Double.isInfinite(minValue) || Double.isInfinite(maxValue)) {
100 			// no value background
101 			return new DialDevice(inUnit.getContentType().getPreferredUnit(inUnit.quantity(1), 1.0, 1000),
102 					BACKGROUNDS[0], true);
103 		}
104 		IQuantity quantity = inUnit.quantity(Math.max(Math.abs(minValue), Math.abs(maxValue)));
105 		IUnit preferredUnit = inUnit.getContentType().getPreferredUnit(quantity, 1.0,
106 				BACKGROUNDS[BACKGROUNDS.length - 1].dialEndValue);
107 		double value = quantity.doubleValueIn(preferredUnit);
108 		for (ImageDescription bg : BACKGROUNDS) {
109 			if (value &lt;= bg.dialEndValue) {
110 				Boolean positive = maxValue &lt; 0 ? Boolean.FALSE : (minValue &lt; 0 ? null : Boolean.TRUE);
111 				return new DialDevice(preferredUnit, bg, positive);
112 			}
113 		}
<span class="line-modified">114 </span>
115 		/*
116 		 * FIXME: Could not find a suitable unit, this shouldn&#39;t happen.
117 		 * 
118 		 * Choosing a hopefully useful dial device, but too large values will be normalized to 1.
119 		 * Consider throwing an exception instead.
120 		 */
121 		return new DialDevice(preferredUnit, BACKGROUNDS[BACKGROUNDS.length - 1], true);
122 		// throw new IllegalArgumentException(&quot;Cannot find a suitable dial device&quot;);
123 	}
124 }
</pre>
</td>
</tr>
</table>
<center><a href="../charts/SubdividedQuantityRange.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../misc/AwtCanvas.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>