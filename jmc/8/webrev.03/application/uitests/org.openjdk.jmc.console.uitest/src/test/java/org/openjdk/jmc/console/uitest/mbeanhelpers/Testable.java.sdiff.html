<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/uitests/org.openjdk.jmc.console.uitest/src/test/java/org/openjdk/jmc/console/uitest/mbeanhelpers/Testable.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="Mbean2Runner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../org.openjdk.jmc.flightrecorder.uitest/pom.xml.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/uitests/org.openjdk.jmc.console.uitest/src/test/java/org/openjdk/jmc/console/uitest/mbeanhelpers/Testable.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
810 		this.editableCollection = editableCollection;
811 	}
812 
813 	@Override
814 	public Map&lt;Integer, Object&gt; getEditableMap() {
815 		return editableMap;
816 	}
817 
818 	@Override
819 	public void setEditableMap(Map&lt;Integer, Object&gt; editableMap) {
820 		this.editableMap = editableMap;
821 	}
822 
823 	@Override
824 	public void run() {
825 		while (!stop) {
826 			synchronized (this) {
827 				long oldLastTime = lastTime;
828 				lastTime = System.currentTimeMillis();
829 //				System.out.println(&quot;Current time: &quot; + getAliveTime());
<span class="line-modified">830 				sendNotification(new AttributeChangeNotification(this, sequenceNumber++, lastTime, &quot;Update&quot;,</span>
<span class="line-modified">831 						&quot;AliveTime&quot;, &quot;long&quot;, Long.valueOf(oldLastTime - startTime),</span>
<span class="line-modified">832 						Long.valueOf(lastTime - startTime)));</span>
833 				try {
834 					wait(Math.max(1, updateTime));
835 				} catch (InterruptedException e) {
836 				}
837 			}
838 		}
839 	}
840 
841 	@Override
842 	public long getAliveTime() {
843 		return lastTime - startTime;
844 	}
845 
846 	@Override
847 	public void resetAliveTime() {
848 		synchronized (this) {
849 			lastTime = startTime = System.currentTimeMillis();
850 			notify();
851 		}
852 	}
</pre>
</td>
<td>
<hr />
<pre>
810 		this.editableCollection = editableCollection;
811 	}
812 
813 	@Override
814 	public Map&lt;Integer, Object&gt; getEditableMap() {
815 		return editableMap;
816 	}
817 
818 	@Override
819 	public void setEditableMap(Map&lt;Integer, Object&gt; editableMap) {
820 		this.editableMap = editableMap;
821 	}
822 
823 	@Override
824 	public void run() {
825 		while (!stop) {
826 			synchronized (this) {
827 				long oldLastTime = lastTime;
828 				lastTime = System.currentTimeMillis();
829 //				System.out.println(&quot;Current time: &quot; + getAliveTime());
<span class="line-modified">830 				sendNotification(</span>
<span class="line-modified">831 						new AttributeChangeNotification(this, sequenceNumber++, lastTime, &quot;Update&quot;, &quot;AliveTime&quot;, &quot;long&quot;,</span>
<span class="line-modified">832 								Long.valueOf(oldLastTime - startTime), Long.valueOf(lastTime - startTime)));</span>
833 				try {
834 					wait(Math.max(1, updateTime));
835 				} catch (InterruptedException e) {
836 				}
837 			}
838 		}
839 	}
840 
841 	@Override
842 	public long getAliveTime() {
843 		return lastTime - startTime;
844 	}
845 
846 	@Override
847 	public void resetAliveTime() {
848 		synchronized (this) {
849 			lastTime = startTime = System.currentTimeMillis();
850 			notify();
851 		}
852 	}
</pre>
</td>
</tr>
</table>
<center><a href="Mbean2Runner.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../org.openjdk.jmc.flightrecorder.uitest/pom.xml.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>