<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff application/uitests/org.openjdk.jmc.flightrecorder.uitest/src/test/java/org/openjdk/jmc/flightrecorder/uitest/OldRecordingsVerificationTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="JfrWizardTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="StackTraceComponentTest.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>application/uitests/org.openjdk.jmc.flightrecorder.uitest/src/test/java/org/openjdk/jmc/flightrecorder/uitest/OldRecordingsVerificationTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 66 		return Arrays.asList(new Object[][] {{&quot;7u40.jfr&quot;, 77}, {&quot;7u60.jfr&quot;, 77}, {&quot;7u76.jfr&quot;, 77}, {&quot;8u0.jfr&quot;, 72},
 67 				{&quot;8u20.jfr&quot;, 85}, {&quot;8u40.jfr&quot;, 85}, {&quot;8u60.jfr&quot;, 86}});
 68 	}
 69 
 70 	@Rule
 71 	public MCUITestRule testRule = new MCUITestRule(verboseRuleOutput) {
 72 		@Override
 73 		public void before() {
 74 			JfrUi.openJfr(materialize(&quot;jfr&quot;, fileName, OldRecordingsVerificationTest.class));
 75 			MC.setRecordingAnalysis(true);
 76 		}
 77 
 78 		@Override
 79 		public void after() {
 80 			MC.setRecordingAnalysis(false);
 81 			MCMenu.closeActiveEditor();
 82 		}
 83 	};
 84 
 85 	/**
<span class="line-modified"> 86 	 * Opens the recording and verifies the number of unique events (verifying the parsing of jfr metadata)</span>

 87 	 */
 88 	@Test
 89 	public void verifyRecording() {
 90 		// First do a total tab traversal (standard tabs)
 91 		for (JfrUi.Tabs tabName : Arrays.asList(JfrUi.Tabs.values())) {
 92 			JfrNavigator.selectTab(tabName);
 93 		}
 94 		// Also, check that the Recording settings table contains data
 95 		EventSettingsData recordingEventSettings = JfrUi.parseEventSettingsTable();
 96 		int currentNumOfEventSettings = recordingEventSettings.getAllEventNames().size();
 97 		Assert.assertTrue(
 98 				&quot;File &quot; + fileName + &quot;: Incorrect number of event settings in the recording settings table. Should be &quot;
 99 						+ numOfSettings + &quot; but was &quot; + currentNumOfEventSettings,
100 				currentNumOfEventSettings == numOfSettings);
101 	}
102 
103 }
</pre>
</td>
<td>
<hr />
<pre>
 66 		return Arrays.asList(new Object[][] {{&quot;7u40.jfr&quot;, 77}, {&quot;7u60.jfr&quot;, 77}, {&quot;7u76.jfr&quot;, 77}, {&quot;8u0.jfr&quot;, 72},
 67 				{&quot;8u20.jfr&quot;, 85}, {&quot;8u40.jfr&quot;, 85}, {&quot;8u60.jfr&quot;, 86}});
 68 	}
 69 
 70 	@Rule
 71 	public MCUITestRule testRule = new MCUITestRule(verboseRuleOutput) {
 72 		@Override
 73 		public void before() {
 74 			JfrUi.openJfr(materialize(&quot;jfr&quot;, fileName, OldRecordingsVerificationTest.class));
 75 			MC.setRecordingAnalysis(true);
 76 		}
 77 
 78 		@Override
 79 		public void after() {
 80 			MC.setRecordingAnalysis(false);
 81 			MCMenu.closeActiveEditor();
 82 		}
 83 	};
 84 
 85 	/**
<span class="line-modified"> 86 	 * Opens the recording and verifies the number of unique events (verifying the parsing of jfr</span>
<span class="line-added"> 87 	 * metadata)</span>
 88 	 */
 89 	@Test
 90 	public void verifyRecording() {
 91 		// First do a total tab traversal (standard tabs)
 92 		for (JfrUi.Tabs tabName : Arrays.asList(JfrUi.Tabs.values())) {
 93 			JfrNavigator.selectTab(tabName);
 94 		}
 95 		// Also, check that the Recording settings table contains data
 96 		EventSettingsData recordingEventSettings = JfrUi.parseEventSettingsTable();
 97 		int currentNumOfEventSettings = recordingEventSettings.getAllEventNames().size();
 98 		Assert.assertTrue(
 99 				&quot;File &quot; + fileName + &quot;: Incorrect number of event settings in the recording settings table. Should be &quot;
100 						+ numOfSettings + &quot; but was &quot; + currentNumOfEventSettings,
101 				currentNumOfEventSettings == numOfSettings);
102 	}
103 
104 }
</pre>
</td>
</tr>
</table>
<center><a href="JfrWizardTest.java.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="StackTraceComponentTest.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>