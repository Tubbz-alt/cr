<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff core/tests/org.openjdk.jmc.flightrecorder.test/src/test/java/org/openjdk/jmc/flightrecorder/test/util/RecordingToolkit.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../JfrAttributesTest.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../pom.xml.cdiff.html" target="_top">next &gt;</a></center>    <h2>core/tests/org.openjdk.jmc.flightrecorder.test/src/test/java/org/openjdk/jmc/flightrecorder/test/util/RecordingToolkit.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 65,18 ***</span>
  
  	public static IOResourceSet getRecordings() throws IOException {
  		return TestToolkit.getResourcesInDirectory(RecordingToolkit.class, RECORDINGS_DIRECTORY, RECORDINGS_INDEXFILE);
  	}
  
<span class="line-modified">! 	public static IItemCollection getNamedRecording(String recordingName) throws IOException, CouldNotLoadRecordingException {</span>
<span class="line-modified">! 		return getFlightRecording(TestToolkit.getNamedResource(RecordingToolkit.class, RECORDINGS_DIRECTORY, recordingName));</span>
  	}
<span class="line-modified">! 	</span>
  	public static InputStream getNamedRecordingResource(String recordingName) throws IOException {
  		return TestToolkit.getNamedResource(RecordingToolkit.class, RECORDINGS_DIRECTORY, recordingName).open();
  	}
<span class="line-modified">! 	</span>
  	public static IItemCollection getFlightRecording(IOResourceSet resourceSet)
  			throws IOException, CouldNotLoadRecordingException {
  		return getFlightRecording(resourceSet.getResource(0));
  	}
  
<span class="line-new-header">--- 65,20 ---</span>
  
  	public static IOResourceSet getRecordings() throws IOException {
  		return TestToolkit.getResourcesInDirectory(RecordingToolkit.class, RECORDINGS_DIRECTORY, RECORDINGS_INDEXFILE);
  	}
  
<span class="line-modified">! 	public static IItemCollection getNamedRecording(String recordingName)</span>
<span class="line-modified">! 			throws IOException, CouldNotLoadRecordingException {</span>
<span class="line-added">+ 		return getFlightRecording(</span>
<span class="line-added">+ 				TestToolkit.getNamedResource(RecordingToolkit.class, RECORDINGS_DIRECTORY, recordingName));</span>
  	}
<span class="line-modified">! </span>
  	public static InputStream getNamedRecordingResource(String recordingName) throws IOException {
  		return TestToolkit.getNamedResource(RecordingToolkit.class, RECORDINGS_DIRECTORY, recordingName).open();
  	}
<span class="line-modified">! </span>
  	public static IItemCollection getFlightRecording(IOResourceSet resourceSet)
  			throws IOException, CouldNotLoadRecordingException {
  		return getFlightRecording(resourceSet.getResource(0));
  	}
  
</pre>
<hr />
<pre>
<span class="line-old-header">*** 92,11 ***</span>
  		}
  		IOToolkit.closeSilently(os);
  		IOToolkit.closeSilently(is);
  		return JfrLoaderToolkit.loadEvents(tmpRecording);
  	}
<span class="line-modified">! 	</span>
  	public static File createResultFile(String prefix, String suffix, boolean deleteTempOnExit) throws IOException {
  		String resultDir = System.getProperty(&quot;results.dir&quot;);
  		File resultFile;
  		if (resultDir != null) {
  			resultFile = new File(resultDir, prefix + &#39;.&#39; + System.currentTimeMillis() + &#39;.&#39; + suffix);
<span class="line-new-header">--- 94,11 ---</span>
  		}
  		IOToolkit.closeSilently(os);
  		IOToolkit.closeSilently(is);
  		return JfrLoaderToolkit.loadEvents(tmpRecording);
  	}
<span class="line-modified">! </span>
  	public static File createResultFile(String prefix, String suffix, boolean deleteTempOnExit) throws IOException {
  		String resultDir = System.getProperty(&quot;results.dir&quot;);
  		File resultFile;
  		if (resultDir != null) {
  			resultFile = new File(resultDir, prefix + &#39;.&#39; + System.currentTimeMillis() + &#39;.&#39; + suffix);
</pre>
<center><a href="../JfrAttributesTest.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../../pom.xml.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>