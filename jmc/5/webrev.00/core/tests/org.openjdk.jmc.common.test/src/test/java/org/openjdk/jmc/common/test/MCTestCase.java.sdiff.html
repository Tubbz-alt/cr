<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff core/tests/org.openjdk.jmc.common.test/src/test/java/org/openjdk/jmc/common/test/MCTestCase.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../pom.xml.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="TestToolkit.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>core/tests/org.openjdk.jmc.common.test/src/test/java/org/openjdk/jmc/common/test/MCTestCase.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 62 	 */
 63 	static public void assertNull(Object object) {
 64 		if (object != null) {
 65 			failNotEquals(null, null, object);
 66 		}
 67 	}
 68 
 69 	static public void failNotEquals(String message, Object expected, Object actual) {
 70 		if (!expected.equals(actual)) {
 71 			Assert.fail(
 72 					((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected:&lt;&quot; + expected + &quot;&gt; but was:&lt;&quot; + actual + &quot;&gt;&quot;);
 73 		}
 74 	}
 75 
 76 	/**
 77 	 * Asserts that with respect to all bits in the mask, a long is equal to the given value. If it
 78 	 * is not an AssertionFailedError is thrown with the given message.
 79 	 */
 80 	static public void assertMaskedEquals(String message, long expected, long actual, long mask) {
 81 		if (((expected ^ actual) &amp; mask) != 0) {
<span class="line-modified"> 82 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;)</span>
<span class="line-modified"> 83 					+ &quot;masked with &quot; + hex(mask) + &quot; expected:&lt;&quot; + hex(expected) + &quot;&gt; was not:&lt;&quot; + hex(actual) + &quot;&gt;&quot;);</span>
 84 		}
 85 	}
 86 
 87 	/**
 88 	 * Asserts that with respect to all bits in the mask, a long is equal to the given value.
 89 	 */
 90 	static public void assertMaskedEquals(long expected, long actual, long mask) {
 91 		assertMaskedEquals(null, expected, actual, mask);
 92 	}
 93 
 94 	protected static String hex(long val) {
 95 		return &quot;0x&quot; + Long.toHexString(val);
 96 	}
 97 
 98 	/**
 99 	 * Asserts that a {@link Comparable} is within the given (inclusive) range. If it is not an
100 	 * AssertionFailedError is thrown with the given message.
101 	 */
102 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertBetween(String message, T min, T max, T actual) {
103 		if ((min.compareTo(actual) &gt; 0) || (max.compareTo(actual) &lt; 0)) {
<span class="line-modified">104 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;)</span>
<span class="line-modified">105 					+ &quot;expected in:[&quot; + min + &quot;, &quot; + max + &quot;] was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
106 		}
107 	}
108 
109 	/**
110 	 * Asserts that a {@link Comparable} is within the given (inclusive) range.
111 	 */
112 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertBetween(T min, T max, T actual) {
113 		assertBetween(null, min, max, actual);
114 	}
115 
116 	/**
117 	 * Asserts that a {@link Comparable} is less or equal than the given value. If it is not an
118 	 * AssertionFailedError is thrown with the given message.
119 	 */
120 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMax(String message, T max, T actual) {
121 		if (max.compareTo(actual) &lt; 0) {
<span class="line-modified">122 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;)</span>
<span class="line-modified">123 					+ &quot;expected max:&lt;&quot; + max + &quot;&gt; was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
124 		}
125 	}
126 
127 	/**
128 	 * Asserts that a {@link Comparable} is less or equal than the given value.
129 	 */
130 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMax(T max, T actual) {
131 		assertMax(null, max, actual);
132 	}
133 
134 	/**
135 	 * Asserts that a {@link Comparable} is greater or equal than the given value. If it is not an
136 	 * AssertionFailedError is thrown with the given message.
137 	 */
138 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMin(String message, T min, T actual) {
139 		if (min.compareTo(actual) &gt; 0) {
<span class="line-modified">140 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;)</span>
<span class="line-modified">141 					+ &quot;expected min:&lt;&quot; + min + &quot;&gt; was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
142 		}
143 	}
144 
145 	/**
146 	 * Asserts that a {@link Comparable} is greater or equal than the given value.
147 	 */
148 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMin(T min, T actual) {
149 		assertMin(null, min, actual);
150 	}
151 
152 	/**
153 	 * Asserts that a {@link Comparable} is less than the given value. If it is not an
154 	 * AssertionFailedError is thrown with the given message.
155 	 */
156 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertLessThan(String message, T greaterVal, T actual) {
157 		if (greaterVal.compareTo(actual) &lt;= 0) {
<span class="line-modified">158 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;)</span>
<span class="line-modified">159 					+ &quot;expected less than:&lt;&quot; + greaterVal + &quot;&gt; was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
160 		}
161 	}
162 
163 	/**
164 	 * Asserts that a {@link Comparable} is less than the given value.
165 	 */
166 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertLessThan(T greaterVal, T actual) {
167 		assertLessThan(null, greaterVal, actual);
168 	}
169 
170 	/**
171 	 * Asserts that a {@link Comparable} is greater than the given value. If it is not an
172 	 * AssertionFailedError is thrown with the given message.
173 	 */
174 	static public &lt;T extends Comparable&lt;? super T&gt;&gt; void assertGreaterThan(String message, T lesserVal, T actual) {
175 		if (lesserVal.compareTo(actual) &gt;= 0) {
<span class="line-modified">176 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;)</span>
<span class="line-modified">177 					+ &quot;expected greater than:&lt;&quot; + lesserVal + &quot;&gt; was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
178 		}
179 	}
180 
181 	/**
182 	 * Asserts that a {@link Comparable} is greater than the given value.
183 	 */
184 	static public &lt;T extends Comparable&lt;? super T&gt;&gt; void assertGreaterThan(T lesserVal, T actual) {
185 		assertGreaterThan(null, lesserVal, actual);
186 	}
187 
188 	public static void assertArrayEqualsWithMoreInfo(String message, Object[] expecteds, Object[] actuals) {
189 		try {
190 			assertArrayEquals(message, expecteds, actuals);
191 		} catch (AssertionError e) {
192 			StringBuilder sb = new StringBuilder();
193 			sb.append(e.getMessage());
194 			sb.append(&quot; (Expected {&quot;);
195 			sb.append(StringToolkit.join(Arrays.asList(expecteds), &quot;, &quot;)).append(&quot;}&quot;);
196 			sb.append(&quot;, got {&quot;);
197 			sb.append(StringToolkit.join(Arrays.asList(actuals), &quot;, &quot;)).append(&quot;}&quot;);
</pre>
</td>
<td>
<hr />
<pre>
 62 	 */
 63 	static public void assertNull(Object object) {
 64 		if (object != null) {
 65 			failNotEquals(null, null, object);
 66 		}
 67 	}
 68 
 69 	static public void failNotEquals(String message, Object expected, Object actual) {
 70 		if (!expected.equals(actual)) {
 71 			Assert.fail(
 72 					((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected:&lt;&quot; + expected + &quot;&gt; but was:&lt;&quot; + actual + &quot;&gt;&quot;);
 73 		}
 74 	}
 75 
 76 	/**
 77 	 * Asserts that with respect to all bits in the mask, a long is equal to the given value. If it
 78 	 * is not an AssertionFailedError is thrown with the given message.
 79 	 */
 80 	static public void assertMaskedEquals(String message, long expected, long actual, long mask) {
 81 		if (((expected ^ actual) &amp; mask) != 0) {
<span class="line-modified"> 82 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;masked with &quot; + hex(mask) + &quot; expected:&lt;&quot;</span>
<span class="line-modified"> 83 					+ hex(expected) + &quot;&gt; was not:&lt;&quot; + hex(actual) + &quot;&gt;&quot;);</span>
 84 		}
 85 	}
 86 
 87 	/**
 88 	 * Asserts that with respect to all bits in the mask, a long is equal to the given value.
 89 	 */
 90 	static public void assertMaskedEquals(long expected, long actual, long mask) {
 91 		assertMaskedEquals(null, expected, actual, mask);
 92 	}
 93 
 94 	protected static String hex(long val) {
 95 		return &quot;0x&quot; + Long.toHexString(val);
 96 	}
 97 
 98 	/**
 99 	 * Asserts that a {@link Comparable} is within the given (inclusive) range. If it is not an
100 	 * AssertionFailedError is thrown with the given message.
101 	 */
102 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertBetween(String message, T min, T max, T actual) {
103 		if ((min.compareTo(actual) &gt; 0) || (max.compareTo(actual) &lt; 0)) {
<span class="line-modified">104 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected in:[&quot; + min + &quot;, &quot; + max + &quot;] was not:&lt;&quot;</span>
<span class="line-modified">105 					+ actual + &quot;&gt;&quot;);</span>
106 		}
107 	}
108 
109 	/**
110 	 * Asserts that a {@link Comparable} is within the given (inclusive) range.
111 	 */
112 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertBetween(T min, T max, T actual) {
113 		assertBetween(null, min, max, actual);
114 	}
115 
116 	/**
117 	 * Asserts that a {@link Comparable} is less or equal than the given value. If it is not an
118 	 * AssertionFailedError is thrown with the given message.
119 	 */
120 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMax(String message, T max, T actual) {
121 		if (max.compareTo(actual) &lt; 0) {
<span class="line-modified">122 			Assert.fail(</span>
<span class="line-modified">123 					((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected max:&lt;&quot; + max + &quot;&gt; was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
124 		}
125 	}
126 
127 	/**
128 	 * Asserts that a {@link Comparable} is less or equal than the given value.
129 	 */
130 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMax(T max, T actual) {
131 		assertMax(null, max, actual);
132 	}
133 
134 	/**
135 	 * Asserts that a {@link Comparable} is greater or equal than the given value. If it is not an
136 	 * AssertionFailedError is thrown with the given message.
137 	 */
138 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMin(String message, T min, T actual) {
139 		if (min.compareTo(actual) &gt; 0) {
<span class="line-modified">140 			Assert.fail(</span>
<span class="line-modified">141 					((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected min:&lt;&quot; + min + &quot;&gt; was not:&lt;&quot; + actual + &quot;&gt;&quot;);</span>
142 		}
143 	}
144 
145 	/**
146 	 * Asserts that a {@link Comparable} is greater or equal than the given value.
147 	 */
148 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertMin(T min, T actual) {
149 		assertMin(null, min, actual);
150 	}
151 
152 	/**
153 	 * Asserts that a {@link Comparable} is less than the given value. If it is not an
154 	 * AssertionFailedError is thrown with the given message.
155 	 */
156 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertLessThan(String message, T greaterVal, T actual) {
157 		if (greaterVal.compareTo(actual) &lt;= 0) {
<span class="line-modified">158 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected less than:&lt;&quot; + greaterVal + &quot;&gt; was not:&lt;&quot;</span>
<span class="line-modified">159 					+ actual + &quot;&gt;&quot;);</span>
160 		}
161 	}
162 
163 	/**
164 	 * Asserts that a {@link Comparable} is less than the given value.
165 	 */
166 	static public &lt;T extends Comparable&lt;T&gt;&gt; void assertLessThan(T greaterVal, T actual) {
167 		assertLessThan(null, greaterVal, actual);
168 	}
169 
170 	/**
171 	 * Asserts that a {@link Comparable} is greater than the given value. If it is not an
172 	 * AssertionFailedError is thrown with the given message.
173 	 */
174 	static public &lt;T extends Comparable&lt;? super T&gt;&gt; void assertGreaterThan(String message, T lesserVal, T actual) {
175 		if (lesserVal.compareTo(actual) &gt;= 0) {
<span class="line-modified">176 			Assert.fail(((message != null) ? message + &#39; &#39; : &quot;&quot;) + &quot;expected greater than:&lt;&quot; + lesserVal + &quot;&gt; was not:&lt;&quot;</span>
<span class="line-modified">177 					+ actual + &quot;&gt;&quot;);</span>
178 		}
179 	}
180 
181 	/**
182 	 * Asserts that a {@link Comparable} is greater than the given value.
183 	 */
184 	static public &lt;T extends Comparable&lt;? super T&gt;&gt; void assertGreaterThan(T lesserVal, T actual) {
185 		assertGreaterThan(null, lesserVal, actual);
186 	}
187 
188 	public static void assertArrayEqualsWithMoreInfo(String message, Object[] expecteds, Object[] actuals) {
189 		try {
190 			assertArrayEquals(message, expecteds, actuals);
191 		} catch (AssertionError e) {
192 			StringBuilder sb = new StringBuilder();
193 			sb.append(e.getMessage());
194 			sb.append(&quot; (Expected {&quot;);
195 			sb.append(StringToolkit.join(Arrays.asList(expecteds), &quot;, &quot;)).append(&quot;}&quot;);
196 			sb.append(&quot;, got {&quot;);
197 			sb.append(StringToolkit.join(Arrays.asList(actuals), &quot;, &quot;)).append(&quot;}&quot;);
</pre>
</td>
</tr>
</table>
<center><a href="../../../../../../../../pom.xml.sdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../../index.html" target="_top">index</a> <a href="TestToolkit.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>