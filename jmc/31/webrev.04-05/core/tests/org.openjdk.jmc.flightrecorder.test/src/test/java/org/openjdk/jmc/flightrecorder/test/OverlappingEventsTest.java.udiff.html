<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Udiff core/tests/org.openjdk.jmc.flightrecorder.test/src/test/java/org/openjdk/jmc/flightrecorder/test/OverlappingEventsTest.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../../style.css" />
  </head>
<body>
<center>&lt; prev <a href="../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>    <h2>core/tests/org.openjdk.jmc.flightrecorder.test/src/test/java/org/openjdk/jmc/flightrecorder/test/OverlappingEventsTest.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-new-header">@@ -18,31 +18,34 @@</span>
  
  public class OverlappingEventsTest {
  
  	@Test
  	public void testStartTime() throws IOException, CouldNotLoadRecordingException {
<span class="udiff-line-modified-removed">- 		IItemCollection overlap = RecordingToolkit.getNamedRecording(&quot;overlap.jfr&quot;).apply(ItemFilters.type(&quot;org.openjdk.jmc.test.OverlappingEvent&quot;));</span>
<span class="udiff-line-modified-added">+ 		IItemCollection overlap = RecordingToolkit.getNamedRecording(&quot;overlap.jfr&quot;)</span>
<span class="udiff-line-added">+ 				.apply(ItemFilters.type(&quot;org.openjdk.jmc.test.OverlappingEvent&quot;));</span>
  		IAggregator&lt;IQuantity, ?&gt; first = Aggregators.min(JfrAttributes.START_TIME);
  		IQuantity expected = overlap.getAggregate(first);
  		IQuantity actual = RulesToolkit.getEarliestStartTime(overlap).in(expected.getUnit());
  		Assert.assertEquals(&quot;expected: &quot; + expected.displayUsing(IDisplayable.AUTO) + &quot;, actual: &quot;
  				+ actual.displayUsing(IDisplayable.AUTO), expected, actual);
  	}
  
  	@Test
  	public void testFirstEndTime() throws IOException, CouldNotLoadRecordingException {
<span class="udiff-line-modified-removed">- 		IItemCollection overlap = RecordingToolkit.getNamedRecording(&quot;overlap.jfr&quot;).apply(ItemFilters.type(&quot;org.openjdk.jmc.test.OverlappingEvent&quot;));</span>
<span class="udiff-line-modified-added">+ 		IItemCollection overlap = RecordingToolkit.getNamedRecording(&quot;overlap.jfr&quot;)</span>
<span class="udiff-line-added">+ 				.apply(ItemFilters.type(&quot;org.openjdk.jmc.test.OverlappingEvent&quot;));</span>
  		IAggregator&lt;IQuantity, ?&gt; min = Aggregators.min(JfrAttributes.END_TIME);
  		IQuantity expected = overlap.getAggregate(min);
  		IQuantity actual = RulesToolkit.getEarliestEndTime(overlap).in(expected.getUnit());
  		Assert.assertEquals(&quot;expected: &quot; + expected.displayUsing(IDisplayable.AUTO) + &quot;, actual: &quot;
  				+ actual.displayUsing(IDisplayable.AUTO), expected, actual);
  	}
  
  	@Test
  	public void testLastEndTime() throws IOException, CouldNotLoadRecordingException {
<span class="udiff-line-modified-removed">- 		IItemCollection overlap = RecordingToolkit.getNamedRecording(&quot;overlap.jfr&quot;).apply(ItemFilters.type(&quot;org.openjdk.jmc.test.OverlappingEvent&quot;));</span>
<span class="udiff-line-modified-added">+ 		IItemCollection overlap = RecordingToolkit.getNamedRecording(&quot;overlap.jfr&quot;)</span>
<span class="udiff-line-added">+ 				.apply(ItemFilters.type(&quot;org.openjdk.jmc.test.OverlappingEvent&quot;));</span>
  		IAggregator&lt;IQuantity, ?&gt; last = Aggregators.max(JfrAttributes.END_TIME);
  		IQuantity aggregatedLast = overlap.getAggregate(last).in(UnitLookup.EPOCH_NS);
  		IQuantity actual = RulesToolkit.getLatestEndTime(overlap).in(UnitLookup.EPOCH_NS);
  		Assert.assertEquals(&quot;expected: &quot; + aggregatedLast.displayUsing(IDisplayable.AUTO) + &quot;, actual: &quot;
  				+ actual.displayUsing(IDisplayable.AUTO), aggregatedLast, actual);
</pre>
<center>&lt; prev <a href="../../../../../../../../../../../index.html" target="_top">index</a> next &gt;</center>  </body>
</html>