<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Cdiff application/org.openjdk.jmc.browser.jdp/src/main/java/org/openjdk/jmc/browser/jdp/JDPDescriptorProvider.java</title>
    <link rel="stylesheet" href="../../../../../../../../../../style.css" />
  </head>
<body>
<center><a href="../../../../../../../../../org.openjdk.jmc.browser.attach/src/main/java/org/openjdk/jmc/browser/attach/LocalJVMToolkit.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../org.openjdk.jmc.rjmx.services.jfr/src/main/java/org/openjdk/jmc/rjmx/services/jfr/internal/FlightRecorderServiceV2.java.cdiff.html" target="_top">next &gt;</a></center>    <h2>application/org.openjdk.jmc.browser.jdp/src/main/java/org/openjdk/jmc/browser/jdp/JDPDescriptorProvider.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<hr />
<pre>
<span class="line-old-header">*** 1,7 ***</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.</span>
   * 
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * The contents of this file are subject to the terms of either the Universal Permissive License
   * v 1.0 as shown at http://oss.oracle.com/licenses/upl
<span class="line-new-header">--- 1,7 ---</span>
  /*
<span class="line-modified">!  * Copyright (c) 2018, 2019, Oracle and/or its affiliates. All rights reserved.</span>
   * 
   * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   *
   * The contents of this file are subject to the terms of either the Universal Permissive License
   * v 1.0 as shown at http://oss.oracle.com/licenses/upl
</pre>
<hr />
<pre>
<span class="line-old-header">*** 87,13 ***</span>
  				Map&lt;String, String&gt; map = event.getDiscoverable().getPayload();
  				String name = map.get(JMXDataKeys.KEY_INSTANCE_NAME);
  				String url = map.get(JMXDataKeys.KEY_JMX_SERVICE_URL);
  				String commandLine = map.get(JMXDataKeys.KEY_JAVA_COMMAND);
  				String pid = map.get(JMXDataKeys.KEY_PID);
<span class="line-modified">! 				// NOTE: We would like to have the JVM type and architecture included in the JDP payload. We should probably file an enhancement request on JDK for this.</span>
  				JVMDescriptor jvmInfo = new JVMDescriptor(null, JVMType.UNKNOWN, JVMArch.UNKNOWN, commandLine, null,
<span class="line-modified">! 						pid == null ? null : Integer.parseInt(pid), false, Connectable.MGMNT_AGENT_STARTED);</span>
  				String path = null;
  				if (name == null) {
  				} else if (name.endsWith(PATH_SEPARATOR)) {
  					path = name;
  					name = null;
<span class="line-new-header">--- 87,13 ---</span>
  				Map&lt;String, String&gt; map = event.getDiscoverable().getPayload();
  				String name = map.get(JMXDataKeys.KEY_INSTANCE_NAME);
  				String url = map.get(JMXDataKeys.KEY_JMX_SERVICE_URL);
  				String commandLine = map.get(JMXDataKeys.KEY_JAVA_COMMAND);
  				String pid = map.get(JMXDataKeys.KEY_PID);
<span class="line-modified">! 				// NOTE: We would like to have the JVM type, architecture and vendor included in the JDP payload. We should probably file an enhancement request on JDK for this.</span>
  				JVMDescriptor jvmInfo = new JVMDescriptor(null, JVMType.UNKNOWN, JVMArch.UNKNOWN, commandLine, null,
<span class="line-modified">! 						null, pid == null ? null : Integer.parseInt(pid), false, Connectable.MGMNT_AGENT_STARTED);</span>
  				String path = null;
  				if (name == null) {
  				} else if (name.endsWith(PATH_SEPARATOR)) {
  					path = name;
  					name = null;
</pre>
<center><a href="../../../../../../../../../org.openjdk.jmc.browser.attach/src/main/java/org/openjdk/jmc/browser/attach/LocalJVMToolkit.java.cdiff.html" target="_top">&lt; prev</a> <a href="../../../../../../../../../../index.html" target="_top">index</a> <a href="../../../../../../../../../org.openjdk.jmc.rjmx.services.jfr/src/main/java/org/openjdk/jmc/rjmx/services/jfr/internal/FlightRecorderServiceV2.java.cdiff.html" target="_top">next &gt;</a></center>  </body>
</html>